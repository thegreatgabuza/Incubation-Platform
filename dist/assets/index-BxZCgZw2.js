var U0e=Object.defineProperty;var q0e=(t,e,r)=>e in t?U0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var G0e=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var dy=(t,e,r)=>q0e(t,typeof e!="symbol"?e+"":e,r);import{r as j,a as VJ,R as W0e,F as ce,c as mn,g as zJ,b as _t,o as I,d as H0e,e as Y0e,_ as un,t as Cn,C as Qh,u as X0e,f as K0e,h as Q0e,i as J0e,j as ln,k as Z0e,l as AA,m as exe,n as UJ,A as vi,S as me,B as qJ,T as rt,p as Wd,L as wr,M as cn,q as Jv,s as QT,v as Nb,D as wh,w as ie,x as Bb,y as eR,z as tR,P as yr,E as oi,G as txe,H as GJ,I as WJ,J as Nl,K as rR,N as Bl,O as rxe,Q as is,U as HJ,V as YJ,W as Vb,X as nxe,Y as yi,Z as ue,$ as Me,a0 as ixe,a1 as hr,a2 as XJ,a3 as g$,a4 as ir,a5 as zb,a6 as KJ,a7 as m$,a8 as Ye,a9 as oe,aa as Ve,ab as ax,ac as axe,ad as oxe,ae as ar,af as pt,ag as sxe,ah as QJ,ai as lxe,aj as Ga,ak as CA,al as uxe,am as cxe,an as _e,ao as ox,ap as dxe,aq as Ft,ar as Wa,as as pv,at as vv,au as Ya,av as De,aw as qf,ax as At,ay as JT,az as Zv,aA as Le,aB as Oi,aC as JJ,aD as _v,aE as Ls,aF as fxe,aG as hxe,aH as _r,aI as He,aJ as nR,aK as pxe,aL as ya,aM as Ar,aN as ZJ,aO as $f,aP as vxe,aQ as bo,aR as y$,aS as gxe,aT as as,aU as eZ,aV as mxe,aW as iR,aX as ZT,aY as tZ,aZ as rZ,a_ as nZ,a$ as od,b0 as yxe,b1 as xxe,b2 as bxe,b3 as wxe,b4 as iZ,b5 as aZ,b6 as S0,b7 as Sxe,b8 as oZ,b9 as oh,ba as Ov,bb as Rt,bc as Ed,bd as kv,be as Ub,bf as qu,bg as wo,bh as bz,bi as Exe,bj as sx,bk as El,bl as sZ,bm as Axe,bn as x$,bo as b$,bp as qb,bq as Sa,br as Cxe,bs as Txe,bt as w$,bu as Ixe,bv as lk,bw as Pxe,bx as _xe,by as wz,bz as aR,bA as Oxe,bB as kxe,bC as Dxe,bD as Mxe,bE as Rxe,bF as jxe,bG as Fxe,bH as Lxe,bI as $xe,bJ as Nxe,bK as TA,bL as xt,bM as Bxe,bN as lZ,bO as Vxe,bP as zxe,bQ as uZ,bR as cZ,bS as Uxe,bT as qxe,bU as gv,bV as Sz,bW as Gxe,bX as Wxe}from"./antd-CpVNjfZC.js";var z9t=G0e((ju,Fu)=>{function Hxe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const eI=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return tl},get Circle(){return nut},get Ellipse(){return iut},get Image(){return aut},get Line(){return out},get Marker(){return mut},get Path(){return d5},get Polygon(){return Aut},get Polyline(){return Cut},get Rect(){return Put},get Text(){return _ut}},Symbol.toStringTag,{value:"Module"})),tI=Object.freeze(Object.defineProperty({__proto__:null,get Base(){return ws},get Circle(){return Fut},get Dom(){return Lut},get Ellipse(){return $ut},get Image(){return Nut},get Line(){return But},get Marker(){return Vut},get Path(){return zut},get Polygon(){return Uut},get Polyline(){return qut},get Rect(){return Wut},get Text(){return Kut}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var dZ={exports:{}},rI={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yxe=j,Xxe=Symbol.for("react.element"),Kxe=Symbol.for("react.fragment"),Qxe=Object.prototype.hasOwnProperty,Jxe=Yxe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zxe={key:!0,ref:!0,__self:!0,__source:!0};function fZ(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Qxe.call(e,n)&&!Zxe.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Xxe,type:t,key:a,ref:o,props:i,_owner:Jxe.current}}rI.Fragment=Kxe;rI.jsx=fZ;rI.jsxs=fZ;dZ.exports=rI;var h=dZ.exports,oR={},Ez=VJ;oR.createRoot=Ez.createRoot,oR.hydrateRoot=Ez.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}var Kc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kc||(Kc={}));const Az="popstate";function ebe(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return sR("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:IA(i)}return rbe(e,r,null,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hZ(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tbe(){return Math.random().toString(36).substr(2,8)}function Cz(t,e){return{usr:t.state,key:t.key,idx:e}}function sR(t,e,r,n){return r===void 0&&(r=null),lx({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?am(e):e,{state:r,key:e&&e.key||n||tbe()})}function IA(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function am(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function rbe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Kc.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(lx({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=Kc.Pop;let m=c(),y=m==null?null:m-u;u=m,l&&l({action:s,location:g.location,delta:y})}function f(m,y){s=Kc.Push;let x=sR(g.location,m,y);u=c()+1;let b=Cz(x,u),w=g.createHref(x);try{o.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}a&&l&&l({action:s,location:g.location,delta:1})}function p(m,y){s=Kc.Replace;let x=sR(g.location,m,y);u=c();let b=Cz(x,u),w=g.createHref(x);o.replaceState(b,"",w),a&&l&&l({action:s,location:g.location,delta:0})}function v(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof m=="string"?m:IA(m);return x=x.replace(/ $/,"%20"),jn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return s},get location(){return t(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Az,d),l=m,()=>{i.removeEventListener(Az,d),l=null}},createHref(m){return e(i,m)},createURL:v,encodeLocation(m){let y=v(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(m){return o.go(m)}};return g}var Tz;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tz||(Tz={}));function nbe(t,e,r){return r===void 0&&(r="/"),ibe(t,e,r)}function ibe(t,e,r,n){let i=typeof e=="string"?am(e):e,a=S$(i.pathname||"/",r);if(a==null)return null;let o=pZ(t);abe(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=gbe(a);s=pbe(o[l],u)}return s}function pZ(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=sd([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(jn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pZ(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:fbe(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of vZ(a.path))i(a,o,l)}),e}function vZ(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=vZ(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function abe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:hbe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const obe=/^:[\w-]+$/,sbe=3,lbe=2,ube=1,cbe=10,dbe=-2,Iz=t=>t==="*";function fbe(t,e){let r=t.split("/"),n=r.length;return r.some(Iz)&&(n+=dbe),e&&(n+=lbe),r.filter(i=>!Iz(i)).reduce((i,a)=>i+(obe.test(a)?sbe:a===""?ube:cbe),n)}function hbe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function pbe(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",d=gZ({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:sd([a,d.pathname]),pathnameBase:bbe(sd([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=sd([a,d.pathnameBase]))}return o}function gZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vbe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=s[d]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=s[d];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function vbe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),hZ(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function gbe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hZ(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function S$(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function mbe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?am(t):t;return{pathname:r?r.startsWith("/")?r:ybe(r,e):e,search:wbe(n),hash:Sbe(i)}}function ybe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function uk(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xbe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function E$(t,e){let r=xbe(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function A$(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=am(t):(i=lx({},t),jn(!i.pathname||!i.pathname.includes("?"),uk("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),uk("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),uk("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?e[d]:"/"}let l=mbe(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const sd=t=>t.join("/").replace(/\/\/+/g,"/"),bbe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wbe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sbe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ebe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mZ=["post","put","patch","delete"];new Set(mZ);const Abe=["get",...mZ];new Set(Abe);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}const C$=j.createContext(null),Cbe=j.createContext(null),oc=j.createContext(null),nI=j.createContext(null),Ql=j.createContext({outlet:null,matches:[],isDataRoute:!1}),yZ=j.createContext(null);function Tbe(t,e){let{relative:r}=e===void 0?{}:e;om()||jn(!1);let{basename:n,navigator:i}=j.useContext(oc),{hash:a,pathname:o,search:s}=wZ(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:sd([n,o])),i.createHref({pathname:l,search:s,hash:a})}function om(){return j.useContext(nI)!=null}function Vl(){return om()||jn(!1),j.useContext(nI).location}function xZ(t){j.useContext(oc).static||j.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=j.useContext(Ql);return t?Vbe():Ibe()}function Ibe(){om()||jn(!1);let t=j.useContext(C$),{basename:e,future:r,navigator:n}=j.useContext(oc),{matches:i}=j.useContext(Ql),{pathname:a}=Vl(),o=JSON.stringify(E$(i,r.v7_relativeSplatPath)),s=j.useRef(!1);return xZ(()=>{s.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=A$(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sd([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,a,t])}const Pbe=j.createContext(null);function _be(t){let e=j.useContext(Ql).outlet;return e&&j.createElement(Pbe.Provider,{value:t},e)}function bZ(){let{matches:t}=j.useContext(Ql),e=t[t.length-1];return e?e.params:{}}function wZ(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(oc),{matches:i}=j.useContext(Ql),{pathname:a}=Vl(),o=JSON.stringify(E$(i,n.v7_relativeSplatPath));return j.useMemo(()=>A$(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Obe(t,e){return kbe(t,e)}function kbe(t,e,r,n){om()||jn(!1);let{navigator:i,static:a}=j.useContext(oc),{matches:o}=j.useContext(Ql),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Vl(),d;if(e){var f;let y=typeof e=="string"?am(e):e;u==="/"||(f=y.pathname)!=null&&f.startsWith(u)||jn(!1),d=y}else d=c;let p=d.pathname||"/",v=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=nbe(t,{pathname:v}),m=Fbe(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:sd([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:sd([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return e&&m?j.createElement(nI.Provider,{value:{location:ux({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kc.Pop}},m):m}function Dbe(){let t=Bbe(),e=Ebe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const Mbe=j.createElement(Dbe,null);class Rbe extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Ql.Provider,{value:this.props.routeContext},j.createElement(yZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jbe(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(C$);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ql.Provider,{value:e},n)}function Fbe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||jn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=r,v=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let p,v=!1,g=null,m=null;r&&(p=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||Mbe,l&&(u<0&&f===0?(zbe("route-fallback"),v=!0,m=null):u===f&&(v=!0,m=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let b;return p?b=g:v?b=m:d.route.Component?b=j.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,j.createElement(jbe,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(Rbe,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var SZ=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SZ||{}),EZ=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(EZ||{});function Lbe(t){let e=j.useContext(C$);return e||jn(!1),e}function $be(t){let e=j.useContext(Cbe);return e||jn(!1),e}function Nbe(t){let e=j.useContext(Ql);return e||jn(!1),e}function AZ(t){let e=Nbe(),r=e.matches[e.matches.length-1];return r.route.id||jn(!1),r.route.id}function Bbe(){var t;let e=j.useContext(yZ),r=$be(),n=AZ();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Vbe(){let{router:t}=Lbe(SZ.UseNavigateStable),e=AZ(EZ.UseNavigateStable),r=j.useRef(!1);return xZ(()=>{r.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ux({fromRouteId:e},a)))},[t,e])}const Pz={};function zbe(t,e,r){Pz[t]||(Pz[t]=!0)}function Ube(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gb(t){let{to:e,replace:r,state:n,relative:i}=t;om()||jn(!1);let{future:a,static:o}=j.useContext(oc),{matches:s}=j.useContext(Ql),{pathname:l}=Vl(),u=ji(),c=A$(e,E$(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function sm(t){return _be(t.context)}function Lt(t){jn(!1)}function qbe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Kc.Pop,navigator:a,static:o=!1,future:s}=t;om()&&jn(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:a,static:o,future:ux({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=am(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:v="default"}=n,g=j.useMemo(()=>{let m=S$(c,l);return m==null?null:{location:{pathname:m,search:d,hash:f,state:p,key:v},navigationType:i}},[l,c,d,f,p,v,i]);return g==null?null:j.createElement(oc.Provider,{value:u},j.createElement(nI.Provider,{children:r,value:g}))}function Gbe(t){let{children:e,location:r}=t;return Obe(lR(e),r)}new Promise(()=>{});function lR(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let a=[...e,i];if(n.type===j.Fragment){r.push.apply(r,lR(n.props.children,a));return}n.type!==Lt&&jn(!1),!n.props.index||!n.props.children||jn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lR(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uR(){return uR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uR.apply(this,arguments)}function Wbe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hbe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ybe(t,e){return t.button===0&&(!e||e==="_self")&&!Hbe(t)}const Xbe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kbe="6";try{window.__reactRouterVersion=Kbe}catch{}const Qbe="startTransition",_z=W0e[Qbe];function Jbe(t){let{basename:e,children:r,future:n,window:i}=t,a=j.useRef();a.current==null&&(a.current=ebe({window:i,v5Compat:!0}));let o=a.current,[s,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=j.useCallback(d=>{u&&_z?_z(()=>l(d)):l(d)},[l,u]);return j.useLayoutEffect(()=>o.listen(c),[o,c]),j.useEffect(()=>Ube(n),[n]),j.createElement(qbe,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const Zbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ewe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=Wbe(e,Xbe),{basename:p}=j.useContext(oc),v,g=!1;if(typeof u=="string"&&ewe.test(u)&&(v=u,Zbe))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=S$(w.pathname,p);w.origin===b.origin&&S!=null?u=S+w.search+w.hash:g=!0}catch{}let m=Tbe(u,{relative:i}),y=twe(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function x(b){n&&n(b),b.defaultPrevented||y(b)}return j.createElement("a",uR({},f,{href:v||m,onClick:g||a?n:x,ref:r,target:l}))});var Oz;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Oz||(Oz={}));var kz;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kz||(kz={}));function twe(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=ji(),u=Vl(),c=wZ(t,{relative:o});return j.useCallback(d=>{if(Ybe(d,r)){d.preventDefault();let f=n!==void 0?n:IA(u)===IA(c);l(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,n,i,r,t,a,o,s])}var cR=function(t,e){return cR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},cR(t,e)};function ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F=function(){return F=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},F.apply(this,arguments)};function Kt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function cx(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})}function dx(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Jt(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function fx(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function Je(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var T$=function(t){var e=j.useState(!1),r=e[0],n=e[1],i=j.useState({}),a=i[0],o=i[1],s=t.defaultFormValues,l=t.form,u=t.submit,c=j.useState({}),d=c[0],f=c[1],p=j.useState(!1),v=p[0],g=p[1],m=j.useState(),y=m[0],x=m[1],b=3;ce.useForm&&(b=4);var w=l;if(!l)if(b===4)w=ce.useForm()[0];else throw new Error('"form" need in antd@3');var S=function(E){return f(E),g(!0),new Promise(function(A,P){b===4?w.validateFields().then(function(){A(Promise.resolve(u(E)).then(function(_){return g(!1),x(_),_}).catch(function(_){throw g(!1),_}))}).catch(function(_){g(!1),P(_)}):w.validateFields(function(_){_?(g(!1),P(_)):A(Promise.resolve(u(E)).then(function(k){return g(!1),x(k),k}).catch(function(k){throw g(!1),k}))})})};j.useEffect(function(){var E=!1;if(s){var A;return typeof s=="function"?(n(!0),A=s()):A=s,Promise.resolve(A).then(function(P){if(!E){var _=F({},P);Object.keys(P).forEach(function(k){_[k]=w.isFieldTouched(k)?w.getFieldValue(k):P[k]}),n(!1),o(P),w.setFieldsValue(_)}}).catch(function(){E||n(!1)}),function(){E=!0}}},[]);var C=b===4?{form:w,onFinish:S,initialValues:a}:{onSubmit:function(E){E.preventDefault(),S(w.getFieldsValue(b===4?!0:void 0))}};return{form:w,formProps:C,defaultFormValuesLoading:r,formValues:d,initialValues:a,formResult:y,formLoading:v,submit:function(E){return w.setFieldsValue(E),S(w.getFieldsValue(b===4?!0:void 0))}}},rwe=function(t){var e=t||{},r=e.form,n=e.defaultFormValues,i=e.defaultCurrent,a=i===void 0?0:i,o=e.submit,s=e.total,l=e.isBackValidate,u=l===void 0?!0:l,c=j.useState(a),d=c[0],f=c[1],p=T$({form:r,submit:o,defaultFormValues:n}),v=p.form,g=p.formProps,m=p.formLoading,y=p.defaultFormValuesLoading,x=p.formValues,b=p.initialValues,w=p.formResult,S=p.submit,C=function(P){var _=P;P>s-1&&(_=s-1),P<0&&(_=0),f(_)},E=function(P){return P===d?!0:P<d&&!u?(C(P),!0):v.validateFields().then(function(_){return C(P),_})},A=function(P){return E(P)};return{current:d,gotoStep:E,stepsProps:{current:d,onChange:A},formProps:g,formLoading:m,defaultFormValuesLoading:y,formValues:x,initialValues:b,formResult:w,form:v,submit:S}},nwe={exports:{}},ck={exports:{}},Dz;function iwe(){return Dz||(Dz=1,function(t,e){(function(r,n){t.exports=n()})(mn,function(){function r(g){return!isNaN(parseFloat(g))&&isFinite(g)}function n(g){return g.charAt(0).toUpperCase()+g.substring(1)}function i(g){return function(){return this[g]}}var a=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],s=["fileName","functionName","source"],l=["args"],u=["evalOrigin"],c=a.concat(o,s,l,u);function d(g){if(g)for(var m=0;m<c.length;m++)g[c[m]]!==void 0&&this["set"+n(c[m])](g[c[m]])}d.prototype={getArgs:function(){return this.args},setArgs:function(g){if(Object.prototype.toString.call(g)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=g},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(g){if(g instanceof d)this.evalOrigin=g;else if(g instanceof Object)this.evalOrigin=new d(g);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var g=this.getFileName()||"",m=this.getLineNumber()||"",y=this.getColumnNumber()||"",x=this.getFunctionName()||"";return this.getIsEval()?g?"[eval] ("+g+":"+m+":"+y+")":"[eval]:"+m+":"+y:x?x+" ("+g+":"+m+":"+y+")":g+":"+m+":"+y}},d.fromString=function(m){var y=m.indexOf("("),x=m.lastIndexOf(")"),b=m.substring(0,y),w=m.substring(y+1,x).split(","),S=m.substring(x+1);if(S.indexOf("@")===0)var C=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S,""),E=C[1],A=C[2],P=C[3];return new d({functionName:b,args:w||void 0,fileName:E,lineNumber:A||void 0,columnNumber:P||void 0})};for(var f=0;f<a.length;f++)d.prototype["get"+n(a[f])]=i(a[f]),d.prototype["set"+n(a[f])]=function(g){return function(m){this[g]=!!m}}(a[f]);for(var p=0;p<o.length;p++)d.prototype["get"+n(o[p])]=i(o[p]),d.prototype["set"+n(o[p])]=function(g){return function(m){if(!r(m))throw new TypeError(g+" must be a Number");this[g]=Number(m)}}(o[p]);for(var v=0;v<s.length;v++)d.prototype["get"+n(s[v])]=i(s[v]),d.prototype["set"+n(s[v])]=function(g){return function(m){this[g]=String(m)}}(s[v]);return d})}(ck)),ck.exports}(function(t,e){(function(r,n){t.exports=n(iwe())})(mn,function(n){var i=/(^|@)\S+:\d+/,a=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(l){if(typeof l.stacktrace<"u"||typeof l["opera#sourceloc"]<"u")return this.parseOpera(l);if(l.stack&&l.stack.match(a))return this.parseV8OrIE(l);if(l.stack)return this.parseFFOrSafari(l);throw new Error("Cannot parse given Error object")},extractLocation:function(l){if(l.indexOf(":")===-1)return[l];var u=/(.+?)(?::(\d+))?(?::(\d+))?$/,c=u.exec(l.replace(/[()]/g,""));return[c[1],c[2]||void 0,c[3]||void 0]},parseV8OrIE:function(l){var u=l.stack.split(`
`).filter(function(c){return!!c.match(a)},this);return u.map(function(c){c.indexOf("(eval ")>-1&&(c=c.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var d=c.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),f=d.match(/ (\(.+\)$)/);d=f?d.replace(f[0],""):d;var p=this.extractLocation(f?f[1]:d),v=f&&d||void 0,g=["eval","<anonymous>"].indexOf(p[0])>-1?void 0:p[0];return new n({functionName:v,fileName:g,lineNumber:p[1],columnNumber:p[2],source:c})},this)},parseFFOrSafari:function(l){var u=l.stack.split(`
`).filter(function(c){return!c.match(o)},this);return u.map(function(c){if(c.indexOf(" > eval")>-1&&(c=c.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),c.indexOf("@")===-1&&c.indexOf(":")===-1)return new n({functionName:c});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=c.match(d),p=f&&f[1]?f[1]:void 0,v=this.extractLocation(c.replace(d,""));return new n({functionName:p,fileName:v[0],lineNumber:v[1],columnNumber:v[2],source:c})},this)},parseOpera:function(l){return!l.stacktrace||l.message.indexOf(`
`)>-1&&l.message.split(`
`).length>l.stacktrace.split(`
`).length?this.parseOpera9(l):l.stack?this.parseOpera11(l):this.parseOpera10(l)},parseOpera9:function(l){for(var u=/Line (\d+).*script (?:in )?(\S+)/i,c=l.message.split(`
`),d=[],f=2,p=c.length;f<p;f+=2){var v=u.exec(c[f]);v&&d.push(new n({fileName:v[2],lineNumber:v[1],source:c[f]}))}return d},parseOpera10:function(l){for(var u=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=l.stacktrace.split(`
`),d=[],f=0,p=c.length;f<p;f+=2){var v=u.exec(c[f]);v&&d.push(new n({functionName:v[3]||void 0,fileName:v[2],lineNumber:v[1],source:c[f]}))}return d},parseOpera11:function(l){var u=l.stack.split(`
`).filter(function(c){return!!c.match(i)&&!c.match(/^Error created at/)},this);return u.map(function(c){var d=c.split("@"),f=this.extractLocation(d.pop()),p=d.shift()||"",v=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,g;p.match(/\(([^)]*)\)/)&&(g=p.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var m=g===void 0||g==="[arguments not available]"?void 0:g.split(",");return new n({functionName:v,args:m,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:c})},this)}}})})(nwe);function ur(t,e,r,n){return{hookName:"",trace:[],resourcePath:null,legacyKey:!1}}class lm{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const hx=typeof window>"u"||"Deno"in window;function Ko(){}function awe(t,e){return typeof t=="function"?t(e):t}function dR(t){return typeof t=="number"&&t>=0&&t!==1/0}function CZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function mv(t,e,r){return Wb(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function owe(t,e,r){return Wb(t)?typeof e=="function"?{...r,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function jc(t,e,r){return Wb(t)?[{...e,queryKey:t},r]:[t||{},e]}function Mz(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(Wb(o)){if(n){if(e.queryHash!==I$(o,e.options))return!1}else if(!PA(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||typeof i<"u"&&i!==e.state.fetchStatus||a&&!a(e))}function Rz(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:a}=t;if(Wb(a)){if(!e.options.mutationKey)return!1;if(r){if(Gf(e.options.mutationKey)!==Gf(a))return!1}else if(!PA(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function I$(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gf)(t)}function Gf(t){return JSON.stringify(t,(e,r)=>fR(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function PA(t,e){return TZ(t,e)}function TZ(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!TZ(t[r],e[r])):!1}function IZ(t,e){if(t===e)return t;const r=jz(t)&&jz(e);if(r||fR(t)&&fR(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{};let s=0;for(let l=0;l<a;l++){const u=r?l:i[l];o[u]=IZ(t[u],e[u]),o[u]===t[u]&&s++}return n===a&&s===n?t:o}return e}function _A(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function jz(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fR(t){if(!Fz(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Fz(r)||!r.hasOwnProperty("isPrototypeOf"))}function Fz(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wb(t){return Array.isArray(t)}function PZ(t){return new Promise(e=>{setTimeout(e,t)})}function Lz(t){PZ(0).then(t)}function swe(){if(typeof AbortController=="function")return new AbortController}function hR(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?IZ(t,e):e}class lwe extends lm{constructor(){super(),this.setup=e=>{if(!hx&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const OA=new lwe,$z=["online","offline"];class uwe extends lm{constructor(){super(),this.setup=e=>{if(!hx&&window.addEventListener){const r=()=>e();return $z.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{$z.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const kA=new uwe;function cwe(t){return Math.min(1e3*2**t,3e4)}function iI(t){return(t??"online")==="online"?kA.isOnline():!0}class _Z{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function ME(t){return t instanceof _Z}function OZ(t){let e=!1,r=0,n=!1,i,a,o;const s=new Promise((m,y)=>{a=m,o=y}),l=m=>{n||(p(new _Z(m)),t.abort==null||t.abort())},u=()=>{e=!0},c=()=>{e=!1},d=()=>!OA.isFocused()||t.networkMode!=="always"&&!kA.isOnline(),f=m=>{n||(n=!0,t.onSuccess==null||t.onSuccess(m),i==null||i(),a(m))},p=m=>{n||(n=!0,t.onError==null||t.onError(m),i==null||i(),o(m))},v=()=>new Promise(m=>{i=y=>{const x=n||!d();return x&&m(y),x},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),g=()=>{if(n)return;let m;try{m=t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var x,b;if(n)return;const w=(x=t.retry)!=null?x:3,S=(b=t.retryDelay)!=null?b:cwe,C=typeof S=="function"?S(r,y):S,E=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,y);if(e||!E){p(y);return}r++,t.onFail==null||t.onFail(r,y),PZ(C).then(()=>{if(d())return v()}).then(()=>{e?p(y):g()})})};return iI(t.networkMode)?g():v().then(g),{promise:s,cancel:l,continue:()=>(i==null?void 0:i())?s:Promise.resolve(),cancelRetry:u,continueRetry:c}}const P$=console;function dwe(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let d;e++;try{d=c()}finally{e--,e||s()}return d},a=c=>{e?t.push(c):Lz(()=>{r(c)})},o=c=>(...d)=>{a(()=>{c(...d)})},s=()=>{const c=t;t=[],c.length&&Lz(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}const Tn=dwe();class kZ{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dR(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(hx?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let fwe=class extends kZ{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||P$,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||hwe(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=hR(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(Ko).catch(Ko):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!CZ(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const o=swe(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(s);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(n=this.options.behavior)==null||n.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var d;this.dispatch({type:"fetch",meta:(d=c.fetchOptions)==null?void 0:d.meta})}const f=p=>{if(ME(p)&&p.silent||this.dispatch({type:"error",error:p}),!ME(p)){var v,g,m,y;(v=(g=this.cache.config).onError)==null||v.call(g,p,this),(m=(y=this.cache.config).onSettled)==null||m.call(y,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=OZ({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var v,g,m,y;if(typeof p>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(v=(g=this.cache.config).onSuccess)==null||v.call(g,p,this),(m=(y=this.cache.config).onSettled)==null||m.call(y,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(p,v)=>{this.dispatch({type:"failed",failureCount:p,error:v})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,a;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:iI(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=e.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return ME(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Tn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function hwe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class pwe extends lm{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const a=r.queryKey,o=(i=r.queryHash)!=null?i:I$(a,r);let s=this.get(o);return s||(s=new fwe({cache:this,logger:e.getLogger(),queryKey:a,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Tn.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=jc(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Mz(n,i))}findAll(e,r){const[n]=jc(e,r);return Object.keys(n).length>0?this.queries.filter(i=>Mz(n,i)):this.queries}notify(e){Tn.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){Tn.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Tn.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let vwe=class extends kZ{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||P$,this.observers=[],this.state=e.state||DZ(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var E;return this.retryer=OZ({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,P)=>{this.dispatch({type:"failed",failureCount:A,error:P})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,a,o,s,l,u,c;if(!r){var d,f,p,v;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const A=await((p=(v=this.options).onMutate)==null?void 0:p.call(v,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}const E=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,E,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,E,this.state.variables,this.state.context)),await((s=(l=this.mutationCache.config).onSettled)==null?void 0:s.call(l,E,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var g,m,y,x,b,w,S,C;throw await((g=(m=this.mutationCache.config).onError)==null?void 0:g.call(m,E,this.state.variables,this.state.context,this)),await((y=(x=this.options).onError)==null?void 0:y.call(x,E,this.state.variables,this.state.context)),await((b=(w=this.mutationCache.config).onSettled)==null?void 0:b.call(w,void 0,E,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!iI(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),Tn.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function DZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class gwe extends lm{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new vwe({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){Tn.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>Rz(e,r))}findAll(e){return this.mutations.filter(r=>Rz(e,r))}notify(e){Tn.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return Tn.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(Ko)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function pR(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,a,o;const s=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,l=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",f=((a=t.state.data)==null?void 0:a.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[];let v=p,g=!1;const m=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var E;if((E=t.signal)!=null&&E.aborted)g=!0;else{var A;(A=t.signal)==null||A.addEventListener("abort",()=>{g=!0})}return t.signal}})},y=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),x=(C,E,A,P)=>(v=P?[E,...v]:[...v,E],P?[A,...C]:[...C,A]),b=(C,E,A,P)=>{if(g)return Promise.reject("Cancelled");if(typeof A>"u"&&!E&&C.length)return Promise.resolve(C);const _={queryKey:t.queryKey,pageParam:A,meta:t.options.meta};m(_);const k=y(_);return Promise.resolve(k).then(D=>x(C,A,D,P))};let w;if(!f.length)w=b([]);else if(c){const C=typeof u<"u",E=C?u:vR(t.options,f);w=b(f,C,E)}else if(d){const C=typeof u<"u",E=C?u:MZ(t.options,f);w=b(f,C,E,!0)}else{v=[];const C=typeof t.options.getNextPageParam>"u";w=(s&&f[0]?s(f[0],0,f):!0)?b([],C,p[0]):Promise.resolve(x([],p[0],f[0]));for(let A=1;A<f.length;A++)w=w.then(P=>{if(s&&f[A]?s(f[A],A,f):!0){const k=C?p[A]:vR(t.options,P);return b(P,C,k)}return Promise.resolve(x(P,p[A],f[A]))})}return w.then(C=>({pages:C,pageParams:v}))}}}}function vR(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function MZ(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}function mwe(t,e){if(t.getNextPageParam&&Array.isArray(e)){const r=vR(t,e);return typeof r<"u"&&r!==null&&r!==!1}}function ywe(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const r=MZ(t,e);return typeof r<"u"&&r!==null&&r!==!1}}class Nz{constructor(e={}){this.queryCache=e.queryCache||new pwe,this.mutationCache=e.mutationCache||new gwe,this.logger=e.logger||P$,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=OA.subscribe(()=>{OA.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=kA.subscribe(()=>{kA.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=jc(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=mv(e,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),a=i==null?void 0:i.state.data,o=awe(r,a);if(typeof o>"u")return;const s=mv(e),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return Tn.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=jc(e,r),i=this.queryCache;Tn.batch(()=>{i.findAll(n).forEach(a=>{i.remove(a)})})}resetQueries(e,r,n){const[i,a]=jc(e,r,n),o=this.queryCache,s={type:"active",...i};return Tn.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(s,a)))}cancelQueries(e,r,n){const[i,a={}]=jc(e,r,n);typeof a.revert>"u"&&(a.revert=!0);const o=Tn.batch(()=>this.queryCache.findAll(i).map(s=>s.cancel(a)));return Promise.all(o).then(Ko).catch(Ko)}invalidateQueries(e,r,n){const[i,a]=jc(e,r,n);return Tn.batch(()=>{var o,s;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(s=i.refetchType)!=null?s:i.type)!=null?o:"active"};return this.refetchQueries(l,a)})}refetchQueries(e,r,n){const[i,a]=jc(e,r,n),o=Tn.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...a,cancelRefetch:(u=a==null?void 0:a.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let s=Promise.all(o).then(Ko);return a!=null&&a.throwOnError||(s=s.catch(Ko)),s}fetchQuery(e,r,n){const i=mv(e,r,n),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(Ko).catch(Ko)}fetchInfiniteQuery(e,r,n){const i=mv(e,r,n);return i.behavior=pR(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(Ko).catch(Ko)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>Gf(e)===Gf(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>PA(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>Gf(e)===Gf(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>PA(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=I$(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class RZ extends lm{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Bz(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return gR(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return gR(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),_A(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const a=this.hasListeners();a&&Vz(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),n=this.createResult(r,e);return bwe(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ko)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),hx||this.currentResult.isStale||!dR(this.options.staleTime))return;const r=CZ(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(hx||this.options.enabled===!1||!dR(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||OA.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,l=e!==n,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:f,error:p,errorUpdatedAt:v,fetchStatus:g,status:m}=d,y=!1,x=!1,b;if(r._optimisticResults){const A=this.hasListeners(),P=!A&&Bz(e,r),_=A&&Vz(e,n,r,i);(P||_)&&(g=iI(e.options.networkMode)?"fetching":"paused",f||(m="loading")),r._optimisticResults==="isRestoring"&&(g="idle")}if(r.keepPreviousData&&!d.dataUpdatedAt&&c!=null&&c.isSuccess&&m!=="error")b=c.data,f=c.dataUpdatedAt,m=c.status,y=!0;else if(r.select&&typeof d.data<"u")if(a&&d.data===(o==null?void 0:o.data)&&r.select===this.selectFn)b=this.selectResult;else try{this.selectFn=r.select,b=r.select(d.data),b=hR(a==null?void 0:a.data,b,r),this.selectResult=b,this.selectError=null}catch(A){this.selectError=A}else b=d.data;if(typeof r.placeholderData<"u"&&typeof b>"u"&&m==="loading"){let A;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))A=a.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof A<"u")try{A=r.select(A),this.selectError=null}catch(P){this.selectError=P}typeof A<"u"&&(m="success",b=hR(a==null?void 0:a.data,A,r),x=!0)}this.selectError&&(p=this.selectError,b=this.selectResult,v=Date.now(),m="error");const w=g==="fetching",S=m==="loading",C=m==="error";return{status:m,fetchStatus:g,isLoading:S,isSuccess:m==="success",isError:C,isInitialLoading:S&&w,data:b,dataUpdatedAt:f,error:p,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:C&&d.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:x,isPreviousData:y,isRefetchError:C&&d.dataUpdatedAt!==0,isStale:_$(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,_A(n,r))return;this.currentResult=n;const i={cache:!0},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!this.trackedProps.size)return!0;const l=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==r[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!ME(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){Tn.batch(()=>{if(e.onSuccess){var r,n,i,a;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(e.onError){var o,s,l,u;(o=(s=this.options).onError)==null||o.call(s,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function xwe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Bz(t,e){return xwe(t,e)||t.state.dataUpdatedAt>0&&gR(t,e,e.refetchOnMount)}function gR(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&_$(t,e)}return!1}function Vz(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&_$(t,r)}function _$(t,e){return t.isStaleByTime(e.staleTime)}function bwe(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!_A(t.getCurrentResult(),e)}class wwe extends RZ{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,r){super.setOptions({...e,behavior:pR()},r)}getOptimisticResult(e){return e.behavior=pR(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,r){var n,i,a,o,s,l;const{state:u}=e,c=super.createResult(e,r),{isFetching:d,isRefetching:f}=c,p=d&&((n=u.fetchMeta)==null||(i=n.fetchMore)==null?void 0:i.direction)==="forward",v=d&&((a=u.fetchMeta)==null||(o=a.fetchMore)==null?void 0:o.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:mwe(r,(s=u.data)==null?void 0:s.pages),hasPreviousPage:ywe(r,(l=u.data)==null?void 0:l.pages),isFetchingNextPage:p,isFetchingPreviousPage:v,isRefetching:f&&!p&&!v}}}let Swe=class extends lm{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=this.client.defaultMutationOptions(e),_A(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:DZ(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){Tn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,n,i,a;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,s,l,u;(o=(s=this.mutateOptions).onError)==null||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};var jZ={exports:{}},FZ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=j;function Ewe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Awe=typeof Object.is=="function"?Object.is:Ewe,Cwe=eg.useState,Twe=eg.useEffect,Iwe=eg.useLayoutEffect,Pwe=eg.useDebugValue;function _we(t,e){var r=e(),n=Cwe({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Iwe(function(){i.value=r,i.getSnapshot=e,dk(i)&&a({inst:i})},[t,r,e]),Twe(function(){return dk(i)&&a({inst:i}),t(function(){dk(i)&&a({inst:i})})},[t]),Pwe(r),r}function dk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Awe(t,r)}catch{return!0}}function Owe(t,e){return e()}var kwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Owe:_we;FZ.useSyncExternalStore=eg.useSyncExternalStore!==void 0?eg.useSyncExternalStore:kwe;jZ.exports=FZ;var Dwe=jZ.exports;const LZ=Dwe.useSyncExternalStore,zz=j.createContext(void 0),$Z=j.createContext(!1);function NZ(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=zz),window.ReactQueryClientContext):zz)}const Jl=({context:t}={})=>{const e=j.useContext(NZ(t,j.useContext($Z)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Mwe=({client:t,children:e,context:r,contextSharing:n=!1})=>{j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=NZ(r,n);return j.createElement($Z.Provider,{value:!r&&n},j.createElement(i.Provider,{value:t},e))},BZ=j.createContext(!1),Rwe=()=>j.useContext(BZ);BZ.Provider;function jwe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Fwe=j.createContext(jwe()),Lwe=()=>j.useContext(Fwe);function VZ(t,e){return typeof t=="function"?t(...e):!!t}const $we=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Nwe=t=>{j.useEffect(()=>{t.clearReset()},[t])},Bwe=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&VZ(r,[t.error,n]),Vwe=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},zwe=(t,e)=>t.isLoading&&t.isFetching&&!e,Uwe=(t,e,r)=>(t==null?void 0:t.suspense)&&zwe(e,r),qwe=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});function zZ(t,e){const r=Jl({context:t.context}),n=Rwe(),i=Lwe(),a=r.defaultQueryOptions(t);a._optimisticResults=n?"isRestoring":"optimistic",a.onError&&(a.onError=Tn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Tn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Tn.batchCalls(a.onSettled)),Vwe(a),$we(a,i),Nwe(i);const[o]=j.useState(()=>new e(r,a)),s=o.getOptimisticResult(a);if(LZ(j.useCallback(l=>{const u=n?()=>{}:o.subscribe(Tn.batchCalls(l));return o.updateResult(),u},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),j.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),Uwe(a,s,n))throw qwe(a,o,i);if(Bwe({result:s,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw s.error;return a.notifyOnChangeProps?s:o.trackResult(s)}function os(t,e,r){const n=mv(t,e,r);return zZ(n,RZ)}function Ln(t,e,r){const n=owe(t,e,r),i=Jl({context:n.context}),[a]=j.useState(()=>new Swe(i,n));j.useEffect(()=>{a.setOptions(n)},[a,n]);const o=LZ(j.useCallback(l=>a.subscribe(Tn.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=j.useCallback((l,u)=>{a.mutate(l,u).catch(Gwe)},[a]);if(o.error&&VZ(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}function Gwe(){}function Wwe(t,e,r){const n=mv(t,e,r);return zZ(n,wwe)}var UZ=typeof global=="object"&&global&&global.Object===Object&&global,Hwe=typeof self=="object"&&self&&self.Object===Object&&self,Zl=UZ||Hwe||Function("return this")(),zl=Zl.Symbol,qZ=Object.prototype,Ywe=qZ.hasOwnProperty,Xwe=qZ.toString,fy=zl?zl.toStringTag:void 0;function Kwe(t){var e=Ywe.call(t,fy),r=t[fy];try{t[fy]=void 0;var n=!0}catch{}var i=Xwe.call(t);return n&&(e?t[fy]=r:delete t[fy]),i}var Qwe=Object.prototype,Jwe=Qwe.toString;function Zwe(t){return Jwe.call(t)}var e1e="[object Null]",t1e="[object Undefined]",Uz=zl?zl.toStringTag:void 0;function um(t){return t==null?t===void 0?t1e:e1e:Uz&&Uz in Object(t)?Kwe(t):Zwe(t)}function px(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var r1e="[object AsyncFunction]",n1e="[object Function]",i1e="[object GeneratorFunction]",a1e="[object Proxy]";function GZ(t){if(!px(t))return!1;var e=um(t);return e==n1e||e==i1e||e==r1e||e==a1e}var fk=Zl["__core-js_shared__"],qz=function(){var t=/[^.]+$/.exec(fk&&fk.keys&&fk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o1e(t){return!!qz&&qz in t}var s1e=Function.prototype,l1e=s1e.toString;function Jh(t){if(t!=null){try{return l1e.call(t)}catch{}try{return t+""}catch{}}return""}var u1e=/[\\^$.*+?()[\]{}|]/g,c1e=/^\[object .+?Constructor\]$/,d1e=Function.prototype,f1e=Object.prototype,h1e=d1e.toString,p1e=f1e.hasOwnProperty,v1e=RegExp("^"+h1e.call(p1e).replace(u1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g1e(t){if(!px(t)||o1e(t))return!1;var e=GZ(t)?v1e:c1e;return e.test(Jh(t))}function m1e(t,e){return t==null?void 0:t[e]}function Zh(t,e){var r=m1e(t,e);return g1e(r)?r:void 0}var vx=Zh(Object,"create");function y1e(){this.__data__=vx?vx(null):{},this.size=0}function x1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var b1e="__lodash_hash_undefined__",w1e=Object.prototype,S1e=w1e.hasOwnProperty;function E1e(t){var e=this.__data__;if(vx){var r=e[t];return r===b1e?void 0:r}return S1e.call(e,t)?e[t]:void 0}var A1e=Object.prototype,C1e=A1e.hasOwnProperty;function T1e(t){var e=this.__data__;return vx?e[t]!==void 0:C1e.call(e,t)}var I1e="__lodash_hash_undefined__";function P1e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=vx&&e===void 0?I1e:e,this}function Sh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sh.prototype.clear=y1e;Sh.prototype.delete=x1e;Sh.prototype.get=E1e;Sh.prototype.has=T1e;Sh.prototype.set=P1e;function _1e(){this.__data__=[],this.size=0}function WZ(t,e){return t===e||t!==t&&e!==e}function aI(t,e){for(var r=t.length;r--;)if(WZ(t[r][0],e))return r;return-1}var O1e=Array.prototype,k1e=O1e.splice;function D1e(t){var e=this.__data__,r=aI(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():k1e.call(e,r,1),--this.size,!0}function M1e(t){var e=this.__data__,r=aI(e,t);return r<0?void 0:e[r][1]}function R1e(t){return aI(this.__data__,t)>-1}function j1e(t,e){var r=this.__data__,n=aI(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function sc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}sc.prototype.clear=_1e;sc.prototype.delete=D1e;sc.prototype.get=M1e;sc.prototype.has=R1e;sc.prototype.set=j1e;var gx=Zh(Zl,"Map");function F1e(){this.size=0,this.__data__={hash:new Sh,map:new(gx||sc),string:new Sh}}function L1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function oI(t,e){var r=t.__data__;return L1e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function $1e(t){var e=oI(this,t).delete(t);return this.size-=e?1:0,e}function N1e(t){return oI(this,t).get(t)}function B1e(t){return oI(this,t).has(t)}function V1e(t,e){var r=oI(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function lc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lc.prototype.clear=F1e;lc.prototype.delete=$1e;lc.prototype.get=N1e;lc.prototype.has=B1e;lc.prototype.set=V1e;var z1e="__lodash_hash_undefined__";function U1e(t){return this.__data__.set(t,z1e),this}function q1e(t){return this.__data__.has(t)}function tg(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new lc;++e<r;)this.add(t[e])}tg.prototype.add=tg.prototype.push=U1e;tg.prototype.has=q1e;function G1e(t,e,r,n){for(var i=t.length,a=r+-1;++a<i;)if(e(t[a],a,t))return a;return-1}function W1e(t){return t!==t}function H1e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Y1e(t,e,r){return e===e?H1e(t,e,r):G1e(t,W1e,r)}function HZ(t,e){var r=t==null?0:t.length;return!!r&&Y1e(t,e,0)>-1}function YZ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function XZ(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function X1e(t){return function(e){return t(e)}}function O$(t,e){return t.has(e)}var K1e=200;function Q1e(t,e,r,n){var i=-1,a=HZ,o=!0,s=t.length,l=[],u=e.length;if(!s)return l;n?(a=YZ,o=!1):e.length>=K1e&&(a=O$,o=!1,e=new tg(e));e:for(;++i<s;){var c=t[i],d=c;if(c=n||c!==0?c:0,o&&d===d){for(var f=u;f--;)if(e[f]===d)continue e;l.push(c)}else a(e,d,n)||l.push(c)}return l}function KZ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Eh(t){return t!=null&&typeof t=="object"}var J1e="[object Arguments]";function Gz(t){return Eh(t)&&um(t)==J1e}var QZ=Object.prototype,Z1e=QZ.hasOwnProperty,eSe=QZ.propertyIsEnumerable,JZ=Gz(function(){return arguments}())?Gz:function(t){return Eh(t)&&Z1e.call(t,"callee")&&!eSe.call(t,"callee")},Gu=Array.isArray,Wz=zl?zl.isConcatSpreadable:void 0;function tSe(t){return Gu(t)||JZ(t)||!!(Wz&&t&&t[Wz])}function ZZ(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=tSe),i||(i=[]);++a<o;){var s=t[a];r(s)&&KZ(i,s)}return i}function eee(t){return t}function rSe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Hz=Math.max;function nSe(t,e,r){return e=Hz(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Hz(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),rSe(t,this,s)}}function iSe(t){return function(){return t}}var Yz=function(){try{var t=Zh(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aSe=Yz?function(t,e){return Yz(t,"toString",{configurable:!0,enumerable:!1,value:iSe(e),writable:!0})}:eee,oSe=800,sSe=16,lSe=Date.now;function uSe(t){var e=0,r=0;return function(){var n=lSe(),i=sSe-(n-r);if(r=n,i>0){if(++e>=oSe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var cSe=uSe(aSe);function k$(t,e){return cSe(nSe(t,e,eee),t+"")}var dSe=9007199254740991;function tee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dSe}function ree(t){return t!=null&&tee(t.length)&&!GZ(t)}function E0(t){return Eh(t)&&ree(t)}function nee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var yv=k$(function(t,e){var r=nee(e);return E0(r)&&(r=void 0),E0(t)?Q1e(t,ZZ(e,1,E0),void 0,r):[]}),Dv=Zh(Zl,"Set");function fSe(){}function D$(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var hSe=1/0,pSe=Dv&&1/D$(new Dv([,-0]))[1]==hSe?function(t){return new Dv(t)}:fSe,vSe=200;function iee(t,e,r){var n=-1,i=HZ,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=YZ;else if(a>=vSe){var u=e?null:pSe(t);if(u)return D$(u);o=!1,i=O$,l=new tg}else l=e?[]:s;e:for(;++n<a;){var c=t[n],d=e?e(c):c;if(c=r||c!==0?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,r)||(l!==s&&l.push(d),s.push(c))}return s}var aee=k$(function(t){var e=nee(t);return e=typeof e=="function"?e:void 0,iee(ZZ(t,1,E0),void 0,e)}),cm=TypeError;const gSe={},mSe=Object.freeze(Object.defineProperty({__proto__:null,default:gSe},Symbol.toStringTag,{value:"Module"})),ySe=zJ(mSe);var M$=typeof Map=="function"&&Map.prototype,hk=Object.getOwnPropertyDescriptor&&M$?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,DA=M$&&hk&&typeof hk.get=="function"?hk.get:null,Xz=M$&&Map.prototype.forEach,R$=typeof Set=="function"&&Set.prototype,pk=Object.getOwnPropertyDescriptor&&R$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,MA=R$&&pk&&typeof pk.get=="function"?pk.get:null,Kz=R$&&Set.prototype.forEach,xSe=typeof WeakMap=="function"&&WeakMap.prototype,A0=xSe?WeakMap.prototype.has:null,bSe=typeof WeakSet=="function"&&WeakSet.prototype,C0=bSe?WeakSet.prototype.has:null,wSe=typeof WeakRef=="function"&&WeakRef.prototype,Qz=wSe?WeakRef.prototype.deref:null,SSe=Boolean.prototype.valueOf,ESe=Object.prototype.toString,ASe=Function.prototype.toString,CSe=String.prototype.match,j$=String.prototype.slice,Qc=String.prototype.replace,TSe=String.prototype.toUpperCase,Jz=String.prototype.toLowerCase,oee=RegExp.prototype.test,Zz=Array.prototype.concat,yl=Array.prototype.join,ISe=Array.prototype.slice,e6=Math.floor,mR=typeof BigInt=="function"?BigInt.prototype.valueOf:null,vk=Object.getOwnPropertySymbols,yR=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,rg=typeof Symbol=="function"&&typeof Symbol.iterator=="object",T0=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===rg||!0)?Symbol.toStringTag:null,see=Object.prototype.propertyIsEnumerable,t6=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function r6(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||oee.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-e6(-t):e6(t);if(n!==t){var i=String(n),a=j$.call(e,i.length+1);return Qc.call(i,r,"$&_")+"."+Qc.call(Qc.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qc.call(e,r,"$&_")}var xR=ySe,n6=xR.custom,i6=cee(n6)?n6:null,lee={__proto__:null,double:'"',single:"'"},PSe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},sI=function t(e,r,n,i){var a=r||{};if(xu(a,"quoteStyle")&&!xu(lee,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xu(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=xu(a,"customInspect")?a.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xu(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xu(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return fee(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return s?r6(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return s?r6(e,u):u}var c=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return bR(e)?"[Array]":"[Object]";var d=WSe(a,n);if(typeof i>"u")i=[];else if(dee(i,e)>=0)return"[Circular]";function f(D,B,$){if(B&&(i=ISe.call(i),i.push(B)),$){var L={depth:a.depth};return xu(a,"quoteStyle")&&(L.quoteStyle=a.quoteStyle),t(D,L,n+1,i)}return t(D,a,n+1,i)}if(typeof e=="function"&&!a6(e)){var p=LSe(e),v=R1(e,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(v.length>0?" { "+yl.call(v,", ")+" }":"")}if(cee(e)){var g=rg?Qc.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):yR.call(e);return typeof e=="object"&&!rg?hy(g):g}if(USe(e)){for(var m="<"+Jz.call(String(e.nodeName)),y=e.attributes||[],x=0;x<y.length;x++)m+=" "+y[x].name+"="+uee(_Se(y[x].value),"double",a);return m+=">",e.childNodes&&e.childNodes.length&&(m+="..."),m+="</"+Jz.call(String(e.nodeName))+">",m}if(bR(e)){if(e.length===0)return"[]";var b=R1(e,f);return d&&!GSe(b)?"["+wR(b,d)+"]":"[ "+yl.call(b,", ")+" ]"}if(kSe(e)){var w=R1(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!see.call(e,"cause")?"{ ["+String(e)+"] "+yl.call(Zz.call("[cause]: "+f(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+yl.call(w,", ")+" }"}if(typeof e=="object"&&o){if(i6&&typeof e[i6]=="function"&&xR)return xR(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if($Se(e)){var S=[];return Xz&&Xz.call(e,function(D,B){S.push(f(B,e,!0)+" => "+f(D,e))}),o6("Map",DA.call(e),S,d)}if(VSe(e)){var C=[];return Kz&&Kz.call(e,function(D){C.push(f(D,e))}),o6("Set",MA.call(e),C,d)}if(NSe(e))return gk("WeakMap");if(zSe(e))return gk("WeakSet");if(BSe(e))return gk("WeakRef");if(MSe(e))return hy(f(Number(e)));if(jSe(e))return hy(f(mR.call(e)));if(RSe(e))return hy(SSe.call(e));if(DSe(e))return hy(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof mn<"u"&&e===mn)return"{ [object globalThis] }";if(!OSe(e)&&!a6(e)){var E=R1(e,f),A=t6?t6(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",_=!A&&T0&&Object(e)===e&&T0 in e?j$.call(Hd(e),8,-1):P?"Object":"",k=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=k+(_||P?"["+yl.call(Zz.call([],_||[],P||[]),": ")+"] ":"");return E.length===0?O+"{}":d?O+"{"+wR(E,d)+"}":O+"{ "+yl.call(E,", ")+" }"}return String(e)};function uee(t,e,r){var n=r.quoteStyle||e,i=lee[n];return i+t+i}function _Se(t){return Qc.call(String(t),/"/g,"&quot;")}function ep(t){return!T0||!(typeof t=="object"&&(T0 in t||typeof t[T0]<"u"))}function bR(t){return Hd(t)==="[object Array]"&&ep(t)}function OSe(t){return Hd(t)==="[object Date]"&&ep(t)}function a6(t){return Hd(t)==="[object RegExp]"&&ep(t)}function kSe(t){return Hd(t)==="[object Error]"&&ep(t)}function DSe(t){return Hd(t)==="[object String]"&&ep(t)}function MSe(t){return Hd(t)==="[object Number]"&&ep(t)}function RSe(t){return Hd(t)==="[object Boolean]"&&ep(t)}function cee(t){if(rg)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!yR)return!1;try{return yR.call(t),!0}catch{}return!1}function jSe(t){if(!t||typeof t!="object"||!mR)return!1;try{return mR.call(t),!0}catch{}return!1}var FSe=Object.prototype.hasOwnProperty||function(t){return t in this};function xu(t,e){return FSe.call(t,e)}function Hd(t){return ESe.call(t)}function LSe(t){if(t.name)return t.name;var e=CSe.call(ASe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function dee(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function $Se(t){if(!DA||!t||typeof t!="object")return!1;try{DA.call(t);try{MA.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function NSe(t){if(!A0||!t||typeof t!="object")return!1;try{A0.call(t,A0);try{C0.call(t,C0)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function BSe(t){if(!Qz||!t||typeof t!="object")return!1;try{return Qz.call(t),!0}catch{}return!1}function VSe(t){if(!MA||!t||typeof t!="object")return!1;try{MA.call(t);try{DA.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function zSe(t){if(!C0||!t||typeof t!="object")return!1;try{C0.call(t,C0);try{A0.call(t,A0)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function USe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function fee(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return fee(j$.call(t,0,e.maxStringLength),e)+n}var i=PSe[e.quoteStyle||"single"];i.lastIndex=0;var a=Qc.call(Qc.call(t,i,"\\$1"),/[\x00-\x1f]/g,qSe);return uee(a,"single",e)}function qSe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+TSe.call(e.toString(16))}function hy(t){return"Object("+t+")"}function gk(t){return t+" { ? }"}function o6(t,e,r,n){var i=n?wR(r,n):yl.call(r,", ");return t+" ("+e+") {"+i+"}"}function GSe(t){for(var e=0;e<t.length;e++)if(dee(t[e],`
`)>=0)return!1;return!0}function WSe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=yl.call(Array(t.indent+1)," ");else return null;return{base:r,prev:yl.call(Array(e+1),r)}}function wR(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+yl.call(t,","+r)+`
`+e.prev}function R1(t,e){var r=bR(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=xu(t,i)?e(t[i],t):""}var a=typeof vk=="function"?vk(t):[],o;if(rg){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in t)xu(t,l)&&(r&&String(Number(l))===l&&l<t.length||rg&&o["$"+l]instanceof Symbol||(oee.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof vk=="function")for(var u=0;u<a.length;u++)see.call(t,a[u])&&n.push("["+e(a[u])+"]: "+e(t[a[u]],t));return n}var HSe=sI,YSe=cm,lI=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},XSe=function(t,e){if(t){var r=lI(t,e);return r&&r.value}},KSe=function(t,e,r){var n=lI(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},QSe=function(t,e){return t?!!lI(t,e):!1},JSe=function(t,e){if(t)return lI(t,e,!0)},ZSe=function(){var e,r={assert:function(n){if(!r.has(n))throw new YSe("Side channel does not contain "+HSe(n))},delete:function(n){var i=e&&e.next,a=JSe(e,n);return a&&i&&i===a&&(e=void 0),!!a},get:function(n){return XSe(e,n)},has:function(n){return QSe(e,n)},set:function(n,i){e||(e={next:void 0}),KSe(e,n,i)}};return r},hee=Object,eEe=Error,tEe=EvalError,rEe=RangeError,nEe=ReferenceError,iEe=SyntaxError,aEe=URIError,oEe=Math.abs,sEe=Math.floor,lEe=Math.max,uEe=Math.min,cEe=Math.pow,dEe=Math.round,fEe=Number.isNaN||function(e){return e!==e},hEe=fEe,pEe=function(e){return hEe(e)||e===0?e:e<0?-1:1},vEe=Object.getOwnPropertyDescriptor,RE=vEe;if(RE)try{RE([],"length")}catch{RE=null}var pee=RE,jE=Object.defineProperty||!1;if(jE)try{jE({},"a",{value:1})}catch{jE=!1}var gEe=jE,mk,s6;function mEe(){return s6||(s6=1,mk=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),mk}var yk,l6;function yEe(){if(l6)return yk;l6=1;var t=typeof Symbol<"u"&&Symbol,e=mEe();return yk=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},yk}var xk,u6;function vee(){return u6||(u6=1,xk=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),xk}var bk,c6;function gee(){if(c6)return bk;c6=1;var t=hee;return bk=t.getPrototypeOf||null,bk}var wk,d6;function xEe(){if(d6)return wk;d6=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var c=[],d=0;d<l.length;d+=1)c[d]=l[d];for(var f=0;f<u.length;f+=1)c[f+l.length]=u[f];return c},a=function(l,u){for(var c=[],d=u,f=0;d<l.length;d+=1,f+=1)c[f]=l[d];return c},o=function(s,l){for(var u="",c=0;c<s.length;c+=1)u+=s[c],c+1<s.length&&(u+=l);return u};return wk=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(t+u);for(var c=a(arguments,1),d,f=function(){if(this instanceof d){var y=u.apply(this,i(c,arguments));return Object(y)===y?y:this}return u.apply(l,i(c,arguments))},p=r(0,u.length-c.length),v=[],g=0;g<p;g++)v[g]="$"+g;if(d=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(f),u.prototype){var m=function(){};m.prototype=u.prototype,d.prototype=new m,m.prototype=null}return d},wk}var Sk,f6;function uI(){if(f6)return Sk;f6=1;var t=xEe();return Sk=Function.prototype.bind||t,Sk}var Ek,h6;function F$(){return h6||(h6=1,Ek=Function.prototype.call),Ek}var Ak,p6;function mee(){return p6||(p6=1,Ak=Function.prototype.apply),Ak}var bEe=typeof Reflect<"u"&&Reflect&&Reflect.apply,wEe=uI(),SEe=mee(),EEe=F$(),AEe=bEe,CEe=AEe||wEe.call(EEe,SEe),TEe=uI(),IEe=cm,PEe=F$(),_Ee=CEe,yee=function(e){if(e.length<1||typeof e[0]!="function")throw new IEe("a function is required");return _Ee(TEe,PEe,e)},Ck,v6;function OEe(){if(v6)return Ck;v6=1;var t=yee,e=pee,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return Ck=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(s){return a(s==null?s:i(s))}:!1,Ck}var Tk,g6;function kEe(){if(g6)return Tk;g6=1;var t=vee(),e=gee(),r=OEe();return Tk=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,Tk}var Ik,m6;function DEe(){if(m6)return Ik;m6=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=uI();return Ik=r.call(t,e),Ik}var Yt,MEe=hee,REe=eEe,jEe=tEe,FEe=rEe,LEe=nEe,ng=iEe,Mv=cm,$Ee=aEe,NEe=oEe,BEe=sEe,VEe=lEe,zEe=uEe,UEe=cEe,qEe=dEe,GEe=pEe,xee=Function,Pk=function(t){try{return xee('"use strict"; return ('+t+").constructor;")()}catch{}},mx=pee,WEe=gEe,_k=function(){throw new Mv},HEe=mx?function(){try{return arguments.callee,_k}catch{try{return mx(arguments,"callee").get}catch{return _k}}}():_k,Dp=yEe()(),ai=kEe(),YEe=gee(),XEe=vee(),bee=mee(),Hb=F$(),ov={},KEe=typeof Uint8Array>"u"||!ai?Yt:ai(Uint8Array),sh={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Yt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Yt:ArrayBuffer,"%ArrayIteratorPrototype%":Dp&&ai?ai([][Symbol.iterator]()):Yt,"%AsyncFromSyncIteratorPrototype%":Yt,"%AsyncFunction%":ov,"%AsyncGenerator%":ov,"%AsyncGeneratorFunction%":ov,"%AsyncIteratorPrototype%":ov,"%Atomics%":typeof Atomics>"u"?Yt:Atomics,"%BigInt%":typeof BigInt>"u"?Yt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Yt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Yt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Yt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":REe,"%eval%":eval,"%EvalError%":jEe,"%Float16Array%":typeof Float16Array>"u"?Yt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Yt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Yt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Yt:FinalizationRegistry,"%Function%":xee,"%GeneratorFunction%":ov,"%Int8Array%":typeof Int8Array>"u"?Yt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Yt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Yt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dp&&ai?ai(ai([][Symbol.iterator]())):Yt,"%JSON%":typeof JSON=="object"?JSON:Yt,"%Map%":typeof Map>"u"?Yt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dp||!ai?Yt:ai(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":MEe,"%Object.getOwnPropertyDescriptor%":mx,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Yt:Promise,"%Proxy%":typeof Proxy>"u"?Yt:Proxy,"%RangeError%":FEe,"%ReferenceError%":LEe,"%Reflect%":typeof Reflect>"u"?Yt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Yt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dp||!ai?Yt:ai(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Yt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dp&&ai?ai(""[Symbol.iterator]()):Yt,"%Symbol%":Dp?Symbol:Yt,"%SyntaxError%":ng,"%ThrowTypeError%":HEe,"%TypedArray%":KEe,"%TypeError%":Mv,"%Uint8Array%":typeof Uint8Array>"u"?Yt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Yt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Yt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Yt:Uint32Array,"%URIError%":$Ee,"%WeakMap%":typeof WeakMap>"u"?Yt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Yt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Yt:WeakSet,"%Function.prototype.call%":Hb,"%Function.prototype.apply%":bee,"%Object.defineProperty%":WEe,"%Object.getPrototypeOf%":YEe,"%Math.abs%":NEe,"%Math.floor%":BEe,"%Math.max%":VEe,"%Math.min%":zEe,"%Math.pow%":UEe,"%Math.round%":qEe,"%Math.sign%":GEe,"%Reflect.getPrototypeOf%":XEe};if(ai)try{null.error}catch(t){var QEe=ai(ai(t));sh["%Error.prototype%"]=QEe}var JEe=function t(e){var r;if(e==="%AsyncFunction%")r=Pk("async function () {}");else if(e==="%GeneratorFunction%")r=Pk("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Pk("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ai&&(r=ai(i.prototype))}return sh[e]=r,r},y6={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yb=uI(),RA=DEe(),ZEe=Yb.call(Hb,Array.prototype.concat),eAe=Yb.call(bee,Array.prototype.splice),x6=Yb.call(Hb,String.prototype.replace),jA=Yb.call(Hb,String.prototype.slice),tAe=Yb.call(Hb,RegExp.prototype.exec),rAe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nAe=/\\(\\)?/g,iAe=function(e){var r=jA(e,0,1),n=jA(e,-1);if(r==="%"&&n!=="%")throw new ng("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ng("invalid intrinsic syntax, expected opening `%`");var i=[];return x6(e,rAe,function(a,o,s,l){i[i.length]=s?x6(l,nAe,"$1"):o||a}),i},aAe=function(e,r){var n=e,i;if(RA(y6,n)&&(i=y6[n],n="%"+i[0]+"%"),RA(sh,n)){var a=sh[n];if(a===ov&&(a=JEe(n)),typeof a>"u"&&!r)throw new Mv("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new ng("intrinsic "+e+" does not exist!")},L$=function(e,r){if(typeof e!="string"||e.length===0)throw new Mv("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Mv('"allowMissing" argument must be a boolean');if(tAe(/^%?[^%]*%?$/,e)===null)throw new ng("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=iAe(e),i=n.length>0?n[0]:"",a=aAe("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],eAe(n,ZEe([0,1],u)));for(var c=1,d=!0;c<n.length;c+=1){var f=n[c],p=jA(f,0,1),v=jA(f,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new ng("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),i+="."+f,o="%"+i+"%",RA(sh,o))s=sh[o];else if(s!=null){if(!(f in s)){if(!r)throw new Mv("base intrinsic for "+e+" exists, but the property is not available.");return}if(mx&&c+1>=n.length){var g=mx(s,f);d=!!g,d&&"get"in g&&!("originalValue"in g.get)?s=g.get:s=s[f]}else d=RA(s,f),s=s[f];d&&!l&&(sh[o]=s)}}return s},wee=L$,See=yee,oAe=See([wee("%String.prototype.indexOf%")]),Eee=function(e,r){var n=wee(e,!!r);return typeof n=="function"&&oAe(e,".prototype.")>-1?See([n]):n},sAe=L$,Xb=Eee,lAe=sI,uAe=cm,b6=sAe("%Map%",!0),cAe=Xb("Map.prototype.get",!0),dAe=Xb("Map.prototype.set",!0),fAe=Xb("Map.prototype.has",!0),hAe=Xb("Map.prototype.delete",!0),pAe=Xb("Map.prototype.size",!0),Aee=!!b6&&function(){var e,r={assert:function(n){if(!r.has(n))throw new uAe("Side channel does not contain "+lAe(n))},delete:function(n){if(e){var i=hAe(e,n);return pAe(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return cAe(e,n)},has:function(n){return e?fAe(e,n):!1},set:function(n,i){e||(e=new b6),dAe(e,n,i)}};return r},vAe=L$,cI=Eee,gAe=sI,j1=Aee,mAe=cm,Mp=vAe("%WeakMap%",!0),yAe=cI("WeakMap.prototype.get",!0),xAe=cI("WeakMap.prototype.set",!0),bAe=cI("WeakMap.prototype.has",!0),wAe=cI("WeakMap.prototype.delete",!0),SAe=Mp?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new mAe("Side channel does not contain "+gAe(i))},delete:function(i){if(Mp&&i&&(typeof i=="object"||typeof i=="function")){if(e)return wAe(e,i)}else if(j1&&r)return r.delete(i);return!1},get:function(i){return Mp&&i&&(typeof i=="object"||typeof i=="function")&&e?yAe(e,i):r&&r.get(i)},has:function(i){return Mp&&i&&(typeof i=="object"||typeof i=="function")&&e?bAe(e,i):!!r&&r.has(i)},set:function(i,a){Mp&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Mp),xAe(e,i,a)):j1&&(r||(r=j1()),r.set(i,a))}};return n}:j1,EAe=cm,AAe=sI,CAe=ZSe,TAe=Aee,IAe=SAe,PAe=IAe||TAe||CAe,_Ae=function(){var e,r={assert:function(n){if(!r.has(n))throw new EAe("Side channel does not contain "+AAe(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=PAe()),e.set(n,i)}};return r},OAe=String.prototype.replace,kAe=/%20/g,Ok={RFC1738:"RFC1738",RFC3986:"RFC3986"},$$={default:Ok.RFC3986,formatters:{RFC1738:function(t){return OAe.call(t,kAe,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ok.RFC1738,RFC3986:Ok.RFC3986},DAe=$$,kk=Object.prototype.hasOwnProperty,Nf=Array.isArray,al=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),MAe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Nf(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Cee=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},RAe=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Nf(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!kk.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Nf(e)&&!Nf(r)&&(i=Cee(e,n)),Nf(e)&&Nf(r)?(r.forEach(function(a,o){if(kk.call(e,o)){var s=e[o];s&&typeof s=="object"&&a&&typeof a=="object"?e[o]=t(s,a,n):e.push(a)}else e[o]=a}),e):Object.keys(r).reduce(function(a,o){var s=r[o];return kk.call(a,o)?a[o]=t(a[o],s,n):a[o]=s,a},i)},jAe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},FAe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Dk=1024,LAe=function(e,r,n,i,a){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var s="",l=0;l<o.length;l+=Dk){for(var u=o.length>=Dk?o.slice(l,l+Dk):o,c=[],d=0;d<u.length;++d){var f=u.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===DAe.RFC1738&&(f===40||f===41)){c[c.length]=u.charAt(d);continue}if(f<128){c[c.length]=al[f];continue}if(f<2048){c[c.length]=al[192|f>>6]+al[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=al[224|f>>12]+al[128|f>>6&63]+al[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|u.charCodeAt(d)&1023),c[c.length]=al[240|f>>18]+al[128|f>>12&63]+al[128|f>>6&63]+al[128|f&63]}s+=c.join("")}return s},$Ae=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],o=a.obj[a.prop],s=Object.keys(o),l=0;l<s.length;++l){var u=s[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return MAe(r),e},NAe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},BAe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},VAe=function(e,r){return[].concat(e,r)},zAe=function(e,r){if(Nf(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Tee={arrayToObject:Cee,assign:jAe,combine:VAe,compact:$Ae,decode:FAe,encode:LAe,isBuffer:BAe,isRegExp:NAe,maybeMap:zAe,merge:RAe},Iee=_Ae,FE=Tee,I0=$$,UAe=Object.prototype.hasOwnProperty,Pee={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},gl=Array.isArray,qAe=Array.prototype.push,_ee=function(t,e){qAe.apply(t,gl(e)?e:[e])},GAe=Date.prototype.toISOString,w6=I0.default,Kn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:FE.encode,encodeValuesOnly:!1,filter:void 0,format:w6,formatter:I0.formatters[w6],indices:!1,serializeDate:function(e){return GAe.call(e)},skipNulls:!1,strictNullHandling:!1},WAe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mk={},HAe=function t(e,r,n,i,a,o,s,l,u,c,d,f,p,v,g,m,y,x){for(var b=e,w=x,S=0,C=!1;(w=w.get(Mk))!==void 0&&!C;){var E=w.get(e);if(S+=1,typeof E<"u"){if(E===S)throw new RangeError("Cyclic object value");C=!0}typeof w.get(Mk)>"u"&&(S=0)}if(typeof c=="function"?b=c(r,b):b instanceof Date?b=p(b):n==="comma"&&gl(b)&&(b=FE.maybeMap(b,function(q){return q instanceof Date?p(q):q})),b===null){if(o)return u&&!m?u(r,Kn.encoder,y,"key",v):r;b=""}if(WAe(b)||FE.isBuffer(b)){if(u){var A=m?r:u(r,Kn.encoder,y,"key",v);return[g(A)+"="+g(u(b,Kn.encoder,y,"value",v))]}return[g(r)+"="+g(String(b))]}var P=[];if(typeof b>"u")return P;var _;if(n==="comma"&&gl(b))m&&u&&(b=FE.maybeMap(b,u)),_=[{value:b.length>0?b.join(",")||null:void 0}];else if(gl(c))_=c;else{var k=Object.keys(b);_=d?k.sort(d):k}var O=l?String(r).replace(/\./g,"%2E"):String(r),D=i&&gl(b)&&b.length===1?O+"[]":O;if(a&&gl(b)&&b.length===0)return D+"[]";for(var B=0;B<_.length;++B){var $=_[B],L=typeof $=="object"&&$&&typeof $.value<"u"?$.value:b[$];if(!(s&&L===null)){var R=f&&l?String($).replace(/\./g,"%2E"):String($),V=gl(b)?typeof n=="function"?n(D,R):D:D+(f?"."+R:"["+R+"]");x.set(e,S);var U=Iee();U.set(Mk,x),_ee(P,t(L,V,n,i,a,o,s,l,n==="comma"&&m&&gl(b)?null:u,c,d,f,p,v,g,m,y,U))}}return P},YAe=function(e){if(!e)return Kn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Kn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=I0.default;if(typeof e.format<"u"){if(!UAe.call(I0.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=I0.formatters[n],a=Kn.filter;(typeof e.filter=="function"||gl(e.filter))&&(a=e.filter);var o;if(e.arrayFormat in Pee?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Kn.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Kn.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Kn.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Kn.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Kn.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Kn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Kn.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Kn.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Kn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Kn.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Kn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Kn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Kn.strictNullHandling}},XAe=function(t,e){var r=t,n=YAe(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):gl(n.filter)&&(a=n.filter,i=a);var o=[];if(typeof r!="object"||r===null)return"";var s=Pee[n.arrayFormat],l=s==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Iee(),c=0;c<i.length;++c){var d=i[c],f=r[d];n.skipNulls&&f===null||_ee(o,HAe(f,d,s,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var p=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),p.length>0?v+p:""},Ah=Tee,SR=Object.prototype.hasOwnProperty,S6=Array.isArray,Sn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ah.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},KAe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Oee=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},QAe="utf8=%26%2310003%3B",JAe="utf8=%E2%9C%93",ZAe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&o.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var s=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===JAe?u="utf-8":o[l]===QAe&&(u="iso-8859-1"),s=l,l=o.length);for(l=0;l<o.length;++l)if(l!==s){var c=o[l],d=c.indexOf("]="),f=d===-1?c.indexOf("="):d+1,p,v;f===-1?(p=r.decoder(c,Sn.decoder,u,"key"),v=r.strictNullHandling?null:""):(p=r.decoder(c.slice(0,f),Sn.decoder,u,"key"),v=Ah.maybeMap(Oee(c.slice(f+1),r,S6(n[p])?n[p].length:0),function(m){return r.decoder(m,Sn.decoder,u,"value")})),v&&r.interpretNumericEntities&&u==="iso-8859-1"&&(v=KAe(String(v))),c.indexOf("[]=")>-1&&(v=S6(v)?[v]:v);var g=SR.call(n,p);g&&r.duplicates==="combine"?n[p]=Ah.combine(n[p],v):(!g||r.duplicates==="last")&&(n[p]=v)}return n},eCe=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");i=Array.isArray(e)&&e[a]?e[a].length:0}for(var o=n?e:Oee(e,r,i),s=t.length-1;s>=0;--s){var l,u=t[s];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(o===""||r.strictNullHandling&&o===null)?[]:Ah.combine([],o);else{l=r.plainObjects?{__proto__:null}:{};var c=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,f=parseInt(d,10);!r.parseArrays&&d===""?l={0:o}:!isNaN(f)&&u!==d&&String(f)===d&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(l=[],l[f]=o):d!=="__proto__"&&(l[d]=o)}o=l}return o},tCe=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(a),u=l?a.slice(0,l.index):a,c=[];if(u){if(!n.plainObjects&&SR.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var d=0;n.depth>0&&(l=s.exec(a))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&SR.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+a.slice(l.index)+"]")}return eCe(c,r,n,i)}},rCe=function(e){if(!e)return Sn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?Sn.charset:e.charset,n=typeof e.duplicates>"u"?Sn.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Sn.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Sn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Sn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Sn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Sn.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Sn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Sn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Sn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Sn.decoder,delimiter:typeof e.delimiter=="string"||Ah.isRegExp(e.delimiter)?e.delimiter:Sn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Sn.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Sn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Sn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Sn.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Sn.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Sn.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},nCe=function(t,e){var r=rCe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?ZAe(t,r):t,i=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],l=tCe(s,n[s],r,typeof t=="string");i=Ah.merge(i,l,r)}return r.allowSparse===!0?i:Ah.compact(i)},iCe=XAe,aCe=nCe,oCe=$$,sCe={formats:oCe,parse:aCe,stringify:iCe};const Pl=_t(sCe);function lCe(t,...e){}var uCe=lCe;const Ul=_t(uCe);function cCe(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n}function kee(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function Dee(t){return function(e){return e==null?void 0:e[t]}}function Mee(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var dCe=Math.max;function fCe(t){if(!(t&&t.length))return[];var e=0;return t=kee(t,function(r){if(E0(r))return e=dCe(r.length,e),!0}),Mee(e,function(r){return XZ(t,Dee(r))})}var hCe=k$(fCe);function pCe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ree={exports:{}};(function(t,e){(function(r,n){typeof pCe=="function"?t.exports=n():r.pluralize=n()})(mn,function(){var r=[],n=[],i={},a={},o={};function s(g){return typeof g=="string"?new RegExp("^"+g+"$","i"):g}function l(g,m){return g===m?m:g===g.toLowerCase()?m.toLowerCase():g===g.toUpperCase()?m.toUpperCase():g[0]===g[0].toUpperCase()?m.charAt(0).toUpperCase()+m.substr(1).toLowerCase():m.toLowerCase()}function u(g,m){return g.replace(/\$(\d{1,2})/g,function(y,x){return m[x]||""})}function c(g,m){return g.replace(m[0],function(y,x){var b=u(m[1],arguments);return l(y===""?g[x-1]:y,b)})}function d(g,m,y){if(!g.length||i.hasOwnProperty(g))return m;for(var x=y.length;x--;){var b=y[x];if(b[0].test(m))return c(m,b)}return m}function f(g,m,y){return function(x){var b=x.toLowerCase();return m.hasOwnProperty(b)?l(x,b):g.hasOwnProperty(b)?l(x,g[b]):d(b,x,y)}}function p(g,m,y,x){return function(b){var w=b.toLowerCase();return m.hasOwnProperty(w)?!0:g.hasOwnProperty(w)?!1:d(w,w,y)===w}}function v(g,m,y){var x=m===1?v.singular(g):v.plural(g);return(y?m+" ":"")+x}return v.plural=f(o,a,r),v.isPlural=p(o,a,r),v.singular=f(a,o,n),v.isSingular=p(a,o,n),v.addPluralRule=function(g,m){r.push([s(g),m])},v.addSingularRule=function(g,m){n.push([s(g),m])},v.addUncountableRule=function(g){if(typeof g=="string"){i[g.toLowerCase()]=!0;return}v.addPluralRule(g,"$0"),v.addSingularRule(g,"$0")},v.addIrregularRule=function(g,m){m=m.toLowerCase(),g=g.toLowerCase(),o[g]=m,a[m]=g},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(g){return v.addIrregularRule(g[0],g[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(g){return v.addPluralRule(g[0],g[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(g){return v.addSingularRule(g[0],g[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(v.addUncountableRule),v})})(Ree);var rn=Ree.exports;const FA=_t(rn);var Rk=function(){return Zl.Date.now()},vCe=/\s/;function gCe(t){for(var e=t.length;e--&&vCe.test(t.charAt(e)););return e}var mCe=/^\s+/;function yCe(t){return t&&t.slice(0,gCe(t)+1).replace(mCe,"")}var xCe="[object Symbol]";function dI(t){return typeof t=="symbol"||Eh(t)&&um(t)==xCe}var E6=NaN,bCe=/^[-+]0x[0-9a-f]+$/i,wCe=/^0b[01]+$/i,SCe=/^0o[0-7]+$/i,ECe=parseInt;function ER(t){if(typeof t=="number")return t;if(dI(t))return E6;if(px(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=px(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yCe(t);var r=wCe.test(t);return r||SCe.test(t)?ECe(t.slice(2),r?2:8):bCe.test(t)?E6:+t}var ACe="Expected a function",CCe=Math.max,TCe=Math.min;function jee(t,e,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(ACe);e=ER(e)||0,px(r)&&(c=!!r.leading,d="maxWait"in r,a=d?CCe(ER(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function p(C){var E=n,A=i;return n=i=void 0,u=C,o=t.apply(A,E),o}function v(C){return u=C,s=setTimeout(y,e),c?p(C):o}function g(C){var E=C-l,A=C-u,P=e-E;return d?TCe(P,a-A):P}function m(C){var E=C-l,A=C-u;return l===void 0||E>=e||E<0||d&&A>=a}function y(){var C=Rk();if(m(C))return x(C);s=setTimeout(y,g(C))}function x(C){return s=void 0,f&&n?p(C):(n=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function w(){return s===void 0?o:x(Rk())}function S(){var C=Rk(),E=m(C);if(n=arguments,i=this,l=C,E){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=b,S.flush=w,S}function ICe(){this.__data__=new sc,this.size=0}function PCe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function _Ce(t){return this.__data__.get(t)}function OCe(t){return this.__data__.has(t)}var kCe=200;function DCe(t,e){var r=this.__data__;if(r instanceof sc){var n=r.__data__;if(!gx||n.length<kCe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new lc(n)}return r.set(t,e),this.size=r.size,this}function ld(t){var e=this.__data__=new sc(t);this.size=e.size}ld.prototype.clear=ICe;ld.prototype.delete=PCe;ld.prototype.get=_Ce;ld.prototype.has=OCe;ld.prototype.set=DCe;function MCe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var RCe=1,jCe=2;function Fee(t,e,r,n,i,a){var o=r&RCe,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=r&jCe?new tg:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var v=t[d],g=e[d];if(n)var m=o?n(g,v,d,e,t,a):n(v,g,d,t,e,a);if(m!==void 0){if(m)continue;f=!1;break}if(p){if(!MCe(e,function(y,x){if(!O$(p,x)&&(v===y||i(v,y,r,n,a)))return p.push(x)})){f=!1;break}}else if(!(v===g||i(v,g,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var A6=Zl.Uint8Array;function FCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var LCe=1,$Ce=2,NCe="[object Boolean]",BCe="[object Date]",VCe="[object Error]",zCe="[object Map]",UCe="[object Number]",qCe="[object RegExp]",GCe="[object Set]",WCe="[object String]",HCe="[object Symbol]",YCe="[object ArrayBuffer]",XCe="[object DataView]",C6=zl?zl.prototype:void 0,jk=C6?C6.valueOf:void 0;function KCe(t,e,r,n,i,a,o){switch(r){case XCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YCe:return!(t.byteLength!=e.byteLength||!a(new A6(t),new A6(e)));case NCe:case BCe:case UCe:return WZ(+t,+e);case VCe:return t.name==e.name&&t.message==e.message;case qCe:case WCe:return t==e+"";case zCe:var s=FCe;case GCe:var l=n&LCe;if(s||(s=D$),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=$Ce,o.set(t,e);var c=Fee(s(t),s(e),n,i,a,o);return o.delete(t),c;case HCe:if(jk)return jk.call(t)==jk.call(e)}return!1}function QCe(t,e,r){var n=e(t);return Gu(t)?n:KZ(n,r(t))}function JCe(){return[]}var ZCe=Object.prototype,eTe=ZCe.propertyIsEnumerable,T6=Object.getOwnPropertySymbols,tTe=T6?function(t){return t==null?[]:(t=Object(t),kee(T6(t),function(e){return eTe.call(t,e)}))}:JCe;function rTe(){return!1}var Lee=typeof ju=="object"&&ju&&!ju.nodeType&&ju,I6=Lee&&typeof Fu=="object"&&Fu&&!Fu.nodeType&&Fu,nTe=I6&&I6.exports===Lee,P6=nTe?Zl.Buffer:void 0,iTe=P6?P6.isBuffer:void 0,AR=iTe||rTe,aTe=9007199254740991,oTe=/^(?:0|[1-9]\d*)$/;function sTe(t,e){var r=typeof t;return e=e??aTe,!!e&&(r=="number"||r!="symbol"&&oTe.test(t))&&t>-1&&t%1==0&&t<e}var lTe="[object Arguments]",uTe="[object Array]",cTe="[object Boolean]",dTe="[object Date]",fTe="[object Error]",hTe="[object Function]",pTe="[object Map]",vTe="[object Number]",gTe="[object Object]",mTe="[object RegExp]",yTe="[object Set]",xTe="[object String]",bTe="[object WeakMap]",wTe="[object ArrayBuffer]",STe="[object DataView]",ETe="[object Float32Array]",ATe="[object Float64Array]",CTe="[object Int8Array]",TTe="[object Int16Array]",ITe="[object Int32Array]",PTe="[object Uint8Array]",_Te="[object Uint8ClampedArray]",OTe="[object Uint16Array]",kTe="[object Uint32Array]",en={};en[ETe]=en[ATe]=en[CTe]=en[TTe]=en[ITe]=en[PTe]=en[_Te]=en[OTe]=en[kTe]=!0;en[lTe]=en[uTe]=en[wTe]=en[cTe]=en[STe]=en[dTe]=en[fTe]=en[hTe]=en[pTe]=en[vTe]=en[gTe]=en[mTe]=en[yTe]=en[xTe]=en[bTe]=!1;function DTe(t){return Eh(t)&&tee(t.length)&&!!en[um(t)]}var $ee=typeof ju=="object"&&ju&&!ju.nodeType&&ju,P0=$ee&&typeof Fu=="object"&&Fu&&!Fu.nodeType&&Fu,MTe=P0&&P0.exports===$ee,Fk=MTe&&UZ.process,_6=function(){try{var t=P0&&P0.require&&P0.require("util").types;return t||Fk&&Fk.binding&&Fk.binding("util")}catch{}}(),O6=_6&&_6.isTypedArray,Nee=O6?X1e(O6):DTe,RTe=Object.prototype,jTe=RTe.hasOwnProperty;function FTe(t,e){var r=Gu(t),n=!r&&JZ(t),i=!r&&!n&&AR(t),a=!r&&!n&&!i&&Nee(t),o=r||n||i||a,s=o?Mee(t.length,String):[],l=s.length;for(var u in t)jTe.call(t,u)&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sTe(u,l)))&&s.push(u);return s}var LTe=Object.prototype;function $Te(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||LTe;return t===r}function NTe(t,e){return function(r){return t(e(r))}}var BTe=NTe(Object.keys,Object),VTe=Object.prototype,zTe=VTe.hasOwnProperty;function UTe(t){if(!$Te(t))return BTe(t);var e=[];for(var r in Object(t))zTe.call(t,r)&&r!="constructor"&&e.push(r);return e}function qTe(t){return ree(t)?FTe(t):UTe(t)}function k6(t){return QCe(t,qTe,tTe)}var GTe=1,WTe=Object.prototype,HTe=WTe.hasOwnProperty;function YTe(t,e,r,n,i,a){var o=r&GTe,s=k6(t),l=s.length,u=k6(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=s[d];if(!(o?f in e:HTe.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=o;++d<l;){f=s[d];var y=t[f],x=e[f];if(n)var b=o?n(x,y,f,e,t,a):n(y,x,f,t,e,a);if(!(b===void 0?y===x||i(y,x,r,n,a):b)){g=!1;break}m||(m=f=="constructor")}if(g&&!m){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(t),a.delete(e),g}var CR=Zh(Zl,"DataView"),TR=Zh(Zl,"Promise"),IR=Zh(Zl,"WeakMap"),D6="[object Map]",XTe="[object Object]",M6="[object Promise]",R6="[object Set]",j6="[object WeakMap]",F6="[object DataView]",KTe=Jh(CR),QTe=Jh(gx),JTe=Jh(TR),ZTe=Jh(Dv),eIe=Jh(IR),Fc=um;(CR&&Fc(new CR(new ArrayBuffer(1)))!=F6||gx&&Fc(new gx)!=D6||TR&&Fc(TR.resolve())!=M6||Dv&&Fc(new Dv)!=R6||IR&&Fc(new IR)!=j6)&&(Fc=function(t){var e=um(t),r=e==XTe?t.constructor:void 0,n=r?Jh(r):"";if(n)switch(n){case KTe:return F6;case QTe:return D6;case JTe:return M6;case ZTe:return R6;case eIe:return j6}return e});var tIe=1,L6="[object Arguments]",$6="[object Array]",F1="[object Object]",rIe=Object.prototype,N6=rIe.hasOwnProperty;function nIe(t,e,r,n,i,a){var o=Gu(t),s=Gu(e),l=o?$6:Fc(t),u=s?$6:Fc(e);l=l==L6?F1:l,u=u==L6?F1:u;var c=l==F1,d=u==F1,f=l==u;if(f&&AR(t)){if(!AR(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new ld),o||Nee(t)?Fee(t,e,r,n,i,a):KCe(t,e,l,r,n,i,a);if(!(r&tIe)){var p=c&&N6.call(t,"__wrapped__"),v=d&&N6.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,m=v?e.value():e;return a||(a=new ld),i(g,m,r,n,a)}}return f?(a||(a=new ld),YTe(t,e,r,n,i,a)):!1}function Bee(t,e,r,n,i){return t===e?!0:t==null||e==null||!Eh(t)&&!Eh(e)?t!==t&&e!==e:nIe(t,e,r,n,Bee,i)}function Jc(t,e){return Bee(t,e)}var Vee={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((r,n)=>{t.exports=n()})(mn,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,s={},l=0,u={};function c(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var _=S(P);_.chunkSize=parseInt(_.chunkSize),P.step||P.chunk||(_.chunkSize=null),this._handle=new g(_),(this._handle.streamer=this)._config=_}).call(this,A),this.parseChunk=function(P,_){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let D=this._config.newline;D||(O=this._config.quoteChar||'"',D=this._handle.guessLineEndings(P,O)),P=[...P.split(D).slice(k)].join(D)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(P))!==void 0&&(P=O),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+P,O=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=O.meta.cursor,k=(this._finished||(this._partialLine=k.substring(P-this._baseIndex),this._baseIndex=P),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:O,workerId:u.WORKER_ID,finished:k});else if(E(this._config.chunk)&&!_){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!k||!E(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(P){E(this._config.error)?this._config.error(P):o&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function d(A){var P;(A=A||{}).chunkSize||(A.chunkSize=u.RemoteChunkSize),c.call(this,A),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(_){this._input=_,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),a||(P.onload=C(this._chunkLoaded,this),P.onerror=C(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var _,k=this._config.downloadRequestHeaders;for(_ in k)P.setRequestHeader(_,k[_])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+O));try{P.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}a&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(_=>(_=_.getResponseHeader("Content-Range"))!==null?parseInt(_.substring(_.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(_){_=P.statusText||_,this._sendError(new Error(_))}}function f(A){(A=A||{}).chunkSize||(A.chunkSize=u.LocalChunkSize),c.call(this,A);var P,_,k=typeof FileReader<"u";this.stream=function(O){this._input=O,_=O.slice||O.webkitSlice||O.mozSlice,k?((P=new FileReader).onload=C(this._chunkLoaded,this),P.onerror=C(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),O=_.call(O,this._start,D)),P.readAsText(O,this._config.encoding));k||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(P.error)}}function p(A){var P;c.call(this,A=A||{}),this.stream=function(_){return P=_,this._nextChunk()},this._nextChunk=function(){var _,k;if(!this._finished)return _=this._config.chunkSize,P=_?(k=P.substring(0,_),P.substring(_)):(k=P,""),this._finished=!P,this.parseChunk(k)}}function v(A){c.call(this,A=A||{});var P=[],_=!0,k=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):_=!0},this._streamData=C(function(O){try{P.push(typeof O=="string"?O:O.toString(this._config.encoding)),_&&(_=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(D){this._streamError(D)}},this),this._streamError=C(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=C(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(A){var P,_,k,O,D=Math.pow(2,53),B=-D,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,L=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,R=this,V=0,U=0,q=!1,M=!1,G=[],W={data:[],errors:[],meta:{}};function J(re){return A.skipEmptyLines==="greedy"?re.join("").trim()==="":re.length===1&&re[0].length===0}function te(){if(W&&k&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),k=!1),A.skipEmptyLines&&(W.data=W.data.filter(function(ne){return!J(ne)})),H()){let ne=function(le,ge){E(A.transformHeader)&&(le=A.transformHeader(le,ge)),G.push(le)};if(W)if(Array.isArray(W.data[0])){for(var re=0;H()&&re<W.data.length;re++)W.data[re].forEach(ne);W.data.splice(0,1)}else W.data.forEach(ne)}function Q(ne,le){for(var ge=A.header?{}:[],be=0;be<ne.length;be++){var Pe=be,Ce=ne[be],Ce=((Ue,we)=>(Re=>(A.dynamicTypingFunction&&A.dynamicTyping[Re]===void 0&&(A.dynamicTyping[Re]=A.dynamicTypingFunction(Re)),(A.dynamicTyping[Re]||A.dynamicTyping)===!0))(Ue)?we==="true"||we==="TRUE"||we!=="false"&&we!=="FALSE"&&((Re=>{if($.test(Re)&&(Re=parseFloat(Re),B<Re&&Re<D))return 1})(we)?parseFloat(we):L.test(we)?new Date(we):we===""?null:we):we)(Pe=A.header?be>=G.length?"__parsed_extra":G[be]:Pe,Ce=A.transform?A.transform(Ce,Pe):Ce);Pe==="__parsed_extra"?(ge[Pe]=ge[Pe]||[],ge[Pe].push(Ce)):ge[Pe]=Ce}return A.header&&(be>G.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+be,U+le):be<G.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+be,U+le)),ge}var se;W&&(A.header||A.dynamicTyping||A.transform)&&(se=1,!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(Q),se=W.data.length):W.data=Q(W.data,0),A.header&&W.meta&&(W.meta.fields=G),U+=se)}function H(){return A.header&&G.length===0}function ee(re,Q,se,ne){re={type:re,code:Q,message:se},ne!==void 0&&(re.row=ne),W.errors.push(re)}E(A.step)&&(O=A.step,A.step=function(re){W=re,H()?te():(te(),W.data.length!==0&&(V+=re.data.length,A.preview&&V>A.preview?_.abort():(W.data=W.data[0],O(W,R))))}),this.parse=function(re,Q,se){var ne=A.quoteChar||'"',ne=(A.newline||(A.newline=this.guessLineEndings(re,ne)),k=!1,A.delimiter?E(A.delimiter)&&(A.delimiter=A.delimiter(re),W.meta.delimiter=A.delimiter):((ne=((le,ge,be,Pe,Ce)=>{var Ue,we,Re,ze;Ce=Ce||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var dt=0;dt<Ce.length;dt++){for(var Mt,sn=Ce[dt],Gt=0,Tr=0,de=0,Oe=(Re=void 0,new y({comments:Pe,delimiter:sn,newline:ge,preview:10}).parse(le)),ft=0;ft<Oe.data.length;ft++)be&&J(Oe.data[ft])?de++:(Mt=Oe.data[ft].length,Tr+=Mt,Re===void 0?Re=Mt:0<Mt&&(Gt+=Math.abs(Mt-Re),Re=Mt));0<Oe.data.length&&(Tr/=Oe.data.length-de),(we===void 0||Gt<=we)&&(ze===void 0||ze<Tr)&&1.99<Tr&&(we=Gt,Ue=sn,ze=Tr)}return{successful:!!(A.delimiter=Ue),bestDelimiter:Ue}})(re,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=ne.bestDelimiter:(k=!0,A.delimiter=u.DefaultDelimiter),W.meta.delimiter=A.delimiter),S(A));return A.preview&&A.header&&ne.preview++,P=re,_=new y(ne),W=_.parse(P,Q,se),te(),q?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,_.abort(),P=E(A.chunk)?"":P.substring(_.getCharIndex())},this.resume=function(){R.streamer._halted?(q=!1,R.streamer.parseChunk(P,!0)):setTimeout(R.resume,3)},this.aborted=function(){return M},this.abort=function(){M=!0,_.abort(),W.meta.aborted=!0,E(A.complete)&&A.complete(W),P=""},this.guessLineEndings=function(le,ne){le=le.substring(0,1048576);var ne=new RegExp(m(ne)+"([^]*?)"+m(ne),"gm"),se=(le=le.replace(ne,"")).split("\r"),ne=le.split(`
`),le=1<ne.length&&ne[0].length<se[0].length;if(se.length===1||le)return`
`;for(var ge=0,be=0;be<se.length;be++)se[be][0]===`
`&&ge++;return ge>=se.length/2?`\r
`:"\r"}}function m(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(A){var P=(A=A||{}).delimiter,_=A.newline,k=A.comments,O=A.step,D=A.preview,B=A.fastMode,$=null,L=!1,R=A.quoteChar==null?'"':A.quoteChar,V=R;if(A.escapeChar!==void 0&&(V=A.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),k===P)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=!1),_!==`
`&&_!=="\r"&&_!==`\r
`&&(_=`
`);var U=0,q=!1;this.parse=function(M,G,W){if(typeof M!="string")throw new Error("Input must be a string");var J=M.length,te=P.length,H=_.length,ee=k.length,re=E(O),Q=[],se=[],ne=[],le=U=0;if(!M)return Gt();if(B||B!==!1&&M.indexOf(R)===-1){for(var ge=M.split(_),be=0;be<ge.length;be++){if(ne=ge[be],U+=ne.length,be!==ge.length-1)U+=_.length;else if(W)return Gt();if(!k||ne.substring(0,ee)!==k){if(re){if(Q=[],ze(ne.split(P)),Tr(),q)return Gt()}else ze(ne.split(P));if(D&&D<=be)return Q=Q.slice(0,D),Gt(!0)}}return Gt()}for(var Pe=M.indexOf(P,U),Ce=M.indexOf(_,U),Ue=new RegExp(m(V)+m(R),"g"),we=M.indexOf(R,U);;)if(M[U]===R)for(we=U,U++;;){if((we=M.indexOf(R,we+1))===-1)return W||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:U}),Mt();if(we===J-1)return Mt(M.substring(U,we).replace(Ue,R));if(R===V&&M[we+1]===V)we++;else if(R===V||we===0||M[we-1]!==V){Pe!==-1&&Pe<we+1&&(Pe=M.indexOf(P,we+1));var Re=dt((Ce=Ce!==-1&&Ce<we+1?M.indexOf(_,we+1):Ce)===-1?Pe:Math.min(Pe,Ce));if(M.substr(we+1+Re,te)===P){ne.push(M.substring(U,we).replace(Ue,R)),M[U=we+1+Re+te]!==R&&(we=M.indexOf(R,U)),Pe=M.indexOf(P,U),Ce=M.indexOf(_,U);break}if(Re=dt(Ce),M.substring(we+1+Re,we+1+Re+H)===_){if(ne.push(M.substring(U,we).replace(Ue,R)),sn(we+1+Re+H),Pe=M.indexOf(P,U),we=M.indexOf(R,U),re&&(Tr(),q))return Gt();if(D&&Q.length>=D)return Gt(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:U}),we++}}else if(k&&ne.length===0&&M.substring(U,U+ee)===k){if(Ce===-1)return Gt();U=Ce+H,Ce=M.indexOf(_,U),Pe=M.indexOf(P,U)}else if(Pe!==-1&&(Pe<Ce||Ce===-1))ne.push(M.substring(U,Pe)),U=Pe+te,Pe=M.indexOf(P,U);else{if(Ce===-1)break;if(ne.push(M.substring(U,Ce)),sn(Ce+H),re&&(Tr(),q))return Gt();if(D&&Q.length>=D)return Gt(!0)}return Mt();function ze(de){Q.push(de),le=U}function dt(de){var Oe=0;return Oe=de!==-1&&(de=M.substring(we+1,de))&&de.trim()===""?de.length:Oe}function Mt(de){return W||(de===void 0&&(de=M.substring(U)),ne.push(de),U=J,ze(ne),re&&Tr()),Gt()}function sn(de){U=de,ze(ne),ne=[],Ce=M.indexOf(_,U)}function Gt(de){if(A.header&&!G&&Q.length&&!L){var Oe=Q[0],ft={},pe=new Set(Oe);let tt=!1;for(let It=0;It<Oe.length;It++){let ot=Oe[It];if(ft[ot=E(A.transformHeader)?A.transformHeader(ot,It):ot]){let Er,cr=ft[ot];for(;Er=ot+"_"+cr,cr++,pe.has(Er););pe.add(Er),Oe[It]=Er,ft[ot]++,tt=!0,($=$===null?{}:$)[Er]=ot}else ft[ot]=1,Oe[It]=ot;pe.add(ot)}tt&&console.warn("Duplicate headers found and renamed."),L=!0}return{data:Q,errors:se,meta:{delimiter:P,linebreak:_,aborted:q,truncated:!!de,cursor:le+(G||0),renamedHeaders:$}}}function Tr(){O(Gt()),Q=[],se=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return U}}function x(A){var P=A.data,_=s[P.workerId],k=!1;if(P.error)_.userError(P.error,P.file);else if(P.results&&P.results.data){var O={abort:function(){k=!0,b(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(E(_.userStep)){for(var D=0;D<P.results.data.length&&(_.userStep({data:P.results.data[D],errors:P.results.errors,meta:P.results.meta},O),!k);D++);delete P.results}else E(_.userChunk)&&(_.userChunk(P.results,O,P.file),delete P.results)}P.finished&&!k&&b(P.workerId,P.results)}function b(A,P){var _=s[A];E(_.userComplete)&&_.userComplete(P),_.terminate(),delete s[A]}function w(){throw new Error("Not implemented.")}function S(A){if(typeof A!="object"||A===null)return A;var P,_=Array.isArray(A)?[]:{};for(P in A)_[P]=S(A[P]);return _}function C(A,P){return function(){A.apply(P,arguments)}}function E(A){return typeof A=="function"}return u.parse=function(A,P){var _=(P=P||{}).dynamicTyping||!1;if(E(_)&&(P.dynamicTypingFunction=_,_={}),P.dynamicTyping=_,P.transform=!!E(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return _=null,u.NODE_STREAM_INPUT,typeof A=="string"?(A=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(A),_=new(P.download?d:p)(P)):A.readable===!0&&E(A.read)&&E(A.on)?_=new v(P):(n.File&&A instanceof File||A instanceof Object)&&(_=new f(P)),_.stream(A);(_=(()=>{var k;return!!u.WORKERS_SUPPORTED&&(k=(()=>{var O=n.URL||n.webkitURL||null,D=r.toString();return u.BLOB_URL||(u.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(k=new n.Worker(k)).onmessage=x,k.id=l++,s[k.id]=k)})()).userStep=P.step,_.userChunk=P.chunk,_.userComplete=P.complete,_.userError=P.error,P.step=E(P.step),P.chunk=E(P.chunk),P.complete=E(P.complete),P.error=E(P.error),delete P.worker,_.postMessage({input:A,config:P,workerId:_.id})},u.unparse=function(A,P){var _=!1,k=!0,O=",",D=`\r
`,B='"',$=B+B,L=!1,R=null,V=!1,U=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(G){return P.delimiter.indexOf(G)!==-1}).length||(O=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(_=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(L=P.skipEmptyLines),typeof P.newline=="string"&&(D=P.newline),typeof P.quoteChar=="string"&&(B=P.quoteChar),typeof P.header=="boolean"&&(k=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");R=P.columns}P.escapeChar!==void 0&&($=P.escapeChar+B),P.escapeFormulae instanceof RegExp?V=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(m(B),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return q(null,A,L);if(typeof A[0]=="object")return q(R||Object.keys(A[0]),A,L)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||R),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),q(A.fields||[],A.data||[],L);throw new Error("Unable to serialize unrecognized input");function q(G,W,J){var te="",H=(typeof G=="string"&&(G=JSON.parse(G)),typeof W=="string"&&(W=JSON.parse(W)),Array.isArray(G)&&0<G.length),ee=!Array.isArray(W[0]);if(H&&k){for(var re=0;re<G.length;re++)0<re&&(te+=O),te+=M(G[re],re);0<W.length&&(te+=D)}for(var Q=0;Q<W.length;Q++){var se=(H?G:W[Q]).length,ne=!1,le=H?Object.keys(W[Q]).length===0:W[Q].length===0;if(J&&!H&&(ne=J==="greedy"?W[Q].join("").trim()==="":W[Q].length===1&&W[Q][0].length===0),J==="greedy"&&H){for(var ge=[],be=0;be<se;be++){var Pe=ee?G[be]:be;ge.push(W[Q][Pe])}ne=ge.join("").trim()===""}if(!ne){for(var Ce=0;Ce<se;Ce++){0<Ce&&!le&&(te+=O);var Ue=H&&ee?G[Ce]:Ce;te+=M(W[Q][Ue],Ce)}Q<W.length-1&&(!J||0<se&&!le)&&(te+=D)}}return te}function M(G,W){var J,te;return G==null?"":G.constructor===Date?JSON.stringify(G).slice(1,25):(te=!1,V&&typeof G=="string"&&V.test(G)&&(G="'"+G,te=!0),J=G.toString().replace(U,$),(te=te||_===!0||typeof _=="function"&&_(G,W)||Array.isArray(_)&&_[W]||((H,ee)=>{for(var re=0;re<ee.length;re++)if(-1<H.indexOf(ee[re]))return!0;return!1})(J,u.BAD_DELIMITERS)||-1<J.indexOf(O)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?B+J+B:J)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=y,u.ParserHandle=g,u.NetworkStreamer=d,u.FileStreamer=f,u.StringStreamer=p,u.ReadableStreamStreamer=v,n.jQuery&&((i=n.jQuery).fn.parse=function(A){var P=A.config||{},_=[];return this.each(function(D){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var B=0;B<this.files.length;B++)_.push({file:this.files[B],inputElem:this,instanceConfig:i.extend({},P)})}),k(),this;function k(){if(_.length===0)E(A.complete)&&A.complete();else{var D,B,$,L,R=_[0];if(E(A.before)){var V=A.before(R.file,R.inputElem);if(typeof V=="object"){if(V.action==="abort")return D="AbortError",B=R.file,$=R.inputElem,L=V.reason,void(E(A.error)&&A.error({name:D},B,$,L));if(V.action==="skip")return void O();typeof V.config=="object"&&(R.instanceConfig=i.extend(R.instanceConfig,V.config))}else if(V==="skip")return void O()}var U=R.instanceConfig.complete;R.instanceConfig.complete=function(q){E(U)&&U(q,R.file,R.inputElem),O()},u.parse(R.file,R.instanceConfig)}}function O(){_.splice(0,1),k()}}),o&&(n.onmessage=function(A){A=A.data,u.WORKER_ID===void 0&&A&&(u.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=u.parse(A.input,A.config))&&n.postMessage({workerId:u.WORKER_ID,results:A,finished:!0})}),(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(v.prototype=Object.create(c.prototype)).constructor=v,u})})(Vee);var iIe=Vee.exports;const zee=_t(iIe);function aIe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var oIe=1/0,sIe=17976931348623157e292;function lIe(t){if(!t)return t===0?t:0;if(t=ER(t),t===oIe||t===-1/0){var e=t<0?-1:1;return e*sIe}return t===t?t:0}function uIe(t){var e=lIe(t),r=e%1;return e===e?r?e-r:e:0}var cIe=Math.ceil,dIe=Math.max;function fIe(t,e,r){e===void 0?e=1:e=dIe(uIe(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,a=0,o=Array(cIe(n/e));i<n;)o[a++]=aIe(t,i,i+=e);return o}var hIe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pIe=/^\w*$/;function Uee(t,e){if(Gu(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||dI(t)?!0:pIe.test(t)||!hIe.test(t)||e!=null&&t in Object(e)}var vIe="Expected a function";function N$(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vIe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(N$.Cache||lc),r}N$.Cache=lc;var gIe=500;function mIe(t){var e=N$(t,function(n){return r.size===gIe&&r.clear(),n}),r=e.cache;return e}var yIe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xIe=/\\(\\)?/g,bIe=mIe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yIe,function(r,n,i,a){e.push(i?a.replace(xIe,"$1"):n||r)}),e}),B6=zl?zl.prototype:void 0,V6=B6?B6.toString:void 0;function qee(t){if(typeof t=="string")return t;if(Gu(t))return XZ(t,qee)+"";if(dI(t))return V6?V6.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function wIe(t){return t==null?"":qee(t)}function SIe(t,e){return Gu(t)?t:Uee(t,e)?[t]:bIe(wIe(t))}function Gee(t){if(typeof t=="string"||dI(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Wee(t,e){e=SIe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Gee(e[r++])];return r&&r==n?t:void 0}function z6(t,e,r){var n=t==null?void 0:Wee(t,e);return n===void 0?r:n}function EIe(t){return function(e){return Wee(e,t)}}function AIe(t){return Uee(t)?Dee(Gee(t)):EIe(t)}function CIe(t){return AIe(t)}function TIe(t,e){return t&&t.length?iee(t,CIe(e)):[]}var IIe=Object.defineProperty,X=(t,e)=>IIe(t,"name",{value:e,configurable:!0}),Hee=I.createContext({}),PIe=X(({children:t,isProvided:e,...r})=>{let{replace:n}=ca(),i=X(async l=>{var u;try{return await((u=r.login)==null?void 0:u.call(r,l))}catch(c){return Promise.reject(c)}},"loginFunc"),a=X(async l=>{var u;try{return await((u=r.register)==null?void 0:u.call(r,l))}catch(c){return Promise.reject(c)}},"registerFunc"),o=X(async l=>{var u;try{return await((u=r.logout)==null?void 0:u.call(r,l))}catch(c){return Promise.reject(c)}},"logoutFunc"),s=X(async l=>{var u;try{return await((u=r.checkAuth)==null?void 0:u.call(r,l)),Promise.resolve()}catch(c){return c!=null&&c.redirectPath&&n(c.redirectPath),Promise.reject(c)}},"checkAuthFunc");return I.createElement(Hee.Provider,{value:{...r,login:i,logout:o,checkAuth:s,register:a,isProvided:e}},t)},"LegacyAuthContextProvider"),Yee=I.createContext({}),_Ie=X(({children:t,isProvided:e,...r})=>{let n=X(async u=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,u))}catch(d){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleLogin"),i=X(async u=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,u))}catch(d){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleRegister"),a=X(async u=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,u))}catch(d){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleLogout"),o=X(async u=>{var c;try{let d=await((c=r.check)==null?void 0:c.call(r,u));return Promise.resolve(d)}catch(d){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleCheck"),s=X(async u=>{var c;try{let d=await((c=r.forgotPassword)==null?void 0:c.call(r,u));return Promise.resolve(d)}catch(d){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleForgotPassword"),l=X(async u=>{var c;try{let d=await((c=r.updatePassword)==null?void 0:c.call(r,u));return Promise.resolve(d)}catch(d){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",d),Promise.reject(d)}},"handleUpdatePassword");return I.createElement(Yee.Provider,{value:{...r,login:n,logout:a,check:o,register:i,forgotPassword:s,updatePassword:l,isProvided:e}},t)},"AuthBindingsContextProvider"),hs=X(()=>I.useContext(Hee),"useLegacyAuthContext"),Ks=X(()=>I.useContext(Yee),"useAuthBindingsContext"),Lk=X(t=>t/1e3,"userFriendlySecond"),OIe=X((t,e=r=>r)=>{let[r,...n]=t;return n.map(i=>cCe(hCe(r,i))).map((i,a,o)=>e.call(void 0,i,a,o))},"importCSVMapper"),kIe=X((t="",e)=>{let r=lte(t);return e==="singular"?FA.singular(r):FA.plural(r)},"userFriendlyResourceName");X((t={})=>t!=null&&t.id?{...t,id:decodeURIComponent(t.id)}:t,"handleUseParams");function pl(t,e){return t.findIndex((r,n)=>n<=t.length-e.length&&e.every((i,a)=>t[n+a]===i))}X(pl,"arrayFindIndex");function Xee(t){if(t[0]==="data"){let e=t.slice(1);if(e[2]==="many")e[2]="getMany";else if(e[2]==="infinite")e[2]="list";else if(e[2]==="one")e[2]="detail";else if(e[1]==="custom"){let r={...e[2]};return delete r.method,delete r.url,[e[0],e[1],e[2].method,e[2].url,r]}return e}if(t[0]==="audit"&&t[2]==="list")return["logList",t[1],t[3]];if(t[0]==="access"&&t.length===4)return["useCan",{resource:t[1],action:t[2],...t[3]}];if(t[0]==="auth"){if(pl(t,["auth","login"])!==-1)return["useLogin"];if(pl(t,["auth","logout"])!==-1)return["useLogout"];if(pl(t,["auth","identity"])!==-1)return["getUserIdentity"];if(pl(t,["auth","register"])!==-1)return["useRegister"];if(pl(t,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(pl(t,["auth","check"])!==-1)return["useAuthenticated",t[2]];if(pl(t,["auth","onError"])!==-1)return["useCheckError"];if(pl(t,["auth","permissions"])!==-1)return["usePermissions"];if(pl(t,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return t}X(Xee,"convertToLegacy");var Oo=class{constructor(e=[]){this.segments=[],this.segments=e}key(){return this.segments}legacy(){return Xee(this.segments)}get(e){return e?this.legacy():this.segments}};X(Oo,"BaseKeyBuilder");var uc=class extends Oo{params(e){return new Oo([...this.segments,e])}};X(uc,"ParamsKeyBuilder");var Kee=class extends Oo{id(t){return new uc([...this.segments,t?String(t):void 0])}};X(Kee,"DataIdRequiringKeyBuilder");var Qee=class extends Oo{ids(...t){return new uc([...this.segments,...t.length?[t.map(e=>String(e))]:[]])}};X(Qee,"DataIdsRequiringKeyBuilder");var Jee=class extends Oo{action(t){if(t==="one")return new Kee([...this.segments,t]);if(t==="many")return new Qee([...this.segments,t]);if(["list","infinite"].includes(t))return new uc([...this.segments,t]);throw new Error("Invalid action type")}};X(Jee,"DataResourceKeyBuilder");var Zee=class extends Oo{resource(t){return new Jee([...this.segments,t])}mutation(t){return new uc([...t==="custom"?this.segments:[this.segments[0]],t])}};X(Zee,"DataKeyBuilder");var ete=class extends Oo{action(t){return new uc([...this.segments,t])}};X(ete,"AuthKeyBuilder");var tte=class extends Oo{action(t){return new uc([...this.segments,t])}};X(tte,"AccessResourceKeyBuilder");var rte=class extends Oo{resource(t){return new tte([...this.segments,t])}};X(rte,"AccessKeyBuilder");var nte=class extends Oo{action(t){return new uc([...this.segments,t])}};X(nte,"AuditActionKeyBuilder");var ite=class extends Oo{resource(t){return new nte([...this.segments,t])}action(t){return new uc([...this.segments,t])}};X(ite,"AuditKeyBuilder");var ate=class extends Oo{data(t){return new Zee(["data",t||"default"])}auth(){return new ete(["auth"])}access(){return new rte(["access"])}audit(){return new ite(["audit"])}};X(ate,"KeyBuilder");var Pf=X(()=>new ate([]),"keys"),Ne=X((...t)=>t.find(e=>typeof e<"u"),"pickNotDeprecated");X((t,e,r,n)=>{let i=e||"default",a={all:[i],resourceAll:[i,t||""],list:o=>[...a.resourceAll,"list",{...o,...Ne(r,n)||{}}],many:o=>[...a.resourceAll,"getMany",o==null?void 0:o.map(String),{...Ne(r,n)||{}}].filter(s=>s!==void 0),detail:o=>[...a.resourceAll,"detail",o==null?void 0:o.toString(),{...Ne(r,n)||{}}],logList:o=>["logList",t,o,n].filter(s=>s!==void 0)};return a},"queryKeys");var fI=X(t=>(e,r,n,i)=>{let a=r||"default";return{all:Pf().data(a).get(t),resourceAll:Pf().data(r).resource(e??"").get(t),list:o=>Pf().data(r).resource(e??"").action("list").params({...o,...Ne(n,i)||{}}).get(t),many:o=>Pf().data(r).resource(e??"").action("many").ids(...o??[]).params({...Ne(n,i)||{}}).get(t),detail:o=>Pf().data(r).resource(e??"").action("one").id(o??"").params({...Ne(n,i)||{}}).get(t),logList:o=>[...Pf().audit().resource(e).action("list").params(o).get(t),i].filter(s=>s!==void 0)}},"queryKeysReplacement"),DIe=X((t,e)=>!t||!e?!1:!!t.find(r=>r===e),"hasPermission"),B$=X(t=>t.startsWith(":"),"isParameter"),ig=X(t=>t.split("/").filter(e=>e!==""),"splitToSegments"),MIe=X((t,e)=>{let r=ig(t),n=ig(e);return r.length===n.length},"isSegmentCountsSame"),Wu=X(t=>t.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes"),RIe=X((t,e)=>{let r=Wu(t),n=Wu(e);if(!MIe(r,n))return!1;let i=ig(r);return ig(n).every((a,o)=>B$(a)||a===i[o])},"checkBySegments"),jIe=X((t,e,r)=>{let n=Wu(r||""),i=`${n}${n?"/":""}${t}`;return e==="list"?i=`${i}`:e==="create"?i=`${i}/create`:e==="edit"?i=`${i}/edit/:id`:e==="show"?i=`${i}/show/:id`:e==="clone"&&(i=`${i}/clone/:id`),`/${i.replace(/^\//,"")}`},"getDefaultActionPath"),Ad=X((t,e)=>{var r,n;let i=Ne((r=t.meta)==null?void 0:r.parent,(n=t.options)==null?void 0:n.parent,t.parentName);return i?e.find(a=>(a.identifier??a.name)===i)??{name:i}:void 0},"getParentResource"),ote=X((t,e,r)=>{let n=[],i=Ad(t,e);for(;i;)n.push(i),i=Ad(i,e);if(n.length!==0)return`/${n.reverse().map(a=>{var o;let s=r?((o=a.options)==null?void 0:o.route)??a.name:a.name;return Wu(s)}).join("/")}`},"getParentPrefixForResource"),uo=X((t,e,r)=>{let n=[],i=["list","show","edit","create","clone"],a=ote(t,e,r);return i.forEach(o=>{var s,l;let u=r&&o==="clone"?t.create:t[o],c;typeof u=="function"||r?c=jIe(r?((s=t.meta)==null?void 0:s.route)??((l=t.options)==null?void 0:l.route)??t.name:t.name,o,r?a:void 0):typeof u=="string"?c=u:typeof u=="object"&&(c=u.path),c&&n.push({action:o,resource:t,route:`/${c.replace(/^\//,"")}`})}),n},"getActionRoutesFromResource"),FIe=X(t=>{var e;if(t.length===0)return;if(t.length===1)return t[0];let r=t.map(a=>({...a,splitted:ig(Wu(a.route))})),n=((e=r[0])==null?void 0:e.splitted.length)??0,i=[...r];for(let a=0;a<n;a++){let o=i.filter(s=>!B$(s.splitted[a]));if(o.length!==0){if(o.length===1){i=o;break}i=o}}return i[0]},"pickMatchedRoute"),ste=X((t,e)=>{let r=e.flatMap(i=>uo(i,e)).filter(i=>RIe(t,i.route)),n=FIe(r);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},"matchResourceFromRoute"),LIe=X((t,e)=>{var r;let n,i=ote(t,e,!0);if(i){let a=Ne(t.meta,t.options);n=`${i}/${(a==null?void 0:a.route)??t.name}`}else n=((r=t.options)==null?void 0:r.route)??t.name;return`/${n.replace(/^\//,"")}`},"routeGenerator");X(t=>{var e;let r=[],n={},i={},a,o;for(let s=0;s<t.length;s++){a=t[s];let l=a.route??((e=Ne(a==null?void 0:a.meta,a.options))==null?void 0:e.route)??"";n[l]=a,n[l].children=[],i[a.name]=a,i[a.name].children=[]}for(let s in n)Object.hasOwn(n,s)&&(o=n[s],o.parentName&&i[o.parentName]?i[o.parentName].children.push(o):r.push(o));return r},"createTreeView");var lte=X(t=>(t=t.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),t=t.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),t=t.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),t=t.charAt(0).toUpperCase()+t.slice(1),t),"humanizeString"),ute=X(({children:t})=>I.createElement("div",null,t),"DefaultLayout"),$Ie={icon:I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"refine-logo",id:"refine-default-logo"},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7889 0.422291C12.6627 -0.140764 11.3373 -0.140764 10.2111 0.422291L2.21115 4.42229C0.85601 5.09986 0 6.48491 0 8V16C0 17.5151 0.85601 18.9001 2.21115 19.5777L10.2111 23.5777C11.3373 24.1408 12.6627 24.1408 13.7889 23.5777L21.7889 19.5777C23.144 18.9001 24 17.5151 24 16V8C24 6.48491 23.144 5.09986 21.7889 4.42229L13.7889 0.422291ZM8 8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16V8Z",fill:"currentColor"}),I.createElement("path",{d:"M14 8C14 9.10457 13.1046 10 12 10C10.8954 10 10 9.10457 10 8C10 6.89543 10.8954 6 12 6C13.1046 6 14 6.89543 14 8Z",fill:"currentColor"})),text:"Refine Project"},Yi={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{enabled:!0,interval:1e3},textTransformers:{humanize:lte,plural:FA.plural,singular:FA.singular},disableServerSideValidation:!1,title:$Ie},cc=I.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:ute,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Yi}),NIe=X(({hasDashboard:t,mutationMode:e,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:i,children:a,DashboardPage:o,Title:s,Layout:l=ute,Header:u,Sider:c,Footer:d,OffLayoutArea:f,LoginPage:p=t_e,catchAll:v,liveMode:g="off",onLiveEvent:m,options:y})=>I.createElement(cc.Provider,{value:{__initialized:!0,hasDashboard:t,mutationMode:e,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:s,undoableTimeout:i,Layout:l,Header:u,Sider:c,Footer:d,OffLayoutArea:f,DashboardPage:o,LoginPage:p,catchAll:v,liveMode:g,onLiveEvent:m,options:y}},a),"RefineContextProvider"),BIe=X(({options:t,disableTelemetry:e,liveMode:r,mutationMode:n,reactQueryClientConfig:i,reactQueryDevtoolConfig:a,syncWithLocation:o,undoableTimeout:s,warnWhenUnsavedChanges:l}={})=>{var u,c,d,f,p,v,g,m,y,x,b,w;let S={breadcrumb:t==null?void 0:t.breadcrumb,mutationMode:(t==null?void 0:t.mutationMode)??n??Yi.mutationMode,undoableTimeout:(t==null?void 0:t.undoableTimeout)??s??Yi.undoableTimeout,syncWithLocation:(t==null?void 0:t.syncWithLocation)??o??Yi.syncWithLocation,warnWhenUnsavedChanges:(t==null?void 0:t.warnWhenUnsavedChanges)??l??Yi.warnWhenUnsavedChanges,liveMode:(t==null?void 0:t.liveMode)??r??Yi.liveMode,redirect:{afterCreate:((u=t==null?void 0:t.redirect)==null?void 0:u.afterCreate)??Yi.redirect.afterCreate,afterClone:((c=t==null?void 0:t.redirect)==null?void 0:c.afterClone)??Yi.redirect.afterClone,afterEdit:((d=t==null?void 0:t.redirect)==null?void 0:d.afterEdit)??Yi.redirect.afterEdit},overtime:(t==null?void 0:t.overtime)??Yi.overtime,textTransformers:{humanize:((f=t==null?void 0:t.textTransformers)==null?void 0:f.humanize)??Yi.textTransformers.humanize,plural:((p=t==null?void 0:t.textTransformers)==null?void 0:p.plural)??Yi.textTransformers.plural,singular:((v=t==null?void 0:t.textTransformers)==null?void 0:v.singular)??Yi.textTransformers.singular},disableServerSideValidation:(t==null?void 0:t.disableServerSideValidation)??Yi.disableServerSideValidation,projectId:t==null?void 0:t.projectId,useNewQueryKeys:t==null?void 0:t.useNewQueryKeys,title:{icon:typeof((g=t==null?void 0:t.title)==null?void 0:g.icon)>"u"?Yi.title.icon:(m=t==null?void 0:t.title)==null?void 0:m.icon,text:typeof((y=t==null?void 0:t.title)==null?void 0:y.text)>"u"?Yi.title.text:(x=t==null?void 0:t.title)==null?void 0:x.text}},C=(t==null?void 0:t.disableTelemetry)??e??!1,E={clientConfig:((b=t==null?void 0:t.reactQuery)==null?void 0:b.clientConfig)??i??{},devtoolConfig:((w=t==null?void 0:t.reactQuery)==null?void 0:w.devtoolConfig)??a??{}};return{optionsWithDefaults:S,disableTelemetryWithDefault:C,reactQueryWithDefaults:E}},"handleRefineOptions"),VIe=X(({redirectFromProps:t,action:e,redirectOptions:r})=>{if(t||t===!1)return t;switch(e){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage"),U6=X(async(t,e,r)=>{let n=[];for(let[i,a]of t.entries())try{let o=await a();n.push(e(o,i))}catch(o){n.push(r(o,i))}return n},"sequentialPromises"),Xi=X((t,e=[],r=!1)=>{if(!t)return;if(r)return e.find(a=>Wu(a.route??"")===Wu(t))||e.find(a=>a.name===t);let n=e.find(i=>i.identifier===t);return n||(n=e.find(i=>i.name===t)),n},"pickResource"),or=X((t,e,r)=>{if(e)return e;let n=Xi(t,r),i=Ne(n==null?void 0:n.meta,n==null?void 0:n.options);return i!=null&&i.dataProviderName?i.dataProviderName:"default"},"pickDataProvider"),hI=X(async t=>({data:(await Promise.all(t)).map(e=>e.data)}),"handleMultiple"),zIe=X(t=>{let{pagination:e,cursor:r}=t;if(r!=null&&r.next)return r.next;let n=(e==null?void 0:e.current)||1,i=(e==null?void 0:e.pageSize)||10,a=Math.ceil((t.total||0)/i);return n<a?Number(n)+1:void 0},"getNextPageParam"),UIe=X(t=>{let{pagination:e,cursor:r}=t;if(r!=null&&r.prev)return r.prev;let n=(e==null?void 0:e.current)||1;return n===1?void 0:n-1},"getPreviousPageParam"),qIe=X(t=>{let e=[];return t.forEach(r=>{var n,i;e.push({...r,label:((n=r.meta)==null?void 0:n.label)??((i=r.options)==null?void 0:i.label),route:LIe(r,t),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),e},"legacyResourceTransform"),GIe=X(t=>ig(Wu(t)).flatMap(e=>B$(e)?[e.slice(1)]:[]),"pickRouteParams"),WIe=X((t,e={})=>t.reduce((r,n)=>{let i=e[n];return typeof i<"u"&&(r[n]=i),r},{}),"prepareRouteParams"),Yo=X((t,e={},r={},n={})=>{let i=GIe(t),a=WIe(i,{...e,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...n});return t.replace(/:([^\/]+)/g,(o,s)=>{let l=a[s];return typeof l<"u"?`${l}`:o})},"composeRoute"),Vr=X(()=>{let t=hs(),e=Ks();return e.isProvided?{isLegacy:!1,...e}:t.isProvided?{isLegacy:!0,...t,check:t.checkAuth,onError:t.checkError,getIdentity:t.getUserIdentity}:null},"useActiveAuthProvider"),cte=X(({hasPagination:t,pagination:e,configPagination:r}={})=>{let n=t===!1?"off":"server",i=(e==null?void 0:e.mode)??n,a=Ne(e==null?void 0:e.current,r==null?void 0:r.current)??1,o=Ne(e==null?void 0:e.pageSize,r==null?void 0:r.pageSize)??10;return{current:a,pageSize:o,mode:i}},"handlePaginationParams"),q6=X(t=>{let[e,r]=j.useState(!1);return j.useEffect(()=>{let n=window.matchMedia(t);n.matches!==e&&r(n.matches);let i=X(()=>r(n.matches),"listener");return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e,t]),e},"useMediaQuery"),$k=X((t,e,r,n)=>{let i=n?t(e,n,r):t(e,r);return i===e||typeof i>"u"?r??e:i},"safeTranslate");function dte(t,e,r,n,i){var a;let o={create:"Create new ",clone:`#${n??""} Clone `,edit:`#${n??""} Edit `,show:`#${n??""} Show `,list:""},s=(e==null?void 0:e.identifier)??(e==null?void 0:e.name),l=(e==null?void 0:e.label)??((a=e==null?void 0:e.meta)==null?void 0:a.label)??kIe(s,r==="list"?"plural":"singular"),u=i??l,c=$k(t,"documentTitle.default","Refine"),d=$k(t,"documentTitle.suffix"," | Refine"),f=c;return r&&s&&(f=$k(t,`documentTitle.${s}.${r}`,`${o[r]??""}${u}${d}`,{id:n})),f}X(dte,"generateDefaultDocumentTitle");var tp=X((t,e)=>{let{mutationMode:r,undoableTimeout:n}=j.useContext(cc);return{mutationMode:t??r,undoableTimeout:e??n}},"useMutationMode"),fte=I.createContext({}),HIe=X(({children:t})=>{let[e,r]=j.useState(!1);return I.createElement(fte.Provider,{value:{warnWhen:e,setWarnWhen:r}},t)},"UnsavedWarnContextProvider"),eu=X(()=>{let{warnWhenUnsavedChanges:t}=j.useContext(cc),{warnWhen:e,setWarnWhen:r}=j.useContext(fte);return{warnWhenUnsavedChanges:t,warnWhen:!!e,setWarnWhen:r??(()=>{})}},"useWarnAboutChange"),hte=X(()=>{let{syncWithLocation:t}=j.useContext(cc);return{syncWithLocation:t}},"useSyncWithLocation"),V$=X(()=>{let{Title:t}=j.useContext(cc);return t},"useTitle"),_n=X(()=>{let{Footer:t,Header:e,Layout:r,OffLayoutArea:n,Sider:i,Title:a,hasDashboard:o,mutationMode:s,syncWithLocation:l,undoableTimeout:u,warnWhenUnsavedChanges:c,DashboardPage:d,LoginPage:f,catchAll:p,options:v,__initialized:g}=j.useContext(cc);return{__initialized:g,Footer:t,Header:e,Layout:r,OffLayoutArea:n,Sider:i,Title:a,hasDashboard:o,mutationMode:s,syncWithLocation:l,undoableTimeout:u,warnWhenUnsavedChanges:c,DashboardPage:d,LoginPage:f,catchAll:p,options:v}},"useRefineContext"),dc=X(()=>{let{options:{textTransformers:t}}=_n();return X((e="",r)=>{let n=t.humanize(e);return r==="singular"?t.singular(n):t.plural(n)},"getFriendlyName")},"useUserFriendlyName"),G6=X(t=>typeof t=="object"&&t!==null,"isNested"),YIe=X(t=>Array.isArray(t),"isArray"),PR=X((t,e="")=>G6(t)?Object.keys(t).reduce((r,n)=>{let i=e.length?`${e}.`:"";return G6(t[n])&&Object.keys(t[n]).length&&(YIe(t[n])&&t[n].length?t[n].forEach((a,o)=>{Object.assign(r,PR(a,`${i+n}.${o}`))}):Object.assign(r,PR(t[n],i+n))),r[i+n]=t[n],r},{}):{[e]:t},"flattenObjectKeys"),W6=X(t=>t.split(".").map(e=>Number.isNaN(Number(e))?e:Number(e)),"propertyPathToArray"),XIe=X((t,e,r)=>{if(typeof window>"u")return;let n=new Blob([e],{type:r}),i=document.createElement("a");i.setAttribute("visibility","hidden"),i.download=t;let a=URL.createObjectURL(n);i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>{URL.revokeObjectURL(a)})},"downloadInBrowser"),H6=X(t=>{setTimeout(t,0)},"deferExecution"),KIe=X((t,e=1e3,r)=>{let n=[],i=X(()=>{n.forEach(s=>{var l;return(l=s.reject)==null?void 0:l.call(s,r)}),n=[]},"cancelPrevious"),a=jee((...s)=>{let{resolve:l,reject:u}=n.pop()||{};Promise.resolve(t(...s)).then(l).catch(u)},e),o=X((...s)=>new Promise((l,u)=>{i(),n.push({resolve:l,reject:u}),a(...s)}),"runner");return o.flush=()=>a.flush(),o.cancel=()=>{a.cancel(),i()},o},"asyncDebounce"),Ch=X(t=>{let e={queryKey:t.queryKey,pageParam:t.pageParam};return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>t.signal}),e},"prepareQueryContext"),pte=X(t=>{let{current:e,pageSize:r,sorter:n,sorters:i,filters:a}=Pl.parse(t.substring(1));return{parsedCurrent:e&&Number(e),parsedPageSize:r&&Number(r),parsedSorter:Ne(i,n)??[],parsedFilters:a??[]}},"parseTableParams");X(t=>{let e=Pl.stringify(t);return pte(`/${e}`)},"parseTableParamsFromQuery");var Y6=X(t=>{let e={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:i,filters:a,...o}=t;return Pl.stringify({...o,...r||{},sorters:Ne(i,n),filters:a},e)},"stringifyTableParams"),vte=X((t,e)=>t.operator!=="and"&&t.operator!=="or"&&e.operator!=="and"&&e.operator!=="or"?("field"in t?t.field:void 0)===("field"in e?e.field:void 0)&&t.operator===e.operator:("key"in t?t.key:void 0)===("key"in e?e.key:void 0)&&t.operator===e.operator,"compareFilters"),gte=X((t,e)=>t.field===e.field,"compareSorters"),L1=X((t,e,r=[])=>(e.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&Ul(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),aee(t,e,r,vte).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),"unionFilters"),X6=X((t,e)=>aee(t,e,gte).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),K6=X((t,e)=>[...yv(e,t,vte),...t],"setInitialFilters"),Q6=X((t,e)=>[...yv(e,t,gte),...t],"setInitialSorters"),QIe=X((t,e)=>{if(!e)return;let r=e.find(n=>n.field===t);if(r)return r.order},"getDefaultSortOrder"),JIe=X((t,e,r="eq")=>{let n=e==null?void 0:e.find(i=>{if(i.operator!=="or"&&i.operator!=="and"&&"field"in i){let{operator:a,field:o}=i;return o===t&&a===r}});if(n)return n.value||[]},"getDefaultFilter");X(t=>new Promise((e,r)=>{let n=new FileReader,i=X(()=>{n.result&&(n.removeEventListener("load",i,!1),e(n.result))},"resultHandler");n.addEventListener("load",i,!1),n.readAsDataURL(t.originFileObj),n.onerror=a=>(n.removeEventListener("load",i,!1),r(a))}),"file2Base64");var zr=X(()=>{let{options:{useNewQueryKeys:t}}=_n();return{keys:Pf,preferLegacyKeys:!t}},"useKeys");function ZIe({v3LegacyAuthProviderCompatible:t=!1,options:e,params:r}={}){let{getPermissions:n}=hs(),{getPermissions:i}=Ks(),{keys:a,preferLegacyKeys:o}=zr(),s=os({queryKey:a().auth().action("permissions").get(o),queryFn:i?()=>i(r):()=>Promise.resolve(void 0),enabled:!t&&!!i,...t?{}:e,meta:{...t?{}:e==null?void 0:e.meta,...ur()}}),l=os({queryKey:[...a().auth().action("permissions").get(o),"v3LegacyAuthProviderCompatible"],queryFn:n?()=>n(r):()=>Promise.resolve(void 0),enabled:t&&!!n,...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?l:s}X(ZIe,"usePermissions");function ua({v3LegacyAuthProviderCompatible:t=!1,queryOptions:e}={}){let{getUserIdentity:r}=hs(),{getIdentity:n}=Ks(),{keys:i,preferLegacyKeys:a}=zr(),o=os({queryKey:i().auth().action("identity").get(a),queryFn:n??(()=>Promise.resolve({})),enabled:!t&&!!n,retry:!1,...t===!0?{}:e,meta:{...t===!0?{}:e==null?void 0:e.meta,...ur()}}),s=os({queryKey:[...i().auth().action("identity").get(a),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:t&&!!r,retry:!1,...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?s:o}X(ua,"useGetIdentity");var z$=X(()=>{let t=Jl(),{keys:e,preferLegacyKeys:r}=zr();return X(async()=>{await Promise.all(["check","identity","permissions"].map(n=>t.invalidateQueries(e().auth().action(n).get(r))))},"invalidate")},"useInvalidateAuthStore");function ag({v3LegacyAuthProviderCompatible:t,mutationOptions:e}={}){let r=z$(),n=Zt(),i=Ni(),{push:a}=ca(),{open:o,close:s}=rp(),{logout:l}=hs(),{logout:u}=Ks(),{keys:c,preferLegacyKeys:d}=zr(),f=Ln({mutationKey:c().auth().action("logout").get(d),mutationFn:u,onSuccess:async(v,g)=>{let{success:m,error:y,redirectTo:x,successNotification:b}=v,{redirectPath:w}=g??{},S=w??x;m&&(s==null||s("useLogout-error"),b&&(o==null||o(ePe(b)))),(y||!m)&&(o==null||o(Nk(y))),S!==!1&&(n==="legacy"?a(S??"/login"):S&&i({to:S})),await r()},onError:v=>{o==null||o(Nk(v))},...t===!0?{}:e,meta:{...t===!0?{}:e==null?void 0:e.meta,...ur()}}),p=Ln({mutationKey:[...c().auth().action("logout").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:l,onSuccess:async(v,g)=>{let m=(g==null?void 0:g.redirectPath)??v;if(m!==!1){if(m){n==="legacy"?a(m):i({to:m});return}n==="legacy"?a("/login"):i({to:"/login"}),await r()}},onError:v=>{o==null||o(Nk(v))},...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?p:f}X(ag,"useLogout");var Nk=X(t=>({key:"useLogout-error",type:"error",message:(t==null?void 0:t.name)||"Logout Error",description:(t==null?void 0:t.message)||"Something went wrong during logout"}),"buildNotification"),ePe=X(t=>({message:t.message,description:t.description,key:"logout-success",type:"success"}),"buildSuccessNotification");function Kb({v3LegacyAuthProviderCompatible:t,mutationOptions:e}={}){let r=z$(),n=Zt(),i=Ni(),{replace:a}=ca(),o=Ca(),{useLocation:s}=Kr(),{search:l}=s(),{close:u,open:c}=rp(),{login:d}=hs(),{login:f}=Ks(),{keys:p,preferLegacyKeys:v}=zr(),g=I.useMemo(()=>{var x;return n==="legacy"?Pl.parse(l,{ignoreQueryPrefix:!0}).to:(x=o.params)==null?void 0:x.to},[n,o.params,l]),m=Ln({mutationKey:p().auth().action("login").get(v),mutationFn:f,onSuccess:async({success:x,redirectTo:b,error:w,successNotification:S})=>{x&&(u==null||u("login-error"),S&&(c==null||c(tPe(S)))),(w||!x)&&(c==null||c(Bk(w))),g&&x?n==="legacy"?a(g):i({to:g,type:"replace"}):b?n==="legacy"?a(b):i({to:b,type:"replace"}):n==="legacy"&&a("/"),setTimeout(()=>{r()},32)},onError:x=>{c==null||c(Bk(x))},...t===!0?{}:e,meta:{...t===!0?{}:e==null?void 0:e.meta,...ur()}}),y=Ln({mutationKey:[...p().auth().action("login").get(v),"v3LegacyAuthProviderCompatible"],mutationFn:d,onSuccess:async x=>{g&&a(g),x!==!1&&!g&&(typeof x=="string"?n==="legacy"?a(x):i({to:x,type:"replace"}):n==="legacy"?a("/"):i({to:"/",type:"replace"})),setTimeout(()=>{r()},32),u==null||u("login-error")},onError:x=>{c==null||c(Bk(x))},...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?y:m}X(Kb,"useLogin");var Bk=X(t=>({message:(t==null?void 0:t.name)||"Login Error",description:(t==null?void 0:t.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),tPe=X(t=>({message:t.message,description:t.description,key:"login-success",type:"success"}),"buildSuccessNotification");function U$({v3LegacyAuthProviderCompatible:t,mutationOptions:e}={}){let r=z$(),n=Zt(),i=Ni(),{replace:a}=ca(),{register:o}=hs(),{register:s}=Ks(),{close:l,open:u}=rp(),{keys:c,preferLegacyKeys:d}=zr(),f=Ln({mutationKey:c().auth().action("register").get(d),mutationFn:s,onSuccess:async({success:v,redirectTo:g,error:m,successNotification:y})=>{v&&(l==null||l("register-error"),y&&(u==null||u(rPe(y))),await r()),(m||!v)&&(u==null||u(Vk(m))),g?n==="legacy"?a(g):i({to:g,type:"replace"}):n==="legacy"&&a("/")},onError:v=>{u==null||u(Vk(v))},...t===!0?{}:e,meta:{...t===!0?{}:e==null?void 0:e.meta,...ur()}}),p=Ln({mutationKey:[...c().auth().action("register").get(d),"v3LegacyAuthProviderCompatible"],mutationFn:o,onSuccess:async v=>{v!==!1&&(v?n==="legacy"?a(v):i({to:v,type:"replace"}):n==="legacy"?a("/"):i({to:"/",type:"replace"}),await r(),l==null||l("register-error"))},onError:v=>{u==null||u(Vk(v))},...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?p:f}X(U$,"useRegister");var Vk=X(t=>({message:(t==null?void 0:t.name)||"Register Error",description:(t==null?void 0:t.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),rPe=X(t=>({message:t.message,description:t.description,key:"register-success",type:"success"}),"buildSuccessNotification");function q$({v3LegacyAuthProviderCompatible:t,mutationOptions:e}={}){let r=Zt(),n=Ni(),{replace:i}=ca(),{forgotPassword:a}=hs(),{forgotPassword:o}=Ks(),{close:s,open:l}=rp(),{keys:u,preferLegacyKeys:c}=zr(),d=Ln({mutationKey:u().auth().action("forgotPassword").get(c),mutationFn:o,onSuccess:({success:p,redirectTo:v,error:g,successNotification:m})=>{p&&(s==null||s("forgot-password-error"),m&&(l==null||l(nPe(m)))),(g||!p)&&(l==null||l(zk(g))),v&&(r==="legacy"?i(v):n({to:v,type:"replace"}))},onError:p=>{l==null||l(zk(p))},...t===!0?{}:e,meta:{...t===!0?{}:e==null?void 0:e.meta,...ur()}}),f=Ln({mutationKey:[...u().auth().action("forgotPassword").get(c),"v3LegacyAuthProviderCompatible"],mutationFn:a,onSuccess:p=>{p!==!1&&p&&(r==="legacy"?i(p):n({to:p,type:"replace"})),s==null||s("forgot-password-error")},onError:p=>{l==null||l(zk(p))},...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?f:d}X(q$,"useForgotPassword");var zk=X(t=>({message:(t==null?void 0:t.name)||"Forgot Password Error",description:(t==null?void 0:t.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),nPe=X(t=>({message:t.message,description:t.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");function G$({v3LegacyAuthProviderCompatible:t,mutationOptions:e}={}){let r=Zt(),n=Ni(),{replace:i}=ca(),{updatePassword:a}=hs(),{updatePassword:o}=Ks(),{close:s,open:l}=rp(),{keys:u,preferLegacyKeys:c}=zr(),d=Ca(),{useLocation:f}=Kr(),{search:p}=f(),v=I.useMemo(()=>r==="legacy"?Pl.parse(p,{ignoreQueryPrefix:!0})??{}:d.params??{},[p,d,r]),g=Ln({mutationKey:u().auth().action("updatePassword").get(c),mutationFn:async y=>o==null?void 0:o({...v,...y}),onSuccess:({success:y,redirectTo:x,error:b,successNotification:w})=>{y&&(s==null||s("update-password-error"),w&&(l==null||l(iPe(w)))),(b||!y)&&(l==null||l(Uk(b))),x&&(r==="legacy"?i(x):n({to:x,type:"replace"}))},onError:y=>{l==null||l(Uk(y))},...t===!0?{}:e,meta:{...t===!0?{}:e==null?void 0:e.meta,...ur()}}),m=Ln({mutationKey:[...u().auth().action("updatePassword").get(c),"v3LegacyAuthProviderCompatible"],mutationFn:async y=>a==null?void 0:a({...v,...y}),onSuccess:y=>{y!==!1&&y&&(r==="legacy"?i(y):n({to:y,type:"replace"})),s==null||s("update-password-error")},onError:y=>{l==null||l(Uk(y))},...t?e:{},meta:{...t?e==null?void 0:e.meta:{},...ur()}});return t?m:g}X(G$,"useUpdatePassword");var Uk=X(t=>({message:(t==null?void 0:t.name)||"Update Password Error",description:(t==null?void 0:t.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),iPe=X(t=>({message:t.message,description:t.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");function mte({v3LegacyAuthProviderCompatible:t=!1,params:e}={}){let{checkAuth:r}=hs(),{check:n}=Ks(),{keys:i,preferLegacyKeys:a}=zr(),o=os({queryKey:i().auth().action("check").params(e).get(a),queryFn:async()=>await(n==null?void 0:n(e))??{},retry:!1,enabled:!t,meta:{...ur()}}),s=os({queryKey:[...i().auth().action("check").params(e).get(a),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(e))??{},retry:!1,enabled:t,meta:{...ur()}});return t?s:o}X(mte,"useIsAuthenticated");function ps({v3LegacyAuthProviderCompatible:t=!1}={}){let e=Zt(),r=Ni(),{replace:n}=ca(),{checkError:i}=hs(),{onError:a}=Ks(),{keys:o,preferLegacyKeys:s}=zr(),{mutate:l}=ag({v3LegacyAuthProviderCompatible:!!t}),{mutate:u}=ag({v3LegacyAuthProviderCompatible:!!t}),c=Ln({mutationKey:o().auth().action("onError").get(s),...a?{mutationFn:a,onSuccess:({logout:f,redirectTo:p})=>{if(f){u({redirectPath:p});return}if(p){e==="legacy"?n(p):r({to:p,type:"replace"});return}}}:{mutationFn:()=>({})},meta:{...ur()}}),d=Ln({mutationKey:[...o().auth().action("onError").get(s),"v3LegacyAuthProviderCompatible"],mutationFn:i,onError:f=>{l({redirectPath:f})},meta:{...ur()}});return t?d:c}X(ps,"useOnError");var pI=X(()=>{let{isProvided:t}=hs(),{isProvided:e}=Ks();return!!(e||t)},"useIsExistAuthentication"),Qa=X(({enabled:t,isLoading:e,interval:r,onInterval:n})=>{let[i,a]=j.useState(void 0),{options:o}=_n(),{overtime:s}=o,l=r??s.interval,u=n??(s==null?void 0:s.onInterval),c=typeof t<"u"?t:typeof s.enabled<"u"?s.enabled:!0;return j.useEffect(()=>{let d;return c&&e&&(d=setInterval(()=>{a(f=>f===void 0?l:f+l)},l)),()=>{typeof d<"u"&&clearInterval(d),a(void 0)}},[e,l,c]),j.useEffect(()=>{u&&i&&u(i)},[i]),{elapsedTime:i}},"useLoadingOvertime"),yte=X(({resource:t,config:e,filters:r,hasPagination:n,pagination:i,sorters:a,queryOptions:o,successNotification:s,errorNotification:l,meta:u,metaData:c,liveMode:d,onLiveEvent:f,liveParams:p,dataProviderName:v,overtimeOptions:g}={})=>{let{resources:m,resource:y,identifier:x}=er(t),b=Ja(),w=yt(),S=Vr(),{mutate:C}=ps({v3LegacyAuthProviderCompatible:!!(S!=null&&S.isLegacy)}),E=vs(),A=bi(),{keys:P,preferLegacyKeys:_}=zr(),k=or(x,v,m),O=Ne(u,c),D=Ne(r,e==null?void 0:e.filters),B=Ne(a,e==null?void 0:e.sort),$=Ne(n,e==null?void 0:e.hasPagination),L=cte({pagination:i,configPagination:e==null?void 0:e.pagination,hasPagination:$}),R=L.mode==="server",V=A({resource:y,meta:O}),U={meta:V,metaData:V,filters:D,hasPagination:R,pagination:L,sorters:B,config:{...e,sort:B}},q=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,{getList:M}=b(k);vI({resource:x,types:["*"],params:{meta:V,metaData:V,pagination:L,hasPagination:R,sort:B,sorters:B,filters:D,subscriptionType:"useList",...p},channel:`resources/${y==null?void 0:y.name}`,enabled:q,liveMode:d,onLiveEvent:f,dataProviderName:k,meta:{...u,dataProviderName:v}});let G=os({queryKey:P().data(k).resource(x??"").action("list").params({...O||{},filters:D,hasPagination:R,...R&&{pagination:L},...a&&{sorters:a},...(e==null?void 0:e.sort)&&{sort:e==null?void 0:e.sort}}).get(_),queryFn:J=>{let te={...V,queryContext:Ch(J)};return M({resource:(y==null?void 0:y.name)??"",pagination:L,hasPagination:R,filters:D,sort:B,sorters:B,meta:te,metaData:te})},...o,enabled:typeof(o==null?void 0:o.enabled)<"u"?o==null?void 0:o.enabled:!!(y!=null&&y.name),select:J=>{var te;let H=J,{current:ee,mode:re,pageSize:Q}=L;return re==="client"&&(H={...H,data:H.data.slice((ee-1)*Q,ee*Q),total:H.total}),o!=null&&o.select?(te=o==null?void 0:o.select)==null?void 0:te.call(o,H):H},onSuccess:J=>{var te;(te=o==null?void 0:o.onSuccess)==null||te.call(o,J);let H=typeof s=="function"?s(J,U,x):s;E(H)},onError:J=>{var te;C(J),(te=o==null?void 0:o.onError)==null||te.call(o,J);let H=typeof l=="function"?l(J,U,x):l;E(H,{key:`${x}-useList-notification`,message:w("notifications.error",{statusCode:J.statusCode},`Error (status code: ${J.statusCode})`),description:J.message,type:"error"})},meta:{...o==null?void 0:o.meta,...ur("useList",_,y==null?void 0:y.name)}}),{elapsedTime:W}=Qa({...g,isLoading:G.isFetching});return{...G,overtime:{elapsedTime:W}}},"useList"),xte=X(({resource:t,id:e,queryOptions:r,successNotification:n,errorNotification:i,meta:a,metaData:o,liveMode:s,onLiveEvent:l,liveParams:u,dataProviderName:c,overtimeOptions:d})=>{let{resources:f,resource:p,identifier:v}=er(t),g=Ja(),m=yt(),y=Vr(),{mutate:x}=ps({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),b=vs(),w=bi(),{keys:S,preferLegacyKeys:C}=zr(),E=Ne(a,o),A=or(v,c,f),{getOne:P}=g(A),_=w({resource:p,meta:E});vI({resource:v,types:["*"],channel:`resources/${p==null?void 0:p.name}`,params:{ids:e?[e]:[],id:e,meta:_,metaData:_,subscriptionType:"useOne",...u},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(p==null?void 0:p.name)<"u"&&typeof e<"u",liveMode:s,onLiveEvent:l,dataProviderName:A,meta:{...a,dataProviderName:c}});let k=os({queryKey:S().data(A).resource(v??"").action("one").id(e??"").params({...E||{}}).get(C),queryFn:D=>P({resource:(p==null?void 0:p.name)??"",id:e,meta:{..._,queryContext:Ch(D)},metaData:{..._,queryContext:Ch(D)}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u",onSuccess:D=>{var B;(B=r==null?void 0:r.onSuccess)==null||B.call(r,D);let $=typeof n=="function"?n(D,{id:e,..._},v):n;b($)},onError:D=>{var B;x(D),(B=r==null?void 0:r.onError)==null||B.call(r,D);let $=typeof i=="function"?i(D,{id:e,..._},v):i;b($,{key:`${e}-${v}-getOne-notification`,message:m("notifications.error",{statusCode:D.statusCode},`Error (status code: ${D.statusCode})`),description:D.message,type:"error"})},meta:{...r==null?void 0:r.meta,...ur("useOne",C,p==null?void 0:p.name)}}),{elapsedTime:O}=Qa({...d,isLoading:k.isFetching});return{...k,overtime:{elapsedTime:O}}},"useOne"),aPe=X(({resource:t,ids:e,queryOptions:r,successNotification:n,errorNotification:i,meta:a,metaData:o,liveMode:s,onLiveEvent:l,liveParams:u,dataProviderName:c,overtimeOptions:d})=>{let{resources:f,resource:p,identifier:v}=er(t),g=Ja(),m=yt(),y=Vr(),{mutate:x}=ps({v3LegacyAuthProviderCompatible:!!(y!=null&&y.isLegacy)}),b=vs(),w=bi(),{keys:S,preferLegacyKeys:C}=zr(),E=Ne(a,o),A=or(v,c,f),P=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:_,getOne:k}=g(A),O=w({resource:p,meta:E}),D=Array.isArray(e),B=!!(p!=null&&p.name),$=(r==null?void 0:r.enabled)===!0;Ul(!D&&!$,oPe(e,p==null?void 0:p.name)),Ul(!B&&!$,sPe()),vI({resource:v,types:["*"],params:{ids:e??[],meta:O,metaData:O,subscriptionType:"useMany",...u},channel:`resources/${(p==null?void 0:p.name)??""}`,enabled:P,liveMode:s,onLiveEvent:l,dataProviderName:A,meta:{...a,dataProviderName:c}});let L=os({queryKey:S().data(A).resource(v).action("many").ids(...e??[]).params({...E||{}}).get(C),queryFn:V=>{let U={...O,queryContext:Ch(V)};return _?_({resource:p==null?void 0:p.name,ids:e,meta:U,metaData:U}):hI(e.map(q=>k({resource:p==null?void 0:p.name,id:q,meta:U,metaData:U})))},enabled:D&&B,...r,onSuccess:V=>{var U;(U=r==null?void 0:r.onSuccess)==null||U.call(r,V);let q=typeof n=="function"?n(V,e,v):n;b(q)},onError:V=>{var U;x(V),(U=r==null?void 0:r.onError)==null||U.call(r,V);let q=typeof i=="function"?i(V,e,v):i;b(q,{key:`${e[0]}-${v}-getMany-notification`,message:m("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...r==null?void 0:r.meta,...ur("useMany",C,p==null?void 0:p.name)}}),{elapsedTime:R}=Qa({...d,isLoading:L.isFetching});return{...L,overtime:{elapsedTime:R}}},"useMany"),oPe=X((t,e)=>`[useMany]: Missing "ids" prop. Expected an array of ids, but got "${typeof t}". Resource: "${e}"

See https://refine.dev/docs/data/hooks/use-many/#ids-`,"idsWarningMessage"),sPe=X(()=>`[useMany]: Missing "resource" prop. Expected a string, but got undefined.

See https://refine.dev/docs/data/hooks/use-many/#resource-`,"resourceWarningMessage"),lPe=(t=>(t.ADD="ADD",t.REMOVE="REMOVE",t.DECREASE_NOTIFICATION_SECOND="DECREASE_NOTIFICATION_SECOND",t))(lPe||{}),uPe=X(({id:t,resource:e,values:r,dataProviderName:n,successNotification:i,errorNotification:a,meta:o,metaData:s,mutationMode:l,undoableTimeout:u,onCancel:c,optimisticUpdateMap:d,invalidates:f,mutationOptions:p,overtimeOptions:v}={})=>{let{resources:g,select:m}=er(),y=Jl(),x=Ja(),{mutationMode:b,undoableTimeout:w}=tp(),S=yt(),C=Vr(),{mutate:E}=ps({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),A=dm(),{log:P}=hm(),{notificationDispatch:_}=ew(),k=vs(),O=Qs(),D=bi(),{options:{textTransformers:B}}=_n(),{keys:$,preferLegacyKeys:L}=zr(),R=Ln({mutationFn:({id:G=t,values:W=r,resource:J=e,mutationMode:te=l,undoableTimeout:H=u,onCancel:ee=c,meta:re=o,metaData:Q=s,dataProviderName:se=n})=>{if(typeof G>"u")throw vy;if(!W)throw $1;if(!J)throw py;let{resource:ne,identifier:le}=m(J),ge=D({resource:ne,meta:Ne(re,Q)}),be=te??b,Pe=H??w;return be!=="undoable"?x(or(le,se,g)).update({resource:ne.name,id:G,variables:W,meta:ge,metaData:ge}):new Promise((Ce,Ue)=>{let we=X(()=>{x(or(le,se,g)).update({resource:ne.name,id:G,variables:W,meta:ge,metaData:ge}).then(ze=>Ce(ze)).catch(ze=>Ue(ze))},"doMutation"),Re=X(()=>{Ue({message:"mutationCancelled"})},"cancelMutation");ee&&ee(Re),_({type:"ADD",payload:{id:G,resource:le,cancelMutation:Re,doMutation:we,seconds:Pe,isSilent:!!ee}})})},onMutate:async({resource:G=e,id:W=t,mutationMode:J=l,values:te=r,dataProviderName:H=n,meta:ee=o,metaData:re=s,optimisticUpdateMap:Q=d??{list:!0,many:!0,detail:!0}})=>{if(typeof W>"u")throw vy;if(!te)throw $1;if(!G)throw py;let{identifier:se}=m(G),{gqlMutation:ne,gqlQuery:le,...ge}=Ne(ee,re)??{},be=fI(L)(se,or(se,H,g),ge),Pe=$().data(or(se,H,g)).resource(se),Ce=y.getQueriesData(Pe.get(L)),Ue=J??b;return await y.cancelQueries(Pe.get(L),void 0,{silent:!0}),Ue!=="pessimistic"&&(Q.list&&y.setQueriesData(Pe.action("list").params(ge??{}).get(L),we=>{if(typeof Q.list=="function")return Q.list(we,te,W);if(!we)return null;let Re=we.data.map(ze=>{var dt;return((dt=ze.id)==null?void 0:dt.toString())===(W==null?void 0:W.toString())?{id:W,...ze,...te}:ze});return{...we,data:Re}}),Q.many&&y.setQueriesData(Pe.action("many").get(L),we=>{if(typeof Q.many=="function")return Q.many(we,te,W);if(!we)return null;let Re=we.data.map(ze=>{var dt;return((dt=ze.id)==null?void 0:dt.toString())===(W==null?void 0:W.toString())&&(ze={id:W,...ze,...te}),ze});return{...we,data:Re}}),Q.detail&&y.setQueriesData(Pe.action("one").id(W).params(ge??{}).get(L),we=>typeof Q.detail=="function"?Q.detail(we,te,W):we?{...we,data:{...we.data,...te}}:null)),{previousQueries:Ce,queryKey:be}},onSettled:(G,W,J,te)=>{var H;let{id:ee=t,resource:re=e,dataProviderName:Q=n,invalidates:se=f??["list","many","detail"]}=J;if(typeof ee>"u")throw vy;if(!re)throw py;let{identifier:ne}=m(re);O({resource:ne,dataProviderName:or(ne,Q,g),invalidates:se,id:ee}),_({type:"REMOVE",payload:{id:ee,resource:ne}}),(H=p==null?void 0:p.onSettled)==null||H.call(p,G,W,J,te)},onSuccess:(G,W,J)=>{var te,H;let{id:ee=t,resource:re=e,successNotification:Q=i,dataProviderName:se=n,values:ne=r,meta:le=o,metaData:ge=s}=W;if(typeof ee>"u")throw vy;if(!ne)throw $1;if(!re)throw py;let{resource:be,identifier:Pe}=m(re),Ce=B.singular(Pe),Ue=or(Pe,se,g),we=D({resource:be,meta:Ne(le,ge)}),Re=typeof Q=="function"?Q(G,{id:ee,values:ne},Pe):Q;k(Re,{key:`${ee}-${Pe}-notification`,description:S("notifications.success","Successful"),message:S("notifications.editSuccess",{resource:S(`${Pe}.${Pe}`,Ce)},`Successfully updated ${Ce}`),type:"success"}),A==null||A({channel:`resources/${be.name}`,type:"updated",payload:{ids:(te=G.data)!=null&&te.id?[G.data.id]:void 0},date:new Date,meta:{...we,dataProviderName:Ue}});let ze;if(J){let Tr=y.getQueryData(J.queryKey.detail(ee));ze=Object.keys(ne||{}).reduce((de,Oe)=>{var ft;return de[Oe]=(ft=Tr==null?void 0:Tr.data)==null?void 0:ft[Oe],de},{})}let{fields:dt,operation:Mt,variables:sn,...Gt}=we||{};P==null||P.mutate({action:"update",resource:be.name,data:ne,previousData:ze,meta:{id:ee,dataProviderName:Ue,...Gt}}),(H=p==null?void 0:p.onSuccess)==null||H.call(p,G,W,J)},onError:(G,W,J)=>{var te;let{id:H=t,resource:ee=e,errorNotification:re=a,values:Q=r}=W;if(typeof H>"u")throw vy;if(!Q)throw $1;if(!ee)throw py;let{identifier:se}=m(ee);if(J)for(let ne of J.previousQueries)y.setQueryData(ne[0],ne[1]);if(G.message!=="mutationCancelled"){E==null||E(G);let ne=B.singular(se),le=typeof re=="function"?re(G,{id:H,values:Q},se):re;k(le,{key:`${H}-${se}-notification`,message:S("notifications.editError",{resource:S(`${se}.${se}`,ne),statusCode:G.statusCode},`Error when updating ${ne} (status code: ${G.statusCode})`),description:G.message,type:"error"})}(te=p==null?void 0:p.onError)==null||te.call(p,G,W,J)},mutationKey:$().data().mutation("update").get(L),...p,meta:{...p==null?void 0:p.meta,...ur()}}),{mutate:V,mutateAsync:U,...q}=R,{elapsedTime:M}=Qa({...v,isLoading:q.isLoading});return{...q,mutate:X((G,W)=>V(G||{},W),"handleMutation"),mutateAsync:X((G,W)=>U(G||{},W),"handleMutateAsync"),overtime:{elapsedTime:M}}},"useUpdate"),py=new Error("[useUpdate]: `resource` is not defined or not matched but is required"),vy=new Error("[useUpdate]: `id` is not defined but is required in edit and clone actions"),$1=new Error("[useUpdate]: `values` is not provided but is required"),bte=X(({resource:t,values:e,dataProviderName:r,successNotification:n,errorNotification:i,invalidates:a,meta:o,metaData:s,mutationOptions:l,overtimeOptions:u}={})=>{let c=Vr(),{mutate:d}=ps({v3LegacyAuthProviderCompatible:!!(c!=null&&c.isLegacy)}),f=Ja(),p=Qs(),{resources:v,select:g}=er(),m=yt(),y=dm(),{log:x}=hm(),b=vs(),w=bi(),{options:{textTransformers:S}}=_n(),{keys:C,preferLegacyKeys:E}=zr(),A=Ln({mutationFn:({resource:D=t,values:B=e,meta:$=o,metaData:L=s,dataProviderName:R=r})=>{if(!B)throw Gk;if(!D)throw qk;let{resource:V,identifier:U}=g(D),q=w({resource:V,meta:Ne($,L)});return f(or(U,R,v)).create({resource:V.name,variables:B,meta:q,metaData:q})},onSuccess:(D,B,$)=>{var L,R,V;let{resource:U=t,successNotification:q=n,dataProviderName:M=r,invalidates:G=a??["list","many"],values:W=e,meta:J=o,metaData:te=s}=B;if(!W)throw Gk;if(!U)throw qk;let{resource:H,identifier:ee}=g(U),re=S.singular(ee),Q=or(ee,M,v),se=w({resource:H,meta:Ne(J,te)}),ne=typeof q=="function"?q(D,W,ee):q;b(ne,{key:`create-${ee}-notification`,message:m("notifications.createSuccess",{resource:m(`${ee}.${ee}`,re)},`Successfully created ${re}`),description:m("notifications.success","Success"),type:"success"}),p({resource:ee,dataProviderName:Q,invalidates:G}),y==null||y({channel:`resources/${H.name}`,type:"created",payload:{ids:(L=D==null?void 0:D.data)!=null&&L.id?[D.data.id]:void 0},date:new Date,meta:{...se,dataProviderName:Q}});let{fields:le,operation:ge,variables:be,...Pe}=se||{};x==null||x.mutate({action:"create",resource:H.name,data:W,meta:{dataProviderName:Q,id:((R=D==null?void 0:D.data)==null?void 0:R.id)??void 0,...Pe}}),(V=l==null?void 0:l.onSuccess)==null||V.call(l,D,B,$)},onError:(D,B,$)=>{var L;let{resource:R=t,errorNotification:V=i,values:U=e}=B;if(!U)throw Gk;if(!R)throw qk;d(D);let{identifier:q}=g(R),M=S.singular(q),G=typeof V=="function"?V(D,U,q):V;b(G,{key:`create-${q}-notification`,description:D.message,message:m("notifications.createError",{resource:m(`${q}.${q}`,M),statusCode:D.statusCode},`There was an error creating ${M} (status code: ${D.statusCode})`),type:"error"}),(L=l==null?void 0:l.onError)==null||L.call(l,D,B,$)},mutationKey:C().data().mutation("create").get(E),...l,meta:{...l==null?void 0:l.meta,...ur()}}),{mutate:P,mutateAsync:_,...k}=A,{elapsedTime:O}=Qa({...u,isLoading:k.isLoading});return{...k,mutate:X((D,B)=>P(D||{},B),"handleMutation"),mutateAsync:X((D,B)=>_(D||{},B),"handleMutateAsync"),overtime:{elapsedTime:O}}},"useCreate"),qk=new Error("[useCreate]: `resource` is not defined or not matched but is required"),Gk=new Error("[useCreate]: `values` is not provided but is required"),cPe=X(({mutationOptions:t,overtimeOptions:e}={})=>{let r=Vr(),{mutate:n}=ps({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=Ja(),{resources:a,select:o}=er(),s=Jl(),{mutationMode:l,undoableTimeout:u}=tp(),{notificationDispatch:c}=ew(),d=yt(),f=dm(),{log:p}=hm(),v=vs(),g=Qs(),m=bi(),{options:{textTransformers:y}}=_n(),{keys:x,preferLegacyKeys:b}=zr(),w=Ln({mutationFn:({id:C,mutationMode:E,undoableTimeout:A,resource:P,onCancel:_,meta:k,metaData:O,dataProviderName:D,values:B})=>{let{resource:$,identifier:L}=o(P),R=m({resource:$,meta:Ne(k,O)}),V=E??l,U=A??u;return V!=="undoable"?i(or(L,D,a)).deleteOne({resource:$.name,id:C,meta:R,metaData:R,variables:B}):new Promise((q,M)=>{let G=X(()=>{i(or(L,D,a)).deleteOne({resource:$.name,id:C,meta:R,metaData:R,variables:B}).then(J=>q(J)).catch(J=>M(J))},"doMutation"),W=X(()=>{M({message:"mutationCancelled"})},"cancelMutation");_&&_(W),c({type:"ADD",payload:{id:C,resource:L,cancelMutation:W,doMutation:G,seconds:U,isSilent:!!_}})})},onMutate:async({id:C,resource:E,mutationMode:A,dataProviderName:P,meta:_,metaData:k})=>{let{identifier:O}=o(E),{gqlMutation:D,gqlQuery:B,...$}=Ne(_,k)??{},L=fI(b)(O,or(O,P,a),$),R=x().data(or(O,P,a)).resource(O),V=A??l;await s.cancelQueries(R.get(b),void 0,{silent:!0});let U=s.getQueriesData(R.get(b));return V!=="pessimistic"&&(s.setQueriesData(R.action("list").params($??{}).get(b),q=>q?{data:q.data.filter(M=>{var G;return((G=M.id)==null?void 0:G.toString())!==C.toString()}),total:q.total-1}:null),s.setQueriesData(R.action("many").get(b),q=>{if(!q)return null;let M=q.data.filter(G=>{var W;return((W=G.id)==null?void 0:W.toString())!==(C==null?void 0:C.toString())});return{...q,data:M}})),{previousQueries:U,queryKey:L}},onSettled:(C,E,{id:A,resource:P,dataProviderName:_,invalidates:k=["list","many"]})=>{let{identifier:O}=o(P);g({resource:O,dataProviderName:or(O,_,a),invalidates:k}),c({type:"REMOVE",payload:{id:A,resource:O}})},onSuccess:(C,{id:E,resource:A,successNotification:P,dataProviderName:_,meta:k,metaData:O},D)=>{let{resource:B,identifier:$}=o(A),L=y.singular($),R=or($,_,a),V=m({resource:B,meta:Ne(k,O)});s.removeQueries(D==null?void 0:D.queryKey.detail(E));let U=typeof P=="function"?P(C,E,$):P;v(U,{key:`${E}-${$}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${$}.${$}`,L)},`Successfully deleted a ${L}`),type:"success"}),f==null||f({channel:`resources/${B.name}`,type:"deleted",payload:{ids:[E]},date:new Date,meta:{...V,dataProviderName:R}});let{fields:q,operation:M,variables:G,...W}=V||{};p==null||p.mutate({action:"delete",resource:B.name,meta:{id:E,dataProviderName:R,...W}}),s.removeQueries(D==null?void 0:D.queryKey.detail(E))},onError:(C,{id:E,resource:A,errorNotification:P},_)=>{let{identifier:k}=o(A);if(_)for(let O of _.previousQueries)s.setQueryData(O[0],O[1]);if(C.message!=="mutationCancelled"){n(C);let O=y.singular(k),D=typeof P=="function"?P(C,E,k):P;v(D,{key:`${E}-${k}-notification`,message:d("notifications.deleteError",{resource:O,statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}},mutationKey:x().data().mutation("delete").get(b),...t,meta:{...t==null?void 0:t.meta,...ur()}}),{elapsedTime:S}=Qa({...e,isLoading:w.isLoading});return{...w,overtime:{elapsedTime:S}}},"useDelete"),dPe=X(({resource:t,values:e,dataProviderName:r,successNotification:n,errorNotification:i,meta:a,metaData:o,invalidates:s,mutationOptions:l,overtimeOptions:u}={})=>{let c=Ja(),{resources:d,select:f}=er(),p=yt(),v=dm(),g=vs(),m=Qs(),{log:y}=hm(),x=bi(),{options:{textTransformers:b}}=_n(),{keys:w,preferLegacyKeys:S}=zr(),C=Ln({mutationFn:({resource:k=t,values:O=e,meta:D=a,metaData:B=o,dataProviderName:$=r})=>{if(!O)throw Hk;if(!k)throw Wk;let{resource:L,identifier:R}=f(k),V=x({resource:L,meta:Ne(D,B)}),U=c(or(R,$,d));return U.createMany?U.createMany({resource:L.name,variables:O,meta:V,metaData:V}):hI(O.map(q=>U.create({resource:L.name,variables:q,meta:V,metaData:V})))},onSuccess:(k,O,D)=>{var B;let{resource:$=t,successNotification:L=n,dataProviderName:R=r,invalidates:V=s??["list","many"],values:U=e,meta:q=a,metaData:M=o}=O;if(!U)throw Hk;if(!$)throw Wk;let{resource:G,identifier:W}=f($),J=b.plural(W),te=or(W,R,d),H=x({resource:G,meta:Ne(q,M)}),ee=typeof L=="function"?L(k,U,W):L;g(ee,{key:`createMany-${W}-notification`,message:p("notifications.createSuccess",{resource:p(`${W}.${W}`,W)},`Successfully created ${J}`),description:p("notifications.success","Success"),type:"success"}),m({resource:W,dataProviderName:te,invalidates:V});let re=k==null?void 0:k.data.filter(ge=>(ge==null?void 0:ge.id)!==void 0).map(ge=>ge.id);v==null||v({channel:`resources/${G.name}`,type:"created",payload:{ids:re},date:new Date,meta:{...H,dataProviderName:te}});let{fields:Q,operation:se,variables:ne,...le}=H||{};y==null||y.mutate({action:"createMany",resource:G.name,data:U,meta:{dataProviderName:te,ids:re,...le}}),(B=l==null?void 0:l.onSuccess)==null||B.call(l,k,O,D)},onError:(k,O,D)=>{var B;let{resource:$=t,errorNotification:L=i,values:R=e}=O;if(!R)throw Hk;if(!$)throw Wk;let{identifier:V}=f($),U=typeof L=="function"?L(k,R,V):L;g(U,{key:`createMany-${V}-notification`,description:k.message,message:p("notifications.createError",{resource:p(`${V}.${V}`,V),statusCode:k.statusCode},`There was an error creating ${V} (status code: ${k.statusCode}`),type:"error"}),(B=l==null?void 0:l.onError)==null||B.call(l,k,O,D)},mutationKey:w().data().mutation("createMany").get(S),...l,meta:{...l==null?void 0:l.meta,...ur()}}),{mutate:E,mutateAsync:A,...P}=C,{elapsedTime:_}=Qa({...u,isLoading:P.isLoading});return{...P,mutate:X((k,O)=>E(k||{},O),"handleMutation"),mutateAsync:X((k,O)=>A(k||{},O),"handleMutateAsync"),overtime:{elapsedTime:_}}},"useCreateMany"),Wk=new Error("[useCreateMany]: `resource` is not defined or not matched but is required"),Hk=new Error("[useCreateMany]: `values` is not provided but is required");X(({ids:t,resource:e,values:r,dataProviderName:n,successNotification:i,errorNotification:a,meta:o,metaData:s,mutationMode:l,undoableTimeout:u,onCancel:c,optimisticUpdateMap:d,invalidates:f,mutationOptions:p,overtimeOptions:v}={})=>{let{resources:g,select:m}=er(),y=Jl(),x=Ja(),b=yt(),{mutationMode:w,undoableTimeout:S}=tp(),C=Vr(),{mutate:E}=ps({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),{notificationDispatch:A}=ew(),P=dm(),_=vs(),k=Qs(),{log:O}=hm(),D=bi(),{options:{textTransformers:B}}=_n(),{keys:$,preferLegacyKeys:L}=zr(),R=Ln({mutationFn:({ids:G=t,values:W=r,resource:J=e,onCancel:te=c,mutationMode:H=l,undoableTimeout:ee=u,meta:re=o,metaData:Q=s,dataProviderName:se=n})=>{if(!G)throw my;if(!W)throw N1;if(!J)throw gy;let{resource:ne,identifier:le}=m(J),ge=D({resource:ne,meta:Ne(re,Q)}),be=H??w,Pe=ee??S,Ce=x(or(le,se,g)),Ue=X(()=>Ce.updateMany?Ce.updateMany({resource:ne.name,ids:G,variables:W,meta:ge,metaData:ge}):hI(G.map(we=>Ce.update({resource:ne.name,id:we,variables:W,meta:ge,metaData:ge}))),"mutationFn");return be!=="undoable"?Ue():new Promise((we,Re)=>{let ze=X(()=>{Ue().then(Mt=>we(Mt)).catch(Mt=>Re(Mt))},"doMutation"),dt=X(()=>{Re({message:"mutationCancelled"})},"cancelMutation");te&&te(dt),A({type:"ADD",payload:{id:G,resource:le,cancelMutation:dt,doMutation:ze,seconds:Pe,isSilent:!!te}})})},onMutate:async({resource:G=e,ids:W=t,values:J=r,mutationMode:te=l,dataProviderName:H=n,meta:ee=o,metaData:re=s,optimisticUpdateMap:Q=d??{list:!0,many:!0,detail:!0}})=>{if(!W)throw my;if(!J)throw N1;if(!G)throw gy;let{identifier:se}=m(G),{gqlMutation:ne,gqlQuery:le,...ge}=Ne(ee,re)??{},be=fI(L)(se,or(se,H,g),ge),Pe=$().data(or(se,H,g)).resource(se),Ce=te??w;await y.cancelQueries(Pe.get(L),void 0,{silent:!0});let Ue=y.getQueriesData(Pe.get(L));if(Ce!=="pessimistic"&&(Q.list&&y.setQueriesData(Pe.action("list").params(ge??{}).get(L),we=>{if(typeof Q.list=="function")return Q.list(we,J,W);if(!we)return null;let Re=we.data.map(ze=>ze.id!==void 0&&W.filter(dt=>dt!==void 0).map(String).includes(ze.id.toString())?{...ze,...J}:ze);return{...we,data:Re}}),Q.many&&y.setQueriesData(Pe.action("many").get(L),we=>{if(typeof Q.many=="function")return Q.many(we,J,W);if(!we)return null;let Re=we.data.map(ze=>ze.id!==void 0&&W.filter(dt=>dt!==void 0).map(String).includes(ze.id.toString())?{...ze,...J}:ze);return{...we,data:Re}}),Q.detail))for(let we of W)y.setQueriesData(Pe.action("one").id(we).params(ge??{}).get(L),Re=>{if(typeof Q.detail=="function")return Q.detail(Re,J,we);if(!Re)return null;let ze={...Re.data,...J};return{...Re,data:ze}});return{previousQueries:Ue,queryKey:be}},onSettled:(G,W,J,te)=>{var H;let{ids:ee=t,resource:re=e,dataProviderName:Q=n,invalidates:se=f}=J;if(!ee)throw my;if(!re)throw gy;let{identifier:ne}=m(re);k({resource:ne,invalidates:se??["list","many"],dataProviderName:or(ne,Q,g)}),ee.forEach(le=>k({resource:ne,invalidates:se??["detail"],dataProviderName:or(ne,Q,g),id:le})),A({type:"REMOVE",payload:{id:ee,resource:ne}}),(H=p==null?void 0:p.onSettled)==null||H.call(p,G,W,J,te)},onSuccess:(G,W,J)=>{var te;let{ids:H=t,resource:ee=e,values:re=r,meta:Q=o,metaData:se=s,dataProviderName:ne=n,successNotification:le=i}=W;if(!H)throw my;if(!re)throw N1;if(!ee)throw gy;let{resource:ge,identifier:be}=m(ee),Pe=B.singular(be),Ce=or(be,ne,g),Ue=D({resource:ge,meta:Ne(Q,se)}),we=typeof le=="function"?le(G,{ids:H,values:re},be):le;_(we,{key:`${H}-${be}-notification`,description:b("notifications.success","Successful"),message:b("notifications.editSuccess",{resource:b(`${be}.${be}`,be)},`Successfully updated ${Pe}`),type:"success"}),P==null||P({channel:`resources/${ge.name}`,type:"updated",payload:{ids:H.map(String)},date:new Date,meta:{...Ue,dataProviderName:Ce}});let Re=[];J&&H.forEach(Gt=>{let Tr=y.getQueryData(J.queryKey.detail(Gt));Re.push(Object.keys(re||{}).reduce((de,Oe)=>{var ft;return de[Oe]=(ft=Tr==null?void 0:Tr.data)==null?void 0:ft[Oe],de},{}))});let{fields:ze,operation:dt,variables:Mt,...sn}=Ue||{};O==null||O.mutate({action:"updateMany",resource:ge.name,data:re,previousData:Re,meta:{ids:H,dataProviderName:Ce,...sn}}),(te=p==null?void 0:p.onSuccess)==null||te.call(p,G,W,J)},onError:(G,W,J)=>{var te;let{ids:H=t,resource:ee=e,errorNotification:re=a,values:Q=r}=W;if(!H)throw my;if(!Q)throw N1;if(!ee)throw gy;let{identifier:se}=m(ee);if(J)for(let ne of J.previousQueries)y.setQueryData(ne[0],ne[1]);if(G.message!=="mutationCancelled"){E==null||E(G);let ne=B.singular(se),le=typeof re=="function"?re(G,{ids:H,values:Q},se):re;_(le,{key:`${H}-${se}-updateMany-error-notification`,message:b("notifications.editError",{resource:ne,statusCode:G.statusCode},`Error when updating ${ne} (status code: ${G.statusCode})`),description:G.message,type:"error"})}(te=p==null?void 0:p.onError)==null||te.call(p,G,W,J)},mutationKey:$().data().mutation("updateMany").get(L),...p,meta:{...p==null?void 0:p.meta,...ur()}}),{mutate:V,mutateAsync:U,...q}=R,{elapsedTime:M}=Qa({...v,isLoading:q.isLoading});return{...q,mutate:X((G,W)=>V(G||{},W),"handleMutation"),mutateAsync:X((G,W)=>U(G||{},W),"handleMutateAsync"),overtime:{elapsedTime:M}}},"useUpdateMany");var gy=new Error("[useUpdateMany]: `resource` is not defined or not matched but is required"),my=new Error("[useUpdateMany]: `id` is not defined but is required in edit and clone actions"),N1=new Error("[useUpdateMany]: `values` is not provided but is required");X(({mutationOptions:t,overtimeOptions:e}={})=>{let r=Vr(),{mutate:n}=ps({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:i,undoableTimeout:a}=tp(),o=Ja(),{notificationDispatch:s}=ew(),l=yt(),u=dm(),c=vs(),d=Qs(),{log:f}=hm(),{resources:p,select:v}=er(),g=Jl(),m=bi(),{options:{textTransformers:y}}=_n(),{keys:x,preferLegacyKeys:b}=zr(),w=Ln({mutationFn:({resource:C,ids:E,mutationMode:A,undoableTimeout:P,onCancel:_,meta:k,metaData:O,dataProviderName:D,values:B})=>{let{resource:$,identifier:L}=v(C),R=m({resource:$,meta:Ne(k,O)}),V=A??i,U=P??a,q=o(or(L,D,p)),M=X(()=>q.deleteMany?q.deleteMany({resource:$.name,ids:E,meta:R,metaData:R,variables:B}):hI(E.map(G=>q.deleteOne({resource:$.name,id:G,meta:R,metaData:R,variables:B}))),"mutationFn");return V!=="undoable"?M():new Promise((G,W)=>{let J=X(()=>{M().then(H=>G(H)).catch(H=>W(H))},"doMutation"),te=X(()=>{W({message:"mutationCancelled"})},"cancelMutation");_&&_(te),s({type:"ADD",payload:{id:E,resource:L,cancelMutation:te,doMutation:J,seconds:U,isSilent:!!_}})})},onMutate:async({ids:C,resource:E,mutationMode:A,dataProviderName:P,meta:_,metaData:k})=>{let{identifier:O}=v(E),{gqlMutation:D,gqlQuery:B,...$}=Ne(_,k)??{},L=fI(b)(O,or(O,P,p),$),R=x().data(or(O,P,p)).resource(O),V=A??i;await g.cancelQueries(R.get(b),void 0,{silent:!0});let U=g.getQueriesData(R.get(b));if(V!=="pessimistic"){g.setQueriesData(R.action("list").params($??{}).get(b),q=>q?{data:q.data.filter(M=>M.id&&!C.map(String).includes(M.id.toString())),total:q.total-1}:null),g.setQueriesData(R.action("many").get(b),q=>{if(!q)return null;let M=q.data.filter(G=>G.id?!C.map(String).includes(G.id.toString()):!1);return{...q,data:M}});for(let q of C)g.setQueriesData(R.action("one").id(q).params($).get(b),M=>!M||M.data.id===q?null:{...M})}return{previousQueries:U,queryKey:L}},onSettled:(C,E,{resource:A,ids:P,dataProviderName:_,invalidates:k=["list","many"]})=>{let{identifier:O}=v(A);d({resource:O,dataProviderName:or(O,_,p),invalidates:k}),s({type:"REMOVE",payload:{id:P,resource:O}})},onSuccess:(C,{ids:E,resource:A,meta:P,metaData:_,dataProviderName:k,successNotification:O},D)=>{let{resource:B,identifier:$}=v(A),L=or($,k,p),R=m({resource:B,meta:Ne(P,_)});E.forEach(W=>g.removeQueries(D==null?void 0:D.queryKey.detail(W)));let V=typeof O=="function"?O(C,E,$):O;c(V,{key:`${E}-${$}-notification`,description:l("notifications.success","Success"),message:l("notifications.deleteSuccess",{resource:l(`${$}.${$}`,$)},`Successfully deleted ${$}`),type:"success"}),u==null||u({channel:`resources/${B.name}`,type:"deleted",payload:{ids:E},date:new Date,meta:{...R,dataProviderName:L}});let{fields:U,operation:q,variables:M,...G}=R||{};f==null||f.mutate({action:"deleteMany",resource:B.name,meta:{ids:E,dataProviderName:L,...G}}),E.forEach(W=>g.removeQueries(D==null?void 0:D.queryKey.detail(W)))},onError:(C,{ids:E,resource:A,errorNotification:P},_)=>{let{identifier:k}=v(A);if(_)for(let O of _.previousQueries)g.setQueryData(O[0],O[1]);if(C.message!=="mutationCancelled"){n(C);let O=y.singular(k),D=typeof P=="function"?P(C,E,k):P;c(D,{key:`${E}-${k}-notification`,message:l("notifications.deleteError",{resource:O,statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}},mutationKey:x().data().mutation("deleteMany").get(b),...t,meta:{...t==null?void 0:t.meta,...ur()}}),{elapsedTime:S}=Qa({...e,isLoading:w.isLoading});return{...w,overtime:{elapsedTime:S}}},"useDeleteMany");X(t=>{var e;let r=Ja(),{resource:n}=er(),{getApiUrl:i}=r(t??((e=Ne(n==null?void 0:n.meta,n==null?void 0:n.options))==null?void 0:e.dataProviderName));return i()},"useApiUrl");X(({url:t,method:e,config:r,queryOptions:n,successNotification:i,errorNotification:a,meta:o,metaData:s,dataProviderName:l,overtimeOptions:u})=>{let c=Ja(),d=Vr(),{mutate:f}=ps({v3LegacyAuthProviderCompatible:!!(d!=null&&d.isLegacy)}),p=yt(),v=vs(),g=bi(),{keys:m,preferLegacyKeys:y}=zr(),x=Ne(o,s),{custom:b}=c(l),w=g({meta:x});if(b){let S=os({queryKey:m().data(l).mutation("custom").params({method:e,url:t,...r,...x||{}}).get(y),queryFn:E=>b({url:t,method:e,...r,meta:{...w,queryContext:Ch(E)},metaData:{...w,queryContext:Ch(E)}}),...n,onSuccess:E=>{var A;(A=n==null?void 0:n.onSuccess)==null||A.call(n,E);let P=typeof i=="function"?i(E,{...r,...w}):i;v(P)},onError:E=>{var A;f(E),(A=n==null?void 0:n.onError)==null||A.call(n,E);let P=typeof a=="function"?a(E,{...r,...w}):a;v(P,{key:`${e}-notification`,message:p("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})},meta:{...n==null?void 0:n.meta,...ur()}}),{elapsedTime:C}=Qa({...u,isLoading:S.isFetching});return{...S,overtime:{elapsedTime:C}}}throw Error("Not implemented custom on data provider.")},"useCustom");X(({mutationOptions:t,overtimeOptions:e}={})=>{let r=Vr(),{mutate:n}=ps({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),i=vs(),a=Ja(),o=yt(),s=bi(),{keys:l,preferLegacyKeys:u}=zr(),c=Ln(({url:f,method:p,values:v,meta:g,metaData:m,dataProviderName:y,config:x})=>{let b=s({meta:Ne(g,m)}),{custom:w}=a(y);if(w)return w({url:f,method:p,payload:v,meta:b,metaData:b,headers:{...x==null?void 0:x.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(f,{successNotification:p,config:v,meta:g,metaData:m})=>{let y=typeof p=="function"?p(f,{...v,...Ne(g,m)||{}}):p;i(y)},onError:(f,{errorNotification:p,method:v,config:g,meta:m,metaData:y})=>{n(f);let x=typeof p=="function"?p(f,{...g,...Ne(m,y)||{}}):p;i(x,{key:`${v}-notification`,message:o("notifications.error",{statusCode:f.statusCode},`Error (status code: ${f.statusCode})`),description:f.message,type:"error"})},mutationKey:l().data().mutation("customMutation").get(u),...t,meta:{...t==null?void 0:t.meta,...ur()}}),{elapsedTime:d}=Qa({...e,isLoading:c.isLoading});return{...c,overtime:{elapsedTime:d}}},"useCustomMutation");var wte={default:{}},W$=I.createContext(wte),fPe=X(({children:t,dataProvider:e})=>{let r=wte;return e&&(!("default"in e)&&("getList"in e||"getOne"in e)?r={default:e}:r=e),I.createElement(W$.Provider,{value:r},t)},"DataContextProvider"),Ja=X(()=>{let t=j.useContext(W$);return j.useCallback(e=>{if(e){let r=t==null?void 0:t[e];if(!r)throw new Error(`"${e}" Data provider not found`);if(r&&!(t!=null&&t.default))throw new Error("If you have multiple data providers, you must provide default data provider property");return t[e]}if(t.default)return t.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[t])},"useDataProvider");X(({resource:t,config:e,filters:r,hasPagination:n,pagination:i,sorters:a,queryOptions:o,successNotification:s,errorNotification:l,meta:u,metaData:c,liveMode:d,onLiveEvent:f,liveParams:p,dataProviderName:v,overtimeOptions:g})=>{let{resources:m,resource:y,identifier:x}=er(t),b=Ja(),w=yt(),S=Vr(),{mutate:C}=ps({v3LegacyAuthProviderCompatible:!!(S!=null&&S.isLegacy)}),E=vs(),A=bi(),{keys:P,preferLegacyKeys:_}=zr(),k=or(x,v,m),O=Ne(u,c),D=Ne(r,e==null?void 0:e.filters),B=Ne(a,e==null?void 0:e.sort),$=Ne(n,e==null?void 0:e.hasPagination),L=cte({pagination:i,configPagination:e==null?void 0:e.pagination,hasPagination:$}),R=L.mode==="server",V={meta:O,metaData:O,filters:D,hasPagination:R,pagination:L,sorters:B,config:{...e,sort:B}},U=(o==null?void 0:o.enabled)===void 0||(o==null?void 0:o.enabled)===!0,q=A({resource:y,meta:O}),{getList:M}=b(k);vI({resource:x,types:["*"],params:{meta:q,metaData:q,pagination:L,hasPagination:R,sort:B,sorters:B,filters:D,subscriptionType:"useList",...p},channel:`resources/${y.name}`,enabled:U,liveMode:d,onLiveEvent:f,dataProviderName:k,meta:{...q,dataProviderName:v}});let G=Wwe({queryKey:P().data(k).resource(x).action("infinite").params({...O||{},filters:D,hasPagination:R,...R&&{pagination:L},...a&&{sorters:a},...(e==null?void 0:e.sort)&&{sort:e==null?void 0:e.sort}}).get(_),queryFn:J=>{let te={...L,current:J.pageParam},H={...q,queryContext:Ch(J)};return M({resource:y.name,pagination:te,hasPagination:R,filters:D,sort:B,sorters:B,meta:H,metaData:H}).then(({data:ee,total:re,...Q})=>({data:ee,total:re,pagination:te,...Q}))},getNextPageParam:J=>zIe(J),getPreviousPageParam:J=>UIe(J),...o,onSuccess:J=>{var te;(te=o==null?void 0:o.onSuccess)==null||te.call(o,J);let H=typeof s=="function"?s(J,V,x):s;E(H)},onError:J=>{var te;C(J),(te=o==null?void 0:o.onError)==null||te.call(o,J);let H=typeof l=="function"?l(J,V,x):l;E(H,{key:`${x}-useInfiniteList-notification`,message:w("notifications.error",{statusCode:J.statusCode},`Error (status code: ${J.statusCode})`),description:J.message,type:"error"})},meta:{...o==null?void 0:o.meta,...ur("useInfiniteList",_,y==null?void 0:y.name)}}),{elapsedTime:W}=Qa({...g,isLoading:G.isFetching});return{...G,overtime:{elapsedTime:W}}},"useInfiniteList");var Qb=I.createContext({}),hPe=X(({liveProvider:t,children:e})=>I.createElement(Qb.Provider,{value:{liveProvider:t}},e),"LiveContextProvider"),Qs=X(()=>{let{resources:t}=er(),e=Jl(),{keys:r,preferLegacyKeys:n}=zr();return j.useCallback(async({resource:i,dataProviderName:a,invalidates:o,id:s,invalidationFilters:l={type:"all",refetchType:"active"},invalidationOptions:u={cancelRefetch:!1}})=>{if(o===!1)return;let c=or(i,a,t),d=r().data(c).resource(i??"");await Promise.all(o.map(f=>{switch(f){case"all":return e.invalidateQueries(r().data(c).get(n),l,u);case"list":return e.invalidateQueries(d.action("list").get(n),l,u);case"many":return e.invalidateQueries(d.action("many").get(n),l,u);case"resourceAll":return e.invalidateQueries(d.get(n),l,u);case"detail":return e.invalidateQueries(d.action("one").id(s||"").get(n),l,u);default:return}}))},[])},"useInvalidate"),pPe=X(t=>{let e=j.useRef(t);return Jc(e.current,t)||(e.current=t),e.current},"useMemoized"),Ste=X((t,e)=>{let r=pPe(e);return j.useMemo(t,r)},"useDeepMemo"),Jb=I.createContext({resources:[]}),vPe=X(({resources:t,children:e})=>{let r=Ste(()=>qIe(t??[]),[t]);return I.createElement(Jb.Provider,{value:{resources:r}},e)},"ResourceContextProvider"),Ete=I.createContext("new"),gPe=Ete.Provider,Zt=X(()=>I.useContext(Ete),"useRouterType"),Ate={},Zb=j.createContext(Ate),mPe=X(({children:t,router:e})=>I.createElement(Zb.Provider,{value:e??Ate},t),"RouterContextProvider"),yPe=X(()=>{let t=j.useContext(Zb);return I.useMemo(()=>(t==null?void 0:t.parse)??(()=>()=>({})),[t==null?void 0:t.parse])()},"useParse"),Ca=X(()=>{let t=yPe();return I.useMemo(()=>t(),[t])},"useParsed");function er(t){let{resources:e}=j.useContext(Jb),r=Zt(),n=Ca(),i={resourceName:t&&typeof t!="string"?t.resourceName:t,resourceNameOrRouteName:t&&typeof t!="string"?t.resourceNameOrRouteName:t,recordItemId:t&&typeof t!="string"?t.recordItemId:void 0},a=X((d,f=!0)=>{let p=Xi(d,e,r==="legacy");if(p)return{resource:p,identifier:p.identifier??p.name};if(f){let v={name:d,identifier:d},g=v.identifier??v.name;return{resource:v,identifier:g}}},"select"),o=xPe(),{useParams:s}=Kr(),l=s();if(r==="legacy"){let d=i.resourceNameOrRouteName?i.resourceNameOrRouteName:l.resource,f=d?o(d):void 0,p=(i==null?void 0:i.recordItemId)??l.id,v=l.action,g=(i==null?void 0:i.resourceName)??(f==null?void 0:f.name),m=(f==null?void 0:f.identifier)??(f==null?void 0:f.name);return{resources:e,resource:f,resourceName:g,id:p,action:v,select:a,identifier:m}}let u,c=typeof t=="string"?t:i==null?void 0:i.resourceNameOrRouteName;if(c){let d=Xi(c,e);d?u=d:u={name:c}}else n!=null&&n.resource&&(u=n.resource);return{resources:e,resource:u,resourceName:u==null?void 0:u.name,id:n.id,action:n.action,select:a,identifier:(u==null?void 0:u.identifier)??(u==null?void 0:u.name)}}X(er,"useResource");var xPe=X(()=>{let{resources:t}=j.useContext(Jb);return j.useCallback(e=>Xi(e,t,!0)||{name:e,route:e},[t])},"useResourceWithRoute"),vI=X(({resource:t,params:e,channel:r,types:n,enabled:i=!0,liveMode:a,onLiveEvent:o,dataProviderName:s,meta:l})=>{var u;let{resource:c,identifier:d}=er(t),{liveProvider:f}=j.useContext(Qb),{liveMode:p,onLiveEvent:v}=j.useContext(cc),g=a??p,m=Qs(),y=s??(l==null?void 0:l.dataProviderName)??((u=c==null?void 0:c.meta)==null?void 0:u.dataProviderName);j.useEffect(()=>{let x,b=X(w=>{g==="auto"&&m({resource:d,dataProviderName:y,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),o==null||o(w),v==null||v(w)},"callback");return g&&g!=="off"&&i&&(x=f==null?void 0:f.subscribe({channel:r,params:{resource:c==null?void 0:c.name,...e},types:n,callback:b,dataProviderName:y,meta:{...l,dataProviderName:y}})),()=>{x&&(f==null||f.unsubscribe(x))}},[i])},"useResourceSubscription"),H$=X(t=>{let{liveMode:e}=j.useContext(cc);return t??e},"useLiveMode");X(({params:t,channel:e,types:r=["*"],enabled:n=!0,onLiveEvent:i,dataProviderName:a="default",meta:o})=>{let{liveProvider:s}=j.useContext(Qb);j.useEffect(()=>{let l;return n&&(l=s==null?void 0:s.subscribe({channel:e,params:t,types:r,callback:i,dataProviderName:a,meta:{...o,dataProviderName:a}})),()=>{l&&(s==null||s.unsubscribe(l))}},[n])},"useSubscription");var dm=X(()=>{let{liveProvider:t}=j.useContext(Qb);return t==null?void 0:t.publish},"usePublish"),Cte=j.createContext({notifications:[],notificationDispatch:()=>!1}),bPe=[],wPe=X((t,e)=>{switch(e.type){case"ADD":return[...t.filter(r=>!(Jc(r.id,e.payload.id)&&r.resource===e.payload.resource)),{...e.payload,isRunning:!0}];case"REMOVE":return t.filter(r=>!(Jc(r.id,e.payload.id)&&r.resource===e.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return t.map(r=>Jc(r.id,e.payload.id)&&r.resource===e.payload.resource?{...r,seconds:e.payload.seconds-1e3}:r);default:return t}},"undoableQueueReducer"),SPe=X(({children:t})=>{let[e,r]=j.useReducer(wPe,bPe),n={notifications:e,notificationDispatch:r};return I.createElement(Cte.Provider,{value:n},t,typeof window<"u"?e.map(i=>I.createElement(C_e,{key:`${i.id}-${i.resource}-queue`,notification:i})):null)},"UndoableQueueContextProvider"),ew=X(()=>{let{notifications:t,notificationDispatch:e}=j.useContext(Cte);return{notifications:t,notificationDispatch:e}},"useCancelNotification"),Y$=j.createContext({}),EPe=X(({open:t,close:e,children:r})=>I.createElement(Y$.Provider,{value:{open:t,close:e}},r),"NotificationContextProvider"),rp=X(()=>{let{open:t,close:e}=j.useContext(Y$);return{open:t,close:e}},"useNotification"),vs=X(()=>{let{open:t}=rp();return j.useCallback((e,r)=>{e!==!1&&(e?t==null||t(e):r&&(t==null||t(r)))},[])},"useHandleNotification"),fm=I.createContext({}),APe=X(({children:t,i18nProvider:e})=>I.createElement(fm.Provider,{value:{i18nProvider:e}},t),"I18nContextProvider"),CPe=X(()=>{let{i18nProvider:t}=j.useContext(fm);return j.useCallback(e=>t==null?void 0:t.changeLocale(e),[])},"useSetLocale"),yt=X(()=>{let{i18nProvider:t}=j.useContext(fm);return j.useMemo(()=>{function e(r,n,i){return(t==null?void 0:t.translate(r,n,i))??i??(typeof n=="string"&&typeof i>"u"?n:r)}return X(e,"translate"),e},[t])},"useTranslate"),TPe=X(()=>{let{i18nProvider:t}=j.useContext(fm);return j.useCallback(()=>t==null?void 0:t.getLocale(),[])},"useGetLocale");X(()=>{let t=yt(),e=CPe(),r=TPe();return{translate:t,changeLocale:e,getLocale:r}},"useTranslation");X(({resourceName:t,resource:e,sorter:r,sorters:n,filters:i,maxItemCount:a,pageSize:o=20,mapData:s=X(g=>g,"mapData"),exportOptions:l,unparseConfig:u,meta:c,metaData:d,dataProviderName:f,onError:p,download:v}={})=>{let[g,m]=j.useState(!1),y=Ja(),x=bi(),{resource:b,resources:w,identifier:S}=er(Ne(e,t)),C=`${dc()(S,"plural")}-${new Date().toLocaleString()}`,{getList:E}=y(or(S,f,w)),A=x({resource:b,meta:Ne(c,d)});return{isLoading:g,triggerExport:X(async()=>{m(!0);let P=[],_=1,k=!0;for(;k;)try{let{data:$,total:L}=await E({resource:(b==null?void 0:b.name)??"",filters:i,sort:Ne(n,r),sorters:Ne(n,r),pagination:{current:_,pageSize:o,mode:"server"},meta:A,metaData:A});_++,P.push(...$),a&&P.length>=a&&(P=P.slice(0,a),k=!1),L===P.length&&(k=!1)}catch($){m(!1),k=!1,p==null||p($);return}let O=typeof u<"u"&&u!==null;Ul(O&&typeof l<"u"&&l!==null,`[useExport]: resource: "${S}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let D={filename:C,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...l};Ul((l==null?void 0:l.decimalSeparator)!==void 0,`[useExport]: resource: "${S}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),O?u={quotes:!0,...u}:u={columns:D.useKeysAsHeaders?void 0:D.headers,delimiter:D.fieldSeparator,header:D.showLabels||D.useKeysAsHeaders,quoteChar:D.quoteStrings,quotes:!0};let B=zee.unparse(P.map(s),u);if(D.showTitle&&(B=`${D.title}\r

${B}`),typeof window<"u"&&B.length>0&&(v??!0)){let $=D.useTextFile?".txt":".csv",L=`text/${D.useTextFile?"plain":"csv"};charset=utf8;`,R=`${(D.filename??"download").replace(/ /g,"_")}${$}`;XIe(R,`${D!=null&&D.useBom?"\uFEFF":""}${B}`,L)}return m(!1),B},"triggerExport")}},"useExport");var IPe=X((t={})=>{var e,r,n;let i=bi(),a=Qs(),{redirect:o}=yI(),{mutationMode:s}=tp(),{setWarnWhen:l}=eu(),u=MPe(),c=Ne(t.meta,t.metaData),d=t.mutationMode??s,{id:f,setId:p,resource:v,identifier:g,formAction:m}=np({resource:t.resource,id:t.id,action:t.action}),[y,x]=I.useState(!1),b=m==="edit",w=m==="clone",S=m==="create",C=i({resource:v,meta:c}),E=(b||w)&&!!t.resource,A=typeof t.id<"u",P=((e=t.queryOptions)==null?void 0:e.enabled)===!1;Ul(E&&!A&&!P,DPe(m,g,f));let _=VIe({redirectFromProps:t.redirect,action:m,redirectOptions:o}),k=X((G=b?"list":"edit",W=f,J={})=>{u({redirect:G,resource:v,id:W,meta:{...c,...J}})},"redirect"),O=xte({resource:g,id:f,queryOptions:{enabled:!S&&f!==void 0,...t.queryOptions},liveMode:t.liveMode,onLiveEvent:t.onLiveEvent,liveParams:t.liveParams,meta:{...C,...t.queryMeta},dataProviderName:t.dataProviderName,overtimeOptions:{enabled:!1}}),D=bte({mutationOptions:t.createMutationOptions,overtimeOptions:{enabled:!1}}),B=uPe({mutationOptions:t.updateMutationOptions,overtimeOptions:{enabled:!1}}),$=b?B:D,L=$.isLoading||O.isFetching,{elapsedTime:R}=Qa({...t.overtimeOptions,isLoading:L});I.useEffect(()=>()=>{var G;(G=t.autoSave)!=null&&G.invalidateOnUnmount&&y&&g&&typeof f<"u"&&a({id:f,invalidates:t.invalidates||["list","many","detail"],dataProviderName:t.dataProviderName,resource:g})},[(r=t.autoSave)==null?void 0:r.invalidateOnUnmount,y]);let V=X(async(G,{isAutosave:W=!1}={})=>{let J=d==="pessimistic";l(!1);let te=X(H=>k(_,H),"onSuccessRedirect");return new Promise((H,ee)=>{if(!v)return ee(PPe);if(w&&!f)return ee(_Pe);if(!G)return ee(OPe);if(W&&!b)return ee(kPe);!J&&!W&&(H6(()=>te()),H());let re={values:G,resource:g??v.name,meta:{...C,...t.mutationMeta},metaData:{...C,...t.mutationMeta},dataProviderName:t.dataProviderName,invalidates:W?[]:t.invalidates,successNotification:W?!1:t.successNotification,errorNotification:W?!1:t.errorNotification,...b?{id:f??"",mutationMode:d,undoableTimeout:t.undoableTimeout,optimisticUpdateMap:t.optimisticUpdateMap}:{}},{mutateAsync:Q}=b?B:D;Q(re,{onSuccess:t.onMutationSuccess?(se,ne,le)=>{var ge;(ge=t.onMutationSuccess)==null||ge.call(t,se,G,le,W)}:void 0,onError:t.onMutationError?(se,ne,le)=>{var ge;(ge=t.onMutationError)==null||ge.call(t,se,G,le,W)}:void 0}).then(se=>{J&&!W&&H6(()=>{var ne;return te((ne=se==null?void 0:se.data)==null?void 0:ne.id)}),W&&x(!0),H(se)}).catch(ee)})},"onFinish"),U=KIe(G=>V(G,{isAutosave:!0}),((n=t.autoSave)==null?void 0:n.debounce)||1e3,"Cancelled by debounce"),q={elapsedTime:R},M={status:B.status,data:B.data,error:B.error};return{onFinish:V,onFinishAutoSave:U,formLoading:L,mutationResult:$,mutation:$,queryResult:O,query:O,autoSaveProps:M,id:f,setId:p,redirect:k,overtime:q}},"useForm"),PPe=new Error("[useForm]: `resource` is not defined or not matched but is required"),_Pe=new Error("[useForm]: `id` is not defined but is required in edit and clone actions"),OPe=new Error("[useForm]: `values` is not provided but is required"),kPe=new Error("[useForm]: `autoSave` is only allowed in edit action"),DPe=X((t,e,r)=>`[useForm]: action: "${t}", resource: "${e}", id: ${r}

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL with custom resource provided.

See https://refine.dev/docs/data/hooks/use-form/#id-`,"idWarningMessage"),MPe=X(()=>{let{show:t,edit:e,list:r,create:n}=ca();return j.useCallback(({redirect:i,resource:a,id:o,meta:s={}})=>{if(i&&a)return a.show&&i==="show"&&o?t(a,o,void 0,s):a.edit&&i==="edit"&&o?e(a,o,void 0,s):a.create&&i==="create"?n(a,void 0,s):r(a,"push",s)},[])},"useRedirectionAfterSubmission"),gI=X(()=>{let t=j.useContext(Zb);return I.useMemo(()=>(t==null?void 0:t.back)??(()=>()=>{}),[t==null?void 0:t.back])()},"useBack"),X$=X(()=>{let t=Zt(),{resource:e,resources:r}=er(),n=Ca();return I.useCallback(({resource:i,action:a,meta:o})=>{var s;let l=i||e;if(!l)return;let u=(s=uo(l,r,t==="legacy").find(c=>c.action===a))==null?void 0:s.route;return u?Yo(u,l==null?void 0:l.meta,n,o):void 0},[r,e,n])},"useGetToPath"),Ni=X(()=>{let t=j.useContext(Zb),{select:e}=er(),r=X$(),n=I.useMemo(()=>(t==null?void 0:t.go)??(()=>()=>{}),[t==null?void 0:t.go])();return j.useCallback(i=>{if(typeof i.to!="object")return n({...i,to:i.to});let{resource:a}=e(i.to.resource);RPe(i.to,a);let o=r({resource:a,action:i.to.action,meta:{id:i.to.id,...i.to.meta}});return n({...i,to:o})},[e,n])},"useGo"),RPe=X((t,e)=>{if(!(t!=null&&t.action)||!(t!=null&&t.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(t==null?void 0:t.action)&&!t.id)throw new Error(`[useGo]: [action: ${t.action}] requires an "id" for resource [resource: ${t.resource}]`);if(!e[t.action])throw new Error(`[useGo]: [action: ${t.action}] is not defined for [resource: ${t.resource}]`)},"handleResourceErrors"),ca=X(()=>{let{resources:t}=er(),e=Zt(),{useHistory:r}=Kr(),n=r(),i=Ca(),a=Ni(),o=gI(),s=X((p,v="push")=>{e==="legacy"?n[v](p):a({to:p,type:v})},"handleUrl"),l=X((p,v={})=>{var g;if(e==="legacy"){let x=typeof p=="string"?Xi(p,t,!0)??{name:p,route:p}:p,b=uo(x,t,!0).find(w=>w.action==="create");return b?Yo(b.route,x==null?void 0:x.meta,i,v):""}let m=typeof p=="string"?Xi(p,t)??{name:p}:p,y=(g=uo(m,t).find(x=>x.action==="create"))==null?void 0:g.route;return y?a({to:Yo(y,m==null?void 0:m.meta,i,v),type:"path",query:v.query}):""},"createUrl"),u=X((p,v,g={})=>{var m;let y=encodeURIComponent(v);if(e==="legacy"){let w=typeof p=="string"?Xi(p,t,!0)??{name:p,route:p}:p,S=uo(w,t,!0).find(C=>C.action==="edit");return S?Yo(S.route,w==null?void 0:w.meta,i,{...g,id:y}):""}let x=typeof p=="string"?Xi(p,t)??{name:p}:p,b=(m=uo(x,t).find(w=>w.action==="edit"))==null?void 0:m.route;return b?a({to:Yo(b,x==null?void 0:x.meta,i,{...g,id:y}),type:"path",query:g.query}):""},"editUrl"),c=X((p,v,g={})=>{var m;let y=encodeURIComponent(v);if(e==="legacy"){let w=typeof p=="string"?Xi(p,t,!0)??{name:p,route:p}:p,S=uo(w,t,!0).find(C=>C.action==="clone");return S?Yo(S.route,w==null?void 0:w.meta,i,{...g,id:y}):""}let x=typeof p=="string"?Xi(p,t)??{name:p}:p,b=(m=uo(x,t).find(w=>w.action==="clone"))==null?void 0:m.route;return b?a({to:Yo(b,x==null?void 0:x.meta,i,{...g,id:y}),type:"path",query:g.query}):""},"cloneUrl"),d=X((p,v,g={})=>{var m;let y=encodeURIComponent(v);if(e==="legacy"){let w=typeof p=="string"?Xi(p,t,!0)??{name:p,route:p}:p,S=uo(w,t,!0).find(C=>C.action==="show");return S?Yo(S.route,w==null?void 0:w.meta,i,{...g,id:y}):""}let x=typeof p=="string"?Xi(p,t)??{name:p}:p,b=(m=uo(x,t).find(w=>w.action==="show"))==null?void 0:m.route;return b?a({to:Yo(b,x==null?void 0:x.meta,i,{...g,id:y}),type:"path",query:g.query}):""},"showUrl"),f=X((p,v={})=>{var g;if(e==="legacy"){let x=typeof p=="string"?Xi(p,t,!0)??{name:p,route:p}:p,b=uo(x,t,!0).find(w=>w.action==="list");return b?Yo(b.route,x==null?void 0:x.meta,i,v):""}let m=typeof p=="string"?Xi(p,t)??{name:p}:p,y=(g=uo(m,t).find(x=>x.action==="list"))==null?void 0:g.route;return y?a({to:Yo(y,m==null?void 0:m.meta,i,v),type:"path",query:v.query}):""},"listUrl");return{create:X((p,v="push",g={})=>{s(l(p,g),v)},"create"),createUrl:l,edit:X((p,v,g="push",m={})=>{s(u(p,v,m),g)},"edit"),editUrl:u,clone:X((p,v,g="push",m={})=>{s(c(p,v,m),g)},"clone"),cloneUrl:c,show:X((p,v,g="push",m={})=>{s(d(p,v,m),g)},"show"),showUrl:d,list:X((p,v="push",g={})=>{s(f(p,g),v)},"list"),listUrl:f,push:X((p,...v)=>{e==="legacy"?n.push(p,...v):a({to:p,type:"push"})},"push"),replace:X((p,...v)=>{e==="legacy"?n.replace(p,...v):a({to:p,type:"replace"})},"replace"),goBack:X(()=>{e==="legacy"?n.goBack():o()},"goBack")}},"useNavigation");X(({resource:t,id:e,meta:r,metaData:n,queryOptions:i,overtimeOptions:a,...o}={})=>{let{resource:s,identifier:l,id:u,setId:c}=np({id:e,resource:t}),d=bi()({resource:s,meta:Ne(r,n)});Ul(!!t&&!u,jPe(l,u));let f=xte({resource:l,id:u??"",queryOptions:{enabled:u!==void 0,...i},meta:d,metaData:d,overtimeOptions:a,...o});return{queryResult:f,query:f,showId:u,setShowId:c,overtime:f.overtime}},"useShow");var jPe=X((t,e)=>`[useShow]: resource: "${t}", id: ${e} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/data/hooks/use-show/#resource`,"idWarningMessage"),FPe=X(({resourceName:t,resource:e,mapData:r=X(c=>c,"mapData"),paparseOptions:n,batchSize:i=Number.MAX_SAFE_INTEGER,onFinish:a,meta:o,metaData:s,onProgress:l,dataProviderName:u}={})=>{let[c,d]=j.useState(0),[f,p]=j.useState(0),[v,g]=j.useState(!1),{resource:m,identifier:y}=er(e??t),x=bi(),b=dPe(),w=bte(),S=x({resource:m,meta:Ne(o,s)}),C;i===1?C=w:C=b;let E=X(()=>{p(0),d(0),g(!1)},"handleCleanup"),A=X(_=>{let k={succeeded:_.filter(O=>O.type==="success"),errored:_.filter(O=>O.type==="error")};a==null||a(k),g(!1)},"handleFinish");j.useEffect(()=>{l==null||l({totalAmount:f,processedAmount:c})},[f,c]);let P=X(({file:_})=>(E(),new Promise(k=>{g(!0),zee.parse(_,{complete:async({data:O})=>{let D=OIe(O,r);if(p(D.length),i===1){let B=D.map(L=>X(async()=>({response:await w.mutateAsync({resource:y??"",values:L,successNotification:!1,errorNotification:!1,dataProviderName:u,meta:S,metaData:S}),value:L}),"fn")),$=await U6(B,({response:L,value:R})=>(d(V=>V+1),{response:[L.data],type:"success",request:[R]}),(L,R)=>({response:[L],type:"error",request:[D[R]]}));k($)}else{let B=fIe(D,i),$=B.map(R=>X(async()=>({response:await b.mutateAsync({resource:y??"",values:R,successNotification:!1,errorNotification:!1,dataProviderName:u,meta:S,metaData:S}),value:R,currentBatchLength:R.length}),"fn")),L=await U6($,({response:R,currentBatchLength:V,value:U})=>(d(q=>q+V),{response:R.data,type:"success",request:U}),(R,V)=>({response:[R],type:"error",request:B[V]}));k(L)}},...n})}).then(k=>(A(k),k))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:_=>{_.target.files&&_.target.files.length>0&&P({file:_.target.files[0]})}},mutationResult:C,isLoading:v,handleChange:P}},"useImport"),Tte=X(({defaultVisible:t=!1}={})=>{let[e,r]=j.useState(t),n=j.useCallback(()=>r(!0),[e]),i=j.useCallback(()=>r(!1),[e]);return{visible:e,show:n,close:i}},"useModal"),Ite=X(({resource:t,action:e,meta:r,legacy:n})=>X$()({resource:t,action:e,meta:r,legacy:n}),"useToPath"),LPe=X((t,e)=>{let r=j.useContext(Zb),n=r==null?void 0:r.Link,i=Ni(),a="";return"go"in t&&(r!=null&&r.go||Ul(!0,"[Link]: `routerProvider` is not found. To use `go`, Please make sure that you have provided the `routerProvider` for `<Refine />` https://refine.dev/docs/routing/router-provider/ \n"),a=i({...t.go,type:"path"})),"to"in t&&(a=t.to),n?I.createElement(n,{ref:e,...t,to:a,go:void 0}):I.createElement("a",{ref:e,href:a,...t,to:void 0,go:void 0})},"LinkComponent"),$Pe=j.forwardRef(LPe),Ta=X(()=>$Pe,"useLink"),Lc={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},K$=I.createContext(Lc),NPe=X(({children:t,useHistory:e,useLocation:r,useParams:n,Prompt:i,Link:a,routes:o})=>I.createElement(K$.Provider,{value:{useHistory:e??Lc.useHistory,useLocation:r??Lc.useLocation,useParams:n??Lc.useParams,Prompt:i??Lc.Prompt,Link:a??Lc.Link,routes:o??Lc.routes}},t),"LegacyRouterContextProvider"),Kr=X(()=>{let t=j.useContext(K$),{useHistory:e,useLocation:r,useParams:n,Prompt:i,Link:a,routes:o}=t??Lc;return{useHistory:e,useLocation:r,useParams:n,Prompt:i,Link:a,routes:o}},"useRouterContext"),tw=I.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),BPe=X(({can:t,children:e,options:r})=>I.createElement(tw.Provider,{value:{can:t,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},e),"AccessControlContextProvider"),Q$=X(t=>{if(!t)return;let{icon:e,list:r,edit:n,create:i,show:a,clone:o,children:s,meta:l,options:u,...c}=t,{icon:d,...f}=l??{},{icon:p,...v}=u??{};return{...c,...l?{meta:f}:{},...u?{options:v}:{}}},"sanitizeResource"),Pte=X(({action:t,resource:e,params:r,queryOptions:n})=>{let{can:i,options:a}=j.useContext(tw),{keys:o,preferLegacyKeys:s}=zr(),{queryOptions:l}=a||{},u={...l,...n},{resource:c,...d}=r??{},f=Q$(c),p=os({queryKey:o().access().resource(e).action(t).params({params:{...d,resource:f},enabled:u==null?void 0:u.enabled}).get(s),queryFn:()=>(i==null?void 0:i({action:t,resource:e,params:{...d,resource:f}}))??Promise.resolve({can:!0}),enabled:typeof i<"u",...u,meta:{...u==null?void 0:u.meta,...ur()},retry:!1});return typeof i>"u"?{data:{can:!0}}:p},"useCan");X(()=>{let{can:t}=I.useContext(tw);return{can:I.useMemo(()=>t?X(async({params:e,...r})=>{let n=e!=null&&e.resource?Q$(e.resource):void 0;return t({...r,...e?{params:{...e,resource:n}}:{}})},"canWithSanitizedResource"):void 0,[t])}},"useCanWithoutCache");var J$=X(t=>{let[e,r]=j.useState([]),[n,i]=j.useState([]),[a,o]=j.useState([]),{resource:s,sort:l,sorters:u,filters:c=[],optionLabel:d="title",optionValue:f="id",searchField:p=typeof d=="string"?d:"title",debounce:v=300,successNotification:g,errorNotification:m,defaultValueQueryOptions:y,queryOptions:x,fetchSize:b,pagination:w,hasPagination:S=!1,liveMode:C,defaultValue:E=[],selectedOptionsOrder:A="in-place",onLiveEvent:P,onSearch:_,liveParams:k,meta:O,metaData:D,dataProviderName:B,overtimeOptions:$}=t,L=j.useCallback(ne=>typeof d=="string"?z6(ne,d):d(ne),[d]),R=j.useCallback(ne=>typeof f=="string"?z6(ne,f):f(ne),[f]),{resource:V,identifier:U}=er(s),q=bi()({resource:V,meta:Ne(O,D)}),M=Array.isArray(E)?E:[E],G=j.useCallback(ne=>{o(ne.data.map(le=>({label:L(le),value:R(le)})))},[d,f]),W=y??x,J=aPe({resource:U,ids:M,queryOptions:{...W,enabled:M.length>0&&((W==null?void 0:W.enabled)??!0),onSuccess:ne=>{var le;G(ne),(le=W==null?void 0:W.onSuccess)==null||le.call(W,ne)}},overtimeOptions:{enabled:!1},meta:q,metaData:q,liveMode:"off",dataProviderName:B}),te=j.useCallback(ne=>{i(ne.data.map(le=>({label:L(le),value:R(le)})))},[d,f]),H=yte({resource:U,sorters:Ne(u,l),filters:c.concat(e),pagination:{current:w==null?void 0:w.current,pageSize:(w==null?void 0:w.pageSize)??b,mode:w==null?void 0:w.mode},hasPagination:S,queryOptions:{...x,onSuccess:ne=>{var le;te(ne),(le=x==null?void 0:x.onSuccess)==null||le.call(x,ne)}},overtimeOptions:{enabled:!1},successNotification:g,errorNotification:m,meta:q,metaData:q,liveMode:C,liveParams:k,onLiveEvent:P,dataProviderName:B}),{elapsedTime:ee}=Qa({...$,isLoading:H.isFetching||J.isFetching}),re=j.useMemo(()=>TIe(A==="in-place"?[...n,...a]:[...a,...n],"value"),[n,a]),Q=j.useRef(_),se=j.useMemo(()=>jee(ne=>{if(Q.current){r(Q.current(ne));return}if(!ne){r([]);return}r([{field:p,operator:"contains",value:ne}])},v),[p,v]);return j.useEffect(()=>{Q.current=_},[_]),{queryResult:H,defaultValueQueryResult:J,query:H,defaultValueQuery:J,options:re,onSearch:se,overtime:{elapsedTime:ee}}},"useSelect"),J6=[],Z6=[];function Z$({initialCurrent:t,initialPageSize:e,hasPagination:r=!0,pagination:n,initialSorter:i,permanentSorter:a=Z6,defaultSetFilterBehavior:o,initialFilter:s,permanentFilter:l=J6,filters:u,sorters:c,syncWithLocation:d,resource:f,successNotification:p,errorNotification:v,queryOptions:g,liveMode:m,onLiveEvent:y,liveParams:x,meta:b,metaData:w,dataProviderName:S,overtimeOptions:C}={}){var E,A,P,_,k;let{syncWithLocation:O}=hte(),D=d??O,B=H$(m),$=Zt(),{useLocation:L}=Kr(),{search:R,pathname:V}=L(),U=bi(),q=Ca(),M=((u==null?void 0:u.mode)||"server")==="server",G=((c==null?void 0:c.mode)||"server")==="server",W=r===!1?"off":"server",J=((n==null?void 0:n.mode)??W)!=="off",te=Ne(n==null?void 0:n.current,t),H=Ne(n==null?void 0:n.pageSize,e),ee=Ne(b,w),{parsedCurrent:re,parsedPageSize:Q,parsedSorter:se,parsedFilters:ne}=pte(R??"?"),le=Ne(u==null?void 0:u.initial,s),ge=Ne(u==null?void 0:u.permanent,l)??J6,be=Ne(c==null?void 0:c.initial,i),Pe=Ne(c==null?void 0:c.permanent,a)??Z6,Ce=Ne(u==null?void 0:u.defaultBehavior,o)??"merge",Ue,we,Re,ze;D?(Ue=((E=q==null?void 0:q.params)==null?void 0:E.current)||re||te||1,we=((A=q==null?void 0:q.params)==null?void 0:A.pageSize)||Q||H||10,Re=((P=q==null?void 0:q.params)==null?void 0:P.sorters)||(se.length?se:be),ze=((_=q==null?void 0:q.params)==null?void 0:_.filters)||(ne.length?ne:le)):(Ue=te||1,we=H||10,Re=be,ze=le);let{replace:dt}=ca(),Mt=Ni(),{resource:sn,identifier:Gt}=er(f),Tr=U({resource:sn,meta:ee});I.useEffect(()=>{Ul(typeof Gt>"u","useTable: `resource` is not defined.")},[Gt]);let[de,Oe]=j.useState(Q6(Pe,Re??[])),[ft,pe]=j.useState(K6(ge,ze??[])),[tt,It]=j.useState(Ue),[ot,Er]=j.useState(we),cr=X(()=>{if($==="new"){let{sorters:ey,filters:Ip,pageSize:XO,current:zi,...x1}=(q==null?void 0:q.params)??{};return x1}let{sorter:bn,filters:da,pageSize:As,current:Tp,...Ec}=Pl.parse(R,{ignoreQueryPrefix:!0});return Ec},"getCurrentQueryParams"),Hn=X(({pagination:{current:bn,pageSize:da},sorter:As,filters:Tp})=>{if($==="new")return Mt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...J?{current:bn,pageSize:da}:{},sorters:As,filters:Tp,...cr()}})??"";let Ec=Pl.parse(R==null?void 0:R.substring(1)),ey=Y6({pagination:{pageSize:da,current:bn},sorters:de??As,filters:Tp,...Ec});return`${V??""}?${ey??""}`},"createLinkForSyncWithLocation");j.useEffect(()=>{R===""&&(It(Ue),Er(we),Oe(Q6(Pe,Re??[])),pe(K6(ge,ze??[])))},[R]),j.useEffect(()=>{if(D){let bn=cr();if($==="new")Mt({type:"replace",options:{keepQuery:!0},query:{...J?{pageSize:ot,current:tt}:{},sorters:yv(de,Pe,Jc),filters:yv(ft,ge,Jc)}});else{let da=Y6({...J?{pagination:{pageSize:ot,current:tt}}:{},sorters:yv(de,Pe,Jc),filters:yv(ft,ge,Jc),...bn});return dt==null?void 0:dt(`${V}?${da}`,void 0,{shallow:!0})}}},[D,tt,ot,de,ft]);let Ia=yte({resource:Gt,hasPagination:r,pagination:{current:tt,pageSize:ot,mode:n==null?void 0:n.mode},filters:M?L1(ge,ft):void 0,sorters:G?X6(Pe,de):void 0,queryOptions:g,overtimeOptions:C,successNotification:p,errorNotification:v,meta:Tr,metaData:Tr,liveMode:B,liveParams:x,onLiveEvent:y,dataProviderName:S}),Vi=j.useCallback(bn=>{pe(da=>L1(ge,bn,da))},[ge]),Ai=j.useCallback(bn=>{pe(L1(ge,bn))},[ge]),Mr=j.useCallback(bn=>{pe(da=>L1(ge,bn(da)))},[ge]),il=j.useCallback((bn,da=Ce)=>{typeof bn=="function"?Mr(bn):da==="replace"?Ai(bn):Vi(bn)},[Mr,Ai,Vi]),Pa=j.useCallback(bn=>{Oe(()=>X6(Pe,bn))},[Pe]);return{tableQueryResult:Ia,tableQuery:Ia,sorters:de,setSorters:Pa,sorter:de,setSorter:Pa,filters:ft,setFilters:il,current:tt,setCurrent:It,pageSize:ot,setPageSize:Er,pageCount:ot?Math.ceil((((k=Ia.data)==null?void 0:k.total)??0)/ot):1,createLinkForSyncWithLocation:Hn,overtime:Ia.overtime}}X(Z$,"useTable");var mI=I.createContext({}),VPe=X(({create:t,get:e,update:r,children:n})=>I.createElement(mI.Provider,{value:{create:t,get:e,update:r}},n),"AuditLogContextProvider"),hm=X(({logMutationOptions:t,renameMutationOptions:e}={})=>{let r=Jl(),n=j.useContext(mI),{keys:i,preferLegacyKeys:a}=zr(),o=Vr(),{resources:s}=j.useContext(Jb),{data:l,refetch:u,isLoading:c}=ua({v3LegacyAuthProviderCompatible:!!(o!=null&&o.isLegacy),queryOptions:{enabled:!!(n!=null&&n.create)}}),d=Ln(async p=>{var v,g,m,y,x;let b=Xi(p.resource,s),w=Ne((v=b==null?void 0:b.meta)==null?void 0:v.audit,(g=b==null?void 0:b.options)==null?void 0:g.audit,(y=(m=b==null?void 0:b.options)==null?void 0:m.auditLog)==null?void 0:y.permissions);if(w&&!DIe(w,p.action))return;let S;return c&&n!=null&&n.create&&(S=await u()),await((x=n.create)==null?void 0:x.call(n,{...p,author:l??(S==null?void 0:S.data)}))},{mutationKey:i().audit().action("log").get(),...t,meta:{...t==null?void 0:t.meta,...ur()}}),f=Ln(async p=>{var v;return await((v=n.update)==null?void 0:v.call(n,p))},{onSuccess:p=>{p!=null&&p.resource&&r.invalidateQueries(i().audit().resource((p==null?void 0:p.resource)??"").action("list").get(a))},mutationKey:i().audit().action("rename").get(),...e,meta:{...e==null?void 0:e.meta,...ur()}});return{log:d,rename:f}},"useLog");X(({resource:t,action:e,meta:r,author:n,metaData:i,queryOptions:a})=>{let{get:o}=j.useContext(mI),{keys:s,preferLegacyKeys:l}=zr();return os({queryKey:s().audit().resource(t).action("list").params(r).get(l),queryFn:()=>(o==null?void 0:o({resource:t,action:e,author:n,meta:r,metaData:i}))??Promise.resolve([]),enabled:typeof o<"u",...a,retry:!1,meta:{...a==null?void 0:a.meta,...ur()}})},"useLogList");var zPe=X(({meta:t={}}={})=>{let e=Zt(),{i18nProvider:r}=j.useContext(fm),n=Ca(),i=yt(),{resources:a,resource:o,action:s}=er(),{options:{textTransformers:l}}=_n(),u=[];if(!(o!=null&&o.name))return{breadcrumbs:u};let c=X(d=>{var f,p,v,g,m,y;let x=typeof d=="string"?Xi(d,a,e==="legacy")??{name:d}:d;if(x){let b=Ne((f=x==null?void 0:x.meta)==null?void 0:f.parent,x==null?void 0:x.parentName);b&&c(b);let w=uo(x,a,e==="legacy").find(E=>E.action==="list"),S=(p=w==null?void 0:w.resource)!=null&&p.list?w==null?void 0:w.route:void 0,C=S?e==="legacy"?S:Yo(S,x==null?void 0:x.meta,n,t):void 0;u.push({label:Ne((v=x.meta)==null?void 0:v.label,(g=x.options)==null?void 0:g.label)??i(`${x.name}.${x.name}`,l.humanize(x.name)),href:C,icon:Ne((m=x.meta)==null?void 0:m.icon,(y=x.options)==null?void 0:y.icon,x.icon)})}},"addBreadcrumb");if(c(o),s&&s!=="list"){let d=`actions.${s}`,f=i(d);typeof r<"u"&&f===d?(Ul(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${s}" action. Please add "actions.${s}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),u.push({label:i(`buttons.${s}`,l.humanize(s))})):u.push({label:i(d,l.humanize(s))})}return{breadcrumbs:u}},"useBreadcrumb"),LE=X((t,e,r=!1)=>{let n=[],i=Ad(t,e);for(;i;)n.push(i),i=Ad(i,e);return n.reverse(),`/${[...n,t].map(a=>Wu((r?a.route:void 0)??a.identifier??a.name)).join("/").replace(/^\//,"")}`},"createResourceKey"),UPe=X((t,e=!1)=>{let r={item:{name:"__root__"},children:{}};t.forEach(i=>{let a=[],o=Ad(i,t);for(;o;)a.push(o),o=Ad(o,t);a.reverse();let s=r;a.forEach(u=>{let c=(e?u.route:void 0)??u.identifier??u.name;s.children[c]||(s.children[c]={item:u,children:{}}),s=s.children[c]});let l=(e?i.route:void 0)??i.identifier??i.name;s.children[l]||(s.children[l]={item:i,children:{}})});let n=X(i=>{let a=[];return Object.keys(i.children).forEach(o=>{let s=LE(i.children[o].item,t,e),l={...i.children[o].item,key:s,children:n(i.children[o])};a.push(l)}),a},"flatten");return n(r)},"createTree"),eU=X(t=>t.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),eN=X(({meta:t,hideOnMissingParameter:e=!0}={hideOnMissingParameter:!0})=>{let r=yt(),n=X$(),i=Zt(),{resource:a,resources:o}=er(),{pathname:s}=Ca(),{useLocation:l}=Kr(),{pathname:u}=l(),c=dc(),d=`/${((i==="legacy"?eU(u):s?eU(s):void 0)??"").replace(/^\//,"")}`,f=a?LE(a,o,i==="legacy"):d??"",p=I.useMemo(()=>{if(!a)return[];let m=Ad(a,o),y=[LE(a,o)];for(;m;)y.push(LE(m,o)),m=Ad(m,o);return y},[]),v=I.useCallback(m=>{var y,x,b,w,S,C;if(Ne((y=m==null?void 0:m.meta)==null?void 0:y.hide,(x=m==null?void 0:m.options)==null?void 0:x.hide)||!(m!=null&&m.list)&&m.children.length===0)return;let E=m.list?n({resource:m,action:"list",legacy:i==="legacy",meta:t}):void 0;if(!(e&&E&&E.match(/(\/|^):(.+?)(\/|$){1}/)))return{...m,route:E,icon:Ne((b=m.meta)==null?void 0:b.icon,(w=m.options)==null?void 0:w.icon,m.icon),label:Ne((S=m==null?void 0:m.meta)==null?void 0:S.label,(C=m==null?void 0:m.options)==null?void 0:C.label)??r(`${m.name}.${m.name}`,c(m.name,"plural"))}},[i,t,n,r,e]),g=I.useMemo(()=>{let m=UPe(o,i==="legacy"),y=X(x=>x.flatMap(b=>{let w=y(b.children),S=v({...b,children:w});return S?[S]:[]}),"prepare");return y(m)},[o,i,v]);return{defaultOpenKeys:p,selectedKey:f,menuItems:g}},"useMenu"),_R=j.createContext({});X(({children:t,value:e})=>{let r=_te(),n=j.useMemo(()=>({...r,...e}),[r,e]);return I.createElement(_R.Provider,{value:n},t)},"MetaContextProvider");var _te=X(()=>{if(!j.useContext(_R))throw new Error("useMetaContext must be used within a MetaContextProvider");return j.useContext(_R)},"useMetaContext"),bi=X(()=>{let{params:t}=Ca(),e=_te();return X(({resource:r,meta:n}={})=>{let{meta:i}=Q$(r)??{meta:{}},{filters:a,sorters:o,current:s,pageSize:l,...u}=t??{},c={...i,...u,...n};return e!=null&&e.tenantId&&(c.tenantId=e.tenantId),c},"getMetaFn")},"useMeta"),yI=X(()=>{let{options:t}=I.useContext(cc);return t},"useRefineOptions"),qPe=X(t=>{let e=Zt(),{useParams:r}=Kr(),n=Ca(),i=r(),a=e==="legacy"?i.id:n.id;return t??a},"useId"),GPe=X(t=>{let e=Zt(),{useParams:r}=Kr(),n=Ca(),i=r(),a=e==="legacy"?i.action:n.action;return t??a},"useAction");function np(t){let{select:e,identifier:r}=er(),n=(t==null?void 0:t.resource)??r,{identifier:i=void 0,resource:a=void 0}=n?e(n,!0):{},o=r===i,s=qPe(),l=GPe(t==null?void 0:t.action),u=I.useMemo(()=>o?(t==null?void 0:t.id)??s:t==null?void 0:t.id,[o,t==null?void 0:t.id,s]),[c,d]=I.useState(u);I.useMemo(()=>d(u),[u]);let f=I.useMemo(()=>!o&&!(t!=null&&t.action)?"create":l==="edit"||l==="clone"?l:"create",[l,o,t==null?void 0:t.action]);return{id:c,setId:d,resource:a,action:l,identifier:i,formAction:f}}X(np,"useResourceParams");function xI({type:t}){let e=yt(),{textTransformers:{humanize:r}}=yI(),n=`buttons.${t}`,i=r(t);return{label:e(n,i)}}X(xI,"useActionableButton");var Ote=X(t=>{var e,r,n;let i=yt(),a=I.useContext(tw),o=((e=t.accessControl)==null?void 0:e.enabled)??a.options.buttons.enableAccessControl,s=((r=t.accessControl)==null?void 0:r.hideIfUnauthorized)??a.options.buttons.hideIfUnauthorized,{data:l}=Pte({resource:(n=t.resource)==null?void 0:n.name,action:t.action==="clone"?"create":t.action,params:{id:t.id,resource:t.resource},queryOptions:{enabled:o}}),u=I.useMemo(()=>l!=null&&l.can?"":l!=null&&l.reason?l.reason:i("buttons.notAccessTitle","You don't have permission to access"),[l==null?void 0:l.can,l==null?void 0:l.reason,i]),c=o&&s&&!(l!=null&&l.can),d=(l==null?void 0:l.can)===!1;return{title:u,hidden:c,disabled:d,canAccess:l}},"useButtonCanAccess");function pm(t){var e;let r=ca(),n=Zt(),i=Ta(),{Link:a}=Kr(),o=yt(),s=dc(),{textTransformers:{humanize:l}}=yI(),{id:u,resource:c,identifier:d}=np({resource:t.resource,id:t.action==="create"?void 0:t.id}),{canAccess:f,title:p,hidden:v,disabled:g}=Ote({action:t.action,accessControl:t.accessControl,id:u,resource:c}),m=n==="legacy"?a:i,y=I.useMemo(()=>{if(!c)return"";switch(t.action){case"create":case"list":return r[`${t.action}Url`](c,t.meta);default:return u?r[`${t.action}Url`](c,u,t.meta):""}},[c,u,t.meta,r[`${t.action}Url`]]),x=t.action==="list"?o(`${d??t.resource}.titles.list`,s(((e=c==null?void 0:c.meta)==null?void 0:e.label)??(c==null?void 0:c.label)??d??t.resource,"plural")):o(`buttons.${t.action}`,l(t.action));return{to:y,label:x,title:p,disabled:g,hidden:v,canAccess:f,LinkComponent:m}}X(pm,"useNavigationButton");function kte(t){let e=yt(),{mutate:r,isLoading:n,variables:i}=cPe(),{setWarnWhen:a}=eu(),{mutationMode:o}=tp(t.mutationMode),{id:s,resource:l,identifier:u}=np({resource:t.resource,id:t.id}),{title:c,disabled:d,hidden:f,canAccess:p}=Ote({action:"delete",accessControl:t.accessControl,id:s,resource:l}),v=e("buttons.delete","Delete"),g=e("buttons.delete","Delete"),m=e("buttons.confirm","Are you sure?"),y=e("buttons.cancel","Cancel"),x=s===(i==null?void 0:i.id)&&n;return{label:v,title:c,hidden:f,disabled:d,canAccess:p,loading:x,confirmOkLabel:g,cancelLabel:y,confirmTitle:m,onConfirm:X(()=>{s&&u&&(a(!1),r({id:s,resource:u,mutationMode:o,successNotification:t.successNotification,errorNotification:t.errorNotification,meta:t.meta,metaData:t.meta,dataProviderName:t.dataProviderName,invalidates:t.invalidates},{onSuccess:t.onSuccess}))},"onConfirm")}}X(kte,"useDeleteButton");function Dte(t){let e=yt(),{keys:r,preferLegacyKeys:n}=zr(),i=Jl(),a=Qs(),{identifier:o,id:s}=np({resource:t.resource,id:t.id}),{resources:l}=er(),u=!!i.isFetching({queryKey:r().data(or(o,t.dataProviderName,l)).resource(o).action("one").get(n)}),c=X(()=>{a({id:s,invalidates:["detail"],dataProviderName:t.dataProviderName,resource:o})},"onClick"),d=e("buttons.refresh","Refresh");return{onClick:c,label:d,loading:u}}X(Dte,"useRefreshButton");var WPe=X(t=>pm({...t,action:"show"}),"useShowButton"),HPe=X(t=>pm({...t,action:"edit"}),"useEditButton"),YPe=X(t=>pm({...t,action:"clone"}),"useCloneButton"),XPe=X(t=>pm({...t,action:"create"}),"useCreateButton"),KPe=X(t=>pm({...t,action:"list"}),"useListButton"),QPe=X(()=>xI({type:"save"}),"useSaveButton"),JPe=X(()=>xI({type:"export"}),"useExportButton"),ZPe=X(()=>xI({type:"import"}),"useImportButton"),e_e=X(()=>{let[t,e]=j.useState(),r=yt(),{push:n}=ca(),i=Ni(),a=Zt(),{resource:o,action:s}=er();return j.useEffect(()=>{o&&s&&e(r("pages.error.info",{action:s,resource:o.name},`You may have forgotten to add the "${s}" component to "${o.name}" resource.`))},[o,s]),I.createElement(I.Fragment,null,I.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),t&&I.createElement("p",null,t),I.createElement("button",{onClick:()=>{a==="legacy"?n("/"):i({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent"),t_e=X(()=>{let[t,e]=j.useState(""),[r,n]=j.useState(""),i=yt(),a=Vr(),{mutate:o}=Kb({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)});return I.createElement(I.Fragment,null,I.createElement("h1",null,i("pages.login.title","Sign in your account")),I.createElement("form",{onSubmit:s=>{s.preventDefault(),o({username:t,password:r})}},I.createElement("table",null,I.createElement("tbody",null,I.createElement("tr",null,I.createElement("td",null,i("pages.login.username",void 0,"username"),":"),I.createElement("td",null,I.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:t,onChange:s=>e(s.target.value)}))),I.createElement("tr",null,I.createElement("td",null,i("pages.login.password",void 0,"password"),":"),I.createElement("td",null,I.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:s=>n(s.target.value)}))))),I.createElement("br",null),I.createElement("input",{type:"submit",value:"login"})))},"LoginPage"),r_e=X(({providers:t,registerLink:e,forgotPasswordLink:r,rememberMe:n,contentProps:i,wrapperProps:a,renderContent:o,formProps:s,title:l=void 0,hideForm:u,mutationVariables:c})=>{let d=Zt(),f=Ta(),{Link:p}=Kr(),v=d==="legacy"?p:f,[g,m]=j.useState(""),[y,x]=j.useState(""),[b,w]=j.useState(!1),S=yt(),C=Vr(),{mutate:E}=Kb({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),A=X((k,O)=>I.createElement(v,{to:k},O),"renderLink"),P=X(()=>t?t.map(k=>I.createElement("div",{key:k.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},I.createElement("button",{onClick:()=>E({...c,providerName:k.name}),style:{display:"flex",alignItems:"center"}},k==null?void 0:k.icon,k.label??I.createElement("label",null,k.label)))):null,"renderProviders"),_=I.createElement("div",{...i},I.createElement("h1",{style:{textAlign:"center"}},S("pages.login.title","Sign in to your account")),P(),!u&&I.createElement(I.Fragment,null,I.createElement("hr",null),I.createElement("form",{onSubmit:k=>{k.preventDefault(),E({...c,email:g,password:y,remember:b})},...s},I.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},I.createElement("label",{htmlFor:"email-input"},S("pages.login.fields.email","Email")),I.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:k=>m(k.target.value)}),I.createElement("label",{htmlFor:"password-input"},S("pages.login.fields.password","Password")),I.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:y,onChange:k=>x(k.target.value)}),n??I.createElement(I.Fragment,null,I.createElement("label",{htmlFor:"remember-me-input"},S("pages.login.buttons.rememberMe","Remember me"),I.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:b,value:b.toString(),onChange:()=>{w(!b)}}))),I.createElement("br",null),r??A("/forgot-password",S("pages.login.buttons.forgotPassword","Forgot password?")),I.createElement("input",{type:"submit",value:S("pages.login.signin","Sign in")}),e??I.createElement("span",null,S("pages.login.buttons.noAccount","Dont have an account?")," ",A("/register",S("pages.login.register","Sign up")))))),e!==!1&&u&&I.createElement("div",{style:{textAlign:"center"}},S("pages.login.buttons.noAccount","Dont have an account?")," ",A("/register",S("pages.login.register","Sign up"))));return I.createElement("div",{...a},o?o(_,l):_)},"LoginPage"),n_e=X(({providers:t,loginLink:e,wrapperProps:r,contentProps:n,renderContent:i,formProps:a,title:o=void 0,hideForm:s,mutationVariables:l})=>{let u=Zt(),c=Ta(),{Link:d}=Kr(),f=u==="legacy"?d:c,[p,v]=j.useState(""),[g,m]=j.useState(""),y=yt(),x=Vr(),{mutate:b,isLoading:w}=U$({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),S=X((A,P)=>I.createElement(f,{to:A},P),"renderLink"),C=X(()=>t?t.map(A=>I.createElement("div",{key:A.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},I.createElement("button",{onClick:()=>b({...l,providerName:A.name}),style:{display:"flex",alignItems:"center"}},A==null?void 0:A.icon,A.label??I.createElement("label",null,A.label)))):null,"renderProviders"),E=I.createElement("div",{...n},I.createElement("h1",{style:{textAlign:"center"}},y("pages.register.title","Sign up for your account")),C(),!s&&I.createElement(I.Fragment,null,I.createElement("hr",null),I.createElement("form",{onSubmit:A=>{A.preventDefault(),b({...l,email:p,password:g})},...a},I.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},I.createElement("label",{htmlFor:"email-input"},y("pages.register.fields.email","Email")),I.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:p,onChange:A=>v(A.target.value)}),I.createElement("label",{htmlFor:"password-input"},y("pages.register.fields.password","Password")),I.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:g,onChange:A=>m(A.target.value)}),I.createElement("input",{type:"submit",value:y("pages.register.buttons.submit","Sign up"),disabled:w}),e??I.createElement(I.Fragment,null,I.createElement("span",null,y("pages.login.buttons.haveAccount","Have an account?")," ",S("/login",y("pages.login.signin","Sign in"))))))),e!==!1&&s&&I.createElement("div",{style:{textAlign:"center"}},y("pages.login.buttons.haveAccount","Have an account?")," ",S("/login",y("pages.login.signin","Sign in"))));return I.createElement("div",{...r},i?i(E,o):E)},"RegisterPage"),i_e=X(({loginLink:t,wrapperProps:e,contentProps:r,renderContent:n,formProps:i,title:a=void 0,mutationVariables:o})=>{let s=yt(),l=Zt(),u=Ta(),{Link:c}=Kr(),d=l==="legacy"?c:u,[f,p]=j.useState(""),{mutate:v,isLoading:g}=q$(),m=X((x,b)=>I.createElement(d,{to:x},b),"renderLink"),y=I.createElement("div",{...r},I.createElement("h1",{style:{textAlign:"center"}},s("pages.forgotPassword.title","Forgot your password?")),I.createElement("hr",null),I.createElement("form",{onSubmit:x=>{x.preventDefault(),v({...o,email:f})},...i},I.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},I.createElement("label",{htmlFor:"email-input"},s("pages.forgotPassword.fields.email","Email")),I.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:x=>p(x.target.value)}),I.createElement("input",{type:"submit",disabled:g,value:s("pages.forgotPassword.buttons.submit","Send reset instructions")}),I.createElement("br",null),t??I.createElement("span",null,s("pages.register.buttons.haveAccount","Have an account? ")," ",m("/login",s("pages.login.signin","Sign in"))))));return I.createElement("div",{...e},n?n(y,a):y)},"ForgotPasswordPage"),a_e=X(({wrapperProps:t,contentProps:e,renderContent:r,formProps:n,title:i=void 0,mutationVariables:a})=>{let o=yt(),s=Vr(),{mutate:l,isLoading:u}=G$({v3LegacyAuthProviderCompatible:!!(s!=null&&s.isLegacy)}),[c,d]=j.useState(""),[f,p]=j.useState(""),v=I.createElement("div",{...e},I.createElement("h1",{style:{textAlign:"center"}},o("pages.updatePassword.title","Update Password")),I.createElement("hr",null),I.createElement("form",{onSubmit:g=>{g.preventDefault(),l({...a,password:c,confirmPassword:f})},...n},I.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},I.createElement("label",{htmlFor:"password-input"},o("pages.updatePassword.fields.password","New Password")),I.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:c,onChange:g=>d(g.target.value)}),I.createElement("label",{htmlFor:"confirm-password-input"},o("pages.updatePassword.fields.confirmPassword","Confirm New Password")),I.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:f,onChange:g=>p(g.target.value)}),I.createElement("input",{type:"submit",disabled:u,value:o("pages.updatePassword.buttons.submit","Update")}))));return I.createElement("div",{...t},r?r(v,i):v)},"UpdatePasswordPage");X(t=>{let{type:e}=t;return I.createElement(I.Fragment,null,X(()=>{switch(e){case"register":return I.createElement(n_e,{...t});case"forgotPassword":return I.createElement(i_e,{...t});case"updatePassword":return I.createElement(a_e,{...t});default:return I.createElement(r_e,{...t})}},"renderView")())},"AuthPage");var o_e=X(()=>I.createElement(I.Fragment,null,I.createElement("h1",null,"Welcome on board"),I.createElement("p",null,"Your configuration is completed."),I.createElement("p",null,"Now you can get started by adding your resources to the"," ",I.createElement("code",null,"`resources`")," property of ",I.createElement("code",null,"`<Refine>`")),I.createElement("div",{style:{display:"flex",gap:8}},I.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},I.createElement("button",null,"Documentation")),I.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},I.createElement("button",null,"Examples")),I.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},I.createElement("button",null,"Community")))),"ReadyPage"),s_e=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],l_e=X(()=>{let t=q6("(max-width: 1010px)"),e=q6("(max-width: 650px)"),r=X(()=>e?"1, 280px":t?"2, 280px":"4, 1fr","getGridTemplateColumns"),n=X(()=>e?"32px":t?"40px":"48px","getHeaderFontSize"),i=X(()=>e?"16px":t?"20px":"24px","getSubHeaderFontSize");return I.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},I.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},I.createElement("div",{style:{zIndex:2,position:"absolute",width:e?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),I.createElement("div",{style:{height:e?"40px":"80px"}}),I.createElement("div",{style:{display:"flex",justifyContent:"center"}},I.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:e?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:e?112:224,height:e?58:116}})),I.createElement("div",{style:{height:e?"120px":t?"200px":"30vh",minHeight:e?"120px":"200px"}}),I.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},I.createElement("h1",{style:{fontSize:n(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),I.createElement("h4",{style:{fontSize:i(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),I.createElement("div",{style:{height:"64px"}}),I.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},s_e.map(a=>I.createElement(u_e,{key:`welcome-page-${a.title}`,card:a})))))},"ConfigSuccessPage"),u_e=X(({card:t})=>{let{title:e,description:r,iconUrl:n,link:i}=t,[a,o]=j.useState(!1);return I.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},I.createElement("div",{style:{display:"flex",alignItems:"center"}},I.createElement("a",{onPointerEnter:()=>o(!0),onPointerLeave:()=>o(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:i},I.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`}}),I.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},e),I.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...a&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),I.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card"),c_e=X(()=>I.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},I.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},I.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},I.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},I.createElement(f_e,{style:{position:"absolute",left:0,top:0}}),I.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},I.createElement(h_e,null),I.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),I.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},I.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},I.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),I.createElement("div",null,I.createElement(d_e,null)))))),"ConfigErrorPage"),d_e=X(()=>I.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},I.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",I.createElement("span",{style:{color:"#FF7B72"}},"from")," ",I.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,I.createElement("span",{style:{color:"#FF7B72"}},"export")," ",I.createElement("span",{style:{color:"#FF7B72"}},"default")," ",I.createElement("span",null,I.createElement("span",{style:{color:"#FF7B72"}},"function")," ",I.createElement("span",{style:{color:"#FFA657"}},"App"),"(",I.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",I.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",I.createElement("span",null,I.createElement("span",{style:{color:"#79C0FF"}},"<",I.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",I.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",I.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",I.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",I.createElement("span",{style:{color:"#79C0FF"}},"<",I.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",I.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",I.createElement("span",{style:{color:"#79C0FF"}},"</",I.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),f_e=X(t=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...t},I.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),I.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),I.createElement("defs",null,I.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),I.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),I.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),h_e=X(t=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...t},I.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),I.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon"),p_e=X(()=>{let{__initialized:t}=_n();return I.createElement(I.Fragment,null,I.createElement(l_e,null),!t&&I.createElement(c_e,null))},"WelcomePage"),v_e="4.57.9",g_e=X(()=>{var t;let e=pI(),r=j.useContext(mI),{liveProvider:n}=j.useContext(Qb),i=j.useContext(K$),a=j.useContext(W$),{i18nProvider:o}=j.useContext(fm),s=j.useContext(Y$),l=j.useContext(tw),{resources:u}=er(),c=_n(),d=!!r.create||!!r.get||!!r.update,f=!!(n!=null&&n.publish)||!!(n!=null&&n.subscribe)||!!(n!=null&&n.unsubscribe),p=!!i.useHistory||!!i.Link||!!i.Prompt||!!i.useLocation||!!i.useParams,v=!!a,g=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),m=!!s.close||!!s.open,y=!!l.can,x=(t=c==null?void 0:c.options)==null?void 0:t.projectId;return{providers:{auth:e,auditLog:d,live:f,router:p,data:v,i18n:g,notification:m,accessControl:y},version:v_e,resourceCount:u.length,projectId:x}},"useTelemetryData"),m_e=X(t=>{try{let e=JSON.stringify(t||{});return typeof btoa<"u"?btoa(e):Buffer.from(e).toString("base64")}catch{return}},"encode"),y_e=X(t=>{let e=new Image;e.src=t},"throughImage"),x_e=X(t=>{fetch(t)},"throughFetch"),b_e=X(t=>{typeof Image<"u"?y_e(t):typeof fetch<"u"&&x_e(t)},"transport"),w_e=X(()=>{let t=g_e(),e=I.useRef(!1);return I.useEffect(()=>{if(e.current)return;let r=m_e(t);r&&(b_e(`https://telemetry.refine.dev/telemetry?payload=${r}`),e.current=!0)},[]),null},"Telemetry"),S_e=X(t=>{let e=["go","parse","back","Link"],r=Object.keys(t).filter(n=>!e.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${e.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse"),E_e=X(t=>{let e=I.useRef(!1);I.useEffect(()=>{e.current===!1&&t&&S_e(t)&&(e.current=!0)},[t])},"useRouterMisuseWarning"),A_e=X(({legacyAuthProvider:t,authProvider:e,dataProvider:r,legacyRouterProvider:n,routerProvider:i,notificationProvider:a,accessControlProvider:o,auditLogProvider:s,resources:l,DashboardPage:u,ReadyPage:c,LoginPage:d,catchAll:f,children:p,liveProvider:v,i18nProvider:g,Title:m,Layout:y,Sider:x,Header:b,Footer:w,OffLayoutArea:S,onLiveEvent:C,options:E})=>{let{optionsWithDefaults:A,disableTelemetryWithDefault:P,reactQueryWithDefaults:_}=BIe({options:E}),k=Ste(()=>{var B;return _.clientConfig instanceof Nz?_.clientConfig:new Nz({..._.clientConfig,defaultOptions:{..._.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(B=_.clientConfig.defaultOptions)==null?void 0:B.queries}}})},[_.clientConfig]),O=I.useMemo(()=>typeof a=="function"?a:()=>a,[a])();if(E_e(i),n&&!i&&(l??[]).length===0)return c?I.createElement(c,null):I.createElement(o_e,null);let{RouterComponent:D=I.Fragment}=i?{}:n??{};return I.createElement(Mwe,{client:k},I.createElement(EPe,{...O},I.createElement(PIe,{...t??{},isProvided:!!t},I.createElement(_Ie,{...e??{},isProvided:!!e},I.createElement(fPe,{dataProvider:r},I.createElement(hPe,{liveProvider:v},I.createElement(gPe,{value:n&&!i?"legacy":"new"},I.createElement(mPe,{router:i},I.createElement(NPe,{...n},I.createElement(vPe,{resources:l??[]},I.createElement(APe,{i18nProvider:g},I.createElement(BPe,{...o??{}},I.createElement(VPe,{...s??{}},I.createElement(SPe,null,I.createElement(NIe,{mutationMode:A.mutationMode,warnWhenUnsavedChanges:A.warnWhenUnsavedChanges,syncWithLocation:A.syncWithLocation,Title:m,undoableTimeout:A.undoableTimeout,catchAll:f,DashboardPage:u,LoginPage:d,Layout:y,Sider:x,Footer:w,Header:b,OffLayoutArea:S,hasDashboard:!!u,liveMode:A.liveMode,onLiveEvent:C,options:A},I.createElement(HIe,null,I.createElement(D,null,p,!P&&I.createElement(w_e,null),I.createElement(__e,null))))))))))))))))))},"Refine"),C_e=X(({notification:t})=>{let e=yt(),{notificationDispatch:r}=ew(),{open:n}=rp(),[i,a]=j.useState(),o=X(()=>{if(t.isRunning===!0&&(t.seconds===0&&t.doMutation(),t.isSilent||n==null||n({key:`${t.id}-${t.resource}-notification`,type:"progress",message:e("notifications.undoable",{seconds:Lk(t.seconds)},`You have ${Lk(t.seconds)} seconds to undo`),cancelMutation:t.cancelMutation,undoableTimeout:Lk(t.seconds)}),t.seconds>0)){i&&clearTimeout(i);let s=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:t.id,seconds:t.seconds,resource:t.resource}})},1e3);a(s)}},"cancelNotification");return j.useEffect(()=>{o()},[t]),null},"UndoableQueue");X(({children:t,Layout:e,Sider:r,Header:n,Title:i,Footer:a,OffLayoutArea:o})=>{let{Layout:s,Footer:l,Header:u,Sider:c,Title:d,OffLayoutArea:f}=_n();return I.createElement(e??s,{Sider:r??c,Header:n??u,Footer:a??l,Title:i??d,OffLayoutArea:o??f},t,I.createElement(T_e,null))},"LayoutWrapper");var T_e=X(()=>{let{Prompt:t}=Kr(),e=yt(),{warnWhen:r,setWarnWhen:n}=eu(),i=X(a=>(a.preventDefault(),a.returnValue=e("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),a.returnValue),"warnWhenListener");return j.useEffect(()=>(r&&window.addEventListener("beforeunload",i),window.removeEventListener("beforeunload",i)),[r]),I.createElement(t,{when:r,message:e("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},"UnsavedPrompt");function OR({redirectOnFail:t=!0,appendCurrentPathToQuery:e=!0,children:r,fallback:n,loading:i,params:a}){var o;let s=Vr(),l=Zt(),u=!!(s!=null&&s.isProvided),c=!!(s!=null&&s.isLegacy),d=l==="legacy",f=Ca(),p=Ni(),{useLocation:v}=Kr(),g=v(),{isFetching:m,isSuccess:y,data:{authenticated:x,redirectTo:b}={}}=mte({v3LegacyAuthProviderCompatible:c,params:a}),w=u?c?y:x:!0;if(!u)return I.createElement(I.Fragment,null,r??null);if(m)return I.createElement(I.Fragment,null,i??null);if(w)return I.createElement(I.Fragment,null,r??null);if(typeof n<"u")return I.createElement(I.Fragment,null,n??null);let S=c?typeof t=="string"?t:"/login":typeof t=="string"?t:b,C=`${d?g==null?void 0:g.pathname:f.pathname}`.replace(/(\?.*|#.*)$/,"");if(S){if(d){let A=e?`?to=${encodeURIComponent(C)}`:"";return I.createElement(P_e,{to:`${S}${A}`})}let E=(o=f.params)!=null&&o.to?f.params.to:p({to:C,options:{keepQuery:!0},type:"path"});return I.createElement(I_e,{config:{to:S,query:e&&(E??"").length>1?{to:E}:void 0,type:"replace"}})}return null}X(OR,"Authenticated");var I_e=X(({config:t})=>{let e=Ni();return I.useEffect(()=>{e(t)},[e,t]),null},"Redirect"),P_e=X(({to:t})=>{let{replace:e}=ca();return I.useEffect(()=>{e(t)},[e,t]),null},"RedirectLegacy"),__e=X(()=>{let{useLocation:t}=Kr(),{checkAuth:e}=hs(),r=t();return j.useEffect(()=>{e==null||e().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler"),og=X(({resource:t,action:e,params:r,fallback:n,onUnauthorized:i,children:a,queryOptions:o,...s})=>{let{id:l,resource:u,action:c=""}=np({resource:t,id:r==null?void 0:r.id}),d=e??c,f=r??{id:l,resource:u},{data:p}=Pte({resource:u==null?void 0:u.name,action:d,params:f,queryOptions:o});return j.useEffect(()=>{i&&(p==null?void 0:p.can)===!1&&i({resource:u==null?void 0:u.name,action:d,reason:p==null?void 0:p.reason,params:f})},[p==null?void 0:p.can]),p!=null&&p.can?I.isValidElement(a)?I.cloneElement(a,s):I.createElement(I.Fragment,null,a):(p==null?void 0:p.can)===!1?I.createElement(I.Fragment,null,n??null):null},"CanAccess"),O_e=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `],k_e="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub";X(({containerStyle:t})=>(j.useEffect(()=>{let e=document.createElement("style");document.head.appendChild(e),O_e.forEach(r=>{var n;return(n=e.sheet)==null?void 0:n.insertRule(r,e.sheet.cssRules.length)})},[]),I.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},I.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26",...t}},I.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},I.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},I.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},I.createElement(B1,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),I.createElement(B1,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),I.createElement(tU,{style:{position:"absolute",right:"10px"},id:"3"})),I.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},I.createElement(B1,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),I.createElement(B1,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),I.createElement(tU,{style:{position:"absolute",right:"-70px"},id:"6"})))),I.createElement(D_e,{text:k_e})))),"GitHubBanner");var D_e=X(({text:t})=>I.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},I.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},I.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},""),I.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},t),I.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},""))),"Text"),B1=X(({style:t,...e})=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...t}},I.createElement("circle",{cx:40,r:40,fill:`url(#${e.id}-a)`,fillOpacity:.5}),I.createElement("defs",null,I.createElement("radialGradient",{id:`${e.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#47EBEB"}),I.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),tU=X(({style:t,...e})=>I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...e,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...t}},I.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${e.id}-a)`,fillOpacity:.5}),I.createElement("defs",null,I.createElement("radialGradient",{id:`${e.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},I.createElement("stop",{stopColor:"#47EBEB"}),I.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig"),M_e=X(({status:t,elements:{success:e=I.createElement(V1,{translationKey:"autoSave.success",defaultMessage:"saved"}),error:r=I.createElement(V1,{translationKey:"autoSave.error",defaultMessage:"auto save failure"}),loading:n=I.createElement(V1,{translationKey:"autoSave.loading",defaultMessage:"saving..."}),idle:i=I.createElement(V1,{translationKey:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(t){case"success":return I.createElement(I.Fragment,null,e);case"error":return I.createElement(I.Fragment,null,r);case"loading":return I.createElement(I.Fragment,null,n);default:return I.createElement(I.Fragment,null,i)}},"AutoSaveIndicator"),V1=X(({translationKey:t,defaultMessage:e})=>{let r=yt();return I.createElement("span",null,r(t,e))},"Message"),rU={Title:"refine-pageHeader-title",SubTitle:"refine-pageHeader-subTitle"},tu={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"},Mte={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(mn,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,s=o.format;a.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,f){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,v,g){var m=g&&g.toUpperCase();return v||f[g]||r[g]||f[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,b){return x||b.slice(1)})})}(l,u===void 0?{}:u);return s.call(this,c)}}})})(Mte);var R_e=Mte.exports;const j_e=_t(R_e);var Rp={}.hasOwnProperty,Rte=F_e;function F_e(t){return!t||typeof t!="object"?"":Rp.call(t,"position")||Rp.call(t,"type")?nU(t.position):Rp.call(t,"start")||Rp.call(t,"end")?nU(t):Rp.call(t,"line")||Rp.call(t,"column")?kR(t):""}function kR(t){return(!t||typeof t!="object")&&(t={}),iU(t.line)+":"+iU(t.column)}function nU(t){return(!t||typeof t!="object")&&(t={}),kR(t.start)+"-"+kR(t.end)}function iU(t){return t&&typeof t=="number"?t:1}var L_e=Rte,$_e=tN;function jte(){}jte.prototype=Error.prototype;tN.prototype=new jte;var Yd=tN.prototype;Yd.file="";Yd.name="";Yd.reason="";Yd.message="";Yd.stack="";Yd.fatal=null;Yd.column=null;Yd.line=null;function tN(t,e,r){var n,i,a;typeof e=="string"&&(r=e,e=null),n=N_e(r),i=L_e(e)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},e&&e.position&&(e=e.position),e&&(e.start?(a=e,e=e.start):a.start=e),t.stack&&(this.stack=t.stack,t=t.message),this.message=t,this.name=i,this.reason=t,this.line=e?e.line:null,this.column=e?e.column:null,this.location=a,this.source=n[0],this.ruleId=n[1]}function N_e(t){var e=[null,null],r;return typeof t=="string"&&(r=t.indexOf(":"),r===-1?e[1]=t:(e[0]=t.slice(0,r),e[1]=t.slice(r+1))),e}var vm={};vm.basename=B_e;vm.dirname=V_e;vm.extname=z_e;vm.join=U_e;vm.sep="/";function B_e(t,e){var r=0,n=-1,i,a,o,s;if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');if(rw(t),i=t.length,e===void 0||!e.length||e.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":t.slice(r,n)}if(e===t)return"";for(a=-1,s=e.length-1;i--;)if(t.charCodeAt(i)===47){if(o){r=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(t.charCodeAt(i)===e.charCodeAt(s--)?s<0&&(n=i):(s=-1,n=a));return r===n?n=a:n<0&&(n=t.length),t.slice(r,n)}function V_e(t){var e,r,n;if(rw(t),!t.length)return".";for(e=-1,n=t.length;--n;)if(t.charCodeAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function z_e(t){var e=-1,r=0,n=-1,i=0,a,o,s;for(rw(t),s=t.length;s--;){if(o=t.charCodeAt(s),o===47){if(a){r=s+1;break}continue}n<0&&(a=!0,n=s+1),o===46?e<0?e=s:i!==1&&(i=1):e>-1&&(i=-1)}return e<0||n<0||i===0||i===1&&e===n-1&&e===r+1?"":t.slice(e,n)}function U_e(){for(var t=-1,e;++t<arguments.length;)rw(arguments[t]),arguments[t]&&(e=e===void 0?arguments[t]:e+"/"+arguments[t]);return e===void 0?".":q_e(e)}function q_e(t){var e,r;return rw(t),e=t.charCodeAt(0)===47,r=G_e(t,!e),!r.length&&!e&&(r="."),r.length&&t.charCodeAt(t.length-1)===47&&(r+="/"),e?"/"+r:r}function G_e(t,e){for(var r="",n=0,i=-1,a=0,o=-1,s,l;++o<=t.length;){if(o<t.length)s=t.charCodeAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=o,a=0;continue}}else if(r.length){r="",n=0,i=o,a=0;continue}}e&&(r=r.length?r+"/..":"..",n=2)}else r.length?r+="/"+t.slice(i+1,o):r=t.slice(i+1,o),n=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return r}function rw(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}var Fte={};Fte.cwd=W_e;function W_e(){return"/"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Lte=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)},ql=vm,H_e=Fte,Y_e=Lte,X_e=Hu,K_e={}.hasOwnProperty,Yk=["history","path","basename","stem","extname","dirname"];Hu.prototype.toString=sOe;Object.defineProperty(Hu.prototype,"path",{get:Q_e,set:J_e});Object.defineProperty(Hu.prototype,"dirname",{get:Z_e,set:eOe});Object.defineProperty(Hu.prototype,"basename",{get:tOe,set:rOe});Object.defineProperty(Hu.prototype,"extname",{get:nOe,set:iOe});Object.defineProperty(Hu.prototype,"stem",{get:aOe,set:oOe});function Hu(t){var e,r;if(!t)t={};else if(typeof t=="string"||Y_e(t))t={contents:t};else if("message"in t&&"messages"in t)return t;if(!(this instanceof Hu))return new Hu(t);for(this.data={},this.messages=[],this.history=[],this.cwd=H_e.cwd(),r=-1;++r<Yk.length;)e=Yk[r],K_e.call(t,e)&&(this[e]=t[e]);for(e in t)Yk.indexOf(e)<0&&(this[e]=t[e])}function Q_e(){return this.history[this.history.length-1]}function J_e(t){nN(t,"path"),this.path!==t&&this.history.push(t)}function Z_e(){return typeof this.path=="string"?ql.dirname(this.path):void 0}function eOe(t){$te(this.path,"dirname"),this.path=ql.join(t||"",this.basename)}function tOe(){return typeof this.path=="string"?ql.basename(this.path):void 0}function rOe(t){nN(t,"basename"),rN(t,"basename"),this.path=ql.join(this.dirname||"",t)}function nOe(){return typeof this.path=="string"?ql.extname(this.path):void 0}function iOe(t){if(rN(t,"extname"),$te(this.path,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=ql.join(this.dirname,this.stem+(t||""))}function aOe(){return typeof this.path=="string"?ql.basename(this.path,this.extname):void 0}function oOe(t){nN(t,"stem"),rN(t,"stem"),this.path=ql.join(this.dirname||"",t+(this.extname||""))}function sOe(t){return(this.contents||"").toString(t)}function rN(t,e){if(t&&t.indexOf(ql.sep)>-1)throw new Error("`"+e+"` cannot be a path: did not expect `"+ql.sep+"`")}function nN(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function $te(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}var lOe=$_e,bI=X_e,uOe=bI;bI.prototype.message=cOe;bI.prototype.info=fOe;bI.prototype.fail=dOe;function cOe(t,e,r){var n=new lOe(t,e,r);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}function dOe(){var t=this.message.apply(this,arguments);throw t.fatal=!0,t}function fOe(){var t=this.message.apply(this,arguments);return t.fatal=null,t}var Nte=uOe,hOe=pOe;function pOe(t){if(t)throw t}var $E=Object.prototype.hasOwnProperty,Bte=Object.prototype.toString,aU=Object.defineProperty,oU=Object.getOwnPropertyDescriptor,sU=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Bte.call(e)==="[object Array]"},lU=function(e){if(!e||Bte.call(e)!=="[object Object]")return!1;var r=$E.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&$E.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||$E.call(e,i)},uU=function(e,r){aU&&r.name==="__proto__"?aU(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},cU=function(e,r){if(r==="__proto__")if($E.call(e,r)){if(oU)return oU(e,r).value}else return;return e[r]},vOe=function t(){var e,r,n,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=cU(s,r),i=cU(e,r),s!==i&&(c&&i&&(lU(i)||(a=sU(i)))?(a?(a=!1,o=n&&sU(n)?n:[]):o=n&&lU(n)?n:{},uU(s,{name:r,newValue:t(c,o,i)})):typeof i<"u"&&uU(s,{name:r,newValue:i}));return s},gOe=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype},mOe=[].slice,yOe=xOe;function xOe(t,e){var r;return n;function n(){var o=mOe.call(arguments,0),s=t.length>o.length,l;s&&o.push(i);try{l=t.apply(null,o)}catch(u){if(s&&r)throw u;return i(u)}s||(l&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(){r||(r=!0,e.apply(null,arguments))}function a(o){i(null,o)}}var Vte=yOe,bOe=zte;zte.wrap=Vte;var dU=[].slice;function zte(){var t=[],e={};return e.run=r,e.use=n,e;function r(){var i=-1,a=dU.call(arguments,0,-1),o=arguments[arguments.length-1];if(typeof o!="function")throw new Error("Expected function as last argument, not "+o);s.apply(null,[null].concat(a));function s(l){var u=t[++i],c=dU.call(arguments,0),d=c.slice(1),f=a.length,p=-1;if(l){o(l);return}for(;++p<f;)(d[p]===null||d[p]===void 0)&&(d[p]=a[p]);a=d,u?Vte(u,s).apply(null,a):o.apply(null,[null].concat(a))}}function n(i){if(typeof i!="function")throw new Error("Expected `fn` to be a function, not "+i);return t.push(i),e}}var fU=hOe,wOe=Lte,z1=vOe,hU=gOe,Ute=bOe,yy=Nte,SOe=qte().freeze(),EOe=[].slice,AOe={}.hasOwnProperty,COe=Ute().use(TOe).use(IOe).use(POe);function TOe(t,e){e.tree=t.parse(e.file)}function IOe(t,e,r){t.run(e.tree,e.file,n);function n(i,a,o){i?r(i):(e.tree=a,e.file=o,r())}}function POe(t,e){var r=t.stringify(e.tree,e.file);r==null||(typeof r=="string"||wOe(r)?("value"in e.file&&(e.file.value=r),e.file.contents=r):e.file.result=r)}function qte(){var t=[],e=Ute(),r={},n=-1,i;return a.data=s,a.freeze=o,a.attachers=t,a.use=l,a.parse=c,a.stringify=p,a.run=d,a.runSync=f,a.process=v,a.processSync=g,a;function a(){for(var m=qte(),y=-1;++y<t.length;)m.use.apply(null,t[y]);return m.data(z1(!0,{},r)),m}function o(){var m,y;if(i)return a;for(;++n<t.length;)m=t[n],m[1]!==!1&&(m[1]===!0&&(m[1]=void 0),y=m[0].apply(a,m.slice(1)),typeof y=="function"&&e.use(y));return i=!0,n=1/0,a}function s(m,y){return typeof m=="string"?arguments.length===2?(Qk("data",i),r[m]=y,a):AOe.call(r,m)&&r[m]||null:m?(Qk("data",i),r=m,a):r}function l(m){var y;if(Qk("use",i),m!=null)if(typeof m=="function")S.apply(null,arguments);else if(typeof m=="object")"length"in m?w(m):x(m);else throw new Error("Expected usable value, not `"+m+"`");return y&&(r.settings=z1(r.settings||{},y)),a;function x(C){w(C.plugins),C.settings&&(y=z1(y||{},C.settings))}function b(C){if(typeof C=="function")S(C);else if(typeof C=="object")"length"in C?S.apply(null,C):x(C);else throw new Error("Expected usable value, not `"+C+"`")}function w(C){var E=-1;if(C!=null)if(typeof C=="object"&&"length"in C)for(;++E<C.length;)b(C[E]);else throw new Error("Expected a list of plugins, not `"+C+"`")}function S(C,E){var A=u(C);A?(hU(A[1])&&hU(E)&&(E=z1(!0,A[1],E)),A[1]=E):t.push(EOe.call(arguments))}}function u(m){for(var y=-1;++y<t.length;)if(t[y][0]===m)return t[y]}function c(m){var y=yy(m),x;return o(),x=a.Parser,Xk("parse",x),pU(x,"parse")?new x(String(y),y).parse():x(String(y),y)}function d(m,y,x){if(vU(m),o(),!x&&typeof y=="function"&&(x=y,y=null),!x)return new Promise(b);b(null,x);function b(w,S){e.run(m,yy(y),C);function C(E,A,P){A=A||m,E?S(E):w?w(A):x(null,A,P)}}}function f(m,y){var x,b;return d(m,y,w),gU("runSync","run",b),x;function w(S,C){b=!0,x=C,fU(S)}}function p(m,y){var x=yy(y),b;return o(),b=a.Compiler,Kk("stringify",b),vU(m),pU(b,"compile")?new b(m,x).compile():b(m,x)}function v(m,y){if(o(),Xk("process",a.Parser),Kk("process",a.Compiler),!y)return new Promise(x);x(null,y);function x(b,w){var S=yy(m);COe.run(a,{file:S},C);function C(E){E?w(E):b?b(S):y(null,S)}}}function g(m){var y,x;return o(),Xk("processSync",a.Parser),Kk("processSync",a.Compiler),y=yy(m),v(y,b),gU("processSync","process",x),y;function b(w){x=!0,fU(w)}}}function pU(t,e){return typeof t=="function"&&t.prototype&&(_Oe(t.prototype)||e in t.prototype)}function _Oe(t){var e;for(e in t)return!0;return!1}function Xk(t,e){if(typeof e!="function")throw new Error("Cannot `"+t+"` without `Parser`")}function Kk(t,e){if(typeof e!="function")throw new Error("Cannot `"+t+"` without `Compiler`")}function Qk(t,e){if(e)throw new Error("Cannot invoke `"+t+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function vU(t){if(!t||typeof t.type!="string")throw new Error("Expected node, got `"+t+"`")}function gU(t,e,r){if(!r)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}var OOe=Gte;function Gte(t){return t&&(t.value||t.alt||t.title||"children"in t&&mU(t.children)||"length"in t&&mU(t))||""}function mU(t){for(var e=[],r=-1;++r<t.length;)e[r]=Gte(t[r]);return e.join("")}var kOe=Object.assign,nw=kOe,DOe={}.hasOwnProperty,Wte=DOe;function MOe(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var iN=MOe,ROe=String.fromCharCode,wI=ROe,jOe=wI;function FOe(t,e){var r=parseInt(t,e);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":jOe(r)}var LOe=FOe,aN={};function $Oe(t){return t<-2}var Gn=$Oe;function NOe(t){return t===-2||t===-1||t===32}var fc=NOe,yU=fc;function BOe(t,e,r,n){var i=n?n-1:1/0,a=0;return o;function o(l){return yU(l)?(t.enter(r),s(l)):e(l)}function s(l){return yU(l)&&a++<i?(t.consume(l),s):(t.exit(r),e(l))}}var ni=BOe;Object.defineProperty(aN,"__esModule",{value:!0});var VOe=Gn,zOe=ni,UOe=qOe;function qOe(t){var e=t.attempt(this.parser.constructs.contentInitial,n,i),r;return e;function n(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),zOe(t,e,"linePrefix")}function i(s){return t.enter("paragraph"),a(s)}function a(s){var l=t.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return VOe(s)?(t.consume(s),t.exit("chunkText"),a):(t.consume(s),o)}}aN.tokenize=UOe;var oN={},GOe=Gn,WOe=ni,HOe={tokenize:YOe,partial:!0};function YOe(t,e,r){return WOe(t,n,"linePrefix");function n(i){return i===null||GOe(i)?e(i):r(i)}}var SI=HOe;Object.defineProperty(oN,"__esModule",{value:!0});var XOe=Gn,Hte=ni,KOe=SI,QOe=ZOe,Jk={tokenize:eke},JOe={tokenize:tke};function ZOe(t){var e=this,r=[],n=0,i={tokenize:y,partial:!0},a,o,s;return l;function l(x){return n<r.length?(e.containerState=r[n][1],t.attempt(r[n][0].continuation,u,c)(x)):c(x)}function u(x){return n++,l(x)}function c(x){return a&&a.flowContinue?f(x):(e.interrupt=o&&o.currentConstruct&&o.currentConstruct.interruptible,e.containerState={},t.attempt(Jk,d,f)(x))}function d(x){return r.push([e.currentConstruct,e.containerState]),e.containerState=void 0,c(x)}function f(x){if(x===null){m(0,!0),t.consume(x);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:o}),p(x)}function p(x){return x===null?(g(t.exit("chunkFlow")),f(x)):XOe(x)?(t.consume(x),g(t.exit("chunkFlow")),t.check(i,v)):(t.consume(x),p)}function v(x){return m(a.continued,a&&a.flowEnd),n=0,l(x)}function g(x){s&&(s.next=x),s=x,o.lazy=a&&a.lazy,o.defineSkip(x.start),o.write(e.sliceStream(x))}function m(x,b){var w=r.length;for(o&&b&&(o.write([null]),s=o=void 0);w-- >x;)e.containerState=r[w][1],r[w][0].exit.call(e,t);r.length=x}function y(x,b){var w=0;return a={},S;function S(k){return w<r.length?(e.containerState=r[w][1],x.attempt(r[w][0].continuation,C,E)(k)):o.currentConstruct&&o.currentConstruct.concrete?(a.flowContinue=!0,_(k)):(e.interrupt=o.currentConstruct&&o.currentConstruct.interruptible,e.containerState={},x.attempt(Jk,P,_)(k))}function C(k){return w++,e.containerState._closeFlow?P(k):S(k)}function E(k){return o.currentConstruct&&o.currentConstruct.lazy?(e.containerState={},x.attempt(Jk,P,x.attempt(JOe,P,x.check(KOe,P,A)))(k)):P(k)}function A(k){return w=r.length,a.lazy=!0,a.flowContinue=!0,_(k)}function P(k){return a.flowEnd=!0,_(k)}function _(k){return a.continued=w,e.interrupt=e.containerState=void 0,b(k)}}}function eke(t,e,r){return Hte(t,t.attempt(this.parser.constructs.document,e,r),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function tke(t,e,r){return Hte(t,t.lazy(this.parser.constructs.flow,e,r),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}oN.tokenize=QOe;var sN={};function rke(t){for(var e=-1,r=0;++e<t.length;)r+=typeof t[e]=="string"?t[e].length:1;return r}var Yte=rke,nke=Yte;function ike(t,e){var r=t[t.length-1];return!r||r[1].type!==e?0:nke(r[2].sliceStream(r[1]))}var iw=ike,ake=[].splice,oke=ake,Zk=oke;function ske(t,e,r,n){var i=t.length,a=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(e,r),Zk.apply(t,o);else for(r&&Zk.apply(t,[e,r]);a<n.length;)o=n.slice(a,a+1e4),o.unshift(e,0),Zk.apply(t,o),a+=1e4,e+=1e4}var hc=ske,lke=nw;function uke(t){return lke({},t)}var ip=uke,cke=nw,Xte=hc,dke=ip;function fke(t){for(var e={},r=-1,n,i,a,o,s,l,u;++r<t.length;){for(;r in e;)r=e[r];if(n=t[r],r&&n[1].type==="chunkFlow"&&t[r-1][1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1].isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(cke(e,hke(t,r)),r=e[r],u=!0);else if(n[1]._container||n[1]._movePreviousLineEndings){for(a=r,i=void 0;a--&&(o=t[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(n[1].end=dke(t[i][1].start),s=t.slice(i,r),s.unshift(n),Xte(t,i,r-i+1,s))}}return!u}function hke(t,e){for(var r=t[e][1],n=t[e][2],i=e-1,a=[],o=r._tokenizer||n.parser[r.contentType](r.start),s=o.events,l=[],u={},c,d,f,p,v,g;r;){for(;t[++i][1]!==r;);a.push(i),r._tokenizer||(c=n.sliceStream(r),r.next||c.push(null),d&&o.defineSkip(r.start),r.isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),r.isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=r,r=r.next}for(r=d,f=s.length;f--;)s[f][0]==="enter"?p=!0:p&&s[f][1].type===s[f-1][1].type&&s[f][1].start.line!==s[f][1].end.line&&(m(s.slice(f+1,v)),r._tokenizer=r.next=void 0,r=r.previous,v=f+1);for(o.events=r._tokenizer=r.next=void 0,m(s.slice(0,v)),f=-1,g=0;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u;function m(y){var x=a.pop();l.unshift([x,x+y.length-1]),Xte(t,x,2,y)}}var Kte=fke,Qte=Gn,pke=iw,vke=Kte,gke=ni,mke={tokenize:bke,resolve:xke,interruptible:!0,lazy:!0},yke={tokenize:wke,partial:!0};function xke(t){return vke(t),t}function bke(t,e){var r;return n;function n(s){return t.enter("content"),r=t.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):Qte(s)?t.check(yke,o,a)(s):(t.consume(s),i)}function a(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function o(s){return t.consume(s),t.exit("chunkContent"),r=r.next=t.enter("chunkContent",{contentType:"content",previous:r}),i}}function wke(t,e,r){var n=this;return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),gke(t,a,"linePrefix")}function a(o){return o===null||Qte(o)?r(o):n.parser.constructs.disable.null.indexOf("codeIndented")>-1||pke(n.events,"linePrefix")<4?t.interrupt(n.parser.constructs.flow,r,e)(o):e(o)}}var Ske=mke;Object.defineProperty(sN,"__esModule",{value:!0});var Eke=Ske,Ake=ni,Cke=SI,Tke=Ike;function Ike(t){var e=this,r=t.attempt(Cke,n,t.attempt(this.parser.constructs.flowInitial,i,Ake(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Eke,i)),"linePrefix")));return r;function n(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,r}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,r}}sN.tokenize=Tke;var gm={};Object.defineProperty(gm,"__esModule",{value:!0});var Pke=nw,xU=ip,_ke=Jte("text"),Oke=Jte("string"),kke={resolveAll:Zte()};function Jte(t){return{tokenize:e,resolveAll:Zte(t==="text"?Dke:void 0)};function e(r){var n=this,i=this.parser.constructs[t],a=r.attempt(i,o,s);return o;function o(c){return u(c)?a(c):s(c)}function s(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),l}function l(c){return u(c)?(r.exit("data"),a(c)):(r.consume(c),l)}function u(c){var d=i[c],f=-1;if(c===null)return!0;if(d){for(;++f<d.length;)if(!d[f].previous||d[f].previous.call(n,n.previous))return!0}}}}function Zte(t){return e;function e(r,n){for(var i=-1,a;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(r,n):r}}function Dke(t,e){for(var r=-1,n,i,a,o,s,l,u,c;++r<=t.length;)if((r===t.length||t[r][1].type==="lineEnding")&&t[r-1][1].type==="data"){for(i=t[r-1][1],n=e.sliceStream(i),o=n.length,s=-1,l=0,u=void 0;o--;)if(a=n[o],typeof a=="string"){for(s=a.length;a.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(a===-2)u=!0,l++;else if(a!==-1){o++;break}l&&(c={type:r===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-l,offset:i.end.offset-l,_index:i.start._index+o,_bufferIndex:o?s:i.start._bufferIndex+s},end:xU(i.end)},i.end=xU(c.start),i.start.offset===i.end.offset?Pke(i,c):(t.splice(r,0,["enter",c,e],["exit",c,e]),r+=2)),r++}return t}gm.resolver=kke;gm.string=Oke;gm.text=_ke;function Mke(t){return t==null?[]:"length"in t?t:[t]}var lN=Mke,bU=Wte,Rke=hc,jke=lN;function Fke(t){for(var e={},r=-1;++r<t.length;)Lke(e,t[r]);return e}function Lke(t,e){var r,n,i,a;for(r in e){n=bU.call(t,r)?t[r]:t[r]={},i=e[r];for(a in i)n[a]=$ke(jke(i[a]),bU.call(n,a)?n[a]:[])}}function $ke(t,e){for(var r=-1,n=[];++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);return Rke(e,0,0,n),e}var ere=Fke,Nke=hc;function Bke(t,e){return t.length?(Nke(t,t.length,0,e),t):e}var uN=Bke;function Vke(t,e,r){for(var n=[],i=-1,a;++i<t.length;)a=t[i].resolveAll,a&&n.indexOf(a)<0&&(e=a(e,r),n.push(a));return e}var EI=Vke,zke=wI;function Uke(t){for(var e=-1,r=[],n,i,a;++e<t.length;){if(n=t[e],typeof n=="string")i=n;else if(n===-5)i="\r";else if(n===-4)i=`
`;else if(n===-3)i=`\r
`;else if(n===-2)i="	";else if(n===-1){if(a)continue;i=" "}else i=zke(n);a=n===-2,r.push(i)}return r.join("")}var qke=Uke;function Gke(t,e){var r=e.start._index,n=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex,o;return r===i?o=[t[r].slice(n,a)]:(o=t.slice(r,i),n>-1&&(o[0]=o[0].slice(n)),a>0&&o.push(t[i].slice(0,a))),o}var Wke=Gke,Hke=nw,Yke=Gn,Xke=uN,Kke=hc,eD=lN,Qke=EI,Jke=qke,wU=ip,Zke=Wke;function eDe(t,e,r){var n=r?wU(r):{line:1,column:1,offset:0},i={},a=[],o=[],s=[],l={consume:x,enter:b,exit:w,attempt:E(S),check:E(C),interrupt:E(C,{interrupt:!0}),lazy:E(C,{lazy:!0})},u={previous:null,events:[],parser:t,sliceStream:p,sliceSerialize:f,now:v,defineSkip:g,write:d},c=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),n._index=0,n._bufferIndex=-1,u;function d(k){return o=Xke(o,k),m(),o[o.length-1]!==null?[]:(A(e,0),u.events=Qke(a,u.events,u),u.events)}function f(k){return Jke(p(k))}function p(k){return Zke(o,k)}function v(){return wU(n)}function g(k){i[k.line]=k.column,_()}function m(){for(var k,O;n._index<o.length;)if(O=o[n._index],typeof O=="string")for(k=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===k&&n._bufferIndex<O.length;)y(O.charCodeAt(n._bufferIndex));else y(O)}function y(k){c=c(k)}function x(k){Yke(k)?(n.line++,n.column=1,n.offset+=k===-3?2:1,_()):k!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=k}function b(k,O){var D=O||{};return D.type=k,D.start=v(),u.events.push(["enter",D,u]),s.push(D),D}function w(k){var O=s.pop();return O.end=v(),u.events.push(["exit",O,u]),O}function S(k,O){A(k,O.from)}function C(k,O){O.restore()}function E(k,O){return D;function D(B,$,L){var R,V,U,q;return B.tokenize||"length"in B?G(eD(B)):M;function M(H){return H in B||null in B?G(B.null?eD(B[H]).concat(eD(B.null)):B[H])(H):L(H)}function G(H){return R=H,V=0,W(H[V])}function W(H){return ee;function ee(re){return q=P(),U=H,H.partial||(u.currentConstruct=H),H.name&&u.parser.constructs.disable.null.indexOf(H.name)>-1?te():H.tokenize.call(O?Hke({},u,O):u,l,J,te)(re)}}function J(H){return k(U,q),$}function te(H){return q.restore(),++V<R.length?W(R[V]):L}}}function A(k,O){k.resolveAll&&a.indexOf(k)<0&&a.push(k),k.resolve&&Kke(u.events,O,u.events.length-O,k.resolve(u.events.slice(O),u)),k.resolveTo&&(u.events=k.resolveTo(u.events,u))}function P(){var k=v(),O=u.previous,D=u.currentConstruct,B=u.events.length,$=Array.from(s);return{restore:L,from:B};function L(){n=k,u.previous=O,u.currentConstruct=D,u.events.length=B,s=$,_()}}function _(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}var tDe=eDe,ru={};function rDe(t){return t<0||t===32}var pc=rDe,nDe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,iDe=nDe,aDe=wI;function oDe(t){return e;function e(r){return t.test(aDe(r))}}var Xd=oDe,sDe=iDe,lDe=Xd,uDe=lDe(sDe),cN=uDe,cDe=Xd,dDe=cDe(/\s/),dN=dDe,fDe=pc,hDe=cN,pDe=dN;function vDe(t){if(t===null||fDe(t)||pDe(t))return 1;if(hDe(t))return 2}var tre=vDe;function gDe(t,e){return t.column+=e,t.offset+=e,t._bufferIndex+=e,t}var mDe=gDe,xy=uN,yDe=hc,SU=tre,EU=mDe,xDe=EI,ol=ip,bDe={name:"attention",tokenize:SDe,resolveAll:wDe};function wDe(t,e){for(var r=-1,n,i,a,o,s,l,u,c;++r<t.length;)if(t[r][0]==="enter"&&t[r][1].type==="attentionSequence"&&t[r][1]._close){for(n=r;n--;)if(t[n][0]==="exit"&&t[n][1].type==="attentionSequence"&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[r][1]).charCodeAt(0)){if((t[n][1]._close||t[r][1]._open)&&(t[r][1].end.offset-t[r][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[r][1].end.offset-t[r][1].start.offset)%3))continue;l=t[n][1].end.offset-t[n][1].start.offset>1&&t[r][1].end.offset-t[r][1].start.offset>1?2:1,o={type:l>1?"strongSequence":"emphasisSequence",start:EU(ol(t[n][1].end),-l),end:ol(t[n][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:ol(t[r][1].start),end:EU(ol(t[r][1].start),l)},a={type:l>1?"strongText":"emphasisText",start:ol(t[n][1].end),end:ol(t[r][1].start)},i={type:l>1?"strong":"emphasis",start:ol(o.start),end:ol(s.end)},t[n][1].end=ol(o.start),t[r][1].start=ol(s.end),u=[],t[n][1].end.offset-t[n][1].start.offset&&(u=xy(u,[["enter",t[n][1],e],["exit",t[n][1],e]])),u=xy(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",a,e]]),u=xy(u,xDe(e.parser.constructs.insideSpan.null,t.slice(n+1,r),e)),u=xy(u,[["exit",a,e],["enter",s,e],["exit",s,e],["exit",i,e]]),t[r][1].end.offset-t[r][1].start.offset?(c=2,u=xy(u,[["enter",t[r][1],e],["exit",t[r][1],e]])):c=0,yDe(t,n-1,r-n+3,u),r=n+u.length-c-2;break}}for(r=-1;++r<t.length;)t[r][1].type==="attentionSequence"&&(t[r][1].type="data");return t}function SDe(t,e){var r=SU(this.previous),n;return i;function i(o){return t.enter("attentionSequence"),n=o,a(o)}function a(o){var s,l,u,c;return o===n?(t.consume(o),a):(s=t.exit("attentionSequence"),l=SU(o),u=!l||l===2&&r,c=!r||r===2&&l,s._open=n===42?u:u&&(r||!c),s._close=n===42?c:c&&(l||!u),e(o))}}var EDe=bDe,ADe=Xd,CDe=ADe(/[A-Za-z]/),AI=CDe,TDe=Xd,IDe=TDe(/[\dA-Za-z]/),aw=IDe,PDe=Xd,_De=PDe(/[#-'*+\--9=?A-Z^-~]/),ODe=_De;function kDe(t){return t<32||t===127}var fN=kDe,DDe=AI,U1=aw,AU=ODe,MDe=fN,RDe={name:"autolink",tokenize:jDe};function jDe(t,e,r){var n=1;return i;function i(v){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(v){return DDe(v)?(t.consume(v),o):AU(v)?u(v):r(v)}function o(v){return v===43||v===45||v===46||U1(v)?s(v):u(v)}function s(v){return v===58?(t.consume(v),l):(v===43||v===45||v===46||U1(v))&&n++<32?(t.consume(v),s):u(v)}function l(v){return v===62?(t.exit("autolinkProtocol"),p(v)):v===32||v===60||MDe(v)?r(v):(t.consume(v),l)}function u(v){return v===64?(t.consume(v),n=0,c):AU(v)?(t.consume(v),u):r(v)}function c(v){return U1(v)?d(v):r(v)}function d(v){return v===46?(t.consume(v),n=0,c):v===62?(t.exit("autolinkProtocol").type="autolinkEmail",p(v)):f(v)}function f(v){return(v===45||U1(v))&&n++<63?(t.consume(v),v===45?f:d):r(v)}function p(v){return t.enter("autolinkMarker"),t.consume(v),t.exit("autolinkMarker"),t.exit("autolink"),e}}var FDe=RDe,LDe=fc,$De=ni,rre={name:"blockQuote",tokenize:NDe,continuation:{tokenize:BDe},exit:VDe};function NDe(t,e,r){var n=this;return i;function i(o){return o===62?(n.containerState.open||(t.enter("blockQuote",{_container:!0}),n.containerState.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),a):r(o)}function a(o){return LDe(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function BDe(t,e,r){return $De(t,t.attempt(rre,e,r),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function VDe(t){t.exit("blockQuote")}var zDe=rre,UDe=Xd,qDe=UDe(/[!-/:-@[-`{-~]/),GDe=qDe,WDe=GDe,HDe={name:"characterEscape",tokenize:YDe};function YDe(t,e,r){return n;function n(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return WDe(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):r(a)}}var XDe=HDe,q1,KDe=59,QDe=JDe;function JDe(t){var e="&"+t+";",r;return q1=q1||document.createElement("i"),q1.innerHTML=e,r=q1.textContent,r.charCodeAt(r.length-1)===KDe&&t!=="semi"||r===e?!1:r}var ZDe=Xd,eMe=ZDe(/\d/),nre=eMe,tMe=Xd,rMe=tMe(/[\dA-Fa-f]/),nMe=rMe,iMe=QDe,CU=aw,aMe=nre,oMe=nMe;function sMe(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var lMe=sMe(iMe),uMe={name:"characterReference",tokenize:cMe};function cMe(t,e,r){var n=this,i=0,a,o;return s;function s(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,o=CU,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,o=oMe,c):(t.enter("characterReferenceValue"),a=7,o=aMe,c(d))}function c(d){var f;return d===59&&i?(f=t.exit("characterReferenceValue"),o===CU&&!lMe.default(n.sliceSerialize(f))?r(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):o(d)&&i++<a?(t.consume(d),c):r(d)}}var dMe=uMe,jp=Gn,fMe=pc,hMe=iw,by=ni,pMe={name:"codeFenced",tokenize:vMe,concrete:!0};function vMe(t,e,r){var n=this,i={tokenize:x,partial:!0},a=hMe(this.events,"linePrefix"),o=0,s;return l;function l(b){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),s=b,u(b)}function u(b){return b===s?(t.consume(b),o++,u):(t.exit("codeFencedFenceSequence"),o<3?r(b):by(t,c,"whitespace")(b))}function c(b){return b===null||jp(b)?v(b):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===null||fMe(b)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),by(t,f,"whitespace")(b)):b===96&&b===s?r(b):(t.consume(b),d)}function f(b){return b===null||jp(b)?v(b):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===null||jp(b)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(b)):b===96&&b===s?r(b):(t.consume(b),p)}function v(b){return t.exit("codeFencedFence"),n.interrupt?e(b):g(b)}function g(b){return b===null?y(b):jp(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),t.attempt(i,y,a?by(t,g,"linePrefix",a+1):g)):(t.enter("codeFlowValue"),m(b))}function m(b){return b===null||jp(b)?(t.exit("codeFlowValue"),g(b)):(t.consume(b),m)}function y(b){return t.exit("codeFenced"),e(b)}function x(b,w,S){var C=0;return by(b,E,"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function E(_){return b.enter("codeFencedFence"),b.enter("codeFencedFenceSequence"),A(_)}function A(_){return _===s?(b.consume(_),C++,A):C<o?S(_):(b.exit("codeFencedFenceSequence"),by(b,P,"whitespace")(_))}function P(_){return _===null||jp(_)?(b.exit("codeFencedFence"),w(_)):S(_)}}}var gMe=pMe,DR=Gn,TU=hc,mMe=iw,IU=ni,yMe={name:"codeIndented",tokenize:bMe,resolve:xMe},PU={tokenize:wMe,partial:!0};function xMe(t,e){var r={type:"codeIndented",start:t[0][1].start,end:t[t.length-1][1].end};return TU(t,0,0,[["enter",r,e]]),TU(t,t.length,0,[["exit",r,e]]),t}function bMe(t,e,r){return t.attempt(PU,n,r);function n(a){return a===null?e(a):DR(a)?t.attempt(PU,n,e)(a):(t.enter("codeFlowValue"),i(a))}function i(a){return a===null||DR(a)?(t.exit("codeFlowValue"),n(a)):(t.consume(a),i)}}function wMe(t,e,r){var n=this;return IU(t,i,"linePrefix",5);function i(a){return DR(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),IU(t,i,"linePrefix",5)):mMe(n.events,"linePrefix")<4?r(a):e(a)}}var SMe=yMe,_U=Gn,EMe={name:"codeText",tokenize:TMe,resolve:AMe,previous:CMe};function AMe(t){var e=t.length-4,r=3,n,i;if((t[r][1].type==="lineEnding"||t[r][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(n=r;++n<e;)if(t[n][1].type==="codeTextData"){t[e][1].type=t[r][1].type="codeTextPadding",r+=2,e-=2;break}}for(n=r-1,e++;++n<=e;)i===void 0?n!==e&&t[n][1].type!=="lineEnding"&&(i=n):(n===e||t[n][1].type==="lineEnding")&&(t[i][1].type="codeTextData",n!==i+2&&(t[i][1].end=t[n-1][1].end,t.splice(i+2,n-i-2),e-=n-i-2,n=i+2),i=void 0);return t}function CMe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function TMe(t,e,r){var n=0,i,a;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),s(d)}function s(d){return d===96?(t.consume(d),n++,s):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?r(d):d===96?(a=t.enter("codeTextSequence"),i=0,c(d)):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):_U(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||_U(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===n?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(a.type="codeTextData",u(d))}}var IMe=EMe,OU=fN,PMe=pc,_Me=Gn;function OMe(t,e,r,n,i,a,o,s,l){var u=l||1/0,c=0;return d;function d(y){return y===60?(t.enter(n),t.enter(i),t.enter(a),t.consume(y),t.exit(a),f):OU(y)||y===41?r(y):(t.enter(n),t.enter(o),t.enter(s),t.enter("chunkString",{contentType:"string"}),g(y))}function f(y){return y===62?(t.enter(a),t.consume(y),t.exit(a),t.exit(i),t.exit(n),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(s),f(y)):y===null||y===60||_Me(y)?r(y):(t.consume(y),y===92?v:p)}function v(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function g(y){return y===40?++c>u?r(y):(t.consume(y),g):y===41?c--?(t.consume(y),g):(t.exit("chunkString"),t.exit(s),t.exit(o),t.exit(n),e(y)):y===null||PMe(y)?c?r(y):(t.exit("chunkString"),t.exit(s),t.exit(o),t.exit(n),e(y)):OU(y)?r(y):(t.consume(y),y===92?m:g)}function m(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}var ire=OMe,kU=Gn,kMe=fc;function DMe(t,e,r,n,i,a){var o=this,s=0,l;return u;function u(p){return t.enter(n),t.enter(i),t.consume(p),t.exit(i),t.enter(a),c}function c(p){return p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs||s>999?r(p):p===93?(t.exit(a),t.enter(i),t.consume(p),t.exit(i),t.exit(n),e):kU(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||kU(p)||s++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l=l||!kMe(p),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),s++,d):d(p)}}var are=DMe,MMe=Gn,RMe=fc,jMe=ni;function FMe(t,e){var r;return n;function n(i){return MMe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),r=!0,n):RMe(i)?jMe(t,n,r?"linePrefix":"lineSuffix")(i):e(i)}}var ore=FMe,DU=Gn,LMe=ni;function $Me(t,e,r,n,i,a){var o;return s;function s(f){return t.enter(n),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(n),e):(t.enter(a),u(f))}function u(f){return f===o?(t.exit(a),l(o)):f===null?r(f):DU(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),LMe(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||DU(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(t.consume(f),c):c(f)}}var sre=$Me,lre=Gn,NMe=pc,BMe=iN,VMe=ire,zMe=are,MR=ni,ure=ore,UMe=sre,qMe={name:"definition",tokenize:WMe},GMe={tokenize:HMe,partial:!0};function WMe(t,e,r){var n=this,i;return a;function a(l){return t.enter("definition"),zMe.call(n,t,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function o(l){return i=BMe(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),ure(t,VMe(t,t.attempt(GMe,MR(t,s,"whitespace"),MR(t,s,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(l)}function s(l){return l===null||lre(l)?(t.exit("definition"),n.parser.defined.indexOf(i)<0&&n.parser.defined.push(i),e(l)):r(l)}}function HMe(t,e,r){return n;function n(o){return NMe(o)?ure(t,i)(o):r(o)}function i(o){return o===34||o===39||o===40?UMe(t,MR(t,a,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o):r(o)}function a(o){return o===null||lre(o)?e(o):r(o)}}var YMe=qMe,XMe=Gn,KMe={name:"hardBreakEscape",tokenize:QMe};function QMe(t,e,r){return n;function n(a){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(a),i}function i(a){return XMe(a)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(a)):r(a)}}var JMe=KMe,ZMe=Gn,MU=pc,e2e=fc,t2e=hc,r2e=ni,n2e={name:"headingAtx",tokenize:a2e,resolve:i2e};function i2e(t,e){var r=t.length-2,n=3,i,a;return t[n][1].type==="whitespace"&&(n+=2),r-2>n&&t[r][1].type==="whitespace"&&(r-=2),t[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&t[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:t[n][1].start,end:t[r][1].end},a={type:"chunkText",start:t[n][1].start,end:t[r][1].end,contentType:"text"},t2e(t,n,r-n+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function a2e(t,e,r){var n=this,i=0;return a;function a(c){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&i++<6?(t.consume(c),o):c===null||MU(c)?(t.exit("atxHeadingSequence"),n.interrupt?e(c):s(c)):r(c)}function s(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||ZMe(c)?(t.exit("atxHeading"),e(c)):e2e(c)?r2e(t,s,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),s(c))}function u(c){return c===null||c===35||MU(c)?(t.exit("atxHeadingText"),s(c)):(t.consume(c),u)}}var o2e=n2e,s2e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],l2e=s2e,u2e=["pre","script","style","textarea"],c2e=u2e,wy=AI,RU=aw,Fp=Gn,jU=pc,Lp=fc,G1=wI,d2e=l2e,FU=c2e,f2e=SI,h2e={name:"htmlFlow",tokenize:g2e,resolveTo:v2e,concrete:!0},p2e={tokenize:m2e,partial:!0};function v2e(t){for(var e=t.length;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function g2e(t,e,r){var n=this,i,a,o,s,l;return u;function u(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),c}function c(M){return M===33?(t.consume(M),d):M===47?(t.consume(M),v):M===63?(t.consume(M),i=3,n.interrupt?e:V):wy(M)?(t.consume(M),o=G1(M),a=!0,g):r(M)}function d(M){return M===45?(t.consume(M),i=2,f):M===91?(t.consume(M),i=5,o="CDATA[",s=0,p):wy(M)?(t.consume(M),i=4,n.interrupt?e:V):r(M)}function f(M){return M===45?(t.consume(M),n.interrupt?e:V):r(M)}function p(M){return M===o.charCodeAt(s++)?(t.consume(M),s===o.length?n.interrupt?e:k:p):r(M)}function v(M){return wy(M)?(t.consume(M),o=G1(M),g):r(M)}function g(M){return M===null||M===47||M===62||jU(M)?M!==47&&a&&FU.indexOf(o.toLowerCase())>-1?(i=1,n.interrupt?e(M):k(M)):d2e.indexOf(o.toLowerCase())>-1?(i=6,M===47?(t.consume(M),m):n.interrupt?e(M):k(M)):(i=7,n.interrupt?r(M):a?x(M):y(M)):M===45||RU(M)?(t.consume(M),o+=G1(M),g):r(M)}function m(M){return M===62?(t.consume(M),n.interrupt?e:k):r(M)}function y(M){return Lp(M)?(t.consume(M),y):P(M)}function x(M){return M===47?(t.consume(M),P):M===58||M===95||wy(M)?(t.consume(M),b):Lp(M)?(t.consume(M),x):P(M)}function b(M){return M===45||M===46||M===58||M===95||RU(M)?(t.consume(M),b):w(M)}function w(M){return M===61?(t.consume(M),S):Lp(M)?(t.consume(M),w):x(M)}function S(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(t.consume(M),l=M,C):Lp(M)?(t.consume(M),S):(l=void 0,E(M))}function C(M){return M===l?(t.consume(M),A):M===null||Fp(M)?r(M):(t.consume(M),C)}function E(M){return M===null||M===34||M===39||M===60||M===61||M===62||M===96||jU(M)?w(M):(t.consume(M),E)}function A(M){return M===47||M===62||Lp(M)?x(M):r(M)}function P(M){return M===62?(t.consume(M),_):r(M)}function _(M){return Lp(M)?(t.consume(M),_):M===null||Fp(M)?k(M):r(M)}function k(M){return M===45&&i===2?(t.consume(M),B):M===60&&i===1?(t.consume(M),$):M===62&&i===4?(t.consume(M),U):M===63&&i===3?(t.consume(M),V):M===93&&i===5?(t.consume(M),R):Fp(M)&&(i===6||i===7)?t.check(p2e,U,O)(M):M===null||Fp(M)?O(M):(t.consume(M),k)}function O(M){return t.exit("htmlFlowData"),D(M)}function D(M){return M===null?q(M):Fp(M)?(t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),D):(t.enter("htmlFlowData"),k(M))}function B(M){return M===45?(t.consume(M),V):k(M)}function $(M){return M===47?(t.consume(M),o="",L):k(M)}function L(M){return M===62&&FU.indexOf(o.toLowerCase())>-1?(t.consume(M),U):wy(M)&&o.length<8?(t.consume(M),o+=G1(M),L):k(M)}function R(M){return M===93?(t.consume(M),V):k(M)}function V(M){return M===62?(t.consume(M),U):k(M)}function U(M){return M===null||Fp(M)?(t.exit("htmlFlowData"),q(M)):(t.consume(M),U)}function q(M){return t.exit("htmlFlow"),e(M)}}function m2e(t,e,r){return n;function n(i){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),t.attempt(f2e,e,r)}}var y2e=h2e,W1=AI,tD=aw,du=Gn,rD=pc,H1=fc,x2e=ni,b2e={name:"htmlText",tokenize:w2e};function w2e(t,e,r){var n=this,i,a,o,s;return l;function l(M){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(M),u}function u(M){return M===33?(t.consume(M),c):M===47?(t.consume(M),E):M===63?(t.consume(M),S):W1(M)?(t.consume(M),_):r(M)}function c(M){return M===45?(t.consume(M),d):M===91?(t.consume(M),a="CDATA[",o=0,m):W1(M)?(t.consume(M),w):r(M)}function d(M){return M===45?(t.consume(M),f):r(M)}function f(M){return M===null||M===62?r(M):M===45?(t.consume(M),p):v(M)}function p(M){return M===null||M===62?r(M):v(M)}function v(M){return M===null?r(M):M===45?(t.consume(M),g):du(M)?(s=v,V(M)):(t.consume(M),v)}function g(M){return M===45?(t.consume(M),q):v(M)}function m(M){return M===a.charCodeAt(o++)?(t.consume(M),o===a.length?y:m):r(M)}function y(M){return M===null?r(M):M===93?(t.consume(M),x):du(M)?(s=y,V(M)):(t.consume(M),y)}function x(M){return M===93?(t.consume(M),b):y(M)}function b(M){return M===62?q(M):M===93?(t.consume(M),b):y(M)}function w(M){return M===null||M===62?q(M):du(M)?(s=w,V(M)):(t.consume(M),w)}function S(M){return M===null?r(M):M===63?(t.consume(M),C):du(M)?(s=S,V(M)):(t.consume(M),S)}function C(M){return M===62?q(M):S(M)}function E(M){return W1(M)?(t.consume(M),A):r(M)}function A(M){return M===45||tD(M)?(t.consume(M),A):P(M)}function P(M){return du(M)?(s=P,V(M)):H1(M)?(t.consume(M),P):q(M)}function _(M){return M===45||tD(M)?(t.consume(M),_):M===47||M===62||rD(M)?k(M):r(M)}function k(M){return M===47?(t.consume(M),q):M===58||M===95||W1(M)?(t.consume(M),O):du(M)?(s=k,V(M)):H1(M)?(t.consume(M),k):q(M)}function O(M){return M===45||M===46||M===58||M===95||tD(M)?(t.consume(M),O):D(M)}function D(M){return M===61?(t.consume(M),B):du(M)?(s=D,V(M)):H1(M)?(t.consume(M),D):k(M)}function B(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(t.consume(M),i=M,$):du(M)?(s=B,V(M)):H1(M)?(t.consume(M),B):(t.consume(M),i=void 0,R)}function $(M){return M===i?(t.consume(M),L):M===null?r(M):du(M)?(s=$,V(M)):(t.consume(M),$)}function L(M){return M===62||M===47||rD(M)?k(M):r(M)}function R(M){return M===null||M===34||M===39||M===60||M===61||M===96?r(M):M===62||rD(M)?k(M):(t.consume(M),R)}function V(M){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),x2e(t,U,"linePrefix",n.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function U(M){return t.enter("htmlTextData"),s(M)}function q(M){return M===62?(t.consume(M),t.exit("htmlTextData"),t.exit("htmlText"),e):r(M)}}var S2e=b2e,E2e=pc,$p=uN,A2e=hc,cre=iN,C2e=EI,Np=ip,T2e=ire,I2e=are,P2e=sre,nD=ore,_2e={name:"labelEnd",tokenize:j2e,resolveTo:R2e,resolveAll:M2e},O2e={tokenize:F2e},k2e={tokenize:L2e},D2e={tokenize:$2e};function M2e(t){for(var e=-1,r;++e<t.length;)r=t[e][1],!r._used&&(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(t.splice(e+1,r.type==="labelImage"?4:2),r.type="data",e++);return t}function R2e(t,e){for(var r=t.length,n=0,i,a,o,s,l,u,c;r--;)if(s=t[r][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[r][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[r][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=r,s.type!=="labelLink")){n=2;break}}else s.type==="labelEnd"&&(u=r);return i={type:t[l][1].type==="labelLink"?"link":"image",start:Np(t[l][1].start),end:Np(t[t.length-1][1].end)},a={type:"label",start:Np(t[l][1].start),end:Np(t[u][1].end)},o={type:"labelText",start:Np(t[l+n+2][1].end),end:Np(t[u-2][1].start)},c=[["enter",i,e],["enter",a,e]],c=$p(c,t.slice(l+1,l+n+3)),c=$p(c,[["enter",o,e]]),c=$p(c,C2e(e.parser.constructs.insideSpan.null,t.slice(l+n+4,u-3),e)),c=$p(c,[["exit",o,e],t[u-2],t[u-1],["exit",a,e]]),c=$p(c,t.slice(u+1)),c=$p(c,[["exit",i,e]]),A2e(t,l,t.length,c),t}function j2e(t,e,r){for(var n=this,i=n.events.length,a,o;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return s;function s(c){return a?a._inactive?u(c):(o=n.parser.defined.indexOf(cre(n.sliceSerialize({start:a.end,end:n.now()})))>-1,t.enter("labelEnd"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelEnd"),l):r(c)}function l(c){return c===40?t.attempt(O2e,e,o?e:u)(c):c===91?t.attempt(k2e,e,o?t.attempt(D2e,e,u):u)(c):o?e(c):u(c)}function u(c){return a._balanced=!0,r(c)}}function F2e(t,e,r){return n;function n(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),nD(t,i)}function i(l){return l===41?s(l):T2e(t,a,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(l)}function a(l){return E2e(l)?nD(t,o)(l):s(l)}function o(l){return l===34||l===39||l===40?P2e(t,nD(t,s),r,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):s(l)}function s(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):r(l)}}function L2e(t,e,r){var n=this;return i;function i(o){return I2e.call(n,t,a,r,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.indexOf(cre(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))<0?r(o):e(o)}}function $2e(t,e,r){return n;function n(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):r(a)}}var hN=_2e,N2e=hN,B2e={name:"labelStartImage",tokenize:V2e,resolveAll:N2e.resolveAll};function V2e(t,e,r){var n=this;return i;function i(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),a}function a(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):e(s)}}var z2e=B2e,U2e=hN,q2e={name:"labelStartLink",tokenize:G2e,resolveAll:U2e.resolveAll};function G2e(t,e,r){var n=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):e(o)}}var W2e=q2e,H2e=ni,Y2e={name:"lineEnding",tokenize:X2e};function X2e(t,e){return r;function r(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),H2e(t,e,"linePrefix")}}var K2e=Y2e,Q2e=Gn,J2e=fc,Z2e=ni,eRe={name:"thematicBreak",tokenize:tRe};function tRe(t,e,r){var n=0,i;return a;function a(l){return t.enter("thematicBreak"),i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),s(l)):J2e(l)?Z2e(t,o,"whitespace")(l):n<3||l!==null&&!Q2e(l)?r(l):(t.exit("thematicBreak"),e(l))}function s(l){return l===i?(t.consume(l),n++,s):(t.exit("thematicBreakSequence"),o(l))}}var dre=eRe,LU=nre,pN=fc,vN=iw,rRe=Yte,LA=ni,fre=SI,nRe=dre,hre={name:"list",tokenize:oRe,continuation:{tokenize:sRe},exit:uRe},iRe={tokenize:cRe,partial:!0},aRe={tokenize:lRe,partial:!0};function oRe(t,e,r){var n=this,i=vN(n.events,"linePrefix"),a=0;return o;function o(f){var p=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:LU(f)){if(n.containerState.type||(n.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(nRe,r,l)(f):l(f);if(!n.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(f)}return r(f)}function s(f){return LU(f)&&++a<10?(t.consume(f),s):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),l(f)):r(f)}function l(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,t.check(fre,n.interrupt?r:u,t.attempt(iRe,d,c))}function u(f){return n.containerState.initialBlankLine=!0,i++,d(f)}function c(f){return pN(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),d):r(f)}function d(f){return n.containerState.size=i+rRe(n.sliceStream(t.exit("listItemPrefix"))),e(f)}}function sRe(t,e,r){var n=this;return n.containerState._closeFlow=void 0,t.check(fre,i,a);function i(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,LA(t,e,"listItemIndent",n.containerState.size+1)(s)}function a(s){return n.containerState.furtherBlankLines||!pN(s)?(n.containerState.furtherBlankLines=n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=n.containerState.initialBlankLine=void 0,t.attempt(aRe,e,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,LA(t,t.attempt(hre,e,r),"linePrefix",n.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(s)}}function lRe(t,e,r){var n=this;return LA(t,i,"listItemIndent",n.containerState.size+1);function i(a){return vN(n.events,"listItemIndent")===n.containerState.size?e(a):r(a)}}function uRe(t){t.exit(this.containerState.type)}function cRe(t,e,r){var n=this;return LA(t,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5);function i(a){return pN(a)||!vN(n.events,"listItemPrefixWhitespace")?r(a):e(a)}}var dRe=hre,fRe=Gn,iD=ip,hRe=ni,pRe={name:"setextUnderline",tokenize:gRe,resolveTo:vRe};function vRe(t,e){for(var r=t.length,n,i,a,o;r--;)if(t[r][0]==="enter"){if(t[r][1].type==="content"){n=r;break}t[r][1].type==="paragraph"&&(i=r)}else t[r][1].type==="content"&&t.splice(r,1),!a&&t[r][1].type==="definition"&&(a=r);return o={type:"setextHeading",start:iD(t[i][1].start),end:iD(t[t.length-1][1].end)},t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",o,e]),t.splice(a+1,0,["exit",t[n][1],e]),t[n][1].end=iD(t[a][1].end)):t[n][1]=o,t.push(["exit",o,e]),t}function gRe(t,e,r){for(var n=this,i=n.events.length,a,o;i--;)if(n.events[i][1].type!=="lineEnding"&&n.events[i][1].type!=="linePrefix"&&n.events[i][1].type!=="content"){o=n.events[i][1].type==="paragraph";break}return s;function s(c){return!n.lazy&&(n.interrupt||o)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),a=c,l(c)):r(c)}function l(c){return c===a?(t.consume(c),l):(t.exit("setextHeadingLineSequence"),hRe(t,u,"lineSuffix")(c))}function u(c){return c===null||fRe(c)?(t.exit("setextHeadingLine"),e(c)):r(c)}}var mRe=pRe;Object.defineProperty(ru,"__esModule",{value:!0});var yRe=gm,RR=EDe,xRe=FDe,bRe=zDe,pre=XDe,vre=dMe,$U=gMe,aD=SMe,wRe=IMe,SRe=YMe,ERe=JMe,ARe=o2e,CRe=y2e,TRe=S2e,IRe=hN,PRe=z2e,_Re=W2e,oD=K2e,io=dRe,NU=mRe,sD=dre,ORe={42:io,43:io,45:io,48:io,49:io,50:io,51:io,52:io,53:io,54:io,55:io,56:io,57:io,62:bRe},kRe={91:SRe},DRe={"-2":aD,"-1":aD,32:aD},MRe={35:ARe,42:sD,45:[NU,sD],60:CRe,61:NU,95:sD,96:$U,126:$U},RRe={38:vre,92:pre},jRe={"-5":oD,"-4":oD,"-3":oD,33:PRe,38:vre,42:RR,60:[xRe,TRe],91:_Re,92:[ERe,pre],93:IRe,95:RR,96:wRe},FRe={null:[RR,yRe.resolver]},LRe={null:[]};ru.contentInitial=kRe;ru.disable=LRe;ru.document=ORe;ru.flow=MRe;ru.flowInitial=DRe;ru.insideSpan=FRe;ru.string=RRe;ru.text=jRe;var $Re=aN,NRe=oN,BRe=sN,BU=gm,VRe=ere,zRe=tDe,URe=lN,qRe=ru;function GRe(t){var e=t||{},r={defined:[],constructs:VRe([qRe].concat(URe(e.extensions))),content:n($Re),document:n(NRe),flow:n(BRe),string:n(BU.string),text:n(BU.text)};return r;function n(i){return a;function a(o){return zRe(r,i,o)}}}var WRe=GRe,VU=/[\0\t\n\r]/g;function HRe(){var t=!0,e=1,r="",n;return i;function i(a,o,s){var l=[],u,c,d,f,p;for(a=r+a.toString(o),d=0,r="",t&&(a.charCodeAt(0)===65279&&d++,t=void 0);d<a.length;){if(VU.lastIndex=d,u=VU.exec(a),f=u?u.index:a.length,p=a.charCodeAt(f),!u){r=a.slice(d);break}if(p===10&&d===f&&n)l.push(-3),n=void 0;else if(n&&(l.push(-5),n=void 0),d<f&&(l.push(a.slice(d,f)),e+=f-d),p===0)l.push(65533),e++;else if(p===9)for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);else p===10?(l.push(-4),e=1):(n=!0,e=1);d=f+1}return s&&(n&&l.push(-5),r&&l.push(r),l.push(null)),l}}var YRe=HRe,XRe=Kte;function KRe(t){for(;!XRe(t););return t}var QRe=KRe,Y1,JRe=59,ZRe=eje;function eje(t){var e="&"+t+";",r;return Y1=Y1||document.createElement("i"),Y1.innerHTML=e,r=Y1.textContent,r.charCodeAt(r.length-1)===JRe&&t!=="semi"||r===e?!1:r}var tje=uje,rje=OOe,nje=nw,gre=Wte,lD=iN,ije=LOe,aje=WRe,oje=YRe,sje=QRe,lje=ZRe,X1=Rte;function uje(t,e,r){return typeof e!="string"&&(r=e,e=void 0),cje(r)(sje(aje(r).document().write(oje()(t,e,!0))))}function cje(t){var e=t||{},r=dje({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Mt),autolinkProtocol:D,autolinkEmail:D,atxHeading:u(we),blockQuote:u(ge),characterEscape:D,characterReference:D,codeFenced:u(be),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:u(be,c),codeText:u(Pe,c),codeTextData:D,data:D,codeFlowValue:D,definition:u(Ce),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:u(Ue),hardBreakEscape:u(Re),hardBreakTrailing:u(Re),htmlFlow:u(ze,c),htmlFlowData:D,htmlText:u(ze,c),htmlTextData:D,image:u(dt),label:c,link:u(Mt),listItem:u(Gt),listItemValue:m,listOrdered:u(sn,g),listUnordered:u(sn),paragraph:u(Tr),reference:ee,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:u(we),strong:u(de),thematicBreak:u(ft)},exit:{atxHeading:f(),atxHeadingSequence:P,autolink:f(),autolinkEmail:le,autolinkProtocol:ne,blockQuote:f(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:se,codeFenced:f(w),codeFencedFence:b,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:B,codeIndented:f(S),codeText:f(U),codeTextData:B,data:B,definition:f(),definitionDestinationString:A,definitionLabelString:C,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(L),hardBreakTrailing:f(L),htmlFlow:f(R),htmlFlowData:B,htmlText:f(V),htmlTextData:B,image:f(M),label:W,labelText:G,lineEnding:$,link:f(q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:re,resourceDestinationString:J,resourceTitleString:te,resource:H,setextHeading:f(O),setextHeadingLineSequence:k,setextHeadingText:_,strong:f(),thematicBreak:f()}},e.mdastExtensions||[]),n={};return i;function i(pe){for(var tt={type:"root",children:[]},It=[tt],ot=[],Er=[],cr=-1,Hn,Ia,Vi={stack:It,tokenStack:ot,config:r,enter:d,exit:p,buffer:c,resume:v,setData:o,getData:s};++cr<pe.length;)(pe[cr][1].type==="listOrdered"||pe[cr][1].type==="listUnordered")&&(pe[cr][0]==="enter"?Er.push(cr):(Ia=Er.pop(cr),cr=a(pe,Ia,cr)));for(cr=-1;++cr<pe.length;)Hn=r[pe[cr][0]],gre.call(Hn,pe[cr][1].type)&&Hn[pe[cr][1].type].call(nje({sliceSerialize:pe[cr][2].sliceSerialize},Vi),pe[cr][1]);if(ot.length)throw new Error("Cannot close document, a token (`"+ot[ot.length-1].type+"`, "+X1({start:ot[ot.length-1].start,end:ot[ot.length-1].end})+") is still open");for(tt.position={start:l(pe.length?pe[0][1].start:{line:1,column:1,offset:0}),end:l(pe.length?pe[pe.length-2][1].end:{line:1,column:1,offset:0})},cr=-1;++cr<r.transforms.length;)tt=r.transforms[cr](tt)||tt;return tt}function a(pe,tt,It){for(var ot=tt-1,Er=-1,cr=!1,Hn,Ia,Vi,Ai,Mr,il,Pa;++ot<=It;)if(Mr=pe[ot],Mr[1].type==="listUnordered"||Mr[1].type==="listOrdered"||Mr[1].type==="blockQuote"?(Mr[0]==="enter"?Er++:Er--,Pa=void 0):Mr[1].type==="lineEndingBlank"?Mr[0]==="enter"&&(Hn&&!Pa&&!Er&&!il&&(il=ot),Pa=void 0):Mr[1].type==="linePrefix"||Mr[1].type==="listItemValue"||Mr[1].type==="listItemMarker"||Mr[1].type==="listItemPrefix"||Mr[1].type==="listItemPrefixWhitespace"||(Pa=void 0),!Er&&Mr[0]==="enter"&&Mr[1].type==="listItemPrefix"||Er===-1&&Mr[0]==="exit"&&(Mr[1].type==="listUnordered"||Mr[1].type==="listOrdered")){if(Hn){for(Ia=ot,Vi=void 0;Ia--;)if(Ai=pe[Ia],Ai[1].type==="lineEnding"||Ai[1].type==="lineEndingBlank"){if(Ai[0]==="exit")continue;Vi&&(pe[Vi][1].type="lineEndingBlank",cr=!0),Ai[1].type="lineEnding",Vi=Ia}else if(!(Ai[1].type==="linePrefix"||Ai[1].type==="blockQuotePrefix"||Ai[1].type==="blockQuotePrefixWhitespace"||Ai[1].type==="blockQuoteMarker"||Ai[1].type==="listItemIndent"))break;il&&(!Vi||il<Vi)&&(Hn._spread=!0),Hn.end=l(Vi?pe[Vi][1].start:Mr[1].end),pe.splice(Vi||ot,0,["exit",Hn,Mr[2]]),ot++,It++}Mr[1].type==="listItemPrefix"&&(Hn={type:"listItem",_spread:!1,start:l(Mr[1].start)},pe.splice(ot,0,["enter",Hn,Mr[2]]),ot++,It++,il=void 0,Pa=!0)}return pe[tt][1]._spread=cr,It}function o(pe,tt){n[pe]=tt}function s(pe){return n[pe]}function l(pe){return{line:pe.line,column:pe.column,offset:pe.offset}}function u(pe,tt){return It;function It(ot){d.call(this,pe(ot),ot),tt&&tt.call(this,ot)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(pe,tt){return this.stack[this.stack.length-1].children.push(pe),this.stack.push(pe),this.tokenStack.push(tt),pe.position={start:l(tt.start)},pe}function f(pe){return tt;function tt(It){pe&&pe.call(this,It),p.call(this,It)}}function p(pe){var tt=this.stack.pop(),It=this.tokenStack.pop();if(It){if(It.type!==pe.type)throw new Error("Cannot close `"+pe.type+"` ("+X1({start:pe.start,end:pe.end})+"): a different token (`"+It.type+"`, "+X1({start:It.start,end:It.end})+") is open")}else throw new Error("Cannot close `"+pe.type+"` ("+X1({start:pe.start,end:pe.end})+"): its not open");return tt.position.end=l(pe.end),tt}function v(){return rje(this.stack.pop())}function g(){o("expectingFirstListItemValue",!0)}function m(pe){s("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(pe),10),o("expectingFirstListItemValue"))}function y(){var pe=this.resume();this.stack[this.stack.length-1].lang=pe}function x(){var pe=this.resume();this.stack[this.stack.length-1].meta=pe}function b(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function w(){var pe=this.resume();this.stack[this.stack.length-1].value=pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function S(){var pe=this.resume();this.stack[this.stack.length-1].value=pe}function C(pe){var tt=this.resume();this.stack[this.stack.length-1].label=tt,this.stack[this.stack.length-1].identifier=lD(this.sliceSerialize(pe)).toLowerCase()}function E(){var pe=this.resume();this.stack[this.stack.length-1].title=pe}function A(){var pe=this.resume();this.stack[this.stack.length-1].url=pe}function P(pe){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(pe).length)}function _(){o("setextHeadingSlurpLineEnding",!0)}function k(pe){this.stack[this.stack.length-1].depth=this.sliceSerialize(pe).charCodeAt(0)===61?1:2}function O(){o("setextHeadingSlurpLineEnding")}function D(pe){var tt=this.stack[this.stack.length-1].children,It=tt[tt.length-1];(!It||It.type!=="text")&&(It=Oe(),It.position={start:l(pe.start)},this.stack[this.stack.length-1].children.push(It)),this.stack.push(It)}function B(pe){var tt=this.stack.pop();tt.value+=this.sliceSerialize(pe),tt.position.end=l(pe.end)}function $(pe){var tt=this.stack[this.stack.length-1];if(s("atHardBreak")){tt.children[tt.children.length-1].position.end=l(pe.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&r.canContainEols.indexOf(tt.type)>-1&&(D.call(this,pe),B.call(this,pe))}function L(){o("atHardBreak",!0)}function R(){var pe=this.resume();this.stack[this.stack.length-1].value=pe}function V(){var pe=this.resume();this.stack[this.stack.length-1].value=pe}function U(){var pe=this.resume();this.stack[this.stack.length-1].value=pe}function q(){var pe=this.stack[this.stack.length-1];s("inReference")?(pe.type+="Reference",pe.referenceType=s("referenceType")||"shortcut",delete pe.url,delete pe.title):(delete pe.identifier,delete pe.label,delete pe.referenceType),o("referenceType")}function M(){var pe=this.stack[this.stack.length-1];s("inReference")?(pe.type+="Reference",pe.referenceType=s("referenceType")||"shortcut",delete pe.url,delete pe.title):(delete pe.identifier,delete pe.label,delete pe.referenceType),o("referenceType")}function G(pe){this.stack[this.stack.length-2].identifier=lD(this.sliceSerialize(pe)).toLowerCase()}function W(){var pe=this.stack[this.stack.length-1],tt=this.resume();this.stack[this.stack.length-1].label=tt,o("inReference",!0),this.stack[this.stack.length-1].type==="link"?this.stack[this.stack.length-1].children=pe.children:this.stack[this.stack.length-1].alt=tt}function J(){var pe=this.resume();this.stack[this.stack.length-1].url=pe}function te(){var pe=this.resume();this.stack[this.stack.length-1].title=pe}function H(){o("inReference")}function ee(){o("referenceType","collapsed")}function re(pe){var tt=this.resume();this.stack[this.stack.length-1].label=tt,this.stack[this.stack.length-1].identifier=lD(this.sliceSerialize(pe)).toLowerCase(),o("referenceType","full")}function Q(pe){o("characterReferenceType",pe.type)}function se(pe){var tt=this.sliceSerialize(pe),It=s("characterReferenceType"),ot,Er;It?(ot=ije(tt,It==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):ot=lje(tt),Er=this.stack.pop(),Er.value+=ot,Er.position.end=l(pe.end)}function ne(pe){B.call(this,pe),this.stack[this.stack.length-1].url=this.sliceSerialize(pe)}function le(pe){B.call(this,pe),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(pe)}function ge(){return{type:"blockquote",children:[]}}function be(){return{type:"code",lang:null,meta:null,value:""}}function Pe(){return{type:"inlineCode",value:""}}function Ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ue(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:void 0,children:[]}}function Re(){return{type:"break"}}function ze(){return{type:"html",value:""}}function dt(){return{type:"image",title:null,url:"",alt:null}}function Mt(){return{type:"link",title:null,url:"",children:[]}}function sn(pe){return{type:"list",ordered:pe.type==="listOrdered",start:null,spread:pe._spread,children:[]}}function Gt(pe){return{type:"listItem",spread:pe._spread,checked:null,children:[]}}function Tr(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function Oe(){return{type:"text",value:""}}function ft(){return{type:"thematicBreak"}}}function dje(t,e){for(var r=-1;++r<e.length;)fje(t,e[r]);return t}function fje(t,e){var r,n;for(r in e)n=gre.call(t,r)?t[r]:t[r]={},r==="canContainEols"||r==="transforms"?t[r]=[].concat(n,e[r]):Object.assign(n,e[r])}var hje=tje,pje=gje,vje=hje;function gje(t){var e=this;this.Parser=r;function r(n){return vje(n,Object.assign({},e.data("settings"),t,{extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]}))}}var gs=mje;function mje(t,e,r){var n;return r==null&&(typeof e!="object"||Array.isArray(e))&&(r=e,e={}),n=Object.assign({type:String(t)},e),Array.isArray(r)?n.children=r:r!=null&&(n.value=String(r)),n}var mre=yre;function yre(t){if(t==null)return wje;if(typeof t=="string")return bje(t);if(typeof t=="object")return"length"in t?xje(t):yje(t);if(typeof t=="function")return t;throw new Error("Expected function, string, or object as test")}function yje(t){return e;function e(r){var n;for(n in t)if(r[n]!==t[n])return!1;return!0}}function xje(t){for(var e=[],r=-1;++r<t.length;)e[r]=yre(t[r]);return n;function n(){for(var i=-1;++i<e.length;)if(e[i].apply(this,arguments))return!0;return!1}}function bje(t){return e;function e(r){return!!(r&&r.type===t)}}function wje(){return!0}var Sje=Eje;function Eje(t){return t}var CI=TI,Aje=mre,Cje=Sje,xre=!0,bre="skip",jR=!1;TI.CONTINUE=xre;TI.SKIP=bre;TI.EXIT=jR;function TI(t,e,r,n){var i,a;typeof e=="function"&&typeof r!="function"&&(n=r,r=e,e=null),a=Aje(e),i=n?-1:1,o(t,null,[])();function o(s,l,u){var c=typeof s=="object"&&s!==null?s:{},d;return typeof c.type=="string"&&(d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0,f.displayName="node ("+Cje(c.type+(d?"<"+d+">":""))+")"),f;function f(){var p=u.concat(s),v=[],g,m;if((!e||a(s,l,u[u.length-1]||null))&&(v=Tje(r(s,u)),v[0]===jR))return v;if(s.children&&v[0]!==bre)for(m=(n?s.children.length:-1)+i;m>-1&&m<s.children.length;){if(g=o(s.children[m],m,p)(),g[0]===jR)return g;m=typeof g[1]=="number"?g[1]:m+i}return v}}}function Tje(t){return t!==null&&typeof t=="object"&&"length"in t?t:typeof t=="number"?[xre,t]:[t]}var Ije=PI,II=CI,Pje=II.CONTINUE,_je=II.SKIP,Oje=II.EXIT;PI.CONTINUE=Pje;PI.SKIP=_je;PI.EXIT=Oje;function PI(t,e,r,n){typeof e=="function"&&typeof r!="function"&&(n=r,r=e,e=null),II(t,e,i,n);function i(a,o){var s=o[o.length-1],l=s?s.children.indexOf(a):null;return r(a,l,s)}}var wre=Are("start"),Sre=Are("end"),Ere=gN;gN.start=wre;gN.end=Sre;function gN(t){return{start:wre(t),end:Sre(t)}}function Are(t){return e.displayName=t,e;function e(r){var n=r&&r.position&&r.position[t]||{};return{line:n.line||null,column:n.column||null,offset:isNaN(n.offset)?null:n.offset}}}var kje=Dje;function Dje(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}var Mje=OI,_I=CI,Rje=_I.CONTINUE,jje=_I.SKIP,Fje=_I.EXIT;OI.CONTINUE=Rje;OI.SKIP=jje;OI.EXIT=Fje;function OI(t,e,r,n){typeof e=="function"&&typeof r!="function"&&(n=r,r=e,e=null),_I(t,e,i,n);function i(a,o){var s=o[o.length-1],l=s?s.children.indexOf(a):null;return r(a,l,s)}}var Lje=Mje,$je=Nje,Cre={}.hasOwnProperty;function Nje(t,e){return Vje(Bje(t))}function Bje(t){var e={};if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return Lje(t,"definition",r),e;function r(n){var i=Tre(n.identifier);Cre.call(e,i)||(e[i]=n)}}function Vje(t){return e;function e(r){var n=r&&Tre(r);return n&&Cre.call(t,n)?t[n]:null}}function Tre(t){return t.toUpperCase()}var uD,zU;function Za(){if(zU)return uD;zU=1,uD=e;var t=Ire();function e(r,n){for(var i=n.children||[],a=i.length,o=[],s=-1,l,u;++s<a;)l=t(r,i[s],n),l&&(s&&i[s-1].type==="break"&&(l.value&&(l.value=l.value.replace(/^\s+/,"")),u=l.children&&l.children[0],u&&u.value&&(u.value=u.value.replace(/^\s+/,""))),o=o.concat(l));return o}return uD}var cD,UU;function Ire(){if(UU)return cD;UU=1,cD=i;var t=gs,e=Za(),r={}.hasOwnProperty;function n(s,l){return a(l)?s.augment(l,t("text",l.value)):s(l,"div",e(s,l))}function i(s,l,u){var c=l&&l.type,d;if(!c)throw new Error("Expected node, got `"+l+"`");return r.call(s.handlers,c)?d=s.handlers[c]:s.passThrough&&s.passThrough.indexOf(c)>-1?d=o:d=s.unknownHandler,(typeof d=="function"?d:n)(s,l,u)}function a(s){var l=s.data||{};return r.call(l,"hName")||r.call(l,"hProperties")||r.call(l,"hChildren")?!1:"value"in s}function o(s,l){var u;return l.children?(u=Object.assign({},l),u.children=e(s,l),u):l}return cD}var Pre=zje;function zje(t,e){return t(e,"hr")}var ow=Uje,dD=gs;function Uje(t,e){var r=[],n=-1,i=t.length;for(e&&r.push(dD("text",`
`));++n<i;)n&&r.push(dD("text",`
`)),r.push(t[n]);return e&&t.length>0&&r.push(dD("text",`
`)),r}var _re=Wje,qje=ow,Gje=Za();function Wje(t,e){var r={},n=e.ordered?"ol":"ul",i,a=-1,o;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start),i=Gje(t,e),o=i.length;++a<o;)if(i[a].properties.className&&i[a].properties.className.indexOf("task-list-item")!==-1){r.className=["contains-task-list"];break}return t(e,n,r,qje(i,!0))}var Hje=Qje,Yje=Pre,Xje=_re,Kje=ow;function Qje(t){for(var e=t.footnoteById,r=t.footnoteOrder,n=r.length,i=-1,a=[],o,s,l,u;++i<n;)o=e[r[i].toUpperCase()],o&&(l=o.children.concat(),u=l[l.length-1],s={type:"link",url:"#fnref-"+o.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:""}]},(!u||u.type!=="paragraph")&&(u={type:"paragraph",children:[]},l.push(u)),u.children.push(s),a.push({type:"listItem",data:{hProperties:{id:"fn-"+o.identifier}},children:l,position:o.position}));return a.length===0?null:t(null,"div",{className:["footnotes"]},Kje([Yje(t),Xje(t,{type:"list",ordered:!0,children:a})],!0))}var Jje=tFe,Zje=ow,eFe=Za();function tFe(t,e){return t(e,"blockquote",Zje(eFe(t,e),!0))}var rFe=iFe,nFe=gs;function iFe(t,e){return[t(e,"br"),nFe("text",`
`)]}var aFe=sFe,oFe=gs;function sFe(t,e){var r=e.value?e.value+`
`:"",n=e.lang&&e.lang.match(/^[^ \t]+(?=[ \t]|$)/),i={},a;return n&&(i.className=["language-"+n]),a=t(e,"code",i,[oFe("text",r)]),e.meta&&(a.data={meta:e.meta}),t(e.position,"pre",[a])}var lFe=cFe,uFe=Za();function cFe(t,e){return t(e,"del",uFe(t,e))}var dFe=hFe,fFe=Za();function hFe(t,e){return t(e,"em",fFe(t,e))}var Ore=vFe,pFe=gs;function vFe(t,e){var r=t.footnoteOrder,n=String(e.identifier);return r.indexOf(n)===-1&&r.push(n),t(e.position,"sup",{id:"fnref-"+n},[t(e,"a",{href:"#fn-"+n,className:["footnote-ref"]},[pFe("text",e.label||n)])])}var gFe=yFe,mFe=Ore;function yFe(t,e){for(var r=t.footnoteById,n=t.footnoteOrder,i=1;i in r;)i++;return i=String(i),n.push(i),r[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:e.children}],position:e.position},mFe(t,{type:"footnoteReference",identifier:i,position:e.position})}var xFe=wFe,bFe=Za();function wFe(t,e){return t(e,"h"+e.depth,bFe(t,e))}var SFe=AFe,EFe=gs;function AFe(t,e){return t.dangerous?t.augment(e,EFe("raw",e.value)):null}var qU={};function CFe(t){var e,r,n=qU[t];if(n)return n;for(n=qU[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function kI(t,e,r){var n,i,a,o,s,l="";for(typeof e!="string"&&(r=e,e=kI.defaultChars),typeof r>"u"&&(r=!0),s=CFe(e),n=0,i=t.length;n<i;n++){if(a=t.charCodeAt(n),r&&a===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){l+=t.slice(n,n+3),n+=2;continue}if(a<128){l+=s[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&n+1<i&&(o=t.charCodeAt(n+1),o>=56320&&o<=57343)){l+=encodeURIComponent(t[n]+t[n+1]),n++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[n])}return l}kI.defaultChars=";/?:@&=+$,-_.!~*'()#";kI.componentChars="-_.!~*'()";var DI=kI,kre=IFe,fD=gs,TFe=Za();function IFe(t,e){var r=e.referenceType,n="]",i,a,o;return r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference"?fD("text","!["+e.alt+n):(i=TFe(t,e),a=i[0],a&&a.type==="text"?a.value="["+a.value:i.unshift(fD("text","[")),o=i[i.length-1],o&&o.type==="text"?o.value+=n:i.push(fD("text",n)),i)}var PFe=kFe,_Fe=DI,OFe=kre;function kFe(t,e){var r=t.definition(e.identifier),n;return r?(n={src:_Fe(r.url||""),alt:e.alt},r.title!==null&&r.title!==void 0&&(n.title=r.title),t(e,"img",n)):OFe(t,e)}var DFe=DI,MFe=RFe;function RFe(t,e){var r={src:DFe(e.url),alt:e.alt};return e.title!==null&&e.title!==void 0&&(r.title=e.title),t(e,"img",r)}var jFe=LFe,FFe=gs;function LFe(t,e){var r=e.value.replace(/\r?\n|\r/g," ");return t(e,"code",[FFe("text",r)])}var $Fe=zFe,NFe=DI,BFe=kre,VFe=Za();function zFe(t,e){var r=t.definition(e.identifier),n;return r?(n={href:NFe(r.url||"")},r.title!==null&&r.title!==void 0&&(n.title=r.title),t(e,"a",n,VFe(t,e))):BFe(t,e)}var UFe=DI,qFe=Za(),GFe=WFe;function WFe(t,e){var r={href:UFe(e.url)};return e.title!==null&&e.title!==void 0&&(r.title=e.title),t(e,"a",r,qFe(t,e))}var HFe=XFe,hD=gs,YFe=Za();function XFe(t,e,r){var n=YFe(t,e),i=n[0],a=r?KFe(r):Dre(e),o={},s=[],l,u,c;for(typeof e.checked=="boolean"&&((!i||i.tagName!=="p")&&(i=t(null,"p",[]),n.unshift(i)),i.children.length>0&&i.children.unshift(hD("text"," ")),i.children.unshift(t(null,"input",{type:"checkbox",checked:e.checked,disabled:!0})),o.className=["task-list-item"]),l=n.length,u=-1;++u<l;)c=n[u],(a||u!==0||c.tagName!=="p")&&s.push(hD("text",`
`)),c.tagName==="p"&&!a?s=s.concat(c.children):s.push(c);return l&&(a||c.tagName!=="p")&&s.push(hD("text",`
`)),t(e,"li",o,s)}function KFe(t){for(var e=t.spread,r=t.children,n=r.length,i=-1;!e&&++i<n;)e=Dre(r[i]);return e}function Dre(t){var e=t.spread;return e??t.children.length>1}var QFe=ZFe,JFe=Za();function ZFe(t,e){return t(e,"p",JFe(t,e))}var eLe=iLe,tLe=gs,rLe=ow,nLe=Za();function iLe(t,e){return t.augment(e,tLe("root",rLe(nLe(t,e))))}var aLe=sLe,oLe=Za();function sLe(t,e){return t(e,"strong",oLe(t,e))}var lLe=cLe,GU=Ere,K1=ow,uLe=Za();function cLe(t,e){for(var r=e.children,n=r.length,i=e.align||[],a=i.length,o=[],s,l,u,c,d;n--;){for(l=r[n].children,c=n===0?"th":"td",s=a||l.length,u=[];s--;)d=l[s],u[s]=t(d,c,{align:i[s]},d?uLe(t,d):[]);o[n]=t(r[n],"tr",K1(u,!0))}return t(e,"table",K1([t(o[0].position,"thead",K1([o[0]],!0))].concat(o[1]?t({start:GU.start(o[1]),end:GU.end(o[o.length-1])},"tbody",K1(o.slice(1),!0)):[]),!0))}var dLe=hLe,fLe=gs;function hLe(t,e){return t.augment(e,fLe("text",String(e.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))}var pLe={blockquote:Jje,break:rFe,code:aFe,delete:lFe,emphasis:dFe,footnoteReference:Ore,footnote:gFe,heading:xFe,html:SFe,imageReference:PFe,image:MFe,inlineCode:jFe,linkReference:$Fe,link:GFe,listItem:HFe,list:_re,paragraph:QFe,root:eLe,strong:aLe,table:lLe,text:dLe,thematicBreak:Pre,toml:Q1,yaml:Q1,definition:Q1,footnoteDefinition:Q1};function Q1(){return null}var vLe=CLe,gLe=gs,mLe=Ije,WU=Ere,yLe=kje,xLe=$je,bLe=Ire(),wLe=Hje,SLe=pLe,ELe={}.hasOwnProperty,HU=!1;function ALe(t,e){var r=e||{};r.allowDangerousHTML!==void 0&&!HU&&(HU=!0,console.warn("mdast-util-to-hast: deprecation: `allowDangerousHTML` is nonstandard, use `allowDangerousHtml` instead"));var n=r.allowDangerousHtml||r.allowDangerousHTML,i={};return o.dangerous=n,o.definition=xLe(t),o.footnoteById=i,o.footnoteOrder=[],o.augment=a,o.handlers=Object.assign({},SLe,r.handlers),o.unknownHandler=r.unknownHandler,o.passThrough=r.passThrough,mLe(t,"footnoteDefinition",s),o;function a(l,u){var c,d;return l&&l.data&&(c=l.data,c.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=c.hName),u.type==="element"&&c.hProperties&&(u.properties=Object.assign({},u.properties,c.hProperties)),u.children&&c.hChildren&&(u.children=c.hChildren)),d=l&&l.position?l:{position:l},yLe(d)||(u.position={start:WU.start(d),end:WU.end(d)}),u}function o(l,u,c,d){return d==null&&typeof c=="object"&&"length"in c&&(d=c,c={}),a(l,{type:"element",tagName:u,properties:c||{},children:d||[]})}function s(l){var u=String(l.identifier).toUpperCase();ELe.call(i,u)||(i[u]=l)}}function CLe(t,e){var r=ALe(t,e),n=bLe(r,t),i=wLe(r);return i&&(n.children=n.children.concat(gLe("text",`
`),i)),n}var TLe=vLe,Mre=TLe,ILe=PLe;function PLe(t,e){return t&&!t.process&&(e=t,t=null),t?_Le(t,e):OLe(e)}function _Le(t,e){return r;function r(n,i,a){t.run(Mre(n,e),i,o);function o(s){a(s)}}}function OLe(t){return e;function e(r){return Mre(r,t)}}var Rre={exports:{}},kLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",DLe=kLe,MLe=DLe;function jre(){}function Fre(){}Fre.resetWarningCache=jre;var RLe=function(){function t(n,i,a,o,s,l){if(l!==MLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Fre,resetWarningCache:jre};return r.PropTypes=r,r};Rre.exports=RLe();var Da=Rre.exports;const Ir=_t(Da);var jLe=LLe,FLe=Object.prototype.hasOwnProperty;function LLe(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)FLe.call(r,n)&&(t[n]=r[n])}return t}var Lre=$re,mN=$re.prototype;mN.space=null;mN.normal={};mN.property={};function $re(t,e,r){this.property=t,this.normal=e,r&&(this.space=r)}var YU=jLe,$Le=Lre,Nre=NLe;function NLe(t){for(var e=t.length,r=[],n=[],i=-1,a,o;++i<e;)a=t[i],r.push(a.property),n.push(a.normal),o=a.space;return new $Le(YU.apply(null,r),YU.apply(null,n),o)}var Bre=BLe;function BLe(t){return t.toLowerCase()}var Vre=zre,ms=zre.prototype;ms.space=null;ms.attribute=null;ms.property=null;ms.boolean=!1;ms.booleanish=!1;ms.overloadedBoolean=!1;ms.number=!1;ms.commaSeparated=!1;ms.spaceSeparated=!1;ms.commaOrSpaceSeparated=!1;ms.mustUseProperty=!1;ms.defined=!1;function zre(t,e){this.property=t,this.attribute=e}var Js={},VLe=0;Js.boolean=ap();Js.booleanish=ap();Js.overloadedBoolean=ap();Js.number=ap();Js.spaceSeparated=ap();Js.commaSeparated=ap();Js.commaOrSpaceSeparated=ap();function ap(){return Math.pow(2,++VLe)}var Ure=Vre,XU=Js,qre=yN;yN.prototype=new Ure;yN.prototype.defined=!0;var Gre=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],zLe=Gre.length;function yN(t,e,r,n){var i=-1,a;for(KU(this,"space",n),Ure.call(this,t,e);++i<zLe;)a=Gre[i],KU(this,a,(r&XU[a])===XU[a])}function KU(t,e,r){r&&(t[e]=r)}var QU=Bre,ULe=Lre,qLe=qre,mm=GLe;function GLe(t){var e=t.space,r=t.mustUseProperty||[],n=t.attributes||{},i=t.properties,a=t.transform,o={},s={},l,u;for(l in i)u=new qLe(l,a(n,l),i[l],e),r.indexOf(l)!==-1&&(u.mustUseProperty=!0),o[l]=u,s[QU(l)]=l,s[QU(u.attribute)]=l;return new ULe(o,s,e)}var WLe=mm,Wre=WLe({space:"xlink",transform:HLe,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function HLe(t,e){return"xlink:"+e.slice(5).toLowerCase()}var YLe=mm,Hre=YLe({space:"xml",transform:XLe,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function XLe(t,e){return"xml:"+e.slice(3).toLowerCase()}var Yre=KLe;function KLe(t,e){return e in t?t[e]:e}var QLe=Yre,Xre=JLe;function JLe(t,e){return QLe(t,e.toLowerCase())}var ZLe=mm,e$e=Xre,Kre=ZLe({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:e$e,properties:{xmlns:null,xmlnsXLink:null}}),xN=Js,t$e=mm,_a=xN.booleanish,Vo=xN.number,hf=xN.spaceSeparated,Qre=t$e({transform:r$e,properties:{ariaActiveDescendant:null,ariaAtomic:_a,ariaAutoComplete:null,ariaBusy:_a,ariaChecked:_a,ariaColCount:Vo,ariaColIndex:Vo,ariaColSpan:Vo,ariaControls:hf,ariaCurrent:null,ariaDescribedBy:hf,ariaDetails:null,ariaDisabled:_a,ariaDropEffect:hf,ariaErrorMessage:null,ariaExpanded:_a,ariaFlowTo:hf,ariaGrabbed:_a,ariaHasPopup:null,ariaHidden:_a,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hf,ariaLevel:Vo,ariaLive:null,ariaModal:_a,ariaMultiLine:_a,ariaMultiSelectable:_a,ariaOrientation:null,ariaOwns:hf,ariaPlaceholder:null,ariaPosInSet:Vo,ariaPressed:_a,ariaReadOnly:_a,ariaRelevant:null,ariaRequired:_a,ariaRoleDescription:hf,ariaRowCount:Vo,ariaRowIndex:Vo,ariaRowSpan:Vo,ariaSelected:_a,ariaSetSize:Vo,ariaSort:null,ariaValueMax:Vo,ariaValueMin:Vo,ariaValueNow:Vo,ariaValueText:null,role:null}});function r$e(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}var ym=Js,n$e=mm,i$e=Xre,zt=ym.boolean,a$e=ym.overloadedBoolean,Sy=ym.booleanish,Jr=ym.number,fa=ym.spaceSeparated,J1=ym.commaSeparated,o$e=n$e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:i$e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:J1,acceptCharset:fa,accessKey:fa,action:null,allow:null,allowFullScreen:zt,allowPaymentRequest:zt,allowUserMedia:zt,alt:null,as:null,async:zt,autoCapitalize:null,autoComplete:fa,autoFocus:zt,autoPlay:zt,capture:zt,charSet:null,checked:zt,cite:null,className:fa,cols:Jr,colSpan:null,content:null,contentEditable:Sy,controls:zt,controlsList:fa,coords:Jr|J1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zt,defer:zt,dir:null,dirName:null,disabled:zt,download:a$e,draggable:Sy,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zt,formTarget:null,headers:fa,height:Jr,hidden:zt,high:Jr,href:null,hrefLang:null,htmlFor:fa,httpEquiv:fa,id:null,imageSizes:null,imageSrcSet:J1,inputMode:null,integrity:null,is:null,isMap:zt,itemId:null,itemProp:fa,itemRef:fa,itemScope:zt,itemType:fa,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zt,low:Jr,manifest:null,max:null,maxLength:Jr,media:null,method:null,min:null,minLength:Jr,multiple:zt,muted:zt,name:null,nonce:null,noModule:zt,noValidate:zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zt,optimum:Jr,pattern:null,ping:fa,placeholder:null,playsInline:zt,poster:null,preload:null,readOnly:zt,referrerPolicy:null,rel:fa,required:zt,reversed:zt,rows:Jr,rowSpan:Jr,sandbox:fa,scope:null,scoped:zt,seamless:zt,selected:zt,shape:null,size:Jr,sizes:null,slot:null,span:Jr,spellCheck:Sy,src:null,srcDoc:null,srcLang:null,srcSet:J1,start:Jr,step:null,style:null,tabIndex:Jr,target:null,title:null,translate:null,type:null,typeMustMatch:zt,useMap:null,value:Sy,width:Jr,wrap:null,align:null,aLink:null,archive:fa,axis:null,background:null,bgColor:null,border:Jr,borderColor:null,bottomMargin:Jr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zt,declare:zt,event:null,face:null,frame:null,frameBorder:null,hSpace:Jr,leftMargin:Jr,link:null,longDesc:null,lowSrc:null,marginHeight:Jr,marginWidth:Jr,noResize:zt,noHref:zt,noShade:zt,noWrap:zt,object:null,profile:null,prompt:null,rev:null,rightMargin:Jr,rules:null,scheme:null,scrolling:Sy,standby:null,summary:null,text:null,topMargin:Jr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Jr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zt,disableRemotePlayback:zt,prefix:null,property:null,results:Jr,security:null,unselectable:null}}),s$e=Nre,l$e=Wre,u$e=Hre,c$e=Kre,d$e=Qre,f$e=o$e,h$e=s$e([u$e,l$e,c$e,d$e,f$e]),p$e=RI,MI=CI,v$e=MI.CONTINUE,g$e=MI.SKIP,m$e=MI.EXIT;RI.CONTINUE=v$e;RI.SKIP=g$e;RI.EXIT=m$e;function RI(t,e,r,n){typeof e=="function"&&typeof r!="function"&&(n=r,r=e,e=null),MI(t,e,i,n);function i(a,o){var s=o[o.length-1],l=s?s.children.indexOf(a):null;return r(a,l,s)}}const y$e=p$e;var x$e=b$e;function b$e(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return r=>{y$e(r,"element",e)};function e(r,n,i){const a=r,o=i;let s;if(t.allowedElements?s=!t.allowedElements.includes(a.tagName):t.disallowedElements&&(s=t.disallowedElements.includes(a.tagName)),!s&&t.allowElement&&typeof n=="number"&&(s=!t.allowElement(a,n,o)),s&&typeof n=="number")return t.unwrapDisallowed&&a.children?o.children.splice(n,1,...a.children):o.children.splice(n,1),n}}const JU=["http","https","mailto","tel"];var w$e=S$e;function S$e(t){const e=(t||"").trim(),r=e.charAt(0);if(r==="#"||r==="/")return e;const n=e.indexOf(":");if(n===-1)return e;let i=-1;for(;++i<JU.length;){const a=JU[i];if(n===a.length&&e.slice(0,a.length).toLowerCase()===a)return e}return i=e.indexOf("?"),i!==-1&&n>i||(i=e.indexOf("#"),i!==-1&&n>i)?e:"javascript:void(0)"}var bN={},Jre={exports:{}},Ur={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI=60103,FI=60106,sw=60107,lw=60108,uw=60114,cw=60109,dw=60110,fw=60112,hw=60113,wN=60120,pw=60115,vw=60116,Zre=60121,ene=60122,tne=60117,rne=60129,nne=60131;if(typeof Symbol=="function"&&Symbol.for){var Ti=Symbol.for;jI=Ti("react.element"),FI=Ti("react.portal"),sw=Ti("react.fragment"),lw=Ti("react.strict_mode"),uw=Ti("react.profiler"),cw=Ti("react.provider"),dw=Ti("react.context"),fw=Ti("react.forward_ref"),hw=Ti("react.suspense"),wN=Ti("react.suspense_list"),pw=Ti("react.memo"),vw=Ti("react.lazy"),Zre=Ti("react.block"),ene=Ti("react.server.block"),tne=Ti("react.fundamental"),rne=Ti("react.debug_trace_mode"),nne=Ti("react.legacy_hidden")}function Zs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jI:switch(t=t.type,t){case sw:case uw:case lw:case hw:case wN:return t;default:switch(t=t&&t.$$typeof,t){case dw:case fw:case vw:case pw:case cw:return t;default:return e}}case FI:return e}}}var E$e=cw,A$e=jI,C$e=fw,T$e=sw,I$e=vw,P$e=pw,_$e=FI,O$e=uw,k$e=lw,D$e=hw;Ur.ContextConsumer=dw;Ur.ContextProvider=E$e;Ur.Element=A$e;Ur.ForwardRef=C$e;Ur.Fragment=T$e;Ur.Lazy=I$e;Ur.Memo=P$e;Ur.Portal=_$e;Ur.Profiler=O$e;Ur.StrictMode=k$e;Ur.Suspense=D$e;Ur.isAsyncMode=function(){return!1};Ur.isConcurrentMode=function(){return!1};Ur.isContextConsumer=function(t){return Zs(t)===dw};Ur.isContextProvider=function(t){return Zs(t)===cw};Ur.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jI};Ur.isForwardRef=function(t){return Zs(t)===fw};Ur.isFragment=function(t){return Zs(t)===sw};Ur.isLazy=function(t){return Zs(t)===vw};Ur.isMemo=function(t){return Zs(t)===pw};Ur.isPortal=function(t){return Zs(t)===FI};Ur.isProfiler=function(t){return Zs(t)===uw};Ur.isStrictMode=function(t){return Zs(t)===lw};Ur.isSuspense=function(t){return Zs(t)===hw};Ur.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sw||t===uw||t===rne||t===lw||t===hw||t===wN||t===nne||typeof t=="object"&&t!==null&&(t.$$typeof===vw||t.$$typeof===pw||t.$$typeof===cw||t.$$typeof===dw||t.$$typeof===fw||t.$$typeof===tne||t.$$typeof===Zre||t[0]===ene)};Ur.typeOf=Zs;Jre.exports=Ur;var M$e=Jre.exports,gw=Js,R$e=mm,j$e=Yre,F$e=gw.boolean,ht=gw.number,ZU=gw.spaceSeparated,pD=gw.commaSeparated,zo=gw.commaOrSpaceSeparated,L$e=R$e({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:j$e,properties:{about:zo,accentHeight:ht,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ht,amplitude:ht,arabicForm:null,ascent:ht,attributeName:null,attributeType:null,azimuth:ht,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ht,by:null,calcMode:null,capHeight:ht,className:ZU,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ht,diffuseConstant:ht,direction:null,display:null,dur:null,divisor:ht,dominantBaseline:null,download:F$e,dx:null,dy:null,edgeMode:null,editable:null,elevation:ht,enableBackground:null,end:null,event:null,exponent:ht,externalResourcesRequired:null,fill:null,fillOpacity:ht,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pD,g2:pD,glyphName:pD,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ht,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ht,horizOriginX:ht,horizOriginY:ht,id:null,ideographic:ht,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ht,k:ht,k1:ht,k2:ht,k3:ht,k4:ht,kernelMatrix:zo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ht,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ht,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ht,overlineThickness:ht,paintOrder:null,panose1:null,path:null,pathLength:ht,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ZU,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ht,pointsAtY:ht,pointsAtZ:ht,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zo,rev:zo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zo,requiredFeatures:zo,requiredFonts:zo,requiredFormats:zo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ht,specularExponent:ht,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ht,strikethroughThickness:ht,string:null,stroke:null,strokeDashArray:zo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ht,strokeOpacity:ht,strokeWidth:null,style:null,surfaceScale:ht,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zo,tabIndex:ht,tableValues:null,target:null,targetX:ht,targetY:ht,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zo,to:null,transform:null,u1:null,u2:null,underlinePosition:ht,underlineThickness:ht,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ht,values:null,vAlphabetic:ht,vMathematical:ht,vectorEffect:null,vHanging:ht,vIdeographic:ht,version:null,vertAdvY:ht,vertOriginX:ht,vertOriginY:ht,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ht,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),$$e=Nre,N$e=Wre,B$e=Hre,V$e=Kre,z$e=Qre,U$e=L$e,q$e=$$e([B$e,N$e,V$e,z$e,U$e]),G$e=Bre,W$e=qre,H$e=Vre,SN="data",Y$e=Q$e,X$e=/^data[-\w.:]+$/i,ine=/-[a-z]/g,K$e=/[A-Z]/g;function Q$e(t,e){var r=G$e(e),n=e,i=H$e;return r in t.normal?t.property[t.normal[r]]:(r.length>4&&r.slice(0,4)===SN&&X$e.test(e)&&(e.charAt(4)==="-"?n=J$e(e):e=Z$e(e),i=W$e),new i(n,e))}function J$e(t){var e=t.slice(5).replace(ine,tNe);return SN+e.charAt(0).toUpperCase()+e.slice(1)}function Z$e(t){var e=t.slice(4);return ine.test(e)?t:(e=e.replace(K$e,eNe),e.charAt(0)!=="-"&&(e="-"+e),SN+e)}function eNe(t){return"-"+t.toLowerCase()}function tNe(t){return t.charAt(1).toUpperCase()}const rNe="classID",nNe="datatype",iNe="itemID",aNe="strokeDasharray",oNe="strokeDashoffset",sNe="strokeLinecap",lNe="strokeLinejoin",uNe="strokeMiterlimit",cNe="typeof",dNe="xlinkActuate",fNe="xlinkArcrole",hNe="xlinkHref",pNe="xlinkRole",vNe="xlinkShow",gNe="xlinkTitle",mNe="xlinkType",yNe="xmlnsXlink",xNe={classId:rNe,dataType:nNe,itemId:iNe,strokeDashArray:aNe,strokeDashOffset:oNe,strokeLineCap:sNe,strokeLineJoin:lNe,strokeMiterLimit:uNe,typeOf:cNe,xLinkActuate:dNe,xLinkArcRole:fNe,xLinkHref:hNe,xLinkRole:pNe,xLinkShow:vNe,xLinkTitle:gNe,xLinkType:mNe,xmlnsXLink:yNe};var EN={};EN.parse=SNe;EN.stringify=ENe;var eq="",bNe=" ",wNe=/[ \t\n\r\f]+/g;function SNe(t){var e=String(t||eq).trim();return e===eq?[]:e.split(wNe)}function ENe(t){return t.join(bNe).trim()}var AN={};AN.parse=ANe;AN.stringify=CNe;var FR=",",tq=" ",e0="";function ANe(t){for(var e=[],r=String(t||e0),n=r.indexOf(FR),i=0,a=!1,o;!a;)n===-1&&(n=r.length,a=!0),o=r.slice(i,n).trim(),(o||!a)&&e.push(o),i=n+1,n=r.indexOf(FR,i);return e}function CNe(t,e){var r=e||{},n=r.padLeft===!1?e0:tq,i=r.padRight?tq:e0;return t[t.length-1]===e0&&(t=t.concat(e0)),t.join(i+FR+n).trim()}var rq=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,TNe=/\n/g,INe=/^\s*/,PNe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_Ne=/^:\s*/,ONe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,kNe=/^[;\s]*/,DNe=/^\s+|\s+$/g,MNe=`
`,nq="/",iq="*",Bf="",RNe="comment",jNe="declaration",FNe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function i(v){var g=v.match(TNe);g&&(r+=g.length);var m=v.lastIndexOf(MNe);n=~m?v.length-m:n+v.length}function a(){var v={line:r,column:n};return function(g){return g.position=new o(v),u(),g}}function o(v){this.start=v,this.end={line:r,column:n},this.source=e.source}o.prototype.content=t;function s(v){var g=new Error(e.source+":"+r+":"+n+": "+v);if(g.reason=v,g.filename=e.source,g.line=r,g.column=n,g.source=t,!e.silent)throw g}function l(v){var g=v.exec(t);if(g){var m=g[0];return i(m),t=t.slice(m.length),g}}function u(){l(INe)}function c(v){var g;for(v=v||[];g=d();)g!==!1&&v.push(g);return v}function d(){var v=a();if(!(nq!=t.charAt(0)||iq!=t.charAt(1))){for(var g=2;Bf!=t.charAt(g)&&(iq!=t.charAt(g)||nq!=t.charAt(g+1));)++g;if(g+=2,Bf===t.charAt(g-1))return s("End of comment missing");var m=t.slice(2,g-2);return n+=2,i(m),t=t.slice(g),n+=2,v({type:RNe,comment:m})}}function f(){var v=a(),g=l(PNe);if(g){if(d(),!l(_Ne))return s("property missing ':'");var m=l(ONe),y=v({type:jNe,property:aq(g[0].replace(rq,Bf)),value:m?aq(m[0].replace(rq,Bf)):Bf});return l(kNe),y}}function p(){var v=[];c(v);for(var g;g=f();)g!==!1&&(v.push(g),c(v));return v}return u(),p()};function aq(t){return t?t.replace(DNe,Bf):Bf}var LNe=FNe;function $Ne(t,e){var r=null;if(!t||typeof t!="string")return r;for(var n,i=LNe(t),a=typeof e=="function",o,s,l=0,u=i.length;l<u;l++)n=i[l],o=n.property,s=n.value,a?e(o,s,n):s&&(r||(r={}),r[o]=s);return r}var NNe=$Ne;const vD=j,BNe=M$e,VNe=q$e,zNe=Y$e,oq=xNe,UNe=EN,qNe=AN,GNe=NNe;bN.hastToReact=one;bN.hastChildrenToReact=ane;const LR={}.hasOwnProperty,WNe=new Set(["table","thead","tbody","tfoot","tr"]);function ane(t,e){const r=[];let n=-1,i;for(;++n<e.children.length;)i=e.children[n],i.type==="element"?r.push(one(t,i,n,e)):i.type==="text"?(e.type!=="element"||!WNe.has(e.tagName)||i.value!==`
`)&&r.push(i.value):i.type==="raw"&&!t.options.skipHtml&&r.push(i.value);return r}function one(t,e,r,n){const i=t.options,a=t.schema,o=e.tagName,s={};let l=a,u;if(a.space==="html"&&o==="svg"&&(l=VNe,t.schema=l),e.properties)for(u in e.properties)LR.call(e.properties,u)&&YNe(s,u,e.properties[u],t);(o==="ol"||o==="ul")&&t.listDepth++;const c=ane(t,e);(o==="ol"||o==="ul")&&t.listDepth--,t.schema=a;const d=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},f=i.components&&LR.call(i.components,o)?i.components[o]:o,p=typeof f=="string"||f===vD.Fragment;if(!BNe.isValidElementType(f))throw new TypeError(`Component for name \`${o}\` not defined or is not renderable`);if(s.key=[o,d.start.line,d.start.column,r].join("-"),o==="a"&&i.linkTarget&&(s.target=typeof i.linkTarget=="function"?i.linkTarget(s.href,e.children,s.title):i.linkTarget),o==="a"&&i.transformLinkUri&&(s.href=i.transformLinkUri(s.href,e.children,s.title)),!p&&o==="code"&&n.type==="element"&&n.tagName!=="pre"&&(s.inline=!0),!p&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(s.level=parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(s.src=i.transformImageUri(s.src,s.alt,s.title)),!p&&o==="li"&&n.type==="element"){const v=HNe(e);s.checked=v&&v.properties?!!v.properties.checked:null,s.index=gD(n,e),s.ordered=n.tagName==="ol"}return!p&&(o==="ol"||o==="ul")&&(s.ordered=o==="ol",s.depth=t.listDepth),(o==="td"||o==="th")&&(s.align&&(s.style||(s.style={}),s.style.textAlign=s.align,delete s.align),p||(s.isHeader=o==="th")),!p&&o==="tr"&&n.type==="element"&&(s.isHeader=n.tagName==="thead"),i.sourcePos&&(s["data-sourcepos"]=QNe(d)),!p&&i.rawSourcePos&&(s.sourcePosition=e.position),!p&&i.includeElementIndex&&(s.index=gD(n,e),s.siblingCount=gD(n)),p||(s.node=e),c.length>0?vD.createElement(f,s,c):vD.createElement(f,s)}function HNe(t){let e=-1;for(;++e<t.children.length;){const r=t.children[e];if(r.type==="element"&&r.tagName==="input")return r}return null}function gD(t,e){let r=-1,n=0;for(;++r<t.children.length&&t.children[r]!==e;)t.children[r].type==="element"&&n++;return n}function YNe(t,e,r,n){const i=zNe(n.schema,e);let a=r;a==null||a!==a||(a&&typeof a=="object"&&"length"in a&&(a=(i.commaSeparated?qNe:UNe).stringify(a)),i.property==="style"&&typeof a=="string"&&(a=XNe(a)),i.space&&i.property?t[LR.call(oq,i.property)?oq[i.property]:i.property]=a:i.attribute&&(t[i.attribute]=a))}function XNe(t){const e={};try{GNe(t,r)}catch{}return e;function r(n,i){const a=n.slice(0,4)==="-ms-"?`ms-${n.slice(4)}`:n;e[a.replace(/-([a-z])/g,KNe)]=i}}function KNe(t,e){return e.toUpperCase()}function QNe(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(e=>String(e)).join("")}const mD=j,sq=Nte,JNe=SOe,ZNe=pje,eBe=ILe,Wt=Da,tBe=h$e,rBe=x$e,sne=w$e,nBe=bN.hastChildrenToReact;var iBe=LI;const lq={}.hasOwnProperty,aBe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Z1={renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function LI(t){for(const a in Z1)if(lq.call(Z1,a)&&lq.call(t,a)){const o=Z1[a];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${a}\` (see <${aBe}#${o.id}> for more info)`),delete Z1[a]}const e=JNe().use(ZNe).use(t.remarkPlugins||t.plugins||[]).use(eBe,{allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(rBe,t);let r;typeof t.children=="string"?r=sq(t.children):(t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`),r=sq());const n=e.runSync(e.parse(r),r);if(n.type!=="root")throw new TypeError("Expected a `root` node");let i=mD.createElement(mD.Fragment,{},nBe({options:t,schema:tBe,listDepth:0},n));return t.className&&(i=mD.createElement("div",{className:t.className},i)),i}LI.defaultProps={transformLinkUri:sne};LI.propTypes={children:Wt.string,className:Wt.string,allowElement:Wt.func,allowedElements:Wt.arrayOf(Wt.string),disallowedElements:Wt.arrayOf(Wt.string),unwrapDisallowed:Wt.bool,remarkPlugins:Wt.arrayOf(Wt.oneOfType([Wt.object,Wt.func,Wt.arrayOf(Wt.oneOfType([Wt.object,Wt.func]))])),rehypePlugins:Wt.arrayOf(Wt.oneOfType([Wt.object,Wt.func,Wt.arrayOf(Wt.oneOfType([Wt.object,Wt.func]))])),sourcePos:Wt.bool,rawSourcePos:Wt.bool,skipHtml:Wt.bool,includeElementIndex:Wt.bool,transformLinkUri:Wt.oneOfType([Wt.func,Wt.bool]),linkTarget:Wt.oneOfType([Wt.func,Wt.string]),transformImageUri:Wt.func,components:Wt.object};LI.uriTransformer=sne;const oBe=_t(iBe);var lne={},une=AI,cne=aw,dne=fN,sBe=Gn,fne=cN,hne=dN,lBe={tokenize:fBe,partial:!0},pne={tokenize:hBe,partial:!0},vne={tokenize:pBe,partial:!0},Rv={tokenize:gBe,partial:!0},gne={tokenize:vBe,partial:!0},mne={tokenize:cBe,previous:bne},yne={tokenize:dBe,previous:TN},vc={tokenize:uBe,previous:wne},nu={};lne.text=nu;var pf=48;for(;pf<123;)nu[pf]=vc,pf++,pf===58?pf=65:pf===91&&(pf=97);nu[43]=vc;nu[45]=vc;nu[46]=vc;nu[95]=vc;nu[72]=[vc,yne];nu[104]=[vc,yne];nu[87]=[vc,mne];nu[119]=[vc,mne];function uBe(t,e,r){var n=this,i;return a;function a(f){return!uq(f)||!wne(n.previous)||IN(n.events)?r(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(f))}function o(f){return uq(f)?(t.consume(f),o):f===64?(t.consume(f),s):r(f)}function s(f){return f===46?t.check(Rv,d,l)(f):f===45||f===95?t.check(Rv,r,u)(f):cne(f)?(t.consume(f),s):d(f)}function l(f){return t.consume(f),i=!0,s}function u(f){return t.consume(f),c}function c(f){return f===46?t.check(Rv,r,l)(f):s(f)}function d(f){return i?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):r(f)}}function cBe(t,e,r){var n=this;return i;function i(o){return o!==87&&o-32!==87||!bne(n.previous)||IN(n.events)?r(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(lBe,t.attempt(pne,t.attempt(vne,a),r),r)(o))}function a(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function dBe(t,e,r){var n=this;return i;function i(v){return v!==72&&v-32!==72||!TN(n.previous)||IN(n.events)?r(v):(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(v),a)}function a(v){return v===84||v-32===84?(t.consume(v),o):r(v)}function o(v){return v===84||v-32===84?(t.consume(v),s):r(v)}function s(v){return v===80||v-32===80?(t.consume(v),l):r(v)}function l(v){return v===83||v-32===83?(t.consume(v),u):u(v)}function u(v){return v===58?(t.consume(v),c):r(v)}function c(v){return v===47?(t.consume(v),d):r(v)}function d(v){return v===47?(t.consume(v),f):r(v)}function f(v){return dne(v)||hne(v)||fne(v)?r(v):t.attempt(pne,t.attempt(vne,p),r)(v)}function p(v){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(v)}}function fBe(t,e,r){return n;function n(l){return t.consume(l),i}function i(l){return l===87||l-32===87?(t.consume(l),a):r(l)}function a(l){return l===87||l-32===87?(t.consume(l),o):r(l)}function o(l){return l===46?(t.consume(l),s):r(l)}function s(l){return l===null||sBe(l)?r(l):e(l)}}function hBe(t,e,r){var n,i;return a;function a(l){return l===38?t.check(gne,s,o)(l):l===46||l===95?t.check(Rv,s,o)(l):dne(l)||hne(l)||l!==45&&fne(l)?s(l):(t.consume(l),a)}function o(l){return l===46?(i=n,n=void 0,t.consume(l),a):(l===95&&(n=!0),t.consume(l),a)}function s(l){return!i&&!n?e(l):r(l)}}function pBe(t,e){var r=0;return n;function n(o){return o===38?t.check(gne,e,i)(o):(o===40&&r++,o===41?t.check(Rv,a,i)(o):CN(o)?e(o):xne(o)?t.check(Rv,e,i)(o):(t.consume(o),n))}function i(o){return t.consume(o),n}function a(o){return r--,r<0?e(o):i(o)}}function vBe(t,e,r){return n;function n(o){return t.consume(o),i}function i(o){return une(o)?(t.consume(o),i):o===59?(t.consume(o),a):r(o)}function a(o){return CN(o)?e(o):r(o)}}function gBe(t,e,r){return n;function n(a){return t.consume(a),i}function i(a){return xne(a)?(t.consume(a),i):CN(a)?e(a):r(a)}}function xne(t){return t===33||t===34||t===39||t===41||t===42||t===44||t===46||t===58||t===59||t===60||t===63||t===95||t===126}function CN(t){return t===null||t<0||t===32||t===60}function uq(t){return t===43||t===45||t===46||t===95||cne(t)}function bne(t){return t===null||t<0||t===32||t===40||t===42||t===95||t===126}function TN(t){return t===null||!une(t)}function wne(t){return t!==47&&TN(t)}function IN(t){for(var e=t.length;e--;)if((t[e][1].type==="labelLink"||t[e][1].type==="labelImage")&&!t[e][1]._balanced)return!0}var mBe=lne,yBe=bBe,cq=tre,yD=hc,xBe=EI,eS=ip;function bBe(t){var e=t||{},r=e.singleTilde,n={tokenize:o,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:n}};function i(s,l){for(var u=-1,c,d,f,p;++u<s.length;)if(s[u][0]==="enter"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._close){for(f=u;f--;)if(s[f][0]==="exit"&&s[f][1].type==="strikethroughSequenceTemporary"&&s[f][1]._open&&s[u][1].end.offset-s[u][1].start.offset===s[f][1].end.offset-s[f][1].start.offset){s[u][1].type="strikethroughSequence",s[f][1].type="strikethroughSequence",c={type:"strikethrough",start:eS(s[f][1].start),end:eS(s[u][1].end)},d={type:"strikethroughText",start:eS(s[f][1].end),end:eS(s[u][1].start)},p=[["enter",c,l],["enter",s[f][1],l],["exit",s[f][1],l],["enter",d,l]],yD(p,p.length,0,xBe(l.parser.constructs.insideSpan.null,s.slice(f+1,u),l)),yD(p,p.length,0,[["exit",d,l],["enter",s[u][1],l],["exit",s[u][1],l],["exit",c,l]]),yD(s,f-1,u-f+3,p),u=f+p.length-2;break}}return a(s)}function a(s){for(var l=-1,u=s.length;++l<u;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,l,u){var c=this.previous,d=this.events,f=0;return p;function p(g){return g!==126||c===126&&d[d.length-1][1].type!=="characterEscape"?u(g):(s.enter("strikethroughSequenceTemporary"),v(g))}function v(g){var m=cq(c),y,x;return g===126?f>1?u(g):(s.consume(g),f++,v):f<2&&!r?u(g):(y=s.exit("strikethroughSequenceTemporary"),x=cq(g),y._open=!x||x===2&&m,y._close=!m||m===2&&x,l(g))}}}var Sne={};Sne.flow={null:{tokenize:EBe,resolve:SBe,interruptible:!0}};var xD=ni,wBe={tokenize:ABe,partial:!0},dq={tokenize:CBe,partial:!0};function SBe(t,e){for(var r=t.length,n=-1,i,a,o,s,l,u,c,d,f,p;++n<r;)i=t[n][1],s&&(i.type==="temporaryTableCellContent"&&(d=d||n,f=n),(i.type==="tableCellDivider"||i.type==="tableRow")&&f&&(u={type:"tableContent",start:t[d][1].start,end:t[f][1].end},c={type:"chunkText",start:u.start,end:u.end,contentType:"text"},t.splice(d,f-d+1,["enter",u,e],["enter",c,e],["exit",c,e],["exit",u,e]),n-=f-d-3,r=t.length,d=void 0,f=void 0)),t[n][0]==="exit"&&p&&p+1<n&&(i.type==="tableCellDivider"||i.type==="tableRow"&&(p+3<n||t[p][1].type!=="whitespace"))&&(l={type:o?"tableDelimiter":a?"tableHeader":"tableData",start:t[p][1].start,end:t[n][1].end},t.splice(n+(i.type==="tableCellDivider"?1:0),0,["exit",l,e]),t.splice(p,0,["enter",l,e]),n+=2,r=t.length,p=n+1),i.type==="tableRow"&&(s=t[n][0]==="enter",s&&(p=n+1)),i.type==="tableDelimiterRow"&&(o=t[n][0]==="enter",o&&(p=n+1)),i.type==="tableHead"&&(a=t[n][0]==="enter");return t}function EBe(t,e,r){var n=[],i=0,a,o;return s;function s(R){return R===null||R===-5||R===-4||R===-3?r(R):(t.enter("table")._align=n,t.enter("tableHead"),t.enter("tableRow"),R===124?l(R):(i++,t.enter("temporaryTableCellContent"),d(R)))}function l(R){return t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),a=!0,u}function u(R){return R===null||R===-5||R===-4||R===-3?p(R):R===-2||R===-1||R===32?(t.enter("whitespace"),t.consume(R),c):(a&&(a=void 0,i++),R===124?l(R):(t.enter("temporaryTableCellContent"),d(R)))}function c(R){return R===-2||R===-1||R===32?(t.consume(R),c):(t.exit("whitespace"),u(R))}function d(R){return R===null||R<0||R===32||R===124?(t.exit("temporaryTableCellContent"),u(R)):(t.consume(R),R===92?f:d)}function f(R){return R===92||R===124?(t.consume(R),d):d(R)}function p(R){return R===null?r(R):(t.exit("tableRow"),t.exit("tableHead"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),t.check(wBe,r,xD(t,v,"linePrefix",4)))}function v(R){return R===null||R<0||R===32?r(R):(t.enter("tableDelimiterRow"),g(R))}function g(R){return R===null||R===-5||R===-4||R===-3?w(R):R===-2||R===-1||R===32?(t.enter("whitespace"),t.consume(R),m):R===45?(t.enter("tableDelimiterFiller"),t.consume(R),o=!0,n.push(null),y):R===58?(t.enter("tableDelimiterAlignment"),t.consume(R),t.exit("tableDelimiterAlignment"),n.push("left"),x):R===124?(t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),g):r(R)}function m(R){return R===-2||R===-1||R===32?(t.consume(R),m):(t.exit("whitespace"),g(R))}function y(R){return R===45?(t.consume(R),y):(t.exit("tableDelimiterFiller"),R===58?(t.enter("tableDelimiterAlignment"),t.consume(R),t.exit("tableDelimiterAlignment"),n[n.length-1]=n[n.length-1]==="left"?"center":"right",b):g(R))}function x(R){return R===45?(t.enter("tableDelimiterFiller"),t.consume(R),o=!0,y):r(R)}function b(R){return R===null||R===-5||R===-4||R===-3?w(R):R===-2||R===-1||R===32?(t.enter("whitespace"),t.consume(R),m):R===124?(t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),g):r(R)}function w(R){return t.exit("tableDelimiterRow"),!o||i!==n.length?r(R):R===null?S(R):t.check(dq,S,C)(R)}function S(R){return t.exit("table"),e(R)}function C(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),xD(t,E,"linePrefix",4)}function E(R){return t.enter("tableBody"),A(R)}function A(R){return t.enter("tableRow"),R===124?P(R):(t.enter("temporaryTableCellContent"),O(R))}function P(R){return t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),_}function _(R){return R===null||R===-5||R===-4||R===-3?B(R):R===-2||R===-1||R===32?(t.enter("whitespace"),t.consume(R),k):R===124?P(R):(t.enter("temporaryTableCellContent"),O(R))}function k(R){return R===-2||R===-1||R===32?(t.consume(R),k):(t.exit("whitespace"),_(R))}function O(R){return R===null||R<0||R===32||R===124?(t.exit("temporaryTableCellContent"),_(R)):(t.consume(R),R===92?D:O)}function D(R){return R===92||R===124?(t.consume(R),O):O(R)}function B(R){return t.exit("tableRow"),R===null?$(R):t.check(dq,$,L)(R)}function $(R){return t.exit("tableBody"),S(R)}function L(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),xD(t,A,"linePrefix",4)}}function ABe(t,e,r){return n;function n(o){return o!==45?r(o):(t.enter("setextUnderline"),i(o))}function i(o){return o===45?(t.consume(o),i):a(o)}function a(o){return o===-2||o===-1||o===32?(t.consume(o),a):o===null||o===-5||o===-4||o===-3?e(o):r(o)}}function CBe(t,e,r){var n=0;return i;function i(o){return t.enter("check"),t.consume(o),a}function a(o){return o===-1||o===32?(t.consume(o),n++,n===4?e:a):o===null||o<0?e(o):r(o)}}var TBe=Sne,Ene={},IBe=pc,PBe=ni,_Be=iw,OBe={tokenize:kBe};Ene.text={91:OBe};function kBe(t,e,r){var n=this;return i;function i(s){return s!==91||n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(s):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),a)}function a(s){return s===-2||s===32?(t.enter("taskListCheckValueUnchecked"),t.consume(s),t.exit("taskListCheckValueUnchecked"),o):s===88||s===120?(t.enter("taskListCheckValueChecked"),t.consume(s),t.exit("taskListCheckValueChecked"),o):r(s)}function o(s){return s===93?(t.enter("taskListCheckMarker"),t.consume(s),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:DBe},e,r)):r(s)}}function DBe(t,e,r){var n=this;return PBe(t,i,"whitespace");function i(a){return _Be(n.events,"whitespace")&&a!==null&&!IBe(a)?e(a):r(a)}}var MBe=Ene,RBe=ere,jBe=mBe,FBe=yBe,LBe=TBe,$Be=MBe,NBe=BBe;function BBe(t){return RBe([jBe,FBe(t),LBe,$Be])}var VBe=NBe,$I={},zBe=UBe;function UBe(t,e){var r=String(t),n=0,i;if(typeof e!="string")throw new Error("Expected character");for(i=r.indexOf(e);i!==-1;)n++,i=r.indexOf(e,i+e.length);return n}var qBe=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},GBe=KBe,WBe=CI,HBe=mre,YBe=qBe,XBe=[].splice;function KBe(t,e,r,n){var i,a;return typeof e=="string"||e&&typeof e.exec=="function"?a=[[e,r]]:(a=e,n=r),i=n||{},fq(t,i,o(QBe(a))),t;function o(s){var l=s[0];return u;function u(c,d){var f=l[0],p=l[1],v=[],g=0,m=d.children.indexOf(c),y,x,b,w;for(f.lastIndex=0,x=f.exec(c.value);x&&(y=x.index,w=p.apply(null,[].concat(x,{index:x.index,input:x.input})),w!==!1&&(g!==y&&v.push({type:"text",value:c.value.slice(g,y)}),typeof w=="string"&&w.length>0&&(w={type:"text",value:w}),w&&(v=[].concat(v,w)),g=y+x[0].length),!!f.global);)x=f.exec(c.value);if(y===void 0?(v=[c],m--):(g<c.value.length&&v.push({type:"text",value:c.value.slice(g)}),v.unshift(m,1),XBe.apply(d.children,v)),s.length>1)for(b=o(s.slice(1)),y=-1;++y<v.length;)c=v[y],c.type==="text"?b(c,d):fq(c,i,b);return m+v.length+1}}}function fq(t,e,r){var n=HBe(e.ignore||[]),i=[];return WBe(t,"text",a),i;function a(o,s){for(var l=-1,u,c;++l<s.length;){if(u=s[l],n(u,c?c.children.indexOf(u):void 0,c))return;c=u}return r(o,c)}}function QBe(t){var e=[],r,n;if(typeof t!="object")throw new Error("Expected array or object as schema");if("length"in t)for(n=-1;++n<t.length;)e.push([hq(t[n][0]),pq(t[n][1])]);else for(r in t)e.push([hq(r),pq(t[r])]);return e}function hq(t){return typeof t=="string"?new RegExp(YBe(t),"g"):t}function pq(t){return typeof t=="function"?t:e;function e(){return t}}var vq=zBe,JBe=GBe,ZBe=cN,e4e=dN;$I.transforms=[o4e];$I.enter={literalAutolink:t4e,literalAutolinkEmail:bD,literalAutolinkHttp:bD,literalAutolinkWww:bD};$I.exit={literalAutolink:a4e,literalAutolinkEmail:i4e,literalAutolinkHttp:r4e,literalAutolinkWww:n4e};function t4e(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function bD(t){this.config.enter.autolinkProtocol.call(this,t)}function r4e(t){this.config.exit.autolinkProtocol.call(this,t)}function n4e(t){this.config.exit.data.call(this,t),this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(t)}function i4e(t){this.config.exit.autolinkEmail.call(this,t)}function a4e(t){this.exit(t)}function o4e(t){JBe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/i,s4e],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/,l4e]],{ignore:["link","linkReference"]})}function s4e(t,e,r,n,i){var a="",o,s;return!Ane(i)||(/^w/i.test(e)&&(r=e+r,e="",a="http://"),!u4e(r))||(o=c4e(r+n),!o[0])?!1:(s={type:"link",title:null,url:a+e+o[0],children:[{type:"text",value:e+o[0]}]},o[1]&&(s=[s,{type:"text",value:o[1]}]),s)}function l4e(t,e,r,n){return!Ane(n,!0)||/[_-]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+r,children:[{type:"text",value:e+"@"+r}]}}function u4e(t){var e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function c4e(t){var e=/[!"&'),.:;<>?\]}]+$/.exec(t),r,n,i;if(e)for(t=t.slice(0,e.index),e=e[0],r=e.indexOf(")"),n=vq(t,"("),i=vq(t,")");r!==-1&&n>i;)t+=e.slice(0,r+1),e=e.slice(r+1),r=e.indexOf(")"),i++;return[t,e]}function Ane(t,e){var r=t.input.charCodeAt(t.index-1);return(r!==r||e4e(r)||ZBe(r))&&(!e||r!==47)}var NI={};NI.canContainEols=["delete"];NI.enter={strikethrough:d4e};NI.exit={strikethrough:f4e};function d4e(t){this.enter({type:"delete",children:[]},t)}function f4e(t){this.exit(t)}var PN={};PN.enter={table:h4e,tableData:gq,tableHeader:gq,tableRow:v4e};PN.exit={codeText:g4e,table:p4e,tableData:wD,tableHeader:wD,tableRow:wD};function h4e(t){this.enter({type:"table",align:t._align,children:[]},t),this.setData("inTable",!0)}function p4e(t){this.exit(t),this.setData("inTable")}function v4e(t){this.enter({type:"tableRow",children:[]},t)}function wD(t){this.exit(t)}function gq(t){this.enter({type:"tableCell",children:[]},t)}function g4e(t){var e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,m4e)),this.stack[this.stack.length-1].value=e,this.exit(t)}function m4e(t,e){return e==="|"?e:t}var Cne={};Cne.exit={taskListCheckValueChecked:mq,taskListCheckValueUnchecked:mq,paragraph:y4e};function mq(t){this.stack[this.stack.length-2].checked=t.type==="taskListCheckValueChecked"}function y4e(t){var e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],n=e.children,i=r.children[0],a=-1,o;if(e&&e.type==="listItem"&&typeof e.checked=="boolean"&&i&&i.type==="text"){for(;++a<n.length;)if(n[a].type==="paragraph"){o=n[a];break}o===r&&(i.value=i.value.slice(1),i.value.length===0?r.children.shift():(i.position.start.column++,i.position.start.offset++,r.position.start=Object.assign({},i.position.start)))}this.exit(t)}var x4e=$I,b4e=NI,w4e=PN,S4e=Cne,E4e={}.hasOwnProperty,A4e=C4e([x4e,b4e,w4e,S4e]);function C4e(t){for(var e={transforms:[],canContainEols:[]},r=t.length,n=-1;++n<r;)T4e(e,t[n]);return e}function T4e(t,e){var r,n,i;for(r in e)n=E4e.call(t,r)?t[r]:t[r]={},i=e[r],r==="canContainEols"||r==="transforms"?t[r]=[].concat(n,i):Object.assign(n,i)}var Tne={},SD="phrasing",ED=["autolink","link","image","label"];Tne.unsafe=[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:SD,notInConstruct:ED},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:SD,notInConstruct:ED},{character:":",before:"[ps]",after:"\\/",inConstruct:SD,notInConstruct:ED}];var _N={},Ine=I4e;function I4e(t,e,r){for(var n=t.children||[],i=[],a=-1,o=r.before,s,l,u;++a<n.length;)u=n[a],a+1<n.length?(l=e.handle.handlers[n[a+1].type],l&&l.peek&&(l=l.peek),s=l?l(n[a+1],t,e,{before:"",after:""}).charAt(0):""):s=r.after,i.length>0&&(o==="\r"||o===`
`)&&u.type==="html"&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),o=" "),i.push(e.handle(u,t,e,{before:o,after:s})),o=i[i.length-1].slice(-1);return i.join("")}var P4e=Ine;_N.unsafe=[{character:"~",inConstruct:"phrasing"}];_N.handlers={delete:Pne};Pne.peek=_4e;function Pne(t,e,r){var n=r.enter("emphasis"),i=P4e(t,r,{before:"~",after:"~"});return n(),"~~"+i+"~~"}function _4e(){return"~"}var O4e=k4e;function k4e(t){var e,r;return t._compiled||(e=t.before?"(?:"+t.before+")":"",r=t.after?"(?:"+t.after+")":"",t.atBreak&&(e="[\\r\\n][\\t ]*"+e),t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(r||""),"g")),t._compiled}var D4e=_ne;_ne.peek=R4e;var M4e=O4e;function _ne(t,e,r){for(var n=t.value||"",i="`",a=-1,o,s,l,u;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/[ \r\n`]/.test(n.charAt(0))||/[ \r\n`]/.test(n.charAt(n.length-1)))&&(n=" "+n+" ");++a<r.unsafe.length;)if(o=r.unsafe[a],!!o.atBreak)for(s=M4e(o);l=s.exec(n);)u=l.index,n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1);return i+n+i}function R4e(){return"`"}/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var fu="",AD,ON=j4e;function j4e(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var r=t.length*e;if(AD!==t||typeof AD>"u")AD=t,fu="";else if(fu.length>=r)return fu.substr(0,r);for(;r>fu.length&&e>1;)e&1&&(fu+=t),e>>=1,t+=t;return fu+=t,fu=fu.substr(0,r),fu}var Bp=ON,F4e=U4e,L4e=/ +$/,vf=" ",$4e=`
`,N4e="-",tS=":",yq="|",xq=0,B4e=67,V4e=76,z4e=82,$A=99,$R=108,NA=114;function U4e(t,e){for(var r=e||{},n=r.padding!==!1,i=r.delimiterStart!==!1,a=r.delimiterEnd!==!1,o=(r.align||[]).concat(),s=r.alignDelimiters!==!1,l=[],u=r.stringLength||G4e,c=-1,d=t.length,f=[],p=[],v=[],g=[],m=[],y=0,x,b,w,S,C,E,A,P,_,k,O;++c<d;){for(x=t[c],b=-1,w=x.length,v=[],g=[],w>y&&(y=w);++b<w;)E=q4e(x[b]),s===!0&&(C=u(E),g[b]=C,S=m[b],(S===void 0||C>S)&&(m[b]=C)),v.push(E);f[c]=v,p[c]=g}if(b=-1,w=y,typeof o=="object"&&"length"in o)for(;++b<w;)l[b]=bq(o[b]);else for(O=bq(o);++b<w;)l[b]=O;for(b=-1,w=y,v=[],g=[];++b<w;)O=l[b],_="",k="",O===$R?_=tS:O===NA?k=tS:O===$A&&(_=tS,k=tS),C=s?Math.max(1,m[b]-_.length-k.length):1,E=_+Bp(N4e,C)+k,s===!0&&(C=_.length+C+k.length,C>m[b]&&(m[b]=C),g[b]=C),v[b]=E;for(f.splice(1,0,v),p.splice(1,0,g),c=-1,d=f.length,A=[];++c<d;){for(v=f[c],g=p[c],b=-1,w=y,P=[];++b<w;)E=v[b]||"",_="",k="",s===!0&&(C=m[b]-(g[b]||0),O=l[b],O===NA?_=Bp(vf,C):O===$A?C%2===0?(_=Bp(vf,C/2),k=_):(_=Bp(vf,C/2+.5),k=Bp(vf,C/2-.5)):k=Bp(vf,C)),i===!0&&b===0&&P.push(yq),n===!0&&!(s===!1&&E==="")&&(i===!0||b!==0)&&P.push(vf),s===!0&&P.push(_),P.push(E),s===!0&&P.push(k),n===!0&&P.push(vf),(a===!0||b!==w-1)&&P.push(yq);P=P.join(""),a===!1&&(P=P.replace(L4e,"")),A.push(P)}return A.join($4e)}function q4e(t){return t==null?"":String(t)}function G4e(t){return t.length}function bq(t){var e=typeof t=="string"?t.charCodeAt(0):xq;return e===V4e||e===$R?$R:e===z4e||e===NA?NA:e===B4e||e===$A?$A:xq}var W4e=Ine,H4e=D4e,Y4e=F4e,X4e=K4e;function K4e(t){var e=t||{},r=e.tableCellPadding,n=e.tablePipeAlign,i=e.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:o,tableRow:s,tableCell:l,inlineCode:f}};function o(p,v,g){return u(c(p,g),p.align)}function s(p,v,g){var m=d(p,g),y=u([m]);return y.slice(0,y.indexOf(`
`))}function l(p,v,g){var m=g.enter("tableCell"),y=W4e(p,g,{before:a,after:a});return m(),y}function u(p,v){return Y4e(p,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function c(p,v){for(var g=p.children,m=-1,y=g.length,x=[],b=v.enter("table");++m<y;)x[m]=d(g[m],v);return b(),x}function d(p,v){for(var g=p.children,m=-1,y=g.length,x=[],b=v.enter("tableRow");++m<y;)x[m]=l(g[m],p,v);return b(),x}function f(p,v,g){var m=H4e(p,v,g);return g.stack.indexOf("tableCell")!==-1&&(m=m.replace(/\|/g,"\\$&")),m}}var kN={},Q4e=J4e;function J4e(t){var e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}var Z4e=e5e;function e5e(t){var e=t.options.listItemIndent||"tab";if(e===1||e==="1")return"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}var t5e=n5e,r5e=ON;function n5e(t,e){for(var r=t.children||[],n=[],i=-1,a;++i<r.length;)a=r[i],n.push(e.handle(a,t,e,{before:`
`,after:`
`})),i+1<r.length&&n.push(o(a,r[i+1]));return n.join("");function o(s,l){for(var u=-1,c;++u<e.join.length&&(c=e.join[u](s,l,t,e),!(c===!0||c===1));){if(typeof c=="number")return r5e(`
`,1+Number(c));if(c===!1)return`

<!---->

`}return`

`}}var i5e=o5e,a5e=/\r?\n|\r/g;function o5e(t,e){for(var r=[],n=0,i=0,a;a=a5e.exec(t);)o(t.slice(n,a.index)),r.push(a[0]),n=a.index+a[0].length,i++;return o(t.slice(n)),r.join("");function o(s){r.push(e(s,i,!s))}}var s5e=f5e,wq=ON,l5e=Q4e,u5e=Z4e,c5e=t5e,d5e=i5e;function f5e(t,e,r){var n=l5e(r),i=u5e(r),a,o,s;return e&&e.ordered&&(n=(e.start>-1?e.start:1)+(r.options.incrementListMarker===!1?0:e.children.indexOf(t))+"."),a=n.length+1,(i==="tab"||i==="mixed"&&(e&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4),s=r.enter("listItem"),o=d5e(c5e(t,r),l),s(),o;function l(u,c,d){return c?(d?"":wq(" ",a))+u:(d?n:n+wq(" ",a-n.length))+u}}var h5e=s5e;kN.unsafe=[{atBreak:!0,character:"-",after:"[:|-]"}];kN.handlers={listItem:p5e};function p5e(t,e,r){var n=h5e(t,e,r),i=t.children[0];return typeof t.checked=="boolean"&&i&&i.type==="paragraph"&&(n=n.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,a)),n;function a(o){return o+"["+(t.checked?"x":" ")+"] "}}var v5e=One;function One(t,e){var r=-1,n;if(e.extensions)for(;++r<e.extensions.length;)One(t,e.extensions[r]);for(n in e)n==="extensions"||(n==="unsafe"||n==="join"?t[n]=t[n].concat(e[n]||[]):n==="handlers"?t[n]=Object.assign(t[n],e[n]||{}):t.options[n]=e[n]);return t}var g5e=Tne,m5e=_N,y5e=X4e,x5e=kN,b5e=v5e,w5e=S5e;function S5e(t){var e=b5e({handlers:{},join:[],unsafe:[],options:{}},{extensions:[g5e,m5e,y5e(t),x5e]});return Object.assign(e.options,{handlers:e.handlers,join:e.join,unsafe:e.unsafe})}var E5e=VBe,A5e=A4e,C5e=w5e,Sq,T5e=I5e;function I5e(t){var e=this.data();!Sq&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Sq=!0,console.warn("[remark-gfm] Warning: please upgrade to remark 13 to use this plugin")),r("micromarkExtensions",E5e(t)),r("fromMarkdownExtensions",A5e),r("toMarkdownExtensions",C5e(t));function r(n,i){e[n]?e[n].push(i):e[n]=[i]}}const P5e=_t(T5e),_5e={moneySymbol:"",deleteThisLine:"",copyThisLine:"",form:{lightFilter:{more:"",clear:"",confirm:"",itemUnit:""}},tableForm:{search:"",reset:"",submit:"",collapsed:"",expand:"",inputPlaceholder:"",selectPlaceholder:""},alert:{clear:"",selected:"",item:""},pagination:{total:{range:"",total:"/",item:""}},tableToolBar:{leftPin:"",rightPin:"",noPin:"",leftFixedTitle:"",rightFixedTitle:"",noFixedTitle:"",reset:"",columnDisplay:"",columnSetting:"",fullScreen:"",exitFullScreen:"",reload:"",density:"",densityDefault:"",densityLarger:"",densityMiddle:"",densitySmall:""},stepsForm:{next:"",prev:"",submit:""},loginForm:{submitText:""},editableTable:{onlyOneLineEditor:"",action:{save:"",cancel:"",delete:"",add:""}},switch:{open:"",close:""}};var O5e=function(e,r){return{getMessage:function(i,a){var o=H0e(r,i.replace(/\[(\d+)\]/g,".$1").split("."))||"";if(o)return o;var s=e.replace("_","-");if(s==="zh-CN")return a;var l=k5e["zh-CN"];return l?l.getMessage(i,a):a},locale:e}},kne=O5e("zh_CN",_5e),k5e={"zh-CN":kne},CD,BA={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911",colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff7875",colorInfo:"#1677ff",colorTextBase:"#000",colorBgBase:"#fff",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInQuint:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:4,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,"blue-1":"#e6f4ff","blue-2":"#bae0ff","blue-3":"#91caff","blue-4":"#69b1ff","blue-5":"#4096ff","blue-6":"#1677ff","blue-7":"#0958d9","blue-8":"#003eb3","blue-9":"#002c8c","blue-10":"#001d66","purple-1":"#f9f0ff","purple-2":"#efdbff","purple-3":"#d3adf7","purple-4":"#b37feb","purple-5":"#9254de","purple-6":"#722ed1","purple-7":"#531dab","purple-8":"#391085","purple-9":"#22075e","purple-10":"#120338","cyan-1":"#e6fffb","cyan-2":"#b5f5ec","cyan-3":"#87e8de","cyan-4":"#5cdbd3","cyan-5":"#36cfc9","cyan-6":"#13c2c2","cyan-7":"#08979c","cyan-8":"#006d75","cyan-9":"#00474f","cyan-10":"#002329","green-1":"#f6ffed","green-2":"#d9f7be","green-3":"#b7eb8f","green-4":"#95de64","green-5":"#73d13d","green-6":"#52c41a","green-7":"#389e0d","green-8":"#237804","green-9":"#135200","green-10":"#092b00","magenta-1":"#fff0f6","magenta-2":"#ffd6e7","magenta-3":"#ffadd2","magenta-4":"#ff85c0","magenta-5":"#f759ab","magenta-6":"#eb2f96","magenta-7":"#c41d7f","magenta-8":"#9e1068","magenta-9":"#780650","magenta-10":"#520339","pink-1":"#fff0f6","pink-2":"#ffd6e7","pink-3":"#ffadd2","pink-4":"#ff85c0","pink-5":"#f759ab","pink-6":"#eb2f96","pink-7":"#c41d7f","pink-8":"#9e1068","pink-9":"#780650","pink-10":"#520339","red-1":"#fff1f0","red-2":"#ffccc7","red-3":"#ffa39e","red-4":"#ff7875","red-5":"#ff4d4f","red-6":"#f5222d","red-7":"#cf1322","red-8":"#a8071a","red-9":"#820014","red-10":"#5c0011","orange-1":"#fff7e6","orange-2":"#ffe7ba","orange-3":"#ffd591","orange-4":"#ffc069","orange-5":"#ffa940","orange-6":"#fa8c16","orange-7":"#d46b08","orange-8":"#ad4e00","orange-9":"#873800","orange-10":"#612500","yellow-1":"#feffe6","yellow-2":"#ffffb8","yellow-3":"#fffb8f","yellow-4":"#fff566","yellow-5":"#ffec3d","yellow-6":"#fadb14","yellow-7":"#d4b106","yellow-8":"#ad8b00","yellow-9":"#876800","yellow-10":"#614700","volcano-1":"#fff2e8","volcano-2":"#ffd8bf","volcano-3":"#ffbb96","volcano-4":"#ff9c6e","volcano-5":"#ff7a45","volcano-6":"#fa541c","volcano-7":"#d4380d","volcano-8":"#ad2102","volcano-9":"#871400","volcano-10":"#610b00","geekblue-1":"#f0f5ff","geekblue-2":"#d6e4ff","geekblue-3":"#adc6ff","geekblue-4":"#85a5ff","geekblue-5":"#597ef7","geekblue-6":"#2f54eb","geekblue-7":"#1d39c4","geekblue-8":"#10239e","geekblue-9":"#061178","geekblue-10":"#030852","gold-1":"#fffbe6","gold-2":"#fff1b8","gold-3":"#ffe58f","gold-4":"#ffd666","gold-5":"#ffc53d","gold-6":"#faad14","gold-7":"#d48806","gold-8":"#ad6800","gold-9":"#874d00","gold-10":"#613400","lime-1":"#fcffe6","lime-2":"#f4ffb8","lime-3":"#eaff8f","lime-4":"#d3f261","lime-5":"#bae637","lime-6":"#a0d911","lime-7":"#7cb305","lime-8":"#5b8c00","lime-9":"#3f6600","lime-10":"#254000",colorText:"rgba(0, 0, 0, 0.88)",colorTextSecondary:"rgba(0, 0, 0, 0.65)",colorTextTertiary:"rgba(0, 0, 0, 0.45)",colorTextQuaternary:"rgba(0, 0, 0, 0.25)",colorFill:"rgba(0, 0, 0, 0.15)",colorFillSecondary:"rgba(0, 0, 0, 0.06)",colorFillTertiary:"rgba(0, 0, 0, 0.04)",colorFillQuaternary:"rgba(0, 0, 0, 0.02)",colorBgLayout:"hsl(220,23%,97%)",colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgSpotlight:"rgba(0, 0, 0, 0.85)",colorBorder:"#d9d9d9",colorBorderSecondary:"#f0f0f0",colorPrimaryBg:"#e6f4ff",colorPrimaryBgHover:"#bae0ff",colorPrimaryBorder:"#91caff",colorPrimaryBorderHover:"#69b1ff",colorPrimaryHover:"#4096ff",colorPrimaryActive:"#0958d9",colorPrimaryTextHover:"#4096ff",colorPrimaryText:"#1677ff",colorPrimaryTextActive:"#0958d9",colorSuccessBg:"#f6ffed",colorSuccessBgHover:"#d9f7be",colorSuccessBorder:"#b7eb8f",colorSuccessBorderHover:"#95de64",colorSuccessHover:"#95de64",colorSuccessActive:"#389e0d",colorSuccessTextHover:"#73d13d",colorSuccessText:"#52c41a",colorSuccessTextActive:"#389e0d",colorErrorBg:"#fff2f0",colorErrorBgHover:"#fff1f0",colorErrorBorder:"#ffccc7",colorErrorBorderHover:"#ffa39e",colorErrorHover:"#ffa39e",colorErrorActive:"#d9363e",colorErrorTextHover:"#ff7875",colorErrorText:"#ff4d4f",colorErrorTextActive:"#d9363e",colorWarningBg:"#fffbe6",colorWarningBgHover:"#fff1b8",colorWarningBorder:"#ffe58f",colorWarningBorderHover:"#ffd666",colorWarningHover:"#ffd666",colorWarningActive:"#d48806",colorWarningTextHover:"#ffc53d",colorWarningText:"#faad14",colorWarningTextActive:"#d48806",colorInfoBg:"#e6f4ff",colorInfoBgHover:"#bae0ff",colorInfoBorder:"#91caff",colorInfoBorderHover:"#69b1ff",colorInfoHover:"#69b1ff",colorInfoActive:"#0958d9",colorInfoTextHover:"#4096ff",colorInfoText:"#1677ff",colorInfoTextActive:"#0958d9",colorBgMask:"rgba(0, 0, 0, 0.45)",colorWhite:"#fff",sizeXXL:48,sizeXL:32,sizeLG:24,sizeMD:20,sizeMS:16,size:16,sizeSM:12,sizeXS:8,sizeXXS:4,controlHeightSM:24,controlHeightXS:16,controlHeightLG:40,motionDurationFast:"0.1s",motionDurationMid:"0.2s",motionDurationSlow:"0.3s",fontSizes:[12,14,16,20,24,30,38,46,56,68],lineHeights:[1.6666666666666667,1.5714285714285714,1.5,1.4,1.3333333333333333,1.2666666666666666,1.2105263157894737,1.173913043478261,1.1428571428571428,1.1176470588235294],lineWidthBold:2,borderRadiusXS:1,borderRadiusSM:4,borderRadiusLG:8,borderRadiusOuter:4,colorLink:"#1677ff",colorLinkHover:"#69b1ff",colorLinkActive:"#0958d9",colorFillContent:"rgba(0, 0, 0, 0.06)",colorFillContentHover:"rgba(0, 0, 0, 0.15)",colorFillAlter:"rgba(0, 0, 0, 0.02)",colorBgContainerDisabled:"rgba(0, 0, 0, 0.04)",colorBorderBg:"#ffffff",colorSplit:"rgba(5, 5, 5, 0.06)",colorTextPlaceholder:"rgba(0, 0, 0, 0.25)",colorTextDisabled:"rgba(0, 0, 0, 0.25)",colorTextHeading:"rgba(0, 0, 0, 0.88)",colorTextLabel:"rgba(0, 0, 0, 0.65)",colorTextDescription:"rgba(0, 0, 0, 0.45)",colorTextLightSolid:"#fff",colorHighlight:"#ff7875",colorBgTextHover:"rgba(0, 0, 0, 0.06)",colorBgTextActive:"rgba(0, 0, 0, 0.15)",colorIcon:"rgba(0, 0, 0, 0.45)",colorIconHover:"rgba(0, 0, 0, 0.88)",colorErrorOutline:"rgba(255, 38, 5, 0.06)",colorWarningOutline:"rgba(255, 215, 5, 0.1)",fontSizeSM:12,fontSizeLG:16,fontSizeXL:20,fontSizeHeading1:38,fontSizeHeading2:30,fontSizeHeading3:24,fontSizeHeading4:20,fontSizeHeading5:16,fontSizeIcon:12,lineHeight:1.5714285714285714,lineHeightLG:1.5,lineHeightSM:1.6666666666666667,lineHeightHeading1:1.2105263157894737,lineHeightHeading2:1.2666666666666666,lineHeightHeading3:1.3333333333333333,lineHeightHeading4:1.4,lineHeightHeading5:1.5,controlOutlineWidth:2,controlInteractiveSize:16,controlItemBgHover:"rgba(0, 0, 0, 0.04)",controlItemBgActive:"#e6f4ff",controlItemBgActiveHover:"#bae0ff",controlItemBgActiveDisabled:"rgba(0, 0, 0, 0.15)",controlTmpOutline:"rgba(0, 0, 0, 0.02)",controlOutline:"rgba(5, 145, 255, 0.1)",fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:4,paddingXS:8,paddingSM:12,padding:16,paddingMD:20,paddingLG:24,paddingXL:32,paddingContentHorizontalLG:24,paddingContentVerticalLG:16,paddingContentHorizontal:16,paddingContentVertical:12,paddingContentHorizontalSM:16,paddingContentVerticalSM:8,marginXXS:4,marginXS:8,marginSM:12,margin:16,marginMD:20,marginLG:24,marginXL:32,marginXXL:48,boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.03),0 1px 6px -1px rgba(0, 0, 0, 0.02),0 2px 4px 0 rgba(0, 0, 0, 0.02)",boxShadowSecondary:"0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05)",screenXS:480,screenXSMin:480,screenXSMax:479,screenSM:576,screenSMMin:576,screenSMMax:575,screenMD:768,screenMDMin:768,screenMDMax:767,screenLG:992,screenLGMin:992,screenLGMax:991,screenXL:1200,screenXLMin:1200,screenXLMax:1199,screenXXL:1600,screenXXLMin:1600,screenXXLMax:1599,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:"0 1px 2px -2px rgba(0, 0, 0, 0.16),0 3px 6px 0 rgba(0, 0, 0, 0.12),0 5px 12px 4px rgba(0, 0, 0, 0.09)",boxShadowDrawerRight:"-6px 0 16px 0 rgba(0, 0, 0, 0.08),-3px 0 6px -4px rgba(0, 0, 0, 0.12),-9px 0 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerLeft:"6px 0 16px 0 rgba(0, 0, 0, 0.08),3px 0 6px -4px rgba(0, 0, 0, 0.12),9px 0 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerUp:"0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerDown:"0 -6px 16px 0 rgba(0, 0, 0, 0.08),0 -3px 6px -4px rgba(0, 0, 0, 0.12),0 -9px 28px 8px rgba(0, 0, 0, 0.05)",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)",_tokenKey:"19w80ff",_hashId:"css-dev-only-do-not-override-i2zu9q"},Dne=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=3735928559^r,i=1103547991^r,a=0,o;a<e.length;a++)o=e.charCodeAt(a),n=Math.imul(n^o,2654435761),i=Math.imul(i^o,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&i)+(n>>>0)},DN=Y0e(function(t){return t}),Mne={theme:DN,token:un(un({},BA),Cn===null||Cn===void 0||(CD=Cn.defaultAlgorithm)===null||CD===void 0?void 0:CD.call(Cn,Cn===null||Cn===void 0?void 0:Cn.defaultSeed)),hashId:"pro-".concat(Dne(JSON.stringify(BA)))},D5e=function(){return Mne};const M5e=Object.freeze(Object.defineProperty({__proto__:null,defaultToken:BA,emptyTheme:DN,hashCode:Dne,token:Mne,useToken:D5e},Symbol.toStringTag,{value:"Module"}));var R5e=function(){return typeof Cn>"u"||!Cn?M5e:Cn},j5e=R5e(),F5e=j5e.useToken,TD=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none"}},ID=function(e){return{color:e.colorLink,outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}};function L5e(t,e){var r,n=j.useContext(PD),i=n.token,a=i===void 0?{}:i,o=j.useContext(PD),s=o.hashed,l=F5e(),u=l.token,c=l.hashId,d=j.useContext(PD);d.theme;var f=j.useContext(Qh.ConfigContext),p=f.getPrefixCls,v=f.csp;return a.layout||(a=un({},u)),a.proComponentsCls=(r=a.proComponentsCls)!==null&&r!==void 0?r:".".concat(p("pro")),a.antCls=".".concat(p()),{wrapSSR:X0e({token:a,path:[t],nonce:v==null?void 0:v.nonce,layer:{name:"antd-pro",dependencies:["antd"]}},function(){return e(a)}),hashId:s?c:""}}var $5e={exports:{}};(function(t,e){(function(r,n){t.exports=n(K0e)})(mn,function(r){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=n(r),a={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(o,s){return s==="W"?o+"":o+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(o,s){var l=100*o+s;return l<600?"":l<900?"":l<1100?"":l<1300?"":l<1800?"":""}};return i.default.locale(a,null,!0),a})})($5e);var MN=I.createContext({intl:un(un({},kne),{},{locale:"default"}),valueTypeMap:{},theme:DN,hashed:!0,dark:!1,token:BA});MN.Consumer;MN.displayName="ProProvider";var PD=MN,Rne={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(mn,function(){var r="month",n="quarter";return function(i,a){var o=a.prototype;o.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var s=o.add;o.add=function(u,c){return u=Number(u),this.$utils().p(c)===n?this.add(3*u,r):s.bind(this)(u,c)};var l=o.startOf;o.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;if(d.p(u)===n){var p=this.quarter()-1;return f?this.month(3*p).startOf(r).startOf("day"):this.month(3*p+2).endOf(r).endOf("day")}return l.bind(this)(u,c)}}})})(Rne);var N5e=Rne.exports;const B5e=_t(N5e);var NR={exports:{}},BI={},jne={exports:{}},Fne={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Fne);var VI=Fne.exports;(function(t){var e=VI.default;function r(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(r=function(l){return l?o:a})(i)}function n(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||e(i)!="object"&&typeof i!="function")return{default:i};var o=r(a);if(o&&o.has(i))return o.get(i);var s={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in i)if(u!=="default"&&{}.hasOwnProperty.call(i,u)){var c=l?Object.getOwnPropertyDescriptor(i,u):null;c&&(c.get||c.set)?Object.defineProperty(s,u,c):s[u]=i[u]}return s.default=i,o&&o.set(i,s),s}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(jne);var mw=jne.exports,Lne={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Lne);var op=Lne.exports,$ne={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)({}).hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})($ne);var RN=$ne.exports,jN={};Object.defineProperty(jN,"__esModule",{value:!0});var V5e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};jN.default=V5e;var yw={},Nne={exports:{}},Bne={exports:{}};(function(t){function e(r){if(Array.isArray(r))return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Bne);var z5e=Bne.exports,Vne={exports:{}};(function(t){function e(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,o,s,l,u=[],c=!0,d=!1;try{if(s=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;c=!1}else for(;!(c=(a=s.call(i)).done)&&(u.push(a.value),u.length!==n);c=!0);}catch(f){d=!0,o=f}finally{try{if(!c&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw o}}return u}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Vne);var U5e=Vne.exports,zne={exports:{}},Une={exports:{}};(function(t){function e(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,a=Array(n);i<n;i++)a[i]=r[i];return a}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Une);var q5e=Une.exports;(function(t){var e=q5e;function r(n,i){if(n){if(typeof n=="string")return e(n,i);var a={}.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(n,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(zne);var G5e=zne.exports,qne={exports:{}};(function(t){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(qne);var W5e=qne.exports;(function(t){var e=z5e,r=U5e,n=G5e,i=W5e;function a(o,s){return e(o)||r(o,s)||n(o,s)||i()}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(Nne);var Gne=Nne.exports,Wne={exports:{}},Hne={exports:{}},Yne={exports:{}};(function(t){var e=VI.default;function r(n,i){if(e(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var o=a.call(n,i||"default");if(e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Yne);var H5e=Yne.exports;(function(t){var e=VI.default,r=H5e;function n(i){var a=r(i,"string");return e(a)=="symbol"?a:a+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(Hne);var Y5e=Hne.exports;(function(t){var e=Y5e;function r(n,i,a){return(i=e(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Wne);var Xne=Wne.exports,Kne={exports:{}},Qne={exports:{}};(function(t){function e(r,n){if(r==null)return{};var i={};for(var a in r)if({}.hasOwnProperty.call(r,a)){if(n.indexOf(a)!==-1)continue;i[a]=r[a]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Qne);var X5e=Qne.exports;(function(t){var e=X5e;function r(n,i){if(n==null)return{};var a,o,s=e(n,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)a=l[o],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(n,a)&&(s[a]=n[a])}return s}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Kne);var Jne=Kne.exports;const Zne=zJ(Q0e);var xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.default=void 0;var K5e=j,Q5e=(0,K5e.createContext)({});xw.default=Q5e;var bw={},eie={exports:{}};(function(t){var e=Xne;function r(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),o.push.apply(o,s)}return o}function n(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?r(Object(o),!0).forEach(function(s){e(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(eie);var FN=eie.exports,sa={},xm={},LN={};Object.defineProperty(LN,"__esModule",{value:!0});LN.default=J5e;function J5e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $N={};Object.defineProperty($N,"__esModule",{value:!0});$N.default=Z5e;function Z5e(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var r=e;r;){if(r===t)return!0;r=r.parentNode}return!1}var NN=op.default;Object.defineProperty(xm,"__esModule",{value:!0});xm.clearContainerCache=o3e;xm.injectCSS=VN;xm.removeCSS=i3e;xm.updateCSS=s3e;var Eq=NN(FN),e3e=NN(LN),t3e=NN($N),Aq="data-rc-order",Cq="data-rc-priority",r3e="rc-util-key",VA=new Map;function tie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):r3e}function zI(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function n3e(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function BN(t){return Array.from((VA.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function VN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,e3e.default)())return null;var r=e.csp,n=e.prepend,i=e.priority,a=i===void 0?0:i,o=n3e(n),s=o==="prependQueue",l=document.createElement("style");l.setAttribute(Aq,o),s&&a&&l.setAttribute(Cq,"".concat(a)),r!=null&&r.nonce&&(l.nonce=r==null?void 0:r.nonce),l.innerHTML=t;var u=zI(e),c=u.firstChild;if(n){if(s){var d=(e.styles||BN(u)).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(Aq)))return!1;var p=Number(f.getAttribute(Cq)||0);return a>=p});if(d.length)return u.insertBefore(l,d[d.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function rie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=zI(e);return(e.styles||BN(r)).find(function(n){return n.getAttribute(tie(e))===t})}function i3e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=rie(t,e);if(r){var n=zI(e);n.removeChild(r)}}function a3e(t,e){var r=VA.get(t);if(!r||!(0,t3e.default)(document,r)){var n=VN("",e),i=n.parentNode;VA.set(t,i),t.removeChild(n)}}function o3e(){VA.clear()}function s3e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=zI(r),i=BN(n),a=(0,Eq.default)((0,Eq.default)({},r),{},{styles:i});a3e(n,a);var o=rie(e,a);if(o){var s,l;if((s=a.csp)!==null&&s!==void 0&&s.nonce&&o.nonce!==((l=a.csp)===null||l===void 0?void 0:l.nonce)){var u;o.nonce=(u=a.csp)===null||u===void 0?void 0:u.nonce}return o.innerHTML!==t&&(o.innerHTML=t),o}var c=VN(t,a);return c.setAttribute(tie(a),e),c}var UI={};Object.defineProperty(UI,"__esModule",{value:!0});UI.getShadowRoot=l3e;UI.inShadow=iie;function nie(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function iie(t){return nie(t)instanceof ShadowRoot}function l3e(t){return iie(t)?nie(t):null}var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.call=zN;ys.default=void 0;ys.note=oie;ys.noteOnce=lie;ys.preMessage=void 0;ys.resetWarned=sie;ys.warning=aie;ys.warningOnce=ww;var BR={},u3e=ys.preMessage=function(e){};function aie(t,e){}function oie(t,e){}function sie(){BR={}}function zN(t,e,r){!e&&!BR[r]&&(t(!1,r),BR[r]=!0)}function ww(t,e){zN(aie,t,e)}function lie(t,e){zN(oie,t,e)}ww.preMessage=u3e;ww.resetWarned=sie;ww.noteOnce=lie;ys.default=ww;var c3e=mw.default,qI=op.default;Object.defineProperty(sa,"__esModule",{value:!0});sa.generate=zR;sa.getSecondaryColor=x3e;sa.iconStyles=void 0;sa.isIconDefinition=y3e;sa.normalizeAttrs=VR;sa.normalizeTwoToneColors=b3e;sa.useInsertStyles=sa.svgBaseProps=void 0;sa.warning=m3e;var _D=qI(FN),Tq=qI(VI),d3e=Zne,f3e=xm,h3e=UI,p3e=qI(ys),zA=c3e(j),v3e=qI(xw);function g3e(t){return t.replace(/-(.)/g,function(e,r){return r.toUpperCase()})}function m3e(t,e){(0,p3e.default)(t,"[@ant-design/icons] ".concat(e))}function y3e(t){return(0,Tq.default)(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&((0,Tq.default)(t.icon)==="object"||typeof t.icon=="function")}function VR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,r){var n=t[r];switch(r){case"class":e.className=n,delete e.class;break;default:delete e[r],e[g3e(r)]=n}return e},{})}function zR(t,e,r){return r?zA.default.createElement(t.tag,(0,_D.default)((0,_D.default)({key:e},VR(t.attrs)),r),(t.children||[]).map(function(n,i){return zR(n,"".concat(e,"-").concat(t.tag,"-").concat(i))})):zA.default.createElement(t.tag,(0,_D.default)({key:e},VR(t.attrs)),(t.children||[]).map(function(n,i){return zR(n,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function x3e(t){return(0,d3e.generate)(t)[0]}function b3e(t){return t?Array.isArray(t)?t:[t]:[]}sa.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var w3e=sa.iconStyles=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;sa.useInsertStyles=function(e){var r=(0,zA.useContext)(v3e.default),n=r.csp,i=r.prefixCls,a=r.layer,o=w3e;i&&(o=o.replace(/anticon/g,i)),a&&(o="@layer ".concat(a,` {
`).concat(o,`
}`)),(0,zA.useEffect)(function(){var s=e.current,l=(0,h3e.getShadowRoot)(s);(0,f3e.updateCSS)(o,"@ant-design-icons",{prepend:!a,csp:n,attachTo:l})},[])};var uie=op.default,S3e=mw.default;Object.defineProperty(bw,"__esModule",{value:!0});bw.default=void 0;var E3e=uie(Jne),t0=uie(FN),A3e=S3e(j),_f=sa,C3e=["icon","className","onClick","style","primaryColor","secondaryColor"],_0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function T3e(t){var e=t.primaryColor,r=t.secondaryColor;_0.primaryColor=e,_0.secondaryColor=r||(0,_f.getSecondaryColor)(e),_0.calculated=!!r}function I3e(){return(0,t0.default)({},_0)}var GI=function(e){var r=e.icon,n=e.className,i=e.onClick,a=e.style,o=e.primaryColor,s=e.secondaryColor,l=(0,E3e.default)(e,C3e),u=A3e.useRef(),c=_0;if(o&&(c={primaryColor:o,secondaryColor:s||(0,_f.getSecondaryColor)(o)}),(0,_f.useInsertStyles)(u),(0,_f.warning)((0,_f.isIconDefinition)(r),"icon should be icon definiton, but got ".concat(r)),!(0,_f.isIconDefinition)(r))return null;var d=r;return d&&typeof d.icon=="function"&&(d=(0,t0.default)((0,t0.default)({},d),{},{icon:d.icon(c.primaryColor,c.secondaryColor)})),(0,_f.generate)(d.icon,"svg-".concat(d.name),(0,t0.default)((0,t0.default)({className:n,onClick:i,style:a,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:u}))};GI.displayName="IconReact";GI.getTwoToneColors=I3e;GI.setTwoToneColors=T3e;bw.default=GI;var WI={},cie=op.default;Object.defineProperty(WI,"__esModule",{value:!0});WI.getTwoToneColor=k3e;WI.setTwoToneColor=O3e;var P3e=cie(Gne),die=cie(bw),_3e=sa;function O3e(t){var e=(0,_3e.normalizeTwoToneColors)(t),r=(0,P3e.default)(e,2),n=r[0],i=r[1];return die.default.setTwoToneColors({primaryColor:n,secondaryColor:i})}function k3e(){var t=die.default.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var sp=op.default,D3e=mw.default;Object.defineProperty(yw,"__esModule",{value:!0});yw.default=void 0;var M3e=sp(RN),R3e=sp(Gne),Iq=sp(Xne),j3e=sp(Jne),rS=D3e(j),F3e=sp(J0e),L3e=Zne,$3e=sp(xw),N3e=sp(bw),UN=WI,B3e=sa,V3e=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,UN.setTwoToneColor)(L3e.blue.primary);var HI=rS.forwardRef(function(t,e){var r=t.className,n=t.icon,i=t.spin,a=t.rotate,o=t.tabIndex,s=t.onClick,l=t.twoToneColor,u=(0,j3e.default)(t,V3e),c=rS.useContext($3e.default),d=c.prefixCls,f=d===void 0?"anticon":d,p=c.rootClassName,v=(0,F3e.default)(p,f,(0,Iq.default)((0,Iq.default)({},"".concat(f,"-").concat(n.name),!!n.name),"".concat(f,"-spin"),!!i||n.name==="loading"),r),g=o;g===void 0&&s&&(g=-1);var m=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,y=(0,B3e.normalizeTwoToneColors)(l),x=(0,R3e.default)(y,2),b=x[0],w=x[1];return rS.createElement("span",(0,M3e.default)({role:"img","aria-label":n.name},u,{ref:e,tabIndex:g,onClick:s,className:v}),rS.createElement(N3e.default,{icon:n,primaryColor:b,secondaryColor:w,style:m}))});HI.displayName="AntdIcon";HI.getTwoToneColor=UN.getTwoToneColor;HI.setTwoToneColor=UN.setTwoToneColor;yw.default=HI;var z3e=mw.default,qN=op.default;Object.defineProperty(BI,"__esModule",{value:!0});BI.default=void 0;var U3e=qN(RN),fie=z3e(j),q3e=qN(jN),G3e=qN(yw),W3e=function(e,r){return fie.createElement(G3e.default,(0,U3e.default)({},e,{ref:r,icon:q3e.default}))},H3e=fie.forwardRef(W3e);BI.default=H3e;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const r=n(BI);function n(a){return a&&a.__esModule?a:{default:a}}const i=r;e.default=i,t.exports=i})(NR,NR.exports);var Y3e=NR.exports;const X3e=_t(Y3e);var UR={exports:{}},YI={},GN={};Object.defineProperty(GN,"__esModule",{value:!0});var K3e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};GN.default=K3e;var Q3e=mw.default,WN=op.default;Object.defineProperty(YI,"__esModule",{value:!0});YI.default=void 0;var J3e=WN(RN),hie=Q3e(j),Z3e=WN(GN),eVe=WN(yw),tVe=function(e,r){return hie.createElement(eVe.default,(0,J3e.default)({},e,{ref:r,icon:Z3e.default}))},rVe=hie.forwardRef(tVe);YI.default=rVe;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const r=n(YI);function n(a){return a&&a.__esModule?a:{default:a}}const i=r;e.default=i,t.exports=i})(UR,UR.exports);var nVe=UR.exports;const iVe=_t(nVe);var Pq=function(){return{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},aVe=function(e){var r;return ln({},e.componentCls,un(un({},TD==null?void 0:TD(e)),{},ln(ln(ln(ln(ln(ln(ln(ln({position:"relative",backgroundColor:e.colorWhite,paddingBlock:e.pageHeaderPaddingVertical+2,paddingInline:e.pageHeaderPadding,"&&-ghost":{backgroundColor:e.pageHeaderBgGhost},"&-no-children":{height:(r=e.layout)===null||r===void 0||(r=r.pageContainer)===null||r===void 0?void 0:r.paddingBlockPageContainerContent},"&&-has-breadcrumb":{paddingBlockStart:e.pageHeaderPaddingBreadCrumb},"&&-has-footer":{paddingBlockEnd:0},"& &-back":ln({marginInlineEnd:e.margin,fontSize:16,lineHeight:1,"&-button":un(un({fontSize:16},ID==null?void 0:ID(e)),{},{color:e.pageHeaderColorBack,cursor:"pointer"})},"".concat(e.componentCls,"-rlt &"),{float:"right",marginInlineEnd:0,marginInlineStart:0})},"& ".concat("ant","-divider-vertical"),{height:14,marginBlock:0,marginInline:e.marginSM,verticalAlign:"middle"}),"& &-breadcrumb + &-heading",{marginBlockStart:e.marginXS}),"& &-heading",{display:"flex",justifyContent:"space-between","&-left":{display:"flex",alignItems:"center",marginBlock:e.marginXS/2,marginInlineEnd:0,marginInlineStart:0,overflow:"hidden"},"&-title":un(un({marginInlineEnd:e.marginSM,marginBlockEnd:0,color:e.colorTextHeading,fontWeight:600,fontSize:e.pageHeaderFontSizeHeaderTitle,lineHeight:e.controlHeight+"px"},Pq()),{},ln({},"".concat(e.componentCls,"-rlt &"),{marginInlineEnd:0,marginInlineStart:e.marginSM})),"&-avatar":ln({marginInlineEnd:e.marginSM},"".concat(e.componentCls,"-rlt &"),{float:"right",marginInlineEnd:0,marginInlineStart:e.marginSM}),"&-tags":ln({},"".concat(e.componentCls,"-rlt &"),{float:"right"}),"&-sub-title":un(un({marginInlineEnd:e.marginSM,color:e.colorTextSecondary,fontSize:e.pageHeaderFontSizeHeaderSubTitle,lineHeight:e.lineHeight},Pq()),{},ln({},"".concat(e.componentCls,"-rlt &"),{float:"right",marginInlineEnd:0,marginInlineStart:12})),"&-extra":ln(ln({marginBlock:e.marginXS/2,marginInlineEnd:0,marginInlineStart:0,whiteSpace:"nowrap","> *":ln({"white-space":"unset"},"".concat(e.componentCls,"-rlt &"),{marginInlineEnd:e.marginSM,marginInlineStart:0})},"".concat(e.componentCls,"-rlt &"),{float:"left"}),"*:first-child",ln({},"".concat(e.componentCls,"-rlt &"),{marginInlineEnd:0}))}),"&-content",{paddingBlockStart:e.pageHeaderPaddingContentPadding}),"&-footer",{marginBlockStart:e.margin}),"&-compact &-heading",{flexWrap:"wrap"}),"&-wide",{maxWidth:1152,margin:"0 auto"}),"&-rtl",{direction:"rtl"})))};function oVe(t){return L5e("ProLayoutPageHeader",function(e){var r=un(un({},e),{},{componentCls:".".concat(t),pageHeaderBgGhost:"transparent",pageHeaderPadding:16,pageHeaderPaddingVertical:4,pageHeaderPaddingBreadCrumb:e.paddingSM,pageHeaderColorBack:e.colorTextHeading,pageHeaderFontSizeHeaderTitle:e.fontSizeHeading4,pageHeaderFontSizeHeaderSubTitle:14,pageHeaderPaddingContentPadding:e.paddingSM});return[aVe(r)]})}var sVe=function(e,r,n,i){return!n||!i?null:h.jsx("div",{className:"".concat(e,"-back ").concat(r).trim(),children:h.jsx("div",{role:"button",onClick:function(o){i==null||i(o)},className:"".concat(e,"-back-button ").concat(r).trim(),"aria-label":"back",children:n})})},lVe=function(e,r){var n;return(n=e.items)!==null&&n!==void 0&&n.length?h.jsx(qJ,un(un({},e),{},{className:AA("".concat(r,"-breadcrumb"),e.className)})):null},uVe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ltr";return e.backIcon!==void 0?e.backIcon:r==="rtl"?h.jsx(iVe,{}):h.jsx(X3e,{})},cVe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"ltr",i=arguments.length>3?arguments[3]:void 0,a=r.title,o=r.avatar,s=r.subTitle,l=r.tags,u=r.extra,c=r.onBack,d="".concat(e,"-heading"),f=a||s||l||u;if(!f)return null;var p=uVe(r,n),v=sVe(e,i,p,c),g=v||o||f;return h.jsxs("div",{className:d+" "+i,children:[g&&h.jsxs("div",{className:"".concat(d,"-left ").concat(i).trim(),children:[v,o&&h.jsx(vi,un({className:AA("".concat(d,"-avatar"),i,o.className)},o)),a&&h.jsx("span",{className:"".concat(d,"-title ").concat(i).trim(),title:typeof a=="string"?a:void 0,children:a}),s&&h.jsx("span",{className:"".concat(d,"-sub-title ").concat(i).trim(),title:typeof s=="string"?s:void 0,children:s}),l&&h.jsx("span",{className:"".concat(d,"-tags ").concat(i).trim(),children:l})]}),u&&h.jsx("span",{className:"".concat(d,"-extra ").concat(i).trim(),children:h.jsx(me,{children:u})})]})},dVe=function(e,r,n){return r?h.jsx("div",{className:"".concat(e,"-footer ").concat(n).trim(),children:r}):null},fVe=function(e,r,n){return h.jsx("div",{className:"".concat(e,"-content ").concat(n).trim(),children:r})},hVe=function t(e){return e==null?void 0:e.map(function(r){var n;return UJ(!!r.breadcrumbName,"Route.breadcrumbName is deprecated, please use Route.title instead."),un(un({},r),{},{breadcrumbName:void 0,children:void 0,title:r.title||r.breadcrumbName},(n=r.children)!==null&&n!==void 0&&n.length?{menu:{items:t(r.children)}}:{})})},pVe=function(e){var r,n=j.useState(!1),i=Z0e(n,2),a=i[0],o=i[1],s=function(q){var M=q.width;return o(M<768)},l=j.useContext(Qh.ConfigContext),u=l.getPrefixCls,c=l.direction,d=e.prefixCls,f=e.style,p=e.footer,v=e.children,g=e.breadcrumb,m=e.breadcrumbRender,y=e.className,x=e.contentWidth,b=e.layout,w=e.ghost,S=w===void 0?!0:w,C=u("page-header",d),E=oVe(C),A=E.wrapSSR,P=E.hashId,_=function(){return g&&!(g!=null&&g.items)&&g!==null&&g!==void 0&&g.routes&&(UJ(!1,"The routes of Breadcrumb is deprecated, please use items instead."),g.items=hVe(g.routes)),g!=null&&g.items?lVe(g,C):null},k=_(),O=g&&"props"in g,D=(r=m==null?void 0:m(un(un({},e),{},{prefixCls:C}),k))!==null&&r!==void 0?r:k,B=O?g:D,$=AA(C,P,y,ln(ln(ln(ln(ln(ln({},"".concat(C,"-has-breadcrumb"),!!B),"".concat(C,"-has-footer"),!!p),"".concat(C,"-rtl"),c==="rtl"),"".concat(C,"-compact"),a),"".concat(C,"-wide"),x==="Fixed"&&b=="top"),"".concat(C,"-ghost"),S)),L=cVe(C,e,c,P),R=v&&fVe(C,v,P),V=dVe(C,p,P);return!B&&!L&&!V&&!R?h.jsx("div",{className:AA(P,["".concat(C,"-no-children")])}):A(h.jsx(exe,{onResize:s,children:h.jsxs("div",{className:$,style:f,children:[B,L,R,V]})}))},vVe=Object.defineProperty,Ee=(t,e)=>vVe(t,"name",{value:e,configurable:!0}),XI=Ee(({action:t,resource:e,onMutationSuccess:r,onMutationError:n,autoSave:i,submitOnEnter:a=!1,warnWhenUnsavedChanges:o,redirect:s,successNotification:l,errorNotification:u,meta:c,metaData:d,queryMeta:f,mutationMeta:p,liveMode:v,liveParams:g,mutationMode:m,dataProviderName:y,onLiveEvent:x,invalidates:b,undoableTimeout:w,queryOptions:S,createMutationOptions:C,updateMutationOptions:E,id:A,overtimeOptions:P,optimisticUpdateMap:_,defaultFormValues:k,disableServerSideValidation:O=!1}={})=>{var D,B;let{options:$}=_n(),L=($==null?void 0:$.disableServerSideValidation)||O,R=yt(),[V]=ce.useForm(),U=T$({form:V,defaultFormValues:k}),{form:q}=U,M=IPe({onMutationSuccess:r||void 0,onMutationError:async(ge,be,Pe)=>{if(L){n==null||n(ge,be,Pe);return}let Ce=[],Ue=q.getFieldsValue();Ce=Object.keys(PR(Ue)).map(Re=>({name:W6(Re),errors:void 0})),q.setFields(Ce);let we=ge==null?void 0:ge.errors;for(let Re in we){let ze=we[Re],dt=[];Array.isArray(ze)&&(dt=ze),typeof ze=="string"&&(dt=[ze]),typeof ze=="boolean"&&ze&&(dt=["Field is not valid."]),typeof ze=="object"&&"key"in ze&&(dt=[R(ze.key,ze.message)]),Ce.push({name:W6(Re),errors:dt})}q.setFields([...Ce]),n==null||n(ge,be,Pe)},redirect:s,action:t,resource:e,successNotification:l,errorNotification:u,meta:Ne(c,d),metaData:Ne(c,d),queryMeta:f,mutationMeta:p,liveMode:v,liveParams:g,mutationMode:m,dataProviderName:y,onLiveEvent:x,invalidates:b,undoableTimeout:w,queryOptions:S,createMutationOptions:C,updateMutationOptions:E,id:A,overtimeOptions:P,optimisticUpdateMap:_,autoSave:i}),{formLoading:G,onFinish:W,query:J,id:te,onFinishAutoSave:H}=M,{warnWhenUnsavedChanges:ee,setWarnWhen:re}=eu(),Q=o??ee;I.useEffect(()=>{q.resetFields()},[(D=J==null?void 0:J.data)==null?void 0:D.data,te]);let se=Ee(ge=>{a&&ge.key==="Enter"&&q.submit()},"onKeyUp"),ne=Ee((ge,be)=>{if(ge&&Q&&re(!0),i!=null&&i.enabled){re(!1);let Pe=(i==null?void 0:i.onFinish)??(Ce=>Ce);return H(Pe(be)).catch(Ce=>Ce)}return ge},"onValuesChange"),le={disabled:G,onClick:()=>{q.submit()}};return{form:U.form,formProps:{...U.formProps,onFinish:ge=>W(ge).catch(be=>be),onKeyUp:se,onValuesChange:ne,initialValues:(B=J==null?void 0:J.data)==null?void 0:B.data},saveButtonProps:le,defaultFormValuesLoading:U.defaultFormValuesLoading,...M,onFinish:async ge=>await W(ge??U.form.getFieldsValue(!0))}},"useForm"),gVe=Ee(({modalProps:t={}}={})=>{let{show:e,close:r,visible:n}=Tte({defaultVisible:t.open});return{modalProps:{...t,onCancel:i=>{var a;(a=t.onCancel)==null||a.call(t,i),r()},open:n,visible:n},show:e,close:r}},"useModal");Ee(({syncWithLocation:t,defaultVisible:e=!1,autoSubmitClose:r=!0,autoResetForm:n=!0,autoSave:i,invalidates:a,...o})=>{var s,l;let[u,c]=I.useState(!1),d=Qs(),{resource:f,action:p,identifier:v}=er(o.resource),g=Ca(),m=Ni(),y=dc(),x=o.action??p??"",b=!(typeof t=="object"&&(t==null?void 0:t.syncId)===!1),w=typeof t=="object"&&"key"in t?t.key:f&&x&&t?`modal-${v}-${x}`:void 0,S=XI({meta:{...w?{[w]:void 0}:{},...o.meta},autoSave:i,invalidates:a,...o}),{form:C,formProps:E,id:A,setId:P,formLoading:_,onFinish:k,autoSaveProps:O}=S,D=yt(),{warnWhen:B,setWarnWhen:$}=eu(),{show:L,close:R,modalProps:V}=gVe({modalProps:{open:e}}),U=V.open||!1,q={modalProps:V,form:C,formLoading:_,formProps:E,formResult:void 0,formValues:C.getFieldsValue,defaultFormValuesLoading:!1,initialValues:{},submit:k,close:R,open:V.open||!1,show:L,visible:U};I.useEffect(()=>{var ee,re,Q,se;if(u===!1&&w){let ne=(re=(ee=g==null?void 0:g.params)==null?void 0:ee[w])==null?void 0:re.open;if(typeof ne=="boolean"?ne&&L():typeof ne=="string"&&ne==="true"&&L(),b){let le=(se=(Q=g==null?void 0:g.params)==null?void 0:Q[w])==null?void 0:se.id;le&&(P==null||P(le))}c(!0)}},[w,g,b,P]),I.useEffect(()=>{var ee;u===!0&&(U&&w?m({query:{[w]:{...(ee=g==null?void 0:g.params)==null?void 0:ee[w],open:!0,...b&&A&&{id:A}}},options:{keepQuery:!0},type:"replace"}):w&&!U&&m({query:{[w]:void 0},options:{keepQuery:!0},type:"replace"}))},[A,U,L,w,b]);let M={disabled:_,loading:_,onClick:()=>{C.submit()}},G=j.useCallback(()=>{if(O.status==="success"&&i!=null&&i.invalidateOnClose&&d({id:A,invalidates:a||["list","many","detail"],dataProviderName:o.dataProviderName,resource:v}),B)if(window.confirm(D("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))$(!1);else return;P==null||P(void 0),q.close()},[B,O.status]),W=j.useCallback(ee=>{typeof ee<"u"&&(P==null||P(ee)),(!(x==="edit"||x==="clone")||typeof ee<"u"||typeof A<"u")&&q.show()},[A]),{visible:J,...te}=V,H={open:J,...te};return{...S,...q,show:W,close:G,open:U,formProps:{...E,...S.formProps,onValuesChange:E==null?void 0:E.onValuesChange,onKeyUp:E==null?void 0:E.onKeyUp,onFinish:async ee=>{await k(ee),r&&R(),n&&C.resetFields()}},modalProps:{...H,width:"1000px",okButtonProps:M,title:D(`${v}.titles.${o.action}`,`${y(`${o.action} ${((s=f==null?void 0:f.meta)==null?void 0:s.label)??((l=f==null?void 0:f.options)==null?void 0:l.label)??(f==null?void 0:f.label)??v}`,"singular")}`),okText:D("buttons.save","Save"),cancelText:D("buttons.cancel","Cancel"),onCancel:G,forceRender:!0},formLoading:_}},"useModalForm");Ee(({syncWithLocation:t,defaultVisible:e=!1,autoSubmitClose:r=!0,autoResetForm:n=!0,autoSave:i,invalidates:a,...o})=>{let s=Qs(),[l,u]=I.useState(!1),{visible:c,show:d,close:f}=Tte({defaultVisible:e}),{resource:p,action:v,identifier:g}=er(o.resource),m=Ca(),y=Ni(),x=o.action??v??"",b=!(typeof t=="object"&&(t==null?void 0:t.syncId)===!1),w=typeof t=="object"&&"key"in t?t.key:p&&x&&t?`drawer-${(p==null?void 0:p.identifier)??(p==null?void 0:p.name)}-${x}`:void 0,S=XI({meta:{...w?{[w]:void 0}:{},...o.meta},autoSave:i,invalidates:a,...o}),{form:C,formProps:E,formLoading:A,id:P,setId:_,onFinish:k,autoSaveProps:O}=S;I.useEffect(()=>{var q,M,G,W;if(l===!1&&w){let J=(M=(q=m==null?void 0:m.params)==null?void 0:q[w])==null?void 0:M.open;if(typeof J=="boolean"?J?d():f():typeof J=="string"&&J==="true"&&d(),b){let te=(W=(G=m==null?void 0:m.params)==null?void 0:G[w])==null?void 0:W.id;te&&(_==null||_(te))}u(!0)}},[w,m,b,_,l]),I.useEffect(()=>{var q;l===!0&&(c&&w?y({query:{[w]:{...(q=m==null?void 0:m.params)==null?void 0:q[w],open:!0,...b&&P&&{id:P}}},options:{keepQuery:!0},type:"replace"}):w&&!c&&y({query:{[w]:void 0},options:{keepQuery:!0},type:"replace"}))},[P,c,d,f,w,b,l]);let D=yt(),{warnWhen:B,setWarnWhen:$}=eu(),L={disabled:A,onClick:()=>{C.submit()},loading:A},R={recordItemId:P,onSuccess:()=>{_==null||_(void 0),f()}},V=j.useCallback(()=>{if(O.status==="success"&&i!=null&&i.invalidateOnClose&&s({id:P,invalidates:a||["list","many","detail"],dataProviderName:o.dataProviderName,resource:g}),B)if(window.confirm(D("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))$(!1);else return;f(),_==null||_(void 0)},[B]),U=j.useCallback(q=>{typeof q<"u"&&(_==null||_(q)),(!(x==="edit"||x==="clone")||typeof q<"u"||typeof P<"u")&&d()},[P]);return{...S,show:U,close:V,formProps:{form:C,...S.formProps,onValuesChange:E==null?void 0:E.onValuesChange,onKeyUp:E==null?void 0:E.onKeyUp,onFinish:async q=>{await k(q),r&&f(),n&&C.resetFields()}},drawerProps:{width:"500px",onClose:V,open:c,forceRender:!0},saveButtonProps:L,deleteButtonProps:R,formLoading:A}},"useDrawerForm");Ee((t={})=>{let e=XI({...t}),{form:r,formProps:n}=e,i=rwe({isBackValidate:!1,form:r,submit:a=>{var o;(o=n==null?void 0:n.onFinish)==null||o.call(n,a)},...t});return{...e,...i,formLoading:e.formLoading,formProps:{...i.formProps,...e.formProps,onValuesChange:n==null?void 0:n.onValuesChange,onKeyUp:n==null?void 0:n.onKeyUp},saveButtonProps:{...e.saveButtonProps,onClick:()=>i.submit()}}},"useStepsForm");Ee((t,e)=>{let r=QIe(t,e);if(r)return`${r}end`},"getDefaultSortOrder");Ee((t,e,r="eq")=>JIe(t,e,r),"getDefaultFilter");var mVe=Ee(t=>{let e=[];if(Array.isArray(t))t.sort((r,n)=>{var i,a;return(((i=r.column)==null?void 0:i.sorter).multiple??0)<(((a=n.column)==null?void 0:a.sorter).multiple??0)?-1:0}).map(r=>{if(r.field&&r.order){let n=Array.isArray(r.field)?r.field.join("."):`${r.field}`;e.push({field:`${r.columnKey??n}`,order:r.order.replace("end","")})}});else if(t.field&&t.order){let r=Array.isArray(t.field)?t.field.join("."):`${t.field}`;e.push({field:`${t.columnKey??r}`,order:t.order.replace("end","")})}return e},"mapAntdSorterToCrudSorting"),yVe=Ee((t,e,r)=>{let n=[],i=(r??[]).reduce((a,o)=>{let s=o.key||o.field;return{...a,[s]:o}},{});return Object.keys(t).map(a=>{var o,s;let l=t[a],u=((o=e.filter(c=>c.operator!=="or").find(c=>c.field===a))==null?void 0:o.operator)||((s=i[a])==null?void 0:s.operator);u!=="or"&&u!=="and"&&n.push({field:a,operator:u??(Array.isArray(l)?"in":"eq"),value:l})}),n},"mapAntdFilterToCrudFilter"),jv=Ee(({to:t,element:e})=>{let{Link:r}=Kr(),n=Zt(),i=Ta();return I.createElement(n==="legacy"?r:i,{to:t,replace:!1,onClick:a=>{a.preventDefault()}},e)},"PaginationLink"),xVe=Ee(({onSearch:t,initialCurrent:e,initialPageSize:r,hasPagination:n=!0,pagination:i,initialSorter:a,permanentSorter:o,initialFilter:s,permanentFilter:l,defaultSetFilterBehavior:u,filters:c,sorters:d,syncWithLocation:f,resource:p,successNotification:v,errorNotification:g,queryOptions:m,liveMode:y,onLiveEvent:x,liveParams:b,meta:w,metaData:S,dataProviderName:C}={})=>{let{tableQueryResult:E,tableQuery:A,current:P,setCurrent:_,pageSize:k,setPageSize:O,filters:D,setFilters:B,sorters:$,setSorters:L,sorter:R,setSorter:V,createLinkForSyncWithLocation:U,pageCount:q,overtime:M}=Z$({permanentSorter:o,permanentFilter:l,initialCurrent:e,initialPageSize:r,pagination:i,hasPagination:n,filters:c,sorters:d,initialSorter:a,initialFilter:s,syncWithLocation:f,resource:p,defaultSetFilterBehavior:u,successNotification:v,errorNotification:g,queryOptions:m,liveMode:y,onLiveEvent:x,liveParams:b,meta:Ne(w,S),metaData:Ne(w,S),dataProviderName:C}),{syncWithLocation:G}=hte(),W=f??G,J=Wd.useBreakpoint(),[te]=ce.useForm(),H=T$({form:te}),ee=H$(y),re=n===!1?"off":"server",Q=((i==null?void 0:i.mode)??re)!=="off",se=Ne(c==null?void 0:c.initial,s),{data:ne,isFetched:le,isLoading:ge}=E;I.useEffect(()=>{if(W){let Ue=H.form.getFieldsValue(),we=Object.keys(Ue).reduce((Re,ze)=>{let dt=D.find(Mt=>"field"in Mt&&Mt.field===ze);return dt&&(Re[ze]=dt==null?void 0:dt.value),Re},{});H.form.setFieldsValue(we)}},[W]);let be=Ee((Ue,we,Re)=>{if(we&&Object.keys(we).length>0){let ze=yVe(we,D,se);B(ze)}if(Re&&Object.keys(Re).length>0){let ze=mVe(Re);L(ze)}Q&&(_==null||_(Ue.current||1),O==null||O(Ue.pageSize||10))},"onChange"),Pe=Ee(async Ue=>{if(t){let we=await t(Ue);B(we),Q&&(_==null||_(1))}},"onFinish"),Ce=Ee(()=>Q?{itemRender:(Ue,we,Re)=>{var ze;let dt=U({pagination:{pageSize:k,current:Ue},sorters:$,filters:D});if(we==="page")return j.createElement(jv,{to:dt,element:`${Ue}`});if(we==="next"||we==="prev")return j.createElement(jv,{to:dt,element:Re});if(we==="jump-next"||we==="jump-prev"){let Mt=(ze=Re==null?void 0:Re.props)==null?void 0:ze.children;return j.createElement(jv,{to:dt,element:j.Children.count(Mt)>1?j.createElement(j.Fragment,{},Mt):Mt})}return Re},pageSize:k,current:P,simple:!J.sm,position:J.sm?["bottomRight"]:["bottomCenter"],total:ne==null?void 0:ne.total}:!1,"antdPagination");return{searchFormProps:{...H.formProps,onFinish:Pe},tableProps:{dataSource:ne==null?void 0:ne.data,loading:ee==="auto"?ge:!le,onChange:be,pagination:Ce(),scroll:{x:!0}},tableQueryResult:E,tableQuery:A,sorters:$,sorter:R,filters:D,setSorters:L,setSorter:V,setFilters:B,current:P,setCurrent:_,pageSize:k,setPageSize:O,pageCount:q,createLinkForSyncWithLocation:U,overtime:M}},"useTable");Ee(({autoSubmitClose:t=!0,...e}={})=>{let r=xVe({...e,successNotification:void 0,errorNotification:void 0}),n=XI({...e,action:"edit",redirect:!1}),{id:i,setId:a,saveButtonProps:o}=n,s={onClick:()=>{a(void 0)}},l=Ee(c=>({onClick:()=>a(c)}),"editButtonProps"),u=Ee(c=>c===i,"isEditing");return{...r,...n,formProps:{...n.formProps,onFinish:async c=>{let d=await n.onFinish(c);return t&&a(void 0),d}},saveButtonProps:o,cancelButtonProps:s,editButtonProps:l,isEditing:u}},"useEditableTable");Ee(t=>{let{query:e,defaultValueQuery:r,onSearch:n,options:i}=J$(t);return{selectProps:{options:i,onSearch:n,loading:r.isFetching,showSearch:!0,filterOption:!1},query:e,defaultValueQuery:r,queryResult:e,defaultValueQueryResult:r}},"useSelect");Ee(({resource:t,sort:e,sorters:r,filters:n,optionLabel:i,optionValue:a,queryOptions:o,fetchSize:s,pagination:l,liveMode:u,defaultValue:c,selectedOptionsOrder:d,onLiveEvent:f,liveParams:p,meta:v,metaData:g,dataProviderName:m})=>{let{query:y,options:x}=J$({resource:t,sort:e,sorters:r,filters:n,optionLabel:i,optionValue:a,queryOptions:o,fetchSize:s,pagination:l,liveMode:u,defaultValue:c,selectedOptionsOrder:d,onLiveEvent:f,liveParams:p,meta:Ne(v,g),metaData:Ne(v,g),dataProviderName:m});return{checkboxGroupProps:{options:x,defaultValue:c},query:y,queryResult:y}},"useCheckboxGroup");Ee(({resource:t,sort:e,sorters:r,filters:n,optionLabel:i,optionValue:a,queryOptions:o,fetchSize:s,pagination:l,liveMode:u,defaultValue:c,selectedOptionsOrder:d,onLiveEvent:f,liveParams:p,meta:v,metaData:g,dataProviderName:m})=>{let{query:y,options:x}=J$({resource:t,sort:e,sorters:r,filters:n,optionLabel:i,optionValue:a,queryOptions:o,fetchSize:s,pagination:l,liveMode:u,defaultValue:c,selectedOptionsOrder:d,onLiveEvent:f,liveParams:p,meta:Ne(v,g),metaData:Ne(v,g),dataProviderName:m});return{radioGroupProps:{options:x,defaultValue:c},query:y,queryResult:y}},"useRadioGroup");Ee(({resource:t,resourceName:e,mapData:r=Ee(c=>c,"mapData"),paparseOptions:n,batchSize:i=Number.MAX_SAFE_INTEGER,onFinish:a,meta:o,metaData:s,dataProviderName:l,onProgress:u}={})=>{let c=yt(),{resource:d}=er(t??e),{mutationResult:f,isLoading:p,handleChange:v}=FPe({resource:(d==null?void 0:d.identifier)??(d==null?void 0:d.name),mapData:r,paparseOptions:n,batchSize:i,meta:Ne(o,s),metaData:Ne(o,s),dataProviderName:l,onFinish:a,onProgress:u??(({totalAmount:g,processedAmount:m})=>{if(g>0&&m>0){let y=I.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},I.createElement(yr,{type:"circle",percent:Math.floor(m/g*100),size:50,strokeColor:"#1890ff",status:"normal"}),I.createElement("span",{style:{marginLeft:8,width:"100%"}},c("notifications.importProgress",{processed:m,total:g},`Importing: ${m}/${g}`)));oi.open({description:y,message:null,key:`${d}-import`,duration:0}),m===g&&setTimeout(()=>{oi.destroy(`${d}-import`)},4500)}})});return{uploadProps:{onChange:v,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:p},mutationResult:f,isLoading:p}},"useImport");Ee(({resource:t,initialCurrent:e,initialPageSize:r,pagination:n,hasPagination:i=!0,initialSorter:a,permanentSorter:o,initialFilter:s,permanentFilter:l,defaultSetFilterBehavior:u,filters:c,sorters:d,onSearch:f,queryOptions:p,syncWithLocation:v,successNotification:g,errorNotification:m,liveMode:y,onLiveEvent:x,liveParams:b,meta:w,metaData:S,dataProviderName:C}={})=>{let{sorters:E,sorter:A,filters:P,current:_,pageSize:k,pageCount:O,setFilters:D,setCurrent:B,setPageSize:$,setSorter:L,setSorters:R,createLinkForSyncWithLocation:V,tableQueryResult:U,tableQuery:q,overtime:M}=Z$({resource:t,initialSorter:a,permanentSorter:o,initialFilter:s,permanentFilter:l,filters:c,sorters:d,defaultSetFilterBehavior:u,initialCurrent:e,initialPageSize:r,queryOptions:p,successNotification:g,errorNotification:m,liveMode:y,onLiveEvent:x,liveParams:b,meta:Ne(w,S),metaData:Ne(w,S),syncWithLocation:v,dataProviderName:C,pagination:n,hasPagination:i}),G=i===!1?"off":"server",W=((n==null?void 0:n.mode)??G)!=="off",J=Wd.useBreakpoint(),te=H$(y),[H]=ce.useForm(),{data:ee,isFetched:re,isLoading:Q}=U,se=Ee((ge,be)=>{W&&(B(ge),$(be||10))},"onChange"),ne=Ee(async ge=>{if(f){let be=await f(ge);return W&&(B==null||B(1)),D(be)}},"onFinish"),le=Ee(()=>W?{itemRender:(ge,be,Pe)=>{var Ce;let Ue=V({pagination:{pageSize:k,current:ge},sorters:E,filters:P});if(be==="page")return j.createElement(jv,{to:Ue,element:`${ge}`});if(be==="next"||be==="prev")return j.createElement(jv,{to:Ue,element:Pe});if(be==="jump-next"||be==="jump-prev"){let we=(Ce=Pe==null?void 0:Pe.props)==null?void 0:Ce.children;return j.createElement(jv,{to:Ue,element:j.Children.count(we)>1?j.createElement(j.Fragment,{},we):we})}return Pe},pageSize:k,current:_,simple:!J.sm,total:ee==null?void 0:ee.total,onChange:se}:!1,"antdPagination");return{searchFormProps:{form:H,onFinish:ne},listProps:{dataSource:ee==null?void 0:ee.data,loading:te==="auto"?Q:!re,pagination:le()},query:q,queryResult:U,filters:P,setFilters:D,sorter:A,setSorter:L,sorters:E,setSorters:R,current:_,setCurrent:B,pageSize:k,setPageSize:$,pageCount:O,createLinkForSyncWithLocation:V,overtime:M}},"useSimpleList");Ee(()=>{let[t,e]=j.useState(!1),r=j.useCallback(n=>{bVe(n.fileList).includes(!0)?e(!0):e(!1)},[]);return j.useMemo(()=>({isLoading:t,onChange:r}),[t])},"useFileUploadState");var bVe=Ee(t=>t.map(e=>{switch(e.status){case"uploading":return!0;default:return!1}}),"mapStatusToLoading"),HN=I.createContext({siderCollapsed:!1,mobileSiderOpen:!1,setSiderCollapsed:()=>{},setMobileSiderOpen:()=>{}}),wVe=Ee(({children:t,initialSiderCollapsed:e,onSiderCollapsed:r})=>{let[n,i]=j.useState(e??!1),[a,o]=j.useState(!1),s=Ee(l=>{i(l),r&&r(l)},"setSiderCollapsed");return I.createElement(HN.Provider,{value:{siderCollapsed:n,mobileSiderOpen:a,setSiderCollapsed:s,setMobileSiderOpen:o}},t)},"ThemedLayoutContextProvider");Ee(()=>{let{mobileSiderOpen:t,siderCollapsed:e,setMobileSiderOpen:r,setSiderCollapsed:n}=j.useContext(HN);return{siderVisible:t,setSiderVisible:r,drawerSiderVisible:e,setDrawerSiderVisible:n}},"useSiderVisible");var SVe=Ee(()=>{let{mobileSiderOpen:t,siderCollapsed:e,setMobileSiderOpen:r,setSiderCollapsed:n}=j.useContext(HN);return{mobileSiderOpen:t,siderCollapsed:e,setMobileSiderOpen:r,setSiderCollapsed:n}},"useThemedLayoutContext"),EVe=Ee(({message:t,cancelMutation:e,undoableTimeout:r})=>I.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},I.createElement(yr,{type:"circle",percent:(r??0)*20,format:n=>n&&n/20,size:50,strokeColor:"#1890ff",status:"normal"}),I.createElement("span",{style:{marginLeft:8,width:"100%"}},t),I.createElement(ie,{style:{flexShrink:0},onClick:e,disabled:r===0,icon:I.createElement(txe,null)})),"UndoableNotification"),AVe=Ee(()=>{let{notification:t}=GJ.useApp(),e="open"in t?t:oi;return{open:({key:r,message:n,description:i,type:a,cancelMutation:o,undoableTimeout:s})=>{a==="progress"?e.open({key:r,description:I.createElement(EVe,{notificationKey:r,message:n,cancelMutation:()=>{o==null||o(),e.destroy(r??"")},undoableTimeout:s}),message:null,duration:0,closeIcon:I.createElement(I.Fragment,null)}):e.open({key:r,description:n,message:i??null,type:a})},close:r=>e.destroy(r)}},"useNotificationProvider"),CVe={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},TVe=Ee(({Title:t,render:e,meta:r})=>{let[n,i]=j.useState(!1),[a,o]=j.useState(!1),s=pI(),l=Zt(),u=Ta(),{warnWhen:c,setWarnWhen:d}=eu(),{Link:f}=Kr(),p=l==="legacy"?f:u,v=V$(),g=yt(),{menuItems:m,selectedKey:y,defaultOpenKeys:x}=eN({meta:r}),b=Wd.useBreakpoint(),{hasDashboard:w}=_n(),S=Vr(),{mutate:C}=ag({v3LegacyAuthProviderCompatible:!!(S!=null&&S.isLegacy)}),E=typeof b.lg>"u"?!1:!b.lg,A=t??v??PVe,P=Ee((R,V)=>R.map(U=>{let{icon:q,label:M,route:G,key:W,name:J,children:te,parentName:H,meta:ee,options:re}=U;if(te.length>0)return I.createElement(og,{key:U.key,resource:J,action:"list",params:{resource:U}},I.createElement(cn.SubMenu,{key:U.key,icon:q??I.createElement(Jv,null),title:M},P(te,V)));let Q=W===V,se=!(Ne(ee==null?void 0:ee.parent,re==null?void 0:re.parent,H)!==void 0&&te.length===0);return I.createElement(og,{key:U.key,resource:J,action:"list",params:{resource:U}},I.createElement(cn.Item,{key:U.key,style:{fontWeight:Q?"bold":"normal"},icon:q??(se&&I.createElement(Jv,null))},I.createElement(p,{to:G??""},M),!n&&Q&&I.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),_=Ee(()=>{c?window.confirm(g("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(d(!1),C()):C()},"handleLogout"),k=s&&I.createElement(cn.Item,{key:"logout",onClick:_,icon:I.createElement(QT,null)},g("buttons.logout","Logout")),O=w?I.createElement(cn.Item,{key:"dashboard",style:{fontWeight:y==="/"?"bold":"normal"},icon:I.createElement(Nb,null)},I.createElement(p,{to:"/"},g("dashboard.title","Dashboard")),!n&&y==="/"&&I.createElement("div",{className:"ant-menu-tree-arrow"})):null,D=P(m,y),B=Ee(()=>e?e({dashboard:O,items:D,logout:k,collapsed:n}):I.createElement(I.Fragment,null,O,D,k),"renderSider"),$=Ee(()=>I.createElement(I.Fragment,null,I.createElement(cn,{theme:"dark",selectedKeys:y?[y]:[],defaultOpenKeys:x,mode:"inline",onClick:()=>{o(!1),b.lg||i(!0)}},B())),"renderMenu"),L=Ee(()=>I.createElement(I.Fragment,null,I.createElement(wh,{open:a,onClose:()=>o(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},I.createElement(wr,null,I.createElement(wr.Sider,{style:{height:"100vh",overflow:"hidden"}},I.createElement(A,{collapsed:!1}),$()))),I.createElement(ie,{style:CVe,size:"large",onClick:()=>o(!0),icon:I.createElement(Bb,null)})),"renderDrawerSider");return I.createElement(Qh,{theme:{components:{Menu:{colorItemBg:"transparent",colorItemText:"#fff",colorItemTextSelected:"#fff",colorItemBgSelected:"transparent",colorItemTextHover:"#fff"}}}},Ee(()=>E?L():I.createElement(wr.Sider,{collapsible:!0,collapsed:n,onCollapse:R=>i(R),collapsedWidth:80,breakpoint:"lg"},I.createElement(A,{collapsed:n}),$()),"renderContent")())},"Sider"),IVe=Ee(()=>{let t=Vr(),{data:e}=ua({v3LegacyAuthProviderCompatible:!!(t!=null&&t.isLegacy)});return e&&(e.name||e.avatar)?I.createElement(wr.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},I.createElement(me,{style:{marginLeft:"8px"}},(e==null?void 0:e.name)&&I.createElement(rt.Text,{style:{color:"white"},strong:!0},e.name),(e==null?void 0:e.avatar)&&I.createElement(vi,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}))):null},"Header");Ee(({children:t,Header:e,Sider:r,Title:n,Footer:i,OffLayoutArea:a})=>{let o=Wd.useBreakpoint(),s=r??TVe,l=e??IVe,u=typeof o.sm>"u"?!0:o.sm;return I.createElement(wr,{style:{minHeight:"100vh"}},I.createElement(s,{Title:n}),I.createElement(wr,null,I.createElement(l,null),I.createElement(wr.Content,null,I.createElement("div",{style:{minHeight:360,padding:u?24:12}},t),a&&I.createElement(a,null)),i&&I.createElement(i,null)))},"Layout");var PVe=Ee(({collapsed:t})=>{let e=Zt(),r=Ta(),{Link:n}=Kr();return I.createElement(e==="legacy"?n:r,{to:"/"},t?I.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},I.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):I.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))},"Title"),_Ve={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},OVe=Ee(({Title:t,render:e,meta:r})=>{let{token:n}=Cn.useToken(),[i,a]=j.useState(!1),[o,s]=j.useState(!1),l=pI(),u=Zt(),c=Ta(),{warnWhen:d,setWarnWhen:f}=eu(),{Link:p}=Kr(),v=u==="legacy"?p:c,g=V$(),m=yt(),{menuItems:y,selectedKey:x,defaultOpenKeys:b}=eN({meta:r}),w=Wd.useBreakpoint(),{hasDashboard:S}=_n(),C=Vr(),{mutate:E}=ag({v3LegacyAuthProviderCompatible:!!(C!=null&&C.isLegacy)}),A=typeof w.lg>"u"?!1:!w.lg,P=t??g??RVe,_=Ee((V,U)=>V.map(q=>{let{icon:M,label:G,route:W,key:J,name:te,children:H,parentName:ee,meta:re,options:Q}=q;if(H.length>0)return I.createElement(og,{key:q.key,resource:te,action:"list",params:{resource:q}},I.createElement(cn.SubMenu,{key:q.key,icon:M??I.createElement(Jv,null),title:G},_(H,U)));let se=J===U,ne=!(Ne(re==null?void 0:re.parent,Q==null?void 0:Q.parent,ee)!==void 0&&H.length===0);return I.createElement(og,{key:q.key,resource:te,action:"list",params:{resource:q}},I.createElement(cn.Item,{key:q.key,icon:M??(ne&&I.createElement(Jv,null))},I.createElement(v,{to:W??""},G),!i&&se&&I.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),k=Ee(()=>{d?window.confirm(m("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(f(!1),E()):E()},"handleLogout"),O=l&&I.createElement(cn.Item,{key:"logout",onClick:()=>k(),icon:I.createElement(QT,null)},m("buttons.logout","Logout")),D=S?I.createElement(cn.Item,{key:"dashboard",icon:I.createElement(Nb,null)},I.createElement(v,{to:"/"},m("dashboard.title","Dashboard")),!i&&x==="/"&&I.createElement("div",{className:"ant-menu-tree-arrow"})):null,B=_(y,x),$=Ee(()=>e?e({dashboard:D,items:B,logout:O,collapsed:i}):I.createElement(I.Fragment,null,D,B,O),"renderSider"),L=Ee(()=>I.createElement(I.Fragment,null,I.createElement(cn,{selectedKeys:x?[x]:[],defaultOpenKeys:b,mode:"inline",style:{marginTop:"8px",border:"none"},onClick:()=>{s(!1),w.lg||a(!0)}},$())),"renderMenu"),R=Ee(()=>I.createElement(I.Fragment,null,I.createElement(wh,{open:o,onClose:()=>s(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},I.createElement(wr,null,I.createElement(wr.Sider,{style:{height:"100vh",overflow:"hidden",backgroundColor:n.colorBgContainer,borderRight:`1px solid ${n.colorBgElevated}`}},I.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:n.colorBgElevated}},I.createElement(P,{collapsed:!1})),L()))),I.createElement(ie,{style:_Ve,size:"large",onClick:()=>s(!0),icon:I.createElement(Bb,null)})),"renderDrawerSider");return A?R():I.createElement(wr.Sider,{style:{backgroundColor:n.colorBgContainer,borderRight:`1px solid ${n.colorBgElevated}`},collapsible:!0,collapsed:i,onCollapse:V=>a(V),collapsedWidth:80,breakpoint:"lg",trigger:I.createElement(ie,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:n.colorBgElevated}},i?I.createElement(tR,{style:{color:n.colorPrimary}}):I.createElement(eR,{style:{color:n.colorPrimary}}))},I.createElement("div",{style:{width:i?"80px":"200px",padding:i?"0":"0 16px",display:"flex",justifyContent:i?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:n.colorBgElevated,fontSize:"14px"}},I.createElement(P,{collapsed:i})),L())},"ThemedSider"),kVe=Ee(()=>{let{token:t}=Cn.useToken(),e=Vr(),{data:r}=ua({v3LegacyAuthProviderCompatible:!!(e!=null&&e.isLegacy)});return r&&(r.name||r.avatar)?I.createElement(wr.Header,{style:{backgroundColor:t.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},I.createElement(me,null,I.createElement(me,{size:"middle"},(r==null?void 0:r.name)&&I.createElement(rt.Text,{strong:!0},r.name),(r==null?void 0:r.avatar)&&I.createElement(vi,{src:r==null?void 0:r.avatar,alt:r==null?void 0:r.name})))):null},"ThemedHeader");Ee(({children:t,Header:e,Sider:r,Title:n,Footer:i,OffLayoutArea:a})=>{let o=Wd.useBreakpoint(),s=r??OVe,l=e??kVe,u=typeof o.sm>"u"?!0:o.sm;return I.createElement(wr,{style:{minHeight:"100vh"}},I.createElement(s,{Title:n}),I.createElement(wr,null,I.createElement(l,null),I.createElement(wr.Content,null,I.createElement("div",{style:{minHeight:360,padding:u?24:12}},t),a&&I.createElement(a,null)),i&&I.createElement(i,null)))},"ThemedLayout");var DVe="Refine Project",MVe=I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},I.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7889 0.422291C12.6627 -0.140764 11.3373 -0.140764 10.2111 0.422291L2.21115 4.42229C0.85601 5.09986 0 6.48491 0 8V16C0 17.5151 0.85601 18.9001 2.21115 19.5777L10.2111 23.5777C11.3373 24.1408 12.6627 24.1408 13.7889 23.5777L21.7889 19.5777C23.144 18.9001 24 17.5151 24 16V8C24 6.48491 23.144 5.09986 21.7889 4.42229L13.7889 0.422291ZM8 8C8 5.79086 9.79086 4 12 4C14.2091 4 16 5.79086 16 8V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16V8Z",fill:"currentColor"}),I.createElement("path",{d:"M14 8C14 9.10457 13.1046 10 12 10C10.8954 10 10 9.10457 10 8C10 6.89543 10.8954 6 12 6C13.1046 6 14 6.89543 14 8Z",fill:"currentColor"})),RVe=Ee(({collapsed:t,icon:e=MVe,text:r=DVe,wrapperStyles:n})=>{let{token:i}=Cn.useToken(),a=Zt(),o=Ta(),{Link:s}=Kr();return I.createElement(a==="legacy"?s:o,{to:"/",style:{display:"inline-block",textDecoration:"none"}},I.createElement(me,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...n}},I.createElement("div",{style:{height:"24px",width:"24px",color:i.colorPrimary}},e),!t&&I.createElement(rt.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},r)))},"ThemedTitle"),jVe={borderStartStartRadius:0,borderEndStartRadius:0,position:"fixed",top:64,zIndex:999},pie=Ee(({Title:t,render:e,meta:r,fixed:n,activeItemDisabled:i=!1})=>{var a;let{token:o}=Cn.useToken(),{siderCollapsed:s,setSiderCollapsed:l,mobileSiderOpen:u,setMobileSiderOpen:c}=SVe(),d=pI(),f=(a=j.useContext(Qh.ConfigContext))==null?void 0:a.direction,p=Zt(),v=Ta(),{warnWhen:g,setWarnWhen:m}=eu(),{Link:y}=Kr(),x=p==="legacy"?y:v,b=V$(),w=yt(),{menuItems:S,selectedKey:C,defaultOpenKeys:E}=eN({meta:r}),A=Wd.useBreakpoint(),{hasDashboard:P}=_n(),_=Vr(),{mutate:k}=ag({v3LegacyAuthProviderCompatible:!!(_!=null&&_.isLegacy)}),O=typeof A.lg>"u"?!1:!A.lg,D=t??b??Kd,B=Ee((J,te)=>J.map(H=>{let{icon:ee,label:re,route:Q,key:se,name:ne,children:le,parentName:ge,meta:be,options:Pe}=H;if(le.length>0)return I.createElement(og,{key:H.key,resource:ne,action:"list",params:{resource:H}},I.createElement(cn.SubMenu,{key:H.key,icon:ee??I.createElement(Jv,null),title:re},B(le,te)));let Ce=se===te,Ue=!(Ne(be==null?void 0:be.parent,Pe==null?void 0:Pe.parent,ge)!==void 0&&le.length===0),we=i&&Ce?{pointerEvents:"none"}:{};return I.createElement(og,{key:H.key,resource:ne,action:"list",params:{resource:H}},I.createElement(cn.Item,{key:H.key,icon:ee??(Ue&&I.createElement(Jv,null)),style:we},I.createElement(x,{to:Q??"",style:we},re),!s&&Ce&&I.createElement("div",{className:"ant-menu-tree-arrow"})))}),"renderTreeView"),$=Ee(()=>{g?window.confirm(w("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."))&&(m(!1),k()):k()},"handleLogout"),L=d&&I.createElement(cn.Item,{key:"logout",onClick:()=>$(),icon:I.createElement(QT,null)},w("buttons.logout","Logout")),R=P?I.createElement(cn.Item,{key:"dashboard",icon:I.createElement(Nb,null)},I.createElement(x,{to:"/"},w("dashboard.title","Dashboard")),!s&&C==="/"&&I.createElement("div",{className:"ant-menu-tree-arrow"})):null,V=B(S,C),U=Ee(()=>e?e({dashboard:R,items:V,logout:L,collapsed:s}):I.createElement(I.Fragment,null,R,V,L),"renderSider"),q=Ee(()=>I.createElement(cn,{selectedKeys:C?[C]:[],defaultOpenKeys:E,mode:"inline",style:{paddingTop:"8px",border:"none",overflow:"auto",height:"calc(100% - 72px)"},onClick:()=>{c(!1)}},U()),"renderMenu"),M=Ee(()=>I.createElement(I.Fragment,null,I.createElement(wh,{open:u,onClose:()=>c(!1),placement:f==="rtl"?"right":"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},I.createElement(wr,null,I.createElement(wr.Sider,{style:{height:"100vh",backgroundColor:o.colorBgContainer,borderRight:`1px solid ${o.colorBgElevated}`}},I.createElement("div",{style:{width:"200px",padding:"0 16px",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"64px",backgroundColor:o.colorBgElevated}},I.createElement(D,{collapsed:!1})),q()))),I.createElement(ie,{style:jVe,size:"large",onClick:()=>c(!0),icon:I.createElement(Bb,null)})),"renderDrawerSider");if(O)return M();let G={backgroundColor:o.colorBgContainer,borderRight:`1px solid ${o.colorBgElevated}`};n&&(G.position="fixed",G.top=0,G.height="100vh",G.zIndex=999);let W=Ee(()=>{let J={style:{color:o.colorPrimary}};return I.createElement(s?f==="rtl"?eR:tR:f==="rtl"?tR:eR,{...J})},"renderClosingIcons");return I.createElement(I.Fragment,null,n&&I.createElement("div",{style:{width:s?"80px":"200px",transition:"all 0.2s"}}),I.createElement(wr.Sider,{style:G,collapsible:!0,collapsed:s,onCollapse:(J,te)=>{te==="clickTrigger"&&l(J)},collapsedWidth:80,breakpoint:"lg",trigger:I.createElement(ie,{type:"text",style:{borderRadius:0,height:"100%",width:"100%",backgroundColor:o.colorBgElevated}},W())},I.createElement("div",{style:{width:s?"80px":"200px",padding:s?"0":"0 16px",display:"flex",justifyContent:s?"center":"flex-start",alignItems:"center",height:"64px",backgroundColor:o.colorBgElevated,fontSize:"14px"}},I.createElement(D,{collapsed:s})),q()))},"ThemedSiderV2"),FVe=Ee(({isSticky:t,sticky:e})=>{let{token:r}=Cn.useToken(),n=Vr(),{data:i}=ua({v3LegacyAuthProviderCompatible:!!(n!=null&&n.isLegacy)});if(!(i&&(i.name||i.avatar)))return null;let a={backgroundColor:r.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"};return Ne(e,t)&&(a.position="sticky",a.top=0,a.zIndex=1),I.createElement(wr.Header,{style:a},I.createElement(me,null,I.createElement(me,{size:"middle"},(i==null?void 0:i.name)&&I.createElement(rt.Text,{strong:!0},i.name),(i==null?void 0:i.avatar)&&I.createElement(vi,{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.name}))))},"ThemedHeaderV2"),LVe=Ee(({children:t,Header:e,Sider:r,Title:n,Footer:i,OffLayoutArea:a,initialSiderCollapsed:o,onSiderCollapsed:s})=>{let l=Wd.useBreakpoint(),u=r??pie,c=e??FVe,d=typeof l.sm>"u"?!0:l.sm,f=!!u({Title:n});return I.createElement(wVe,{initialSiderCollapsed:o,onSiderCollapsed:s},I.createElement(wr,{style:{minHeight:"100vh"},hasSider:f},I.createElement(u,{Title:n}),I.createElement(wr,null,I.createElement(c,null),I.createElement(wr.Content,null,I.createElement("div",{style:{minHeight:360,padding:d?24:12}},t),a&&I.createElement(a,null)),i&&I.createElement(i,null))))},"ThemedLayoutV2"),Kd=Ee(({collapsed:t,icon:e,text:r,wrapperStyles:n})=>{let{title:{icon:i,text:a}={}}=yI(),o=typeof e>"u"?i:e,s=typeof r>"u"?a:r,{token:l}=Cn.useToken(),u=Zt(),c=Ta(),{Link:d}=Kr();return I.createElement(u==="legacy"?d:c,{to:"/",style:{display:"inline-block",textDecoration:"none"}},I.createElement(me,{style:{display:"flex",alignItems:"center",fontSize:"inherit",...n}},I.createElement("div",{style:{height:"24px",width:"24px",color:l.colorPrimary}},o),!t&&I.createElement(rt.Title,{style:{fontSize:"inherit",marginBottom:0,fontWeight:700}},s)))},"ThemedTitleV2"),$Ve=Ee(({resource:t,resourceNameOrRouteName:e,hideText:r=!1,accessControl:n,meta:i,children:a,onClick:o,...s})=>{let{hidden:l,disabled:u,label:c,title:d,LinkComponent:f,to:p}=XPe({resource:t??e,meta:i,accessControl:n}),v=u||s.disabled;return l||s.hidden?null:I.createElement(f,{to:p,replace:!1,onClick:g=>{if(v){g.preventDefault();return}o&&(g.preventDefault(),o(g))}},I.createElement(ie,{icon:I.createElement(WJ,null),disabled:v,title:d,className:tu.CreateButton,type:"primary",...s},!r&&(a??c)))},"CreateButton"),NVe=Ee(({resource:t,resourceNameOrRouteName:e,recordItemId:r,hideText:n=!1,accessControl:i,meta:a,children:o,onClick:s,...l})=>{let{to:u,label:c,title:d,hidden:f,disabled:p,LinkComponent:v}=HPe({resource:t??e,id:r,meta:a,accessControl:i}),g=p||l.disabled;return f||l.hidden?null:I.createElement(v,{to:u,replace:!1,onClick:m=>{if(g){m.preventDefault();return}s&&(m.preventDefault(),s(m))}},I.createElement(ie,{icon:I.createElement(Nl,null),disabled:g,title:d,className:tu.EditButton,...l},!n&&(o??c)))},"EditButton"),vie=Ee(({resource:t,resourceNameOrRouteName:e,recordItemId:r,onSuccess:n,mutationMode:i,children:a,successNotification:o,errorNotification:s,hideText:l=!1,accessControl:u,metaData:c,meta:d,dataProviderName:f,confirmTitle:p,confirmOkText:v,confirmCancelText:g,invalidates:m,...y})=>{let{title:x,label:b,hidden:w,disabled:S,loading:C,confirmTitle:E,confirmOkLabel:A,cancelLabel:P,onConfirm:_}=kte({resource:t??e,id:r,dataProviderName:f,invalidates:m,meta:d,onSuccess:n,mutationMode:i,errorNotification:s,successNotification:o,accessControl:u}),k=S||y.disabled;return w||y.hidden?null:I.createElement(rR,{key:"delete",okText:v??A,cancelText:g??P,okType:"danger",title:p??E,okButtonProps:{disabled:C},onConfirm:_,disabled:k},I.createElement(ie,{danger:!0,loading:C,icon:I.createElement(Bl,null),title:x,disabled:k,className:tu.DeleteButton,...y},!l&&(a??b)))},"DeleteButton"),gie=Ee(({resource:t,resourceNameOrRouteName:e,recordItemId:r,hideText:n=!1,dataProviderName:i,children:a,meta:o,metaData:s,...l})=>{let{onClick:u,label:c,loading:d}=Dte({resource:t??e,id:r,dataProviderName:i});return I.createElement(ie,{onClick:u,icon:I.createElement(rxe,{spin:d}),className:tu.RefreshButton,...l},!n&&(a??c))},"RefreshButton");Ee(({resource:t,resourceNameOrRouteName:e,recordItemId:r,hideText:n=!1,accessControl:i,meta:a,children:o,onClick:s,...l})=>{let{to:u,label:c,title:d,hidden:f,disabled:p,LinkComponent:v}=WPe({resource:t??e,id:r,accessControl:i,meta:a}),g=p||l.disabled;return f||l.hidden?null:I.createElement(v,{to:u,replace:!1,onClick:m=>{if(g){m.preventDefault();return}s&&(m.preventDefault(),s(m))}},I.createElement(ie,{disabled:g,icon:I.createElement(is,null),title:d,className:tu.ShowButton,...l},!n&&(o??c)))},"ShowButton");var mie=Ee(({resource:t,resourceNameOrRouteName:e,hideText:r=!1,accessControl:n,meta:i,children:a,onClick:o,...s})=>{let{to:l,label:u,title:c,hidden:d,disabled:f,LinkComponent:p}=KPe({resource:t??e,meta:i,accessControl:n}),v=f||s.disabled;return d||s.hidden?null:I.createElement(p,{to:l,replace:!1,onClick:g=>{if(v){g.preventDefault();return}o&&(g.preventDefault(),o(g))}},I.createElement(ie,{icon:I.createElement(Bb,null),disabled:v,title:c,className:tu.ListButton,...s},!r&&(a??u)))},"ListButton");Ee(({hideText:t=!1,children:e,...r})=>{let{label:n}=JPe();return I.createElement(ie,{type:"default",icon:I.createElement(HJ,null),className:tu.ExportButton,...r},!t&&(e??n))},"ExportButton");var yie=Ee(({hideText:t=!1,children:e,...r})=>{let{label:n}=QPe();return I.createElement(ie,{type:"primary",icon:I.createElement(YJ,null),className:tu.SaveButton,...r},!t&&(e??n))},"SaveButton");Ee(({resourceNameOrRouteName:t,resource:e,recordItemId:r,hideText:n=!1,accessControl:i,meta:a,children:o,onClick:s,...l})=>{let{to:u,LinkComponent:c,label:d,disabled:f,hidden:p,title:v}=YPe({id:r,resource:e??t,accessControl:i,meta:a}),g=f||l.disabled;return p||l.hidden?null:I.createElement(c,{to:u,replace:!1,onClick:m=>{if(g){m.preventDefault();return}s&&(m.preventDefault(),s(m))}},I.createElement(ie,{icon:I.createElement(WJ,null),disabled:g,title:v,className:tu.CloneButton,...l},!n&&(o??d)))},"CloneButton");Ee(({uploadProps:t,buttonProps:e,hideText:r=!1,children:n,loading:i,...a})=>{let{label:o}=ZPe();return I.createElement(Vb,{...t},I.createElement(ie,{icon:I.createElement(nxe,null),className:tu.ImportButton,loading:i,...e,...a},!r&&(n??o)))},"ImportButton");Ee(({canCreate:t,title:e,children:r,createButtonProps:n,resource:i,wrapperProps:a,contentProps:o,headerProps:s,breadcrumb:l,headerButtonProps:u,headerButtons:c})=>{var d,f;let p=yt(),{options:{breadcrumb:v}={}}=_n(),g=Zt(),m=dc(),{resource:y,identifier:x}=er(i),b=t??(((y==null?void 0:y.canCreate)??!!(y!=null&&y.create))||n),w=typeof l>"u"?v:l,S=b?{size:"middle",resource:g==="legacy"?y==null?void 0:y.route:x,...n}:void 0,C=b?I.createElement($Ve,{...S}):null;return I.createElement("div",{...a??{}},I.createElement(rP,{title:e??p(`${x}.titles.list`,m(((d=y==null?void 0:y.meta)==null?void 0:d.label)??((f=y==null?void 0:y.options)==null?void 0:f.label)??(y==null?void 0:y.label)??x,"plural")),extra:c?I.createElement(me,{wrap:!0,...u},typeof c=="function"?c({defaultButtons:C,createButtonProps:S}):c):C,breadcrumb:typeof w<"u"?I.createElement(I.Fragment,null,w)??void 0:I.createElement(tP,null),...s??{}},I.createElement("div",{...o??{}},r)))},"List");Ee(({title:t,saveButtonProps:e,children:r,resource:n,isLoading:i=!1,breadcrumb:a,wrapperProps:o,headerProps:s,contentProps:l,headerButtonProps:u,headerButtons:c,footerButtonProps:d,footerButtons:f,goBack:p})=>{var v,g;let m=yt(),{options:{breadcrumb:y}={}}=_n(),x=Zt(),b=gI(),{goBack:w}=ca(),S=dc(),{resource:C,action:E,identifier:A}=er(n),P=typeof a>"u"?y:a,_={...i?{disabled:!0}:{},...e,htmlType:"submit"},k=I.createElement(I.Fragment,null,I.createElement(yie,{..._}));return I.createElement("div",{...o??{}},I.createElement(rP,{backIcon:p,onBack:E!=="list"||typeof E<"u"?x==="legacy"?w:b:void 0,title:t??m(`${A}.titles.create`,`Create ${S(((v=C==null?void 0:C.meta)==null?void 0:v.label)??((g=C==null?void 0:C.options)==null?void 0:g.label)??(C==null?void 0:C.label)??A,"singular")}`),breadcrumb:typeof P<"u"?I.createElement(I.Fragment,null,P)??void 0:I.createElement(tP,null),extra:I.createElement(me,{wrap:!0,...u??{}},c?typeof c=="function"?c({defaultButtons:null}):c:null),...s??{}},I.createElement(yi,{spinning:i},I.createElement(ue,{bordered:!1,actions:[I.createElement(me,{key:"action-buttons",style:{float:"right",marginRight:24},...d??{}},f?typeof f=="function"?f({defaultButtons:k,saveButtonProps:_}):f:k)],...l??{}},r))))},"Create");Ee(({title:t,saveButtonProps:e,mutationMode:r,recordItemId:n,children:i,deleteButtonProps:a,canDelete:o,resource:s,isLoading:l=!1,dataProviderName:u,breadcrumb:c,wrapperProps:d,headerProps:f,contentProps:p,headerButtonProps:v,headerButtons:g,footerButtonProps:m,footerButtons:y,goBack:x,autoSaveProps:b})=>{var w,S,C;let E=yt(),{options:{breadcrumb:A}={}}=_n(),{mutationMode:P}=tp(),_=r??P,k=Zt(),O=gI(),D=Ni(),{goBack:B,list:$}=ca(),L=dc(),{resource:R,action:V,id:U,identifier:q}=er(s),M=Ite({resource:R,action:"list"}),G=n??U,W=typeof c>"u"?A:c,J=(R==null?void 0:R.list)&&!n,te=o??((((w=R==null?void 0:R.meta)==null?void 0:w.canDelete)??(R==null?void 0:R.canDelete))||a),H=J?{...l?{disabled:!0}:{},resource:k==="legacy"?R==null?void 0:R.route:q}:void 0,ee={...l?{disabled:!0}:{},resource:k==="legacy"?R==null?void 0:R.route:q,recordItemId:G,dataProviderName:u},re=te?{...l?{disabled:!0}:{},resource:k==="legacy"?R==null?void 0:R.route:q,mutationMode:_,onSuccess:()=>{k==="legacy"?$((R==null?void 0:R.route)??(R==null?void 0:R.name)??""):D({to:M})},recordItemId:G,dataProviderName:u,...a}:void 0,Q={...l?{disabled:!0}:{},...e},se=I.createElement(I.Fragment,null,b&&I.createElement(XVe,{...b}),J&&I.createElement(mie,{...H}),I.createElement(gie,{...ee})),ne=I.createElement(I.Fragment,null,te&&I.createElement(vie,{...re}),I.createElement(yie,{...Q}));return I.createElement("div",{...d??{}},I.createElement(rP,{backIcon:x,onBack:V!=="list"&&typeof V<"u"?k==="legacy"?B:O:void 0,title:t??E(`${q}.titles.edit`,`Edit ${L(((S=R==null?void 0:R.meta)==null?void 0:S.label)??((C=R==null?void 0:R.options)==null?void 0:C.label)??(R==null?void 0:R.label)??q,"singular")}`),extra:I.createElement(me,{wrap:!0,...v??{}},g?typeof g=="function"?g({defaultButtons:se,listButtonProps:H,refreshButtonProps:ee}):g:se),breadcrumb:typeof W<"u"?I.createElement(I.Fragment,null,W)??void 0:I.createElement(tP,null),...f??{}},I.createElement(yi,{spinning:l},I.createElement(ue,{bordered:!1,actions:[I.createElement(me,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...m??{}},y?typeof y=="function"?y({defaultButtons:ne,deleteButtonProps:re,saveButtonProps:Q}):y:ne)],...p??{}},i))))},"Edit");Ee(({title:t,canEdit:e,canDelete:r,deleteButtonProps:n,isLoading:i=!1,children:a,resource:o,recordItemId:s,dataProviderName:l,breadcrumb:u,contentProps:c,headerProps:d,wrapperProps:f,headerButtons:p,footerButtons:v,footerButtonProps:g,headerButtonProps:m,goBack:y})=>{var x,b,w;let S=yt(),{options:{breadcrumb:C}={}}=_n(),E=Zt(),A=gI(),P=Ni(),{goBack:_,list:k}=ca(),O=dc(),{resource:D,action:B,id:$,identifier:L}=er(o),R=Ite({resource:D,action:"list"}),V=s??$,U=typeof u>"u"?C:u,q=(D==null?void 0:D.list)&&!s,M=r??((((x=D==null?void 0:D.meta)==null?void 0:x.canDelete)??(D==null?void 0:D.canDelete))||n),G=e??(D==null?void 0:D.canEdit)??!!(D!=null&&D.edit),W=q?{resource:E==="legacy"?D==null?void 0:D.route:L}:void 0,J=G?{...i?{disabled:!0}:{},type:"primary",resource:E==="legacy"?D==null?void 0:D.route:L,recordItemId:V}:void 0,te=M?{...i?{disabled:!0}:{},resource:E==="legacy"?D==null?void 0:D.route:L,recordItemId:V,onSuccess:()=>{E==="legacy"?k((D==null?void 0:D.route)??(D==null?void 0:D.name)??""):P({to:R})},dataProviderName:l,...n}:void 0,H={...i?{disabled:!0}:{},resource:E==="legacy"?D==null?void 0:D.route:L,recordItemId:V,dataProviderName:l},ee=I.createElement(I.Fragment,null,q&&I.createElement(mie,{...W}),G&&I.createElement(NVe,{...J}),M&&I.createElement(vie,{...te}),I.createElement(gie,{...H}));return I.createElement("div",{...f??{}},I.createElement(rP,{backIcon:y,onBack:B!=="list"&&typeof B<"u"?E==="legacy"?_:A:void 0,title:t??S(`${L}.titles.show`,`Show ${O(((b=D==null?void 0:D.meta)==null?void 0:b.label)??((w=D==null?void 0:D.options)==null?void 0:w.label)??(D==null?void 0:D.label)??L,"singular")}`),extra:I.createElement(me,{key:"extra-buttons",wrap:!0,...m??{}},p?typeof p=="function"?p({defaultButtons:ee,deleteButtonProps:te,editButtonProps:J,listButtonProps:W,refreshButtonProps:H}):p:ee),breadcrumb:typeof U<"u"?I.createElement(I.Fragment,null,U)??void 0:I.createElement(tP,null),...d??{}},I.createElement(yi,{spinning:i},I.createElement(ue,{bordered:!1,actions:v?[I.createElement(me,{key:"footer-buttons",wrap:!0,...g},typeof v=="function"?v({defaultButtons:null}):v)]:void 0,...c??{}},a))))},"Show");Ee(({value:t,...e})=>I.createElement(rt.Text,{...e},t),"TextField");Ee(({value:t,...e})=>I.createElement(Me,{...e},t==null?void 0:t.toString()),"TagField");Ee(({value:t,...e})=>I.createElement(rt.Link,{href:`mailto:${t}`,...e},t),"EmailField");Ee(({value:t,imageTitle:e,...r})=>I.createElement(ixe,{...r,src:t,title:e}),"ImageField");Ee(({value:t,valueLabelTrue:e="true",valueLabelFalse:r="false",trueIcon:n=I.createElement(XJ,null),falseIcon:i=I.createElement(g$,null),...a})=>I.createElement(hr,{title:t?e:r,...a},t?I.createElement("span",null,n):I.createElement("span",null,i)),"BooleanField");Ee(({value:t,locales:e,format:r="L",...n})=>{ir.extend(j_e);let i=ir.locale();return I.createElement(rt.Text,{...n},t?ir(t).locale(e||i).format(r):"")},"DateField");Ee(({title:t,src:e,...r})=>I.createElement(BVe,{value:e,title:t,...r},t??e),"FileField");var BVe=Ee(({children:t,value:e,...r})=>I.createElement(rt.Link,{href:e,...r},t??e),"UrlField");function xie(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}Ee(xie,"toLocaleStringSupportsOptions");Ee(({value:t,locale:e,options:r,...n})=>{let i=Number(t);return I.createElement(rt.Text,{...n},xie()?i.toLocaleString(e,r):i)},"NumberField");Ee(({value:t=""})=>I.createElement(oBe,{remarkPlugins:[P5e]},t),"MarkdownField");Ee(t=>{let{setSelectedKeys:e,confirm:r,clearFilters:n,mapValue:i=Ee(f=>f,"mapValue"),selectedKeys:a,children:o}=t,s=yt(),l=Ee(()=>{n&&n()},"clearFilter"),u=Ee(()=>{let f;typeof a=="number"?f=`${a}`:ir.isDayjs(a)?f=[a.toISOString()]:f=a,e(f),r==null||r()},"onFilter"),c=Ee(f=>{if(typeof f=="object"){if(Array.isArray(f)){let y=i(f,"onChange");return e(y)}let v=!f||!f.target||ir.isDayjs(f)?{target:{value:f}}:f,{target:g}=v,m=i(g.value,"onChange");e(m);return}let p=i(f,"onChange");e(p)},"onChange"),d=I.Children.map(o,f=>I.isValidElement(f)?I.cloneElement(f,{onChange:c,value:i(a,"value")}):f);return I.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},I.createElement("div",{style:{marginBottom:15}},d),I.createElement(me,null,I.createElement(ie,{type:"primary",size:"small",onClick:()=>u()},I.createElement(zb,null)," ",s("buttons.filter","Filter")),I.createElement(ie,{danger:!0,size:"small",onClick:()=>l()},s("buttons.clear","Clear"))))},"FilterDropdown");Ee(()=>{let[t,e]=j.useState(),r=yt(),{push:n}=ca(),i=Ni(),a=Zt(),{resource:o,action:s}=er();return j.useEffect(()=>{o&&s&&e(r("pages.error.info",{action:s,resource:o==null?void 0:o.name},`You may have forgotten to add the "${s}" component to "${o==null?void 0:o.name}" resource.`))},[o,s]),I.createElement(KJ,{status:"404",title:"404",extra:I.createElement(me,{direction:"vertical",size:"large"},I.createElement(me,null,I.createElement(rt.Text,null,r("pages.error.404","Sorry, the page you visited does not exist.")),t&&I.createElement(hr,{title:t},I.createElement(m$,{}))),I.createElement(ie,{type:"primary",onClick:()=>{a==="legacy"?n("/"):i({to:"/"})}},r("pages.error.backHome","Back Home")))})},"ErrorComponent");var VVe={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},zVe={maxWidth:"408px",margin:"auto"},UVe={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},qVe={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"};Ee(()=>{let[t]=ce.useForm(),e=yt(),r=Vr(),{mutate:n,isLoading:i}=Kb({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),a=I.createElement(rt.Title,{level:3,style:UVe},e("pages.login.title","Sign in your account"));return I.createElement(wr,{style:VVe},I.createElement(Ye,{justify:"center",align:"middle",style:{height:"100vh"}},I.createElement(oe,{xs:22},I.createElement("div",{style:zVe},I.createElement("div",{style:qVe},I.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),I.createElement(ue,{title:a,headStyle:{borderBottom:0}},I.createElement(ce,{layout:"vertical",form:t,onFinish:o=>{n(o)},requiredMark:!1,initialValues:{remember:!1}},I.createElement(ce.Item,{name:"username",label:e("pages.login.username","Username"),rules:[{required:!0}]},I.createElement(Ve,{size:"large",placeholder:e("pages.login.username","Username")})),I.createElement(ce.Item,{name:"password",label:e("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},I.createElement(Ve,{type:"password",placeholder:"",size:"large"})),I.createElement("div",{style:{marginBottom:"12px"}},I.createElement(ce.Item,{name:"remember",valuePropName:"checked",noStyle:!0},I.createElement(ax,{style:{fontSize:"12px"}},e("pages.login.remember","Remember me"))),I.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},e("pages.login.forgotPassword","Forgot password?"))),I.createElement(ie,{type:"primary",size:"large",htmlType:"submit",loading:i,block:!0},e("pages.login.signin","Sign in"))),I.createElement("div",{style:{marginTop:8}},I.createElement(rt.Text,{style:{fontSize:12}},e("pages.login.noAccount","Dont have an account?")," ",I.createElement("a",{href:"#",style:{fontWeight:"bold"}},e("pages.login.signup","Sign up")))))))))},"LoginPage");var Vp={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}};Ee(()=>j.createElement(Ye,{align:"middle",justify:"center",style:Vp.root},j.createElement(oe,{style:{textAlign:"center"}},j.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),j.createElement(rt.Title,{style:Vp.title},"Welcome on board"),j.createElement("p",{style:Vp.p1},"Your configuration is completed."),j.createElement("p",{style:Vp.p2},"Now you can get started by adding your resources to the"," ",j.createElement("code",{style:Vp.code},"resources")," property of"," ",j.createElement("code",{style:Vp.code},"<Refine>")),j.createElement(me,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},j.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},j.createElement(ie,{size:"large",icon:j.createElement(axe,null)},"Documentation")),j.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},j.createElement(ie,{size:"large",icon:j.createElement(oxe,null)},"Examples")),j.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},j.createElement(ie,{size:"large",icon:j.createElement(ar,null)},"Community"))))),"ReadyPage");Ee(()=>I.createElement(p_e,null),"WelcomePage");var KI={},QI={maxWidth:"400px",margin:"auto",padding:"32px",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.02), 0px 1px 6px -1px rgba(0, 0, 0, 0.02), 0px 1px 2px rgba(0, 0, 0, 0.03)"},JI={borderBottom:0,padding:0},ZI={padding:0,marginTop:"32px"},eP={textAlign:"center",marginBottom:0,fontSize:"24px",lineHeight:"32px",fontWeight:700,overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},GVe=Ee(({providers:t,registerLink:e,forgotPasswordLink:r,rememberMe:n,contentProps:i,wrapperProps:a,renderContent:o,formProps:s,title:l,hideForm:u,mutationVariables:c})=>{let{token:d}=Cn.useToken(),[f]=ce.useForm(),p=yt(),v=Zt(),g=Ta(),{Link:m}=Kr(),y=v==="legacy"?m:g,x=Vr(),{mutate:b,isLoading:w}=Kb({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),S=l===!1?null:I.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},l??I.createElement(Kd,{collapsed:!1})),C=I.createElement(rt.Title,{level:3,style:{color:d.colorPrimaryTextHover,...eP}},p("pages.login.title","Sign in to your account")),E=Ee(()=>t&&t.length>0?I.createElement(I.Fragment,null,t.map(P=>I.createElement(ie,{key:P.name,type:"default",block:!0,icon:P.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>b({...c,providerName:P.name})},P.label)),!u&&I.createElement(pt,null,I.createElement(rt.Text,{style:{color:d.colorTextLabel}},p("pages.login.divider","or")))):null,"renderProviders"),A=I.createElement(ue,{title:C,headStyle:JI,bodyStyle:ZI,style:{...QI,backgroundColor:d.colorBgElevated},...i??{}},E(),!u&&I.createElement(ce,{layout:"vertical",form:f,onFinish:P=>b({...P,...c}),requiredMark:!1,initialValues:{remember:!1},...s},I.createElement(ce.Item,{name:"email",label:p("pages.login.fields.email","Email"),rules:[{required:!0,message:p("pages.login.errors.requiredEmail","Email is required")},{type:"email",message:p("pages.login.errors.validEmail","Invalid email address")}]},I.createElement(Ve,{size:"large",placeholder:p("pages.login.fields.email","Email")})),I.createElement(ce.Item,{name:"password",label:p("pages.login.fields.password","Password"),rules:[{required:!0,message:p("pages.login.errors.requiredPassword","Password is required")}]},I.createElement(Ve,{type:"password",autoComplete:"current-password",placeholder:"",size:"large"})),I.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},n??I.createElement(ce.Item,{name:"remember",valuePropName:"checked",noStyle:!0},I.createElement(ax,{style:{fontSize:"12px"}},p("pages.login.buttons.rememberMe","Remember me"))),r??I.createElement(y,{style:{color:d.colorPrimaryTextHover,fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},p("pages.login.buttons.forgotPassword","Forgot password?"))),!u&&I.createElement(ce.Item,null,I.createElement(ie,{type:"primary",size:"large",htmlType:"submit",loading:w,block:!0},p("pages.login.signin","Sign in")))),e??I.createElement("div",{style:{marginTop:u?16:8}},I.createElement(rt.Text,{style:{fontSize:12}},p("pages.login.buttons.noAccount","Dont have an account?")," ",I.createElement(y,{to:"/register",style:{fontWeight:"bold",color:d.colorPrimaryTextHover}},p("pages.login.signup","Sign up")))));return I.createElement(wr,{style:KI,...a??{}},I.createElement(Ye,{justify:"center",align:u?"top":"middle",style:{padding:"16px 0",minHeight:"100dvh",paddingTop:u?"15dvh":"16px"}},I.createElement(oe,{xs:22},o?o(A,S):I.createElement(I.Fragment,null,S,A))))},"LoginPage"),WVe=Ee(({providers:t,loginLink:e,wrapperProps:r,contentProps:n,renderContent:i,formProps:a,title:o,hideForm:s,mutationVariables:l})=>{let{token:u}=Cn.useToken(),[c]=ce.useForm(),d=yt(),f=Zt(),p=Ta(),{Link:v}=Kr(),g=f==="legacy"?v:p,m=Vr(),{mutate:y,isLoading:x}=U$({v3LegacyAuthProviderCompatible:!!(m!=null&&m.isLegacy)}),b=o===!1?null:I.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},o??I.createElement(Kd,{collapsed:!1})),w=I.createElement(rt.Title,{level:3,style:{color:u.colorPrimaryTextHover,...eP}},d("pages.register.title","Sign up for your account")),S=Ee(()=>t&&t.length>0?I.createElement(I.Fragment,null,t.map(E=>I.createElement(ie,{key:E.name,type:"default",block:!0,icon:E.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>y({...l,providerName:E.name})},E.label)),!s&&I.createElement(pt,null,I.createElement(rt.Text,{style:{color:u.colorTextLabel}},d("pages.register.divider",d("pages.login.divider","or"))))):null,"renderProviders"),C=I.createElement(ue,{title:w,headStyle:JI,bodyStyle:ZI,style:{...QI,backgroundColor:u.colorBgElevated},...n??{}},S(),!s&&I.createElement(ce,{layout:"vertical",form:c,onFinish:E=>y({...l,...E}),requiredMark:!1,...a},I.createElement(ce.Item,{name:"email",label:d("pages.register.email","Email"),rules:[{required:!0,message:d("pages.register.errors.requiredEmail","Email is required")},{type:"email",message:d("pages.register.errors.validEmail","Invalid email address")}]},I.createElement(Ve,{size:"large",placeholder:d("pages.register.fields.email","Email")})),I.createElement(ce.Item,{name:"password",label:d("pages.register.fields.password","Password"),rules:[{required:!0,message:d("pages.register.errors.requiredPassword","Password is required")}]},I.createElement(Ve,{type:"password",placeholder:"",size:"large"})),I.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"}},e??I.createElement(rt.Text,{style:{fontSize:12,marginLeft:"auto"}},d("pages.register.buttons.haveAccount",d("pages.login.buttons.haveAccount","Have an account?"))," ",I.createElement(g,{style:{fontWeight:"bold",color:u.colorPrimaryTextHover},to:"/login"},d("pages.register.signin",d("pages.login.signin","Sign in"))))),I.createElement(ce.Item,{style:{marginBottom:0}},I.createElement(ie,{type:"primary",size:"large",htmlType:"submit",loading:x,block:!0},d("pages.register.buttons.submit","Sign up")))),s&&e!==!1&&I.createElement("div",{style:{marginTop:s?16:8}},I.createElement(rt.Text,{style:{fontSize:12}},d("pages.register.buttons.haveAccount",d("pages.login.buttons.haveAccount","Have an account?"))," ",I.createElement(g,{style:{fontWeight:"bold",color:u.colorPrimaryTextHover},to:"/login"},d("pages.register.signin",d("pages.login.signin","Sign in"))))));return I.createElement(wr,{style:KI,...r??{}},I.createElement(Ye,{justify:"center",align:s?"top":"middle",style:{padding:"16px 0",minHeight:"100dvh",paddingTop:s?"15dvh":"16px"}},I.createElement(oe,{xs:22},i?i(C,b):I.createElement(I.Fragment,null,b,C))))},"RegisterPage"),HVe=Ee(({loginLink:t,wrapperProps:e,contentProps:r,renderContent:n,formProps:i,title:a,mutationVariables:o})=>{let{token:s}=Cn.useToken(),[l]=ce.useForm(),u=yt(),c=Zt(),d=Ta(),{Link:f}=Kr(),p=c==="legacy"?f:d,{mutate:v,isLoading:g}=q$(),m=a===!1?null:I.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},a??I.createElement(Kd,{collapsed:!1})),y=I.createElement(rt.Title,{level:3,style:{color:s.colorPrimaryTextHover,...eP}},u("pages.forgotPassword.title","Forgot your password?")),x=I.createElement(ue,{title:y,headStyle:JI,bodyStyle:ZI,style:{...QI,backgroundColor:s.colorBgElevated},...r??{}},I.createElement(ce,{layout:"vertical",form:l,onFinish:b=>v({...b,...o}),requiredMark:!1,...i},I.createElement(ce.Item,{name:"email",label:u("pages.forgotPassword.fields.email","Email"),rules:[{required:!0,message:u("pages.forgotPassword.errors.requiredEmail","Email is required")},{type:"email",message:u("pages.forgotPassword.errors.validEmail","Invalid email address")}]},I.createElement(Ve,{type:"email",size:"large",placeholder:u("pages.forgotPassword.fields.email","Email")})),I.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t??I.createElement(rt.Text,{style:{fontSize:12,marginLeft:"auto"}},u("pages.forgotPassword.buttons.haveAccount",u("pages.register.buttons.haveAccount","Have an account? "))," ",I.createElement(p,{style:{fontWeight:"bold",color:s.colorPrimaryTextHover},to:"/login"},u("pages.forgotPassword.signin",u("pages.login.signin","Sign in"))))),I.createElement(ce.Item,{style:{marginTop:"24px",marginBottom:0}},I.createElement(ie,{type:"primary",size:"large",htmlType:"submit",loading:g,block:!0},u("pages.forgotPassword.buttons.submit","Send reset instructions")))));return I.createElement(wr,{style:KI,...e??{}},I.createElement(Ye,{justify:"center",align:"middle",style:{padding:"16px 0",minHeight:"100dvh"}},I.createElement(oe,{xs:22},n?n(x,m):I.createElement(I.Fragment,null,m,x))))},"ForgotPasswordPage"),YVe=Ee(({wrapperProps:t,contentProps:e,renderContent:r,formProps:n,title:i,mutationVariables:a})=>{let{token:o}=Cn.useToken(),[s]=ce.useForm(),l=yt(),u=Vr(),{mutate:c,isLoading:d}=G$({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),f=i===!1?null:I.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",fontSize:"20px"}},i??I.createElement(Kd,{collapsed:!1})),p=I.createElement(rt.Title,{level:3,style:{color:o.colorPrimaryTextHover,...eP}},l("pages.updatePassword.title","Set New Password")),v=I.createElement(ue,{title:p,headStyle:JI,bodyStyle:ZI,style:{...QI,backgroundColor:o.colorBgElevated},...e??{}},I.createElement(ce,{layout:"vertical",form:s,onFinish:g=>c({...g,...a}),requiredMark:!1,...n},I.createElement(ce.Item,{name:"password",label:l("pages.updatePassword.fields.password","New Password"),rules:[{required:!0,message:l("pages.updatePassword.errors.requiredPassword","Password is required")}],style:{marginBottom:"12px"}},I.createElement(Ve,{type:"password",placeholder:"",size:"large"})),I.createElement(ce.Item,{name:"confirmPassword",label:l("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0,message:l("pages.updatePassword.errors.requiredConfirmPassword","Confirm password is required")},({getFieldValue:g})=>({validator(m,y){return!y||g("password")===y?Promise.resolve():Promise.reject(new Error(l("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})]},I.createElement(Ve,{type:"password",placeholder:"",size:"large"})),I.createElement(ce.Item,{style:{marginBottom:0}},I.createElement(ie,{type:"primary",size:"large",htmlType:"submit",loading:d,block:!0},l("pages.updatePassword.buttons.submit","Update")))));return I.createElement(wr,{style:KI,...t??{}},I.createElement(Ye,{justify:"center",align:"middle",style:{padding:"16px 0",minHeight:"100dvh"}},I.createElement(oe,{xs:22},r?r(v,f):I.createElement(I.Fragment,null,f,v))))},"UpdatePasswordPage");Ee(t=>{let{type:e}=t;return I.createElement(I.Fragment,null,Ee(()=>{switch(e){case"register":return I.createElement(WVe,{...t});case"forgotPassword":return I.createElement(HVe,{...t});case"updatePassword":return I.createElement(YVe,{...t});default:return I.createElement(GVe,{...t})}},"renderView")())},"AuthPage");var tP=Ee(({breadcrumbProps:t,showHome:e=!0,hideIcons:r=!1,meta:n,minItems:i=2})=>{let a=Zt(),{breadcrumbs:o}=zPe({meta:n}),s=Ta(),{Link:l}=Kr(),{hasDashboard:u}=_n(),{resources:c}=er(),d=ste("/",c),f=a==="legacy"?l:s;if(o.length<i)return null;let p=o.map(({label:v,icon:g,href:m})=>({key:`breadcrumb-item-${v}`,title:I.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4}},!r&&g,m?I.createElement(f,{to:m},v):I.createElement("span",null,v))}));return I.createElement(qJ,{items:Ee(()=>{var v,g;return e&&(u||d.found)?[{key:"breadcrumb-item-home",title:I.createElement(f,{to:"/"},((g=(v=d==null?void 0:d.resource)==null?void 0:v.meta)==null?void 0:g.icon)??I.createElement(sxe,null))},...p]:p},"getBreadcrumbItems")(),...t})},"Breadcrumb"),rP=Ee(({children:t,...e})=>{var r;let n=(r=j.useContext(Qh.ConfigContext))==null?void 0:r.direction,i=Ee(()=>I.createElement(ie,{type:"text",icon:I.createElement(n==="rtl"?QJ:lxe,null)}),"renderBackButton"),a=typeof e.backIcon>"u"?i():e.backIcon,o=typeof e.title=="string"?I.createElement(rt.Title,{className:rU.Title,level:4,style:{marginBottom:0}},e.title):e.title,s=typeof e.title=="string"?I.createElement(rt.Title,{className:rU.SubTitle,level:5,type:"secondary",style:{marginBottom:0}},e.subTitle):e.subTitle;return I.createElement(pVe,{...e,backIcon:a,title:o,subTitle:s,style:{padding:0,...e.style}},t)},"PageHeader"),XVe=Ee(({status:t,elements:{success:e=I.createElement(nS,{translationKey:"autoSave.success",defaultMessage:"saved",icon:I.createElement(Ga,null)}),error:r=I.createElement(nS,{translationKey:"autoSave.error",defaultMessage:"auto save failure",icon:I.createElement(CA,null)}),loading:n=I.createElement(nS,{translationKey:"autoSave.loading",defaultMessage:"saving...",icon:I.createElement(uxe,null)}),idle:i=I.createElement(nS,{translationKey:"autoSave.idle",defaultMessage:"waiting for changes",icon:I.createElement(cxe,null)})}={}})=>I.createElement(M_e,{status:t,elements:{success:e,error:r,loading:n,idle:i}}),"AutoSaveIndicator"),nS=Ee(({translationKey:t,defaultMessage:e,icon:r})=>{let n=yt(),{token:i}=Cn.useToken();return I.createElement(rt.Text,{style:{marginRight:5,color:i.colorTextTertiary,fontSize:".8rem"}},n(t,e),I.createElement("span",{style:{marginLeft:".2rem"}},r))},"Message");Ee((t,e)=>t&&(e==="value"?t.map(r=>typeof r=="string"?ir(r):r):e==="onChange"&&t.every(ir.isDayjs)?t.map(r=>ir(r).toISOString()):t),"rangePickerFilterMapper");Ee(t=>{let{fileList:e}=t;return[...e]},"getValueFromEvent");var KVe={Blue:{token:{colorPrimary:"#1677FF"}}},QVe=({children:t})=>t,_q=t=>{if(typeof t>"u")return t;let e=Number(t);return`${e}`===t?e:t},JVe={addQueryPrefix:!0,skipNulls:!0,arrayFormat:"indices",encode:!1,encodeValuesOnly:!0},ZVe={go:()=>{let{search:t,hash:e}=Vl(),r=ji();return j.useCallback(({to:n,type:i,query:a,hash:o,options:{keepQuery:s,keepHash:l}={}})=>{let u={...s&&t&&Pl.parse(t,{ignoreQueryPrefix:!0}),...a};u.to&&(u.to=encodeURIComponent(`${u.to}`));let c=Object.keys(u).length>0,d=`#${(o||l&&e||"").replace(/^#/,"")}`,f=d.length>1,p=`${n||""}${c?Pl.stringify(u,JVe):""}${f?d:""}`;return i==="path"?p:r(p,{replace:i==="replace"})},[e,t,r])},back:()=>{let t=ji();return j.useCallback(()=>{t(-1)},[t])},parse:()=>{var t;let e=bZ(),{pathname:r,search:n}=Vl(),{resources:i}=j.useContext(Jb),{resource:a,action:o,matchedRoute:s}=I.useMemo(()=>ste(r,i),[i,r]);return Object.entries(e).length===0&&s&&(e=((t=gZ(s,r))==null?void 0:t.params)||{}),j.useCallback(()=>{let l=Pl.parse(n,{ignoreQueryPrefix:!0}),u={...e,...l};return{...a&&{resource:a},...o&&{action:o},...(e==null?void 0:e.id)&&{id:decodeURIComponent(e.id)},pathname:r,params:{...u,current:_q(u.current),pageSize:_q(u.pageSize),to:u.to?decodeURIComponent(u.to):void 0}}},[r,n,e,a,o])},Link:I.forwardRef(function(t,e){return I.createElement(Rr,{...t,ref:e})})};function eze(t,e=!0){let{navigator:r}=I.useContext(oc);I.useEffect(()=>{if(!e)return;let n=r.go,i=r.push;return r.push=(...a)=>{t()!==!1&&i(...a)},r.go=(...a)=>{t()!==!1&&n(...a)},()=>{r.push=i,r.go=n}},[r,t,e])}function tze(t,e=!0,r,n=!1){let i=I.useCallback(o=>(o.preventDefault(),o.returnValue=t,o.returnValue),[t]);I.useEffect(()=>(e&&!n&&window.addEventListener("beforeunload",i),()=>{window.removeEventListener("beforeunload",i)}),[i,e,n]);let a=I.useCallback(()=>{let o=window.confirm(t);return o&&r&&r(),o},[t]);eze(a,e)}var rze=({translationKey:t="warnWhenUnsavedChanges",message:e="Are you sure you want to leave? You have unsaved changes."})=>{let r=yt(),{pathname:n}=Vl(),{warnWhen:i,setWarnWhen:a}=eu();I.useEffect(()=>()=>a==null?void 0:a(!1),[n]);let o=I.useMemo(()=>r(t,e),[t,e,r]);return tze(o,i,()=>{a==null||a(!1)}),null},Oq=({to:t})=>{let{pathname:e,search:r}=Vl(),n=`${e}${r}`,i=n.length>1?`?to=${encodeURIComponent(n)}`:"";return I.createElement(Gb,{to:`${t}${i}`})};function nze({handler:t}){var e;let r=Vl(),{action:n,id:i,params:a,pathname:o,resource:s}=Ca(),l=yt(),u=dc(),c=(s==null?void 0:s.identifier)??(s==null?void 0:s.name),d=(s==null?void 0:s.label)??((e=s==null?void 0:s.meta)==null?void 0:e.label)??u(c,n==="list"?"plural":"singular"),f=l(`${s==null?void 0:s.name}.${s==null?void 0:s.name}`,d);return j.useLayoutEffect(()=>{let p=dte(l,s,n,`${i}`,d);t?document.title=t({action:n,resource:{...s??{},label:f,meta:{...s==null?void 0:s.meta,label:f}},params:a,pathname:o,autoGeneratedTitle:p}):document.title=p},[r]),I.createElement(I.Fragment,null)}const ize=(t,e=2)=>t.split(" ").map(i=>i[0]).join("").replace(/[^a-zA-Z]/g,"").slice(0,e).toUpperCase(),aze=t=>{const e=["#ff9c6e","#ff7875","#ffc069","#ffd666","#fadb14","#95de64","#5cdbd3","#69c0ff","#85a5ff","#b37feb","#ff85c0"];let r=0;for(let n=0;n<t.length;n++)r=t.charCodeAt(n)+((r<<5)-r),r=r&r;return r=(r%e.length+e.length)%e.length,e[r]},oze=({name:t="",style:e,...r})=>h.jsx(vi,{alt:t,size:"small",style:{backgroundColor:r!=null&&r.src?"transparent":aze(t),display:"flex",alignItems:"center",border:"none",...e},...r,children:ize(t)}),sze=I.memo(oze,(t,e)=>t.name===e.name&&t.src===e.src),lze={xs:{fontSize:12,lineHeight:20/12},sm:{fontSize:14,lineHeight:22/14},md:{fontSize:16,lineHeight:24/16},lg:{fontSize:20,lineHeight:28/20},xl:{fontSize:24,lineHeight:32/24},xxl:{fontSize:30,lineHeight:38/30},xxxl:{fontSize:38,lineHeight:46/38},huge:{fontSize:46,lineHeight:54/46},xhuge:{fontSize:56,lineHeight:64/56},xxhuge:{fontSize:68,lineHeight:76/68}},lh=({size:t="sm",children:e,...r})=>h.jsx(Qh,{theme:{token:{...lze[t]}},children:h.jsx(rt.Text,{...r,children:e})}),uze=()=>{};var kq={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},cze=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},wie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let f=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),n.push(r[c],r[d],r[f],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bie(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cze(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new dze;const f=a<<2|s>>4;if(n.push(f),u!==64){const p=s<<4&240|u>>2;if(n.push(p),d!==64){const v=u<<6&192|d;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fze=function(t){const e=bie(t);return wie.encodeByteArray(e,!0)},UA=function(t){return fze(t).replace(/\./g,"")},Sie=function(t){try{return wie.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pze=()=>hze().__FIREBASE_DEFAULTS__,vze=()=>{if(typeof process>"u"||typeof kq>"u")return;const t=kq.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gze=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sie(t[1]);return e&&JSON.parse(e)},nP=()=>{try{return uze()||pze()||vze()||gze()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Eie=t=>{var e,r;return(r=(e=nP())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},YN=t=>{const e=Eie(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Aie=()=>{var t;return(t=nP())===null||t===void 0?void 0:t.config},Cie=t=>{var e;return(e=nP())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tie(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[UA(JSON.stringify(r)),UA(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(la())}function xze(){var t;const e=(t=nP())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bze(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wze(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sze(){const t=la();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Eze(){return!xze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KN(){try{return typeof indexedDB=="object"}catch{return!1}}function QN(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function Iie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aze="FirebaseError";class xs extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Aze,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lp.prototype.create)}}class lp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Cze(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new xs(i,s,n)}}function Cze(t,e){return t.replace(Tze,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Tze=/\{\$([^}]+)}/g;function Ize(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cd(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(Dq(a)&&Dq(o)){if(!Cd(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Dq(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function r0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function n0(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Pze(t,e){const r=new _ze(t,e);return r.subscribe.bind(r)}class _ze{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Oze(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=OD),i.error===void 0&&(i.error=OD),i.complete===void 0&&(i.complete=OD);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oze(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function OD(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kze=1e3,Dze=2,Mze=4*60*60*1e3,Rze=.5;function Mq(t,e=kze,r=Dze){const n=e*Math.pow(r,t),i=Math.round(Rze*n*(Math.random()-.5)*2);return Math.min(Mze,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){return t&&t._delegate?t._delegate:t}let ko=class{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jze=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new mze;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lze(e))try{this.getOrInitializeService({instanceIdentifier:Of})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Of){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Of){return this.instances.has(e)}getOptions(e=Of){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Fze(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Of){return this.component?this.component.multipleInstances?e:Of:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fze(t){return t===Of?void 0:t}function Lze(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ze{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new jze(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const Nze={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},Bze=Xt.INFO,Vze={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},zze=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Vze[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iP{constructor(e){this.name=e,this._logLevel=Bze,this._logHandler=zze,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nze[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const Uze=(t,e)=>e.some(r=>t instanceof r);let Rq,jq;function qze(){return Rq||(Rq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gze(){return jq||(jq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pie=new WeakMap,qR=new WeakMap,_ie=new WeakMap,kD=new WeakMap,JN=new WeakMap;function Wze(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(ud(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Pie.set(r,t)}).catch(()=>{}),JN.set(e,t),e}function Hze(t){if(qR.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});qR.set(t,e)}let GR={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return qR.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_ie.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ud(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yze(t){GR=t(GR)}function Xze(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(DD(this),e,...r);return _ie.set(n,e.sort?e.sort():[e]),ud(n)}:Gze().includes(t)?function(...e){return t.apply(DD(this),e),ud(Pie.get(this))}:function(...e){return ud(t.apply(DD(this),e))}}function Kze(t){return typeof t=="function"?Xze(t):(t instanceof IDBTransaction&&Hze(t),Uze(t,qze())?new Proxy(t,GR):t)}function ud(t){if(t instanceof IDBRequest)return Wze(t);if(kD.has(t))return kD.get(t);const e=Kze(t);return e!==t&&(kD.set(t,e),JN.set(e,t)),e}const DD=t=>JN.get(t);function Oie(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ud(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ud(o.result),l.oldVersion,l.newVersion,ud(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const Qze=["get","getKey","getAll","getAllKeys","count"],Jze=["put","add","delete","clear"],MD=new Map;function Fq(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(MD.get(e))return MD.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Jze.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Qze.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return MD.set(e,a),a}Yze(t=>({...t,get:(e,r,n)=>Fq(e,r)||t.get(e,r,n),has:(e,r)=>!!Fq(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zze{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(e6e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function e6e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const WR="@firebase/app",Lq="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new iP("@firebase/app"),t6e="@firebase/app-compat",r6e="@firebase/analytics-compat",n6e="@firebase/analytics",i6e="@firebase/app-check-compat",a6e="@firebase/app-check",o6e="@firebase/auth",s6e="@firebase/auth-compat",l6e="@firebase/database",u6e="@firebase/data-connect",c6e="@firebase/database-compat",d6e="@firebase/functions",f6e="@firebase/functions-compat",h6e="@firebase/installations",p6e="@firebase/installations-compat",v6e="@firebase/messaging",g6e="@firebase/messaging-compat",m6e="@firebase/performance",y6e="@firebase/performance-compat",x6e="@firebase/remote-config",b6e="@firebase/remote-config-compat",w6e="@firebase/storage",S6e="@firebase/storage-compat",E6e="@firebase/firestore",A6e="@firebase/vertexai",C6e="@firebase/firestore-compat",T6e="firebase",I6e="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="[DEFAULT]",P6e={[WR]:"fire-core",[t6e]:"fire-core-compat",[n6e]:"fire-analytics",[r6e]:"fire-analytics-compat",[a6e]:"fire-app-check",[i6e]:"fire-app-check-compat",[o6e]:"fire-auth",[s6e]:"fire-auth-compat",[l6e]:"fire-rtdb",[u6e]:"fire-data-connect",[c6e]:"fire-rtdb-compat",[d6e]:"fire-fn",[f6e]:"fire-fn-compat",[h6e]:"fire-iid",[p6e]:"fire-iid-compat",[v6e]:"fire-fcm",[g6e]:"fire-fcm-compat",[m6e]:"fire-perf",[y6e]:"fire-perf-compat",[x6e]:"fire-rc",[b6e]:"fire-rc-compat",[w6e]:"fire-gcs",[S6e]:"fire-gcs-compat",[E6e]:"fire-fst",[C6e]:"fire-fst-compat",[A6e]:"fire-vertex","fire-js":"fire-js",[T6e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new Map,_6e=new Map,YR=new Map;function $q(t,e){try{t.container.addComponent(e)}catch(r){Yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ss(t){const e=t.name;if(YR.has(e))return Yu.debug(`There were multiple attempts to register component ${e}.`),!1;YR.set(e,t);for(const r of qA.values())$q(r,t);for(const r of _6e.values())$q(r,t);return!0}function gc(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cd=new lp("app","Firebase",O6e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6e{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=I6e;function kie(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:HR,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw cd.create("bad-app-name",{appName:String(i)});if(r||(r=Aie()),!r)throw cd.create("no-options");const a=qA.get(i);if(a){if(Cd(r,a.options)&&Cd(n,a.config))return a;throw cd.create("duplicate-app",{appName:i})}const o=new $ze(i);for(const l of YR.values())o.addComponent(l);const s=new k6e(r,n,o);return qA.set(i,s),s}function Ew(t=HR){const e=qA.get(t);if(!e&&t===HR&&Aie())return kie();if(!e)throw cd.create("no-app",{appName:t});return e}function na(t,e,r){var n;let i=(n=P6e[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yu.warn(s.join(" "));return}ss(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6e="firebase-heartbeat-database",M6e=1,yx="firebase-heartbeat-store";let RD=null;function Die(){return RD||(RD=Oie(D6e,M6e,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yx)}catch(r){console.warn(r)}}}}).catch(t=>{throw cd.create("idb-open",{originalErrorMessage:t.message})})),RD}async function R6e(t){try{const r=(await Die()).transaction(yx),n=await r.objectStore(yx).get(Mie(t));return await r.done,n}catch(e){if(e instanceof xs)Yu.warn(e.message);else{const r=cd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yu.warn(r.message)}}}async function Nq(t,e){try{const n=(await Die()).transaction(yx,"readwrite");await n.objectStore(yx).put(e,Mie(t)),await n.done}catch(r){if(r instanceof xs)Yu.warn(r.message);else{const n=cd.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yu.warn(n.message)}}}function Mie(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6e=1024,F6e=30;class L6e{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new N6e(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Bq();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>F6e){const o=B6e(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Yu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Bq(),{heartbeatsToSend:n,unsentEntries:i}=$6e(this._heartbeatsCache.heartbeats),a=UA(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Yu.warn(r),""}}}function Bq(){return new Date().toISOString().substring(0,10)}function $6e(t,e=j6e){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Vq(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Vq(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class N6e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KN()?QN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await R6e(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nq(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Nq(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vq(t){return UA(JSON.stringify({version:2,heartbeats:t})).length}function B6e(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6e(t){ss(new ko("platform-logger",e=>new Zze(e),"PRIVATE")),ss(new ko("heartbeat",e=>new L6e(e),"PRIVATE")),na(WR,Lq,t),na(WR,Lq,"esm2017"),na("fire-js","")}V6e("");var z6e="firebase",U6e="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(z6e,U6e,"app");function Rie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q6e=Rie,jie=new lp("auth","Firebase",Rie());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new iP("@firebase/auth");function G6e(t,...e){GA.logLevel<=Xt.WARN&&GA.warn(`Auth (${up}): ${t}`,...e)}function NE(t,...e){GA.logLevel<=Xt.ERROR&&GA.error(`Auth (${up}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,...e){throw eB(t,...e)}function Bs(t,...e){return eB(t,...e)}function ZN(t,e,r){const n=Object.assign(Object.assign({},q6e()),{[e]:r});return new lp("auth","Firebase",n).create(e,{appName:t.name})}function _l(t){return ZN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W6e(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ls(t,"argument-error"),ZN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eB(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return jie.create(t,...e)}function bt(t,e,...r){if(!t)throw eB(e,...r)}function Au(t){const e="INTERNAL ASSERTION FAILED: "+t;throw NE(e),new Error(e)}function Xu(t,e){t||Au(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function H6e(){return zq()==="http:"||zq()==="https:"}function zq(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H6e()||XN()||"connection"in navigator)?navigator.onLine:!0}function X6e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,r){this.shortDelay=e,this.longDelay=r,Xu(r>e,"Short delay should be less than long delay!"),this.isMobile=yze()||wze()}get(){return Y6e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){Xu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Au("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Au("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Au("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J6e=new Aw(3e4,6e4);function mc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function el(t,e,r,n,i={}){return Lie(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=Sw(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return bze()||(u.referrerPolicy="no-referrer"),Fie.fetch()(await $ie(t,t.config.apiHost,r,s),u)})}async function Lie(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},K6e),e);try{const i=new eUe(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw iS(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw iS(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw iS(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw iS(t,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ZN(t,c,u);ls(t,c)}}catch(i){if(i instanceof xs)throw i;ls(t,"network-request-failed",{message:String(i)})}}async function Cw(t,e,r,n,i={}){const a=await el(t,e,r,n,i);return"mfaPendingCredential"in a&&ls(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function $ie(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?tB(t.config,i):`${t.config.apiScheme}://${i}`;return Q6e.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Z6e(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eUe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Bs(this.auth,"network-request-failed")),J6e.get())})}}function iS(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Bs(t,e,n);return i.customData._tokenResponse=r,i}function Uq(t){return t!==void 0&&t.enterprise!==void 0}class tUe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Z6e(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rUe(t,e){return el(t,"GET","/v2/recaptchaConfig",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nUe(t,e){return el(t,"POST","/v1/accounts:delete",e)}async function WA(t,e){return el(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iUe(t,e=!1){const r=Or(t),n=await r.getIdToken(e),i=rB(n);bt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:O0(jD(i.auth_time)),issuedAtTime:O0(jD(i.iat)),expirationTime:O0(jD(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jD(t){return Number(t)*1e3}function rB(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return NE("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sie(r);return i?JSON.parse(i):(NE("Failed to decode base64 JWT payload"),null)}catch(i){return NE("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qq(t){const e=rB(t);return bt(e,"internal-error"),bt(typeof e.exp<"u","internal-error"),bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xs&&aUe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function aUe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oUe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=O0(this.lastLoginAt),this.creationTime=O0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Th(t,WA(r,{idToken:n}));bt(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Nie(a.providerUserInfo):[],s=lUe(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new KR(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function sUe(t){const e=Or(t);await HA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lUe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Nie(t){return t.map(e=>{var{providerId:r}=e,n=Kt(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uUe(t,e){const r=await Lie(t,{},async()=>{const n=Sw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await $ie(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Fie.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function cUe(t,e){return el(t,"POST","/v2/accounts:revokeToken",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bt(e.idToken,"internal-error"),bt(typeof e.idToken<"u","internal-error"),bt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){bt(e.length!==0,"internal-error");const r=qq(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await uUe(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Fv;return n&&(bt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(bt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fv,this.toJSON())}_performRefresh(){return Au("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Kt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oUe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new KR(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Th(this,this.stsTokenManager.getToken(this.auth,e));return bt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return iUe(this,e)}reload(){return sUe(this)}_assign(e){this!==e&&(bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new $s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await HA(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(_l(this.auth));const e=await this.getIdToken();return await Th(this,nUe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,m=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=r.createdAt)!==null&&u!==void 0?u:void 0,x=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:C,stsTokenManager:E}=r;bt(b&&E,e,"internal-error");const A=Fv.fromJSON(this.name,E);bt(typeof b=="string",e,"internal-error"),Ic(d,e.name),Ic(f,e.name),bt(typeof w=="boolean",e,"internal-error"),bt(typeof S=="boolean",e,"internal-error"),Ic(p,e.name),Ic(v,e.name),Ic(g,e.name),Ic(m,e.name),Ic(y,e.name),Ic(x,e.name);const P=new $s({uid:b,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:p,tenantId:g,stsTokenManager:A,createdAt:y,lastLoginAt:x});return C&&Array.isArray(C)&&(P.providerData=C.map(_=>Object.assign({},_))),m&&(P._redirectEventId=m),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new Fv;i.updateFromServerResponse(r);const a=new $s({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await HA(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];bt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Nie(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Fv;s.updateFromIdToken(n);const l=new $s({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new KR(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq=new Map;function Cu(t){Xu(t instanceof Function,"Expected a class definition");let e=Gq.get(t);return e?(Xu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gq.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Bie.type="NONE";const Wq=Bie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e,r){return`firebase:${t}:${e}:${r}`}class Lv{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=BE(this.userKey,i.apiKey,a),this.fullPersistenceKey=BE("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await WA(this.auth,{idToken:e}).catch(()=>{});return r?$s._fromGetAccountInfoResponse(this.auth,r,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Lv(Cu(Wq),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Cu(Wq);const o=BE(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const f=await WA(e,{idToken:c}).catch(()=>{});if(!f)break;d=await $s._fromGetAccountInfoResponse(e,f,c)}else d=$s._fromJSON(e,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Lv(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Lv(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qie(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vie(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wie(e))return"Blackberry";if(Hie(e))return"Webos";if(zie(e))return"Safari";if((e.includes("chrome/")||Uie(e))&&!e.includes("edge/"))return"Chrome";if(Gie(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Vie(t=la()){return/firefox\//i.test(t)}function zie(t=la()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uie(t=la()){return/crios\//i.test(t)}function qie(t=la()){return/iemobile/i.test(t)}function Gie(t=la()){return/android/i.test(t)}function Wie(t=la()){return/blackberry/i.test(t)}function Hie(t=la()){return/webos/i.test(t)}function nB(t=la()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dUe(t=la()){var e;return nB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fUe(){return Sze()&&document.documentMode===10}function Yie(t=la()){return nB(t)||Gie(t)||Hie(t)||Wie(t)||/windows phone/i.test(t)||qie(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xie(t,e=[]){let r;switch(t){case"Browser":r=Hq(la());break;case"Worker":r=`${Hq(la())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${up}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hUe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pUe(t,e={}){return el(t,"GET","/v2/passwordPolicy",mc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vUe=6;class gUe{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:vUe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mUe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yq(this),this.idTokenSubscription=new Yq(this),this.beforeStateQueue=new hUe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jie,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Cu(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Lv.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await WA(this,{idToken:e}),n=await $s._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ra(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await HA(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X6e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(_l(this));const r=e?Or(e):null;return r&&bt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(_l(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(_l(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pUe(this),r=new gUe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await cUe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Cu(e)||this._popupRedirectResolver;bt(r,this,"argument-error"),this.redirectPersistenceManager=await Lv.create(this,[Cu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&G6e(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function yc(t){return Or(t)}class Yq{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pze(r=>this.observer=r)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yUe(t){aP=t}function Kie(t){return aP.loadJS(t)}function xUe(){return aP.recaptchaEnterpriseScript}function bUe(){return aP.gapiScript}function wUe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SUe{constructor(){this.enterprise=new EUe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class EUe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const AUe="recaptcha-enterprise",Qie="NO_RECAPTCHA";class CUe{constructor(e){this.type=AUe,this.auth=yc(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{rUe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new tUe(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;Uq(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(Qie)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SUe().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&Uq(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=xUe();l.length!==0&&(l+=s),Kie(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function Xq(t,e,r,n=!1,i=!1){const a=new CUe(t);let o;if(i)o=Qie;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function YA(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Xq(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Xq(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TUe(t,e){const r=gc(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Cd(a,e??{}))return i;ls(i,"already-initialized")}return r.initialize({options:e})}function IUe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Cu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function PUe(t,e,r){const n=yc(t);bt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=Jie(e),{host:o,port:s}=_Ue(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){bt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),bt(Cd(u,n.config.emulator)&&Cd(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,OUe()}function Jie(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _Ue(t){const e=Jie(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Kq(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Kq(o)}}}function Kq(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OUe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Au("not implemented")}_getIdTokenResponse(e){return Au("not implemented")}_linkToIdToken(e,r){return Au("not implemented")}_getReauthenticationResolver(e){return Au("not implemented")}}async function kUe(t,e){return el(t,"POST","/v1/accounts:update",e)}async function DUe(t,e){return el(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MUe(t,e){return Cw(t,"POST","/v1/accounts:signInWithPassword",mc(t,e))}async function RUe(t,e){return el(t,"POST","/v1/accounts:sendOobCode",mc(t,e))}async function jUe(t,e){return RUe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FUe(t,e){return Cw(t,"POST","/v1/accounts:signInWithEmailLink",mc(t,e))}async function LUe(t,e){return Cw(t,"POST","/v1/accounts:signInWithEmailLink",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends iB{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new xx(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new xx(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YA(e,r,"signInWithPassword",MUe);case"emailLink":return FUe(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return YA(e,n,"signUpPassword",DUe);case"emailLink":return LUe(e,{idToken:r,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $v(t,e){return Cw(t,"POST","/v1/accounts:signInWithIdp",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ue="http://localhost";class Ih extends iB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ih(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ls("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Kt(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Ih(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return $v(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,$v(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,$v(e,r)}buildRequest(){const e={requestUri:$Ue,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Sw(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NUe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BUe(t){const e=r0(n0(t)).link,r=e?r0(n0(e)).deep_link_id:null,n=r0(n0(t)).deep_link_id;return(n?r0(n0(n)).link:null)||n||r||e||t}class aB{constructor(e){var r,n,i,a,o,s;const l=r0(n0(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=NUe((i=l.mode)!==null&&i!==void 0?i:null);bt(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=BUe(e);try{return new aB(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.providerId=bm.PROVIDER_ID}static credential(e,r){return xx._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=aB.parseLink(r);return bt(n,"argument-error"),xx._fromEmailAndCode(e,n.code,n.tenantId)}}bm.PROVIDER_ID="password";bm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends oB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Tw{constructor(){super("facebook.com")}static credential(e){return Ih._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uc.credentialFromTaggedObject(e)}static credentialFromError(e){return Uc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uc.credential(e.oauthAccessToken)}catch{return null}}}Uc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Uc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Tw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ih._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wl.credential(r,n)}catch{return null}}}wl.GOOGLE_SIGN_IN_METHOD="google.com";wl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Tw{constructor(){super("github.com")}static credential(e){return Ih._fromParams({providerId:qc.PROVIDER_ID,signInMethod:qc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qc.credentialFromTaggedObject(e)}static credentialFromError(e){return qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qc.credential(e.oauthAccessToken)}catch{return null}}}qc.GITHUB_SIGN_IN_METHOD="github.com";qc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Tw{constructor(){super("twitter.com")}static credential(e,r){return Ih._fromParams({providerId:Gc.PROVIDER_ID,signInMethod:Gc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Gc.credentialFromTaggedObject(e)}static credentialFromError(e){return Gc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Gc.credential(r,n)}catch{return null}}}Gc.TWITTER_SIGN_IN_METHOD="twitter.com";Gc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VUe(t,e){return Cw(t,"POST","/v1/accounts:signUp",mc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await $s._fromIdTokenResponse(e,n,i),o=Qq(n);return new Ph({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Qq(n);return new Ph({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Qq(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends xs{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,XA.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new XA(e,r,n,i)}}function Zie(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?XA._fromErrorAndOperation(t,a,e,n):a})}async function zUe(t,e,r=!1){const n=await Th(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ph._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UUe(t,e,r=!1){const{auth:n}=t;if(ra(n.app))return Promise.reject(_l(n));const i="reauthenticate";try{const a=await Th(t,Zie(n,i,e,t),r);bt(a.idToken,n,"internal-error");const o=rB(a.idToken);bt(o,n,"internal-error");const{sub:s}=o;return bt(t.uid===s,n,"user-mismatch"),Ph._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ls(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eae(t,e,r=!1){if(ra(t.app))return Promise.reject(_l(t));const n="signIn",i=await Zie(t,n,e),a=await Ph._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function qUe(t,e){return eae(yc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tae(t){const e=yc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GUe(t,e,r){const n=yc(t);await YA(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jUe)}async function rae(t,e,r){if(ra(t.app))return Promise.reject(_l(t));const n=yc(t),o=await YA(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VUe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tae(t),l}),s=await Ph._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function nae(t,e,r){return ra(t.app)?Promise.reject(_l(t)):qUe(Or(t),bm.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&tae(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WUe(t,e){return el(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HUe(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Or(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Th(n,WUe(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function YUe(t,e){const r=Or(t);return ra(r.auth.app)?Promise.reject(_l(r.auth)):XUe(r,e)}async function XUe(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e);const o=await Th(t,kUe(n,a));await t._updateTokensIfNecessary(o,!0)}function KUe(t,e,r,n){return Or(t).onIdTokenChanged(e,r,n)}function QUe(t,e,r){return Or(t).beforeAuthStateChanged(e,r)}function iae(t,e,r,n){return Or(t).onAuthStateChanged(e,r,n)}function aae(t){return Or(t).signOut()}const KA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(KA,"1"),this.storage.removeItem(KA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JUe=1e3,ZUe=10;class sae extends oae{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yie(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);fUe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZUe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},JUe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}sae.type="LOCAL";const eqe=sae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae extends oae{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}lae.type="SESSION";const uae=lae;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tqe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new oP(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await tqe(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rqe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=sB("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(f.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(){return window}function nqe(t){Ol().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cae(){return typeof Ol().WorkerGlobalScope<"u"&&typeof Ol().importScripts=="function"}async function iqe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aqe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oqe(){return cae()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae="firebaseLocalStorageDb",sqe=1,QA="firebaseLocalStorage",fae="fbase_key";class Iw{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function sP(t,e){return t.transaction([QA],e?"readwrite":"readonly").objectStore(QA)}function lqe(){const t=indexedDB.deleteDatabase(dae);return new Iw(t).toPromise()}function QR(){const t=indexedDB.open(dae,sqe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(QA,{keyPath:fae})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(QA)?e(n):(n.close(),await lqe(),e(await QR()))})})}async function Jq(t,e,r){const n=sP(t,!0).put({[fae]:e,value:r});return new Iw(n).toPromise()}async function uqe(t,e){const r=sP(t,!1).get(e),n=await new Iw(r).toPromise();return n===void 0?null:n.value}function Zq(t,e){const r=sP(t,!0).delete(e);return new Iw(r).toPromise()}const cqe=800,dqe=3;class hae{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QR(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>dqe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cae()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oP._getInstance(oqe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await iqe(),!this.activeServiceWorker)return;this.sender=new rqe(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aqe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QR();return await Jq(e,KA,"1"),await Zq(e,KA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jq(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>uqe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zq(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=sP(i,!1).getAll();return new Iw(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cqe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hae.type="LOCAL";const fqe=hae;new Aw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(t,e){return e?Cu(e):(bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB extends iB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $v(e,this._buildIdpRequest())}_linkToIdToken(e,r){return $v(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return $v(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function hqe(t){return eae(t.auth,new lB(t),t.bypassAuthState)}function pqe(t){const{auth:e,user:r}=t;return bt(r,e,"internal-error"),UUe(r,new lB(t),t.bypassAuthState)}async function vqe(t){const{auth:e,user:r}=t;return bt(r,e,"internal-error"),zUe(r,new lB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hqe;case"linkViaPopup":case"linkViaRedirect":return vqe;case"reauthViaPopup":case"reauthViaRedirect":return pqe;default:ls(this.auth,"internal-error")}}resolve(e){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gqe=new Aw(2e3,1e4);async function gae(t,e,r){if(ra(t.app))return Promise.reject(Bs(t,"operation-not-supported-in-this-environment"));const n=yc(t);W6e(t,e,oB);const i=pae(n,r);return new Wf(n,"signInViaPopup",e,i).executeNotNull()}class Wf extends vae{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Wf.currentPopupAction&&Wf.currentPopupAction.cancel(),Wf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bt(e,this.auth,"internal-error"),e}async onExecution(){Xu(this.filter.length===1,"Popup operations only handle one event");const e=sB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gqe.get())};e()}}Wf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mqe="pendingRedirect",VE=new Map;class yqe extends vae{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=VE.get(this.auth._key());if(!e){try{const n=await xqe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}VE.set(this.auth._key(),e)}return this.bypassAuthState||VE.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xqe(t,e){const r=Sqe(e),n=wqe(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function bqe(t,e){VE.set(t._key(),e)}function wqe(t){return Cu(t._redirectPersistence)}function Sqe(t){return BE(mqe,t.config.apiKey,t.name)}async function Eqe(t,e,r=!1){if(ra(t.app))return Promise.reject(_l(t));const n=yc(t),i=pae(n,e),o=await new yqe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aqe=10*60*1e3;class Cqe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tqe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!mae(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Bs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Aqe&&this.cachedEventUids.clear(),this.cachedEventUids.has(e8(e))}saveEventToCache(e){this.cachedEventUids.add(e8(e)),this.lastProcessedEventTime=Date.now()}}function e8(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mae({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tqe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mae(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iqe(t,e={}){return el(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pqe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_qe=/^https?/;async function Oqe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Iqe(t);for(const r of e)try{if(kqe(r))return}catch{}ls(t,"unauthorized-domain")}function kqe(t){const e=XR(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!_qe.test(r))return!1;if(Pqe.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dqe=new Aw(3e4,6e4);function t8(){const t=Ol().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Mqe(t){return new Promise((e,r)=>{var n,i,a;function o(){t8(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t8(),r(Bs(t,"network-request-failed"))},timeout:Dqe.get()})}if(!((i=(n=Ol().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ol().gapi)===null||a===void 0)&&a.load)o();else{const s=wUe("iframefcb");return Ol()[s]=()=>{gapi.load?o():r(Bs(t,"network-request-failed"))},Kie(`${bUe()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw zE=null,e})}let zE=null;function Rqe(t){return zE=zE||Mqe(t),zE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jqe=new Aw(5e3,15e3),Fqe="__/auth/iframe",Lqe="emulator/auth/iframe",$qe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nqe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bqe(t){const e=t.config;bt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?tB(e,Lqe):`https://${t.config.authDomain}/${Fqe}`,n={apiKey:e.apiKey,appName:t.name,v:up},i=Nqe.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Sw(n).slice(1)}`}async function Vqe(t){const e=await Rqe(t),r=Ol().gapi;return bt(r,t,"internal-error"),e.open({where:document.body,url:Bqe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$qe,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Bs(t,"network-request-failed"),s=Ol().setTimeout(()=>{a(o)},jqe.get());function l(){Ol().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zqe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uqe=500,qqe=600,Gqe="_blank",Wqe="http://localhost";class r8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hqe(t,e,r,n=Uqe,i=qqe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},zqe),{width:n.toString(),height:i.toString(),top:a,left:o}),u=la().toLowerCase();r&&(s=Uie(u)?Gqe:r),Vie(u)&&(e=e||Wqe,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(dUe(u)&&s!=="_self")return Yqe(e||"",s),new r8(null);const d=window.open(e||"",s,c);bt(d,t,"popup-blocked");try{d.focus()}catch{}return new r8(d)}function Yqe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xqe="__/auth/handler",Kqe="emulator/auth/handler",Qqe=encodeURIComponent("fac");async function n8(t,e,r,n,i,a){bt(t.config.authDomain,t,"auth-domain-config-required"),bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:up,eventId:i};if(e instanceof oB){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ize(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Tw){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${Qqe}=${encodeURIComponent(l)}`:"";return`${Jqe(t)}?${Sw(s).slice(1)}${u}`}function Jqe({config:t}){return t.emulator?tB(t,Kqe):`https://${t.authDomain}/${Xqe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="webStorageSupport";class Zqe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uae,this._completeRedirectFn=Eqe,this._overrideRedirectResult=bqe}async _openPopup(e,r,n,i){var a;Xu((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await n8(e,r,n,XR(),i);return Hqe(e,o,sB())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await n8(e,r,n,XR(),i);return nqe(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Xu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Vqe(e),n=new Cqe(e);return r.register("authEvent",i=>(bt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(FD,{type:FD},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[FD];o!==void 0&&r(!!o),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Oqe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Yie()||zie()||nB()}}const e8e=Zqe;var i8="@firebase/auth",a8="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n8e(t){ss(new ko("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;bt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xie(t)},u=new mUe(n,i,a,l);return IUe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ss(new ko("auth-internal",e=>{const r=yc(e.getProvider("auth").getImmediate());return(n=>new t8e(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(i8,a8,r8e(t)),na(i8,a8,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8e=5*60,a8e=Cie("authIdTokenMaxAge")||i8e;let o8=null;const o8e=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>a8e)return;const i=r==null?void 0:r.token;o8!==i&&(o8=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s8e(t=Ew()){const e=gc(t,"auth");if(e.isInitialized())return e.getImmediate();const r=TUe(t,{popupRedirectResolver:e8e,persistence:[fqe,eqe,uae]}),n=Cie("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=o8e(a.toString());QUe(r,o,()=>o(r.currentUser)),KUe(r,s=>o(s))}}const i=Eie("auth");return i&&PUe(r,`http://${i}`),r}function l8e(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yUe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Bs("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",l8e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n8e("Browser");var s8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dd,yae;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function P(){}P.prototype=A.prototype,E.D=A.prototype,E.prototype=new P,E.prototype.constructor=E,E.C=function(_,k,O){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return A.prototype[k].apply(_,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,P){P||(P=0);var _=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)_[k]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(k=0;16>k;++k)_[k]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=E.g[0],P=E.g[1],k=E.g[2];var O=E.g[3],D=A+(O^P&(k^O))+_[0]+3614090360&4294967295;A=P+(D<<7&4294967295|D>>>25),D=O+(k^A&(P^k))+_[1]+3905402710&4294967295,O=A+(D<<12&4294967295|D>>>20),D=k+(P^O&(A^P))+_[2]+606105819&4294967295,k=O+(D<<17&4294967295|D>>>15),D=P+(A^k&(O^A))+_[3]+3250441966&4294967295,P=k+(D<<22&4294967295|D>>>10),D=A+(O^P&(k^O))+_[4]+4118548399&4294967295,A=P+(D<<7&4294967295|D>>>25),D=O+(k^A&(P^k))+_[5]+1200080426&4294967295,O=A+(D<<12&4294967295|D>>>20),D=k+(P^O&(A^P))+_[6]+2821735955&4294967295,k=O+(D<<17&4294967295|D>>>15),D=P+(A^k&(O^A))+_[7]+4249261313&4294967295,P=k+(D<<22&4294967295|D>>>10),D=A+(O^P&(k^O))+_[8]+1770035416&4294967295,A=P+(D<<7&4294967295|D>>>25),D=O+(k^A&(P^k))+_[9]+2336552879&4294967295,O=A+(D<<12&4294967295|D>>>20),D=k+(P^O&(A^P))+_[10]+4294925233&4294967295,k=O+(D<<17&4294967295|D>>>15),D=P+(A^k&(O^A))+_[11]+2304563134&4294967295,P=k+(D<<22&4294967295|D>>>10),D=A+(O^P&(k^O))+_[12]+1804603682&4294967295,A=P+(D<<7&4294967295|D>>>25),D=O+(k^A&(P^k))+_[13]+4254626195&4294967295,O=A+(D<<12&4294967295|D>>>20),D=k+(P^O&(A^P))+_[14]+2792965006&4294967295,k=O+(D<<17&4294967295|D>>>15),D=P+(A^k&(O^A))+_[15]+1236535329&4294967295,P=k+(D<<22&4294967295|D>>>10),D=A+(k^O&(P^k))+_[1]+4129170786&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^k&(A^P))+_[6]+3225465664&4294967295,O=A+(D<<9&4294967295|D>>>23),D=k+(A^P&(O^A))+_[11]+643717713&4294967295,k=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(k^O))+_[0]+3921069994&4294967295,P=k+(D<<20&4294967295|D>>>12),D=A+(k^O&(P^k))+_[5]+3593408605&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^k&(A^P))+_[10]+38016083&4294967295,O=A+(D<<9&4294967295|D>>>23),D=k+(A^P&(O^A))+_[15]+3634488961&4294967295,k=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(k^O))+_[4]+3889429448&4294967295,P=k+(D<<20&4294967295|D>>>12),D=A+(k^O&(P^k))+_[9]+568446438&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^k&(A^P))+_[14]+3275163606&4294967295,O=A+(D<<9&4294967295|D>>>23),D=k+(A^P&(O^A))+_[3]+4107603335&4294967295,k=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(k^O))+_[8]+1163531501&4294967295,P=k+(D<<20&4294967295|D>>>12),D=A+(k^O&(P^k))+_[13]+2850285829&4294967295,A=P+(D<<5&4294967295|D>>>27),D=O+(P^k&(A^P))+_[2]+4243563512&4294967295,O=A+(D<<9&4294967295|D>>>23),D=k+(A^P&(O^A))+_[7]+1735328473&4294967295,k=O+(D<<14&4294967295|D>>>18),D=P+(O^A&(k^O))+_[12]+2368359562&4294967295,P=k+(D<<20&4294967295|D>>>12),D=A+(P^k^O)+_[5]+4294588738&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^k)+_[8]+2272392833&4294967295,O=A+(D<<11&4294967295|D>>>21),D=k+(O^A^P)+_[11]+1839030562&4294967295,k=O+(D<<16&4294967295|D>>>16),D=P+(k^O^A)+_[14]+4259657740&4294967295,P=k+(D<<23&4294967295|D>>>9),D=A+(P^k^O)+_[1]+2763975236&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^k)+_[4]+1272893353&4294967295,O=A+(D<<11&4294967295|D>>>21),D=k+(O^A^P)+_[7]+4139469664&4294967295,k=O+(D<<16&4294967295|D>>>16),D=P+(k^O^A)+_[10]+3200236656&4294967295,P=k+(D<<23&4294967295|D>>>9),D=A+(P^k^O)+_[13]+681279174&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^k)+_[0]+3936430074&4294967295,O=A+(D<<11&4294967295|D>>>21),D=k+(O^A^P)+_[3]+3572445317&4294967295,k=O+(D<<16&4294967295|D>>>16),D=P+(k^O^A)+_[6]+76029189&4294967295,P=k+(D<<23&4294967295|D>>>9),D=A+(P^k^O)+_[9]+3654602809&4294967295,A=P+(D<<4&4294967295|D>>>28),D=O+(A^P^k)+_[12]+3873151461&4294967295,O=A+(D<<11&4294967295|D>>>21),D=k+(O^A^P)+_[15]+530742520&4294967295,k=O+(D<<16&4294967295|D>>>16),D=P+(k^O^A)+_[2]+3299628645&4294967295,P=k+(D<<23&4294967295|D>>>9),D=A+(k^(P|~O))+_[0]+4096336452&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~k))+_[7]+1126891415&4294967295,O=A+(D<<10&4294967295|D>>>22),D=k+(A^(O|~P))+_[14]+2878612391&4294967295,k=O+(D<<15&4294967295|D>>>17),D=P+(O^(k|~A))+_[5]+4237533241&4294967295,P=k+(D<<21&4294967295|D>>>11),D=A+(k^(P|~O))+_[12]+1700485571&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~k))+_[3]+2399980690&4294967295,O=A+(D<<10&4294967295|D>>>22),D=k+(A^(O|~P))+_[10]+4293915773&4294967295,k=O+(D<<15&4294967295|D>>>17),D=P+(O^(k|~A))+_[1]+2240044497&4294967295,P=k+(D<<21&4294967295|D>>>11),D=A+(k^(P|~O))+_[8]+1873313359&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~k))+_[15]+4264355552&4294967295,O=A+(D<<10&4294967295|D>>>22),D=k+(A^(O|~P))+_[6]+2734768916&4294967295,k=O+(D<<15&4294967295|D>>>17),D=P+(O^(k|~A))+_[13]+1309151649&4294967295,P=k+(D<<21&4294967295|D>>>11),D=A+(k^(P|~O))+_[4]+4149444226&4294967295,A=P+(D<<6&4294967295|D>>>26),D=O+(P^(A|~k))+_[11]+3174756917&4294967295,O=A+(D<<10&4294967295|D>>>22),D=k+(A^(O|~P))+_[2]+718787259&4294967295,k=O+(D<<15&4294967295|D>>>17),D=P+(O^(k|~A))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+O&4294967295}n.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var P=A-this.blockSize,_=this.B,k=this.h,O=0;O<A;){if(k==0)for(;O<=P;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<A;)if(_[k++]=E.charCodeAt(O++),k==this.blockSize){i(this,_),k=0;break}}else for(;O<A;)if(_[k++]=E[O++],k==this.blockSize){i(this,_),k=0;break}}this.h=k,this.o+=A},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var P=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=P&255,P/=256;for(this.u(E),E=Array(16),A=P=0;4>A;++A)for(var _=0;32>_;_+=8)E[P++]=this.g[A]>>>_&255;return E};function a(E,A){var P=s;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=A(E)}function o(E,A){this.h=A;for(var P=[],_=!0,k=E.length-1;0<=k;k--){var O=E[k]|0;_&&O==A||(P[k]=O,_=!1)}this.g=P}var s={};function l(E){return-128<=E&&128>E?a(E,function(A){return new o([A|0],0>A?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return m(u(-E));for(var A=[],P=1,_=0;E>=P;_++)A[_]=E/P|0,P*=4294967296;return new o(A,0)}function c(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return m(c(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(A,8)),_=d,k=0;k<E.length;k+=8){var O=Math.min(8,E.length-k),D=parseInt(E.substring(k,k+O),A);8>O?(O=u(Math.pow(A,O)),_=_.j(O).add(u(D))):(_=_.j(P),_=_.add(u(D)))}return _}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-m(this).m();for(var E=0,A=1,P=0;P<this.g.length;P++){var _=this.i(P);E+=(0<=_?_:4294967296+_)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(g(this))return"-"+m(this).toString(E);for(var A=u(Math.pow(E,6)),P=this,_="";;){var k=w(P,A).g;P=y(P,k.j(A));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(E);if(P=k,v(P))return O+_;for(;6>O.length;)O="0"+O;_=O+_}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=y(this,E),g(E)?-1:v(E)?0:1};function m(E){for(var A=E.g.length,P=[],_=0;_<A;_++)P[_]=~E.g[_];return new o(P,~E.h).add(f)}t.abs=function(){return g(this)?m(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),P=[],_=0,k=0;k<=A;k++){var O=_+(this.i(k)&65535)+(E.i(k)&65535),D=(O>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);_=D>>>16,O&=65535,D&=65535,P[k]=D<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function y(E,A){return E.add(m(A))}t.j=function(E){if(v(this)||v(E))return d;if(g(this))return g(E)?m(this).j(m(E)):m(m(this).j(E));if(g(E))return m(this.j(m(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var A=this.g.length+E.g.length,P=[],_=0;_<2*A;_++)P[_]=0;for(_=0;_<this.g.length;_++)for(var k=0;k<E.g.length;k++){var O=this.i(_)>>>16,D=this.i(_)&65535,B=E.i(k)>>>16,$=E.i(k)&65535;P[2*_+2*k]+=D*$,x(P,2*_+2*k),P[2*_+2*k+1]+=O*$,x(P,2*_+2*k+1),P[2*_+2*k+1]+=D*B,x(P,2*_+2*k+1),P[2*_+2*k+2]+=O*B,x(P,2*_+2*k+2)}for(_=0;_<A;_++)P[_]=P[2*_+1]<<16|P[2*_];for(_=A;_<2*A;_++)P[_]=0;return new o(P,0)};function x(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function b(E,A){this.g=E,this.h=A}function w(E,A){if(v(A))throw Error("division by zero");if(v(E))return new b(d,d);if(g(E))return A=w(m(E),A),new b(m(A.g),m(A.h));if(g(A))return A=w(E,m(A)),new b(m(A.g),A.h);if(30<E.g.length){if(g(E)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var P=f,_=A;0>=_.l(E);)P=S(P),_=S(_);var k=C(P,1),O=C(_,1);for(_=C(_,2),P=C(P,2);!v(_);){var D=O.add(_);0>=D.l(E)&&(k=k.add(P),O=D),_=C(_,1),P=C(P,1)}return A=y(E,k.j(A)),new b(k,A)}for(k=d;0<=E.l(A);){for(P=Math.max(1,Math.floor(E.m()/A.m())),_=Math.ceil(Math.log(P)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),O=u(P),D=O.j(A);g(D)||0<D.l(E);)P-=_,O=u(P),D=O.j(A);v(O)&&(O=f),k=k.add(O),E=y(E,D)}return new b(k,E)}t.A=function(E){return w(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),P=[],_=0;_<A;_++)P[_]=this.i(_)&E.i(_);return new o(P,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),P=[],_=0;_<A;_++)P[_]=this.i(_)|E.i(_);return new o(P,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),P=[],_=0;_<A;_++)P[_]=this.i(_)^E.i(_);return new o(P,this.h^E.h)};function S(E){for(var A=E.g.length+1,P=[],_=0;_<A;_++)P[_]=E.i(_)<<1|E.i(_-1)>>>31;return new o(P,E.h)}function C(E,A){var P=A>>5;A%=32;for(var _=E.g.length-P,k=[],O=0;O<_;O++)k[O]=0<A?E.i(O+P)>>>A|E.i(O+P+1)<<32-A:E.i(O+P);return new o(k,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,yae=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,dd=o}).apply(typeof s8<"u"?s8:typeof self<"u"?self:typeof window<"u"?window:{});var aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xae,i0,bae,UE,JR,wae,Sae,Eae;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,N,z){return T==Array.prototype||T==Object.prototype||(T[N]=z.value),T};function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof aS=="object"&&aS];for(var N=0;N<T.length;++N){var z=T[N];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function i(T,N){if(N)e:{var z=n;T=T.split(".");for(var Z=0;Z<T.length-1;Z++){var he=T[Z];if(!(he in z))break e;z=z[he]}T=T[T.length-1],Z=z[T],N=N(Z),N!=Z&&N!=null&&e(z,T,{configurable:!0,writable:!0,value:N})}}function a(T,N){T instanceof String&&(T+="");var z=0,Z=!1,he={next:function(){if(!Z&&z<T.length){var ye=z++;return{value:N(ye,T[ye]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}i("Array.prototype.values",function(T){return T||function(){return a(this,function(N,z){return z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(T){var N=typeof T;return N=N!="object"?N:T?Array.isArray(T)?"array":N:"null",N=="array"||N=="object"&&typeof T.length=="number"}function u(T){var N=typeof T;return N=="object"&&T!=null||N=="function"}function c(T,N,z){return T.call.apply(T.bind,arguments)}function d(T,N,z){if(!T)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,Z),T.apply(N,he)}}return function(){return T.apply(N,arguments)}}function f(T,N,z){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function p(T,N){var z=Array.prototype.slice.call(arguments,1);return function(){var Z=z.slice();return Z.push.apply(Z,arguments),T.apply(this,Z)}}function v(T,N){function z(){}z.prototype=N.prototype,T.aa=N.prototype,T.prototype=new z,T.prototype.constructor=T,T.Qb=function(Z,he,ye){for(var Ge=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)Ge[Lr-2]=arguments[Lr];return N.prototype[he].apply(Z,Ge)}}function g(T){const N=T.length;if(0<N){const z=Array(N);for(let Z=0;Z<N;Z++)z[Z]=T[Z];return z}return[]}function m(T,N){for(let z=1;z<arguments.length;z++){const Z=arguments[z];if(l(Z)){const he=T.length||0,ye=Z.length||0;T.length=he+ye;for(let Ge=0;Ge<ye;Ge++)T[he+Ge]=Z[Ge]}else T.push(Z)}}class y{constructor(N,z){this.i=N,this.j=z,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function x(T){return/^[\s\xa0]*$/.test(T)}function b(){var T=s.navigator;return T&&(T=T.userAgent)?T:""}function w(T){return w[" "](T),T}w[" "]=function(){};var S=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function C(T,N,z){for(const Z in T)N.call(z,T[Z],Z,T)}function E(T,N){for(const z in T)N.call(void 0,T[z],z,T)}function A(T){const N={};for(const z in T)N[z]=T[z];return N}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(T,N){let z,Z;for(let he=1;he<arguments.length;he++){Z=arguments[he];for(z in Z)T[z]=Z[z];for(let ye=0;ye<P.length;ye++)z=P[ye],Object.prototype.hasOwnProperty.call(Z,z)&&(T[z]=Z[z])}}function k(T){var N=1;T=T.split(":");const z=[];for(;0<N&&T.length;)z.push(T.shift()),N--;return T.length&&z.push(T.join(":")),z}function O(T){s.setTimeout(()=>{throw T},0)}function D(){var T=U;let N=null;return T.g&&(N=T.g,T.g=T.g.next,T.g||(T.h=null),N.next=null),N}class B{constructor(){this.h=this.g=null}add(N,z){const Z=$.get();Z.set(N,z),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var $=new y(()=>new L,T=>T.reset());class L{constructor(){this.next=this.g=this.h=null}set(N,z){this.h=N,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let R,V=!1,U=new B,q=()=>{const T=s.Promise.resolve(void 0);R=()=>{T.then(M)}};var M=()=>{for(var T;T=D();){try{T.h.call(T.g)}catch(z){O(z)}var N=$;N.j(T),100>N.h&&(N.h++,T.next=N.g,N.g=T)}V=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(T,N){this.type=T,this.g=this.target=N,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var T=!1,N=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const z=()=>{};s.addEventListener("test",z,N),s.removeEventListener("test",z,N)}catch{}return T}();function te(T,N){if(W.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var z=this.type=T.type,Z=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=N,N=T.relatedTarget){if(S){e:{try{w(N.nodeName);var he=!0;break e}catch{}he=!1}he||(N=null)}}else z=="mouseover"?N=T.fromElement:z=="mouseout"&&(N=T.toElement);this.relatedTarget=N,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:H[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&te.aa.h.call(this)}}v(te,W);var H={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),re=0;function Q(T,N,z,Z,he){this.listener=T,this.proxy=null,this.src=N,this.type=z,this.capture=!!Z,this.ha=he,this.key=++re,this.da=this.fa=!1}function se(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function ne(T){this.src=T,this.g={},this.h=0}ne.prototype.add=function(T,N,z,Z,he){var ye=T.toString();T=this.g[ye],T||(T=this.g[ye]=[],this.h++);var Ge=ge(T,N,Z,he);return-1<Ge?(N=T[Ge],z||(N.fa=!1)):(N=new Q(N,this.src,ye,!!Z,he),N.fa=z,T.push(N)),N};function le(T,N){var z=N.type;if(z in T.g){var Z=T.g[z],he=Array.prototype.indexOf.call(Z,N,void 0),ye;(ye=0<=he)&&Array.prototype.splice.call(Z,he,1),ye&&(se(N),T.g[z].length==0&&(delete T.g[z],T.h--))}}function ge(T,N,z,Z){for(var he=0;he<T.length;++he){var ye=T[he];if(!ye.da&&ye.listener==N&&ye.capture==!!z&&ye.ha==Z)return he}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Pe={};function Ce(T,N,z,Z,he){if(Array.isArray(N)){for(var ye=0;ye<N.length;ye++)Ce(T,N[ye],z,Z,he);return null}return z=Tr(z),T&&T[ee]?T.K(N,z,u(Z)?!!Z.capture:!1,he):Ue(T,N,z,!1,Z,he)}function Ue(T,N,z,Z,he,ye){if(!N)throw Error("Invalid event type");var Ge=u(he)?!!he.capture:!!he,Lr=sn(T);if(Lr||(T[be]=Lr=new ne(T)),z=Lr.add(N,z,Z,Ge,ye),z.proxy)return z;if(Z=we(),z.proxy=Z,Z.src=T,Z.listener=z,T.addEventListener)J||(he=Ge),he===void 0&&(he=!1),T.addEventListener(N.toString(),Z,he);else if(T.attachEvent)T.attachEvent(dt(N.toString()),Z);else if(T.addListener&&T.removeListener)T.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return z}function we(){function T(z){return N.call(T.src,T.listener,z)}const N=Mt;return T}function Re(T,N,z,Z,he){if(Array.isArray(N))for(var ye=0;ye<N.length;ye++)Re(T,N[ye],z,Z,he);else Z=u(Z)?!!Z.capture:!!Z,z=Tr(z),T&&T[ee]?(T=T.i,N=String(N).toString(),N in T.g&&(ye=T.g[N],z=ge(ye,z,Z,he),-1<z&&(se(ye[z]),Array.prototype.splice.call(ye,z,1),ye.length==0&&(delete T.g[N],T.h--)))):T&&(T=sn(T))&&(N=T.g[N.toString()],T=-1,N&&(T=ge(N,z,Z,he)),(z=-1<T?N[T]:null)&&ze(z))}function ze(T){if(typeof T!="number"&&T&&!T.da){var N=T.src;if(N&&N[ee])le(N.i,T);else{var z=T.type,Z=T.proxy;N.removeEventListener?N.removeEventListener(z,Z,T.capture):N.detachEvent?N.detachEvent(dt(z),Z):N.addListener&&N.removeListener&&N.removeListener(Z),(z=sn(N))?(le(z,T),z.h==0&&(z.src=null,N[be]=null)):se(T)}}}function dt(T){return T in Pe?Pe[T]:Pe[T]="on"+T}function Mt(T,N){if(T.da)T=!0;else{N=new te(N,this);var z=T.listener,Z=T.ha||T.src;T.fa&&ze(T),T=z.call(Z,N)}return T}function sn(T){return T=T[be],T instanceof ne?T:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tr(T){return typeof T=="function"?T:(T[Gt]||(T[Gt]=function(N){return T.handleEvent(N)}),T[Gt])}function de(){G.call(this),this.i=new ne(this),this.M=this,this.F=null}v(de,G),de.prototype[ee]=!0,de.prototype.removeEventListener=function(T,N,z,Z){Re(this,T,N,z,Z)};function Oe(T,N){var z,Z=T.F;if(Z)for(z=[];Z;Z=Z.F)z.push(Z);if(T=T.M,Z=N.type||N,typeof N=="string")N=new W(N,T);else if(N instanceof W)N.target=N.target||T;else{var he=N;N=new W(Z,T),_(N,he)}if(he=!0,z)for(var ye=z.length-1;0<=ye;ye--){var Ge=N.g=z[ye];he=ft(Ge,Z,!0,N)&&he}if(Ge=N.g=T,he=ft(Ge,Z,!0,N)&&he,he=ft(Ge,Z,!1,N)&&he,z)for(ye=0;ye<z.length;ye++)Ge=N.g=z[ye],he=ft(Ge,Z,!1,N)&&he}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var T=this.i,N;for(N in T.g){for(var z=T.g[N],Z=0;Z<z.length;Z++)se(z[Z]);delete T.g[N],T.h--}}this.F=null},de.prototype.K=function(T,N,z,Z){return this.i.add(String(T),N,!1,z,Z)},de.prototype.L=function(T,N,z,Z){return this.i.add(String(T),N,!0,z,Z)};function ft(T,N,z,Z){if(N=T.i.g[String(N)],!N)return!0;N=N.concat();for(var he=!0,ye=0;ye<N.length;++ye){var Ge=N[ye];if(Ge&&!Ge.da&&Ge.capture==z){var Lr=Ge.listener,Ci=Ge.ha||Ge.src;Ge.fa&&le(T.i,Ge),he=Lr.call(Ci,Z)!==!1&&he}}return he&&!Z.defaultPrevented}function pe(T,N,z){if(typeof T=="function")z&&(T=f(T,z));else if(T&&typeof T.handleEvent=="function")T=f(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:s.setTimeout(T,N||0)}function tt(T){T.g=pe(()=>{T.g=null,T.i&&(T.i=!1,tt(T))},T.l);const N=T.h;T.h=null,T.m.apply(null,N)}class It extends G{constructor(N,z){super(),this.m=N,this.l=z,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(T){G.call(this),this.h=T,this.g={}}v(ot,G);var Er=[];function cr(T){C(T.g,function(N,z){this.g.hasOwnProperty(z)&&ze(N)},T),T.g={}}ot.prototype.N=function(){ot.aa.N.call(this),cr(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=s.JSON.stringify,Ia=s.JSON.parse,Vi=class{stringify(T){return s.JSON.stringify(T,void 0)}parse(T){return s.JSON.parse(T,void 0)}};function Ai(){}Ai.prototype.h=null;function Mr(T){return T.h||(T.h=T.i())}function il(){}var Pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){W.call(this,"d")}v(bn,W);function da(){W.call(this,"c")}v(da,W);var As={},Tp=null;function Ec(){return Tp=Tp||new de}As.La="serverreachability";function ey(T){W.call(this,As.La,T)}v(ey,W);function Ip(T){const N=Ec();Oe(N,new ey(N))}As.STAT_EVENT="statevent";function XO(T,N){W.call(this,As.STAT_EVENT,T),this.stat=N}v(XO,W);function zi(T){const N=Ec();Oe(N,new XO(N,T))}As.Ma="timingevent";function x1(T,N){W.call(this,As.Ma,T),this.size=N}v(x1,W);function ty(T,N){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){T()},N)}function ry(){this.g=!0}ry.prototype.xa=function(){this.g=!1};function b0e(T,N,z,Z,he,ye){T.info(function(){if(T.g)if(ye)for(var Ge="",Lr=ye.split("&"),Ci=0;Ci<Lr.length;Ci++){var vr=Lr[Ci].split("=");if(1<vr.length){var Ui=vr[0];vr=vr[1];var qi=Ui.split("_");Ge=2<=qi.length&&qi[1]=="type"?Ge+(Ui+"="+vr+"&"):Ge+(Ui+"=redacted&")}}else Ge=null;else Ge=ye;return"XMLHTTP REQ ("+Z+") [attempt "+he+"]: "+N+`
`+z+`
`+Ge})}function w0e(T,N,z,Z,he,ye,Ge){T.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+he+"]: "+N+`
`+z+`
`+ye+" "+Ge})}function Pp(T,N,z,Z){T.info(function(){return"XMLHTTP TEXT ("+N+"): "+E0e(T,z)+(Z?" "+Z:"")})}function S0e(T,N){T.info(function(){return"TIMEOUT: "+N})}ry.prototype.info=function(){};function E0e(T,N){if(!T.g)return N;if(!N)return null;try{var z=JSON.parse(N);if(z){for(T=0;T<z.length;T++)if(Array.isArray(z[T])){var Z=z[T];if(!(2>Z.length)){var he=Z[1];if(Array.isArray(he)&&!(1>he.length)){var ye=he[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Ge=1;Ge<he.length;Ge++)he[Ge]=""}}}}return Hn(z)}catch{return N}}var b1={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jV={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},KO;function w1(){}v(w1,Ai),w1.prototype.g=function(){return new XMLHttpRequest},w1.prototype.i=function(){return{}},KO=new w1;function Ac(T,N,z,Z){this.j=T,this.i=N,this.l=z,this.R=Z||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FV}function FV(){this.i=null,this.g="",this.h=!1}var LV={},QO={};function JO(T,N,z){T.L=1,T.v=C1(uu(N)),T.m=z,T.P=!0,$V(T,null)}function $V(T,N){T.F=Date.now(),S1(T),T.A=uu(T.v);var z=T.A,Z=T.R;Array.isArray(Z)||(Z=[String(Z)]),JV(z.i,"t",Z),T.C=0,z=T.j.J,T.h=new FV,T.g=gz(T.j,z?N:null,!T.m),0<T.O&&(T.M=new It(f(T.Y,T,T.g),T.O)),N=T.U,z=T.g,Z=T.ca;var he="readystatechange";Array.isArray(he)||(he&&(Er[0]=he.toString()),he=Er);for(var ye=0;ye<he.length;ye++){var Ge=Ce(z,he[ye],Z||N.handleEvent,!1,N.h||N);if(!Ge)break;N.g[Ge.key]=Ge}N=T.H?A(T.H):{},T.m?(T.u||(T.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,N)):(T.u="GET",T.g.ea(T.A,T.u,null,N)),Ip(),b0e(T.i,T.u,T.A,T.l,T.R,T.m)}Ac.prototype.ca=function(T){T=T.target;const N=this.M;N&&cu(T)==3?N.j():this.Y(T)},Ac.prototype.Y=function(T){try{if(T==this.g)e:{const qi=cu(this.g);var N=this.g.Ba();const kp=this.g.Z();if(!(3>qi)&&(qi!=3||this.g&&(this.h.h||this.g.oa()||az(this.g)))){this.J||qi!=4||N==7||(N==8||0>=kp?Ip(3):Ip(2)),ZO(this);var z=this.g.Z();this.X=z;t:if(NV(this)){var Z=az(this.g);T="";var he=Z.length,ye=cu(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cf(this),ny(this);var Ge="";break t}this.h.i=new s.TextDecoder}for(N=0;N<he;N++)this.h.h=!0,T+=this.h.i.decode(Z[N],{stream:!(ye&&N==he-1)});Z.length=0,this.h.g+=T,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=z==200,w0e(this.i,this.u,this.A,this.l,this.R,qi,z),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,Ci=this.g;if((Lr=Ci.g?Ci.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Lr)){var vr=Lr;break t}}vr=null}if(z=vr)Pp(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ek(this,z);else{this.o=!1,this.s=3,zi(12),cf(this),ny(this);break e}}if(this.P){z=!0;let Cs;for(;!this.J&&this.C<Ge.length;)if(Cs=A0e(this,Ge),Cs==QO){qi==4&&(this.s=4,zi(14),z=!1),Pp(this.i,this.l,null,"[Incomplete Response]");break}else if(Cs==LV){this.s=4,zi(15),Pp(this.i,this.l,Ge,"[Invalid Chunk]"),z=!1;break}else Pp(this.i,this.l,Cs,null),ek(this,Cs);if(NV(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qi!=4||Ge.length!=0||this.h.h||(this.s=1,zi(16),z=!1),this.o=this.o&&z,!z)Pp(this.i,this.l,Ge,"[Invalid Chunked Response]"),cf(this),ny(this);else if(0<Ge.length&&!this.W){this.W=!0;var Ui=this.j;Ui.g==this&&Ui.ba&&!Ui.M&&(Ui.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),ok(Ui),Ui.M=!0,zi(11))}}else Pp(this.i,this.l,Ge,null),ek(this,Ge);qi==4&&cf(this),this.o&&!this.J&&(qi==4?fz(this.j,this):(this.o=!1,S1(this)))}else V0e(this.g),z==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,zi(12)):(this.s=0,zi(13)),cf(this),ny(this)}}}catch{}finally{}};function NV(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function A0e(T,N){var z=T.C,Z=N.indexOf(`
`,z);return Z==-1?QO:(z=Number(N.substring(z,Z)),isNaN(z)?LV:(Z+=1,Z+z>N.length?QO:(N=N.slice(Z,Z+z),T.C=Z+z,N)))}Ac.prototype.cancel=function(){this.J=!0,cf(this)};function S1(T){T.S=Date.now()+T.I,BV(T,T.I)}function BV(T,N){if(T.B!=null)throw Error("WatchDog timer not null");T.B=ty(f(T.ba,T),N)}function ZO(T){T.B&&(s.clearTimeout(T.B),T.B=null)}Ac.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(S0e(this.i,this.A),this.L!=2&&(Ip(),zi(17)),cf(this),this.s=2,ny(this)):BV(this,this.S-T)};function ny(T){T.j.G==0||T.J||fz(T.j,T)}function cf(T){ZO(T);var N=T.M;N&&typeof N.ma=="function"&&N.ma(),T.M=null,cr(T.U),T.g&&(N=T.g,T.g=null,N.abort(),N.ma())}function ek(T,N){try{var z=T.j;if(z.G!=0&&(z.g==T||tk(z.h,T))){if(!T.K&&tk(z.h,T)&&z.G==3){try{var Z=z.Da.g.parse(N)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var he=Z;if(he[0]==0){e:if(!z.u){if(z.g)if(z.g.F+3e3<T.F)k1(z),_1(z);else break e;ak(z),zi(18)}}else z.za=he[1],0<z.za-z.T&&37500>he[2]&&z.F&&z.v==0&&!z.C&&(z.C=ty(f(z.Za,z),6e3));if(1>=UV(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else ff(z,11)}else if((T.K||z.g==T)&&k1(z),!x(N))for(he=z.Da.g.parse(N),N=0;N<he.length;N++){let vr=he[N];if(z.T=vr[0],vr=vr[1],z.G==2)if(vr[0]=="c"){z.K=vr[1],z.ia=vr[2];const Ui=vr[3];Ui!=null&&(z.la=Ui,z.j.info("VER="+z.la));const qi=vr[4];qi!=null&&(z.Aa=qi,z.j.info("SVER="+z.Aa));const kp=vr[5];kp!=null&&typeof kp=="number"&&0<kp&&(Z=1.5*kp,z.L=Z,z.j.info("backChannelRequestTimeoutMs_="+Z)),Z=z;const Cs=T.g;if(Cs){const M1=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M1){var ye=Z.h;ye.g||M1.indexOf("spdy")==-1&&M1.indexOf("quic")==-1&&M1.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(rk(ye,ye.h),ye.h=null))}if(Z.D){const sk=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;sk&&(Z.ya=sk,Qr(Z.I,Z.D,sk))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-T.F,z.j.info("Handshake RTT: "+z.R+"ms")),Z=z;var Ge=T;if(Z.qa=vz(Z,Z.J?Z.ia:null,Z.W),Ge.K){qV(Z.h,Ge);var Lr=Ge,Ci=Z.L;Ci&&(Lr.I=Ci),Lr.B&&(ZO(Lr),S1(Lr)),Z.g=Ge}else cz(Z);0<z.i.length&&O1(z)}else vr[0]!="stop"&&vr[0]!="close"||ff(z,7);else z.G==3&&(vr[0]=="stop"||vr[0]=="close"?vr[0]=="stop"?ff(z,7):ik(z):vr[0]!="noop"&&z.l&&z.l.ta(vr),z.v=0)}}Ip(4)}catch{}}var C0e=class{constructor(T,N){this.g=T,this.map=N}};function VV(T){this.l=T||10,s.PerformanceNavigationTiming?(T=s.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zV(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function UV(T){return T.h?1:T.g?T.g.size:0}function tk(T,N){return T.h?T.h==N:T.g?T.g.has(N):!1}function rk(T,N){T.g?T.g.add(N):T.h=N}function qV(T,N){T.h&&T.h==N?T.h=null:T.g&&T.g.has(N)&&T.g.delete(N)}VV.prototype.cancel=function(){if(this.i=GV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function GV(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let N=T.i;for(const z of T.g.values())N=N.concat(z.D);return N}return g(T.i)}function T0e(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(l(T)){for(var N=[],z=T.length,Z=0;Z<z;Z++)N.push(T[Z]);return N}N=[],z=0;for(Z in T)N[z++]=T[Z];return N}function I0e(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(l(T)||typeof T=="string"){var N=[];T=T.length;for(var z=0;z<T;z++)N.push(z);return N}N=[],z=0;for(const Z in T)N[z++]=Z;return N}}}function WV(T,N){if(T.forEach&&typeof T.forEach=="function")T.forEach(N,void 0);else if(l(T)||typeof T=="string")Array.prototype.forEach.call(T,N,void 0);else for(var z=I0e(T),Z=T0e(T),he=Z.length,ye=0;ye<he;ye++)N.call(void 0,Z[ye],z&&z[ye],T)}var HV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function P0e(T,N){if(T){T=T.split("&");for(var z=0;z<T.length;z++){var Z=T[z].indexOf("="),he=null;if(0<=Z){var ye=T[z].substring(0,Z);he=T[z].substring(Z+1)}else ye=T[z];N(ye,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function df(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof df){this.h=T.h,E1(this,T.j),this.o=T.o,this.g=T.g,A1(this,T.s),this.l=T.l;var N=T.i,z=new oy;z.i=N.i,N.g&&(z.g=new Map(N.g),z.h=N.h),YV(this,z),this.m=T.m}else T&&(N=String(T).match(HV))?(this.h=!1,E1(this,N[1]||"",!0),this.o=iy(N[2]||""),this.g=iy(N[3]||"",!0),A1(this,N[4]),this.l=iy(N[5]||"",!0),YV(this,N[6]||"",!0),this.m=iy(N[7]||"")):(this.h=!1,this.i=new oy(null,this.h))}df.prototype.toString=function(){var T=[],N=this.j;N&&T.push(ay(N,XV,!0),":");var z=this.g;return(z||N=="file")&&(T.push("//"),(N=this.o)&&T.push(ay(N,XV,!0),"@"),T.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.s,z!=null&&T.push(":",String(z))),(z=this.l)&&(this.g&&z.charAt(0)!="/"&&T.push("/"),T.push(ay(z,z.charAt(0)=="/"?k0e:O0e,!0))),(z=this.i.toString())&&T.push("?",z),(z=this.m)&&T.push("#",ay(z,M0e)),T.join("")};function uu(T){return new df(T)}function E1(T,N,z){T.j=z?iy(N,!0):N,T.j&&(T.j=T.j.replace(/:$/,""))}function A1(T,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);T.s=N}else T.s=null}function YV(T,N,z){N instanceof oy?(T.i=N,R0e(T.i,T.h)):(z||(N=ay(N,D0e)),T.i=new oy(N,T.h))}function Qr(T,N,z){T.i.set(N,z)}function C1(T){return Qr(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function iy(T,N){return T?N?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function ay(T,N,z){return typeof T=="string"?(T=encodeURI(T).replace(N,_0e),z&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function _0e(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var XV=/[#\/\?@]/g,O0e=/[#\?:]/g,k0e=/[#\?]/g,D0e=/[#\?@]/g,M0e=/#/g;function oy(T,N){this.h=this.g=null,this.i=T||null,this.j=!!N}function Cc(T){T.g||(T.g=new Map,T.h=0,T.i&&P0e(T.i,function(N,z){T.add(decodeURIComponent(N.replace(/\+/g," ")),z)}))}t=oy.prototype,t.add=function(T,N){Cc(this),this.i=null,T=_p(this,T);var z=this.g.get(T);return z||this.g.set(T,z=[]),z.push(N),this.h+=1,this};function KV(T,N){Cc(T),N=_p(T,N),T.g.has(N)&&(T.i=null,T.h-=T.g.get(N).length,T.g.delete(N))}function QV(T,N){return Cc(T),N=_p(T,N),T.g.has(N)}t.forEach=function(T,N){Cc(this),this.g.forEach(function(z,Z){z.forEach(function(he){T.call(N,he,Z,this)},this)},this)},t.na=function(){Cc(this);const T=Array.from(this.g.values()),N=Array.from(this.g.keys()),z=[];for(let Z=0;Z<N.length;Z++){const he=T[Z];for(let ye=0;ye<he.length;ye++)z.push(N[Z])}return z},t.V=function(T){Cc(this);let N=[];if(typeof T=="string")QV(this,T)&&(N=N.concat(this.g.get(_p(this,T))));else{T=Array.from(this.g.values());for(let z=0;z<T.length;z++)N=N.concat(T[z])}return N},t.set=function(T,N){return Cc(this),this.i=null,T=_p(this,T),QV(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[N]),this.h+=1,this},t.get=function(T,N){return T?(T=this.V(T),0<T.length?String(T[0]):N):N};function JV(T,N,z){KV(T,N),0<z.length&&(T.i=null,T.g.set(_p(T,N),g(z)),T.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],N=Array.from(this.g.keys());for(var z=0;z<N.length;z++){var Z=N[z];const ye=encodeURIComponent(String(Z)),Ge=this.V(Z);for(Z=0;Z<Ge.length;Z++){var he=ye;Ge[Z]!==""&&(he+="="+encodeURIComponent(String(Ge[Z]))),T.push(he)}}return this.i=T.join("&")};function _p(T,N){return N=String(N),T.j&&(N=N.toLowerCase()),N}function R0e(T,N){N&&!T.j&&(Cc(T),T.i=null,T.g.forEach(function(z,Z){var he=Z.toLowerCase();Z!=he&&(KV(this,Z),JV(this,he,z))},T)),T.j=N}function j0e(T,N){const z=new ry;if(s.Image){const Z=new Image;Z.onload=p(Tc,z,"TestLoadImage: loaded",!0,N,Z),Z.onerror=p(Tc,z,"TestLoadImage: error",!1,N,Z),Z.onabort=p(Tc,z,"TestLoadImage: abort",!1,N,Z),Z.ontimeout=p(Tc,z,"TestLoadImage: timeout",!1,N,Z),s.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=T}else N(!1)}function F0e(T,N){const z=new ry,Z=new AbortController,he=setTimeout(()=>{Z.abort(),Tc(z,"TestPingServer: timeout",!1,N)},1e4);fetch(T,{signal:Z.signal}).then(ye=>{clearTimeout(he),ye.ok?Tc(z,"TestPingServer: ok",!0,N):Tc(z,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(he),Tc(z,"TestPingServer: error",!1,N)})}function Tc(T,N,z,Z,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),Z(z)}catch{}}function L0e(){this.g=new Vi}function $0e(T,N,z){const Z=z||"";try{WV(T,function(he,ye){let Ge=he;u(he)&&(Ge=Hn(he)),N.push(Z+ye+"="+encodeURIComponent(Ge))})}catch(he){throw N.push(Z+"type="+encodeURIComponent("_badmap")),he}}function T1(T){this.l=T.Ub||null,this.j=T.eb||!1}v(T1,Ai),T1.prototype.g=function(){return new I1(this.l,this.j)},T1.prototype.i=function(T){return function(){return T}}({});function I1(T,N){de.call(this),this.D=T,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(I1,de),t=I1.prototype,t.open=function(T,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=N,this.readyState=1,ly(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(N.body=T),(this.D||s).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sy(this)),this.readyState=0},t.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,ly(this)),this.g&&(this.readyState=3,ly(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZV(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZV(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}t.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var N=T.value?T.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!T.done}))&&(this.response=this.responseText+=N)}T.done?sy(this):ly(this),this.readyState==3&&ZV(this)}},t.Ra=function(T){this.g&&(this.response=this.responseText=T,sy(this))},t.Qa=function(T){this.g&&(this.response=T,sy(this))},t.ga=function(){this.g&&sy(this)};function sy(T){T.readyState=4,T.l=null,T.j=null,T.v=null,ly(T)}t.setRequestHeader=function(T,N){this.u.append(T,N)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],N=this.h.entries();for(var z=N.next();!z.done;)z=z.value,T.push(z[0]+": "+z[1]),z=N.next();return T.join(`\r
`)};function ly(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(I1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function ez(T){let N="";return C(T,function(z,Z){N+=Z,N+=":",N+=z,N+=`\r
`}),N}function nk(T,N,z){e:{for(Z in z){var Z=!1;break e}Z=!0}Z||(z=ez(z),typeof T=="string"?z!=null&&encodeURIComponent(String(z)):Qr(T,N,z))}function wn(T){de.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(wn,de);var N0e=/^https?$/i,B0e=["POST","PUT"];t=wn.prototype,t.Ha=function(T){this.J=T},t.ea=function(T,N,z,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);N=N?N.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():KO.g(),this.v=this.o?Mr(this.o):Mr(KO),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(N,String(T),!0),this.B=!1}catch(ye){tz(this,ye);return}if(T=z||"",z=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var he in Z)z.set(he,Z[he]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const ye of Z.keys())z.set(ye,Z.get(ye));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(z.keys()).find(ye=>ye.toLowerCase()=="content-type"),he=s.FormData&&T instanceof s.FormData,!(0<=Array.prototype.indexOf.call(B0e,N,void 0))||Z||he||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Ge]of z)this.g.setRequestHeader(ye,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iz(this),this.u=!0,this.g.send(T),this.u=!1}catch(ye){tz(this,ye)}};function tz(T,N){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=N,T.m=5,rz(T),P1(T)}function rz(T){T.A||(T.A=!0,Oe(T,"complete"),Oe(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,Oe(this,"complete"),Oe(this,"abort"),P1(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),P1(this,!0)),wn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nz(this):this.bb())},t.bb=function(){nz(this)};function nz(T){if(T.h&&typeof o<"u"&&(!T.v[1]||cu(T)!=4||T.Z()!=2)){if(T.u&&cu(T)==4)pe(T.Ea,0,T);else if(Oe(T,"readystatechange"),cu(T)==4){T.h=!1;try{const Ge=T.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var z;if(!(z=N)){var Z;if(Z=Ge===0){var he=String(T.D).match(HV)[1]||null;!he&&s.self&&s.self.location&&(he=s.self.location.protocol.slice(0,-1)),Z=!N0e.test(he?he.toLowerCase():"")}z=Z}if(z)Oe(T,"complete"),Oe(T,"success");else{T.m=6;try{var ye=2<cu(T)?T.g.statusText:""}catch{ye=""}T.l=ye+" ["+T.Z()+"]",rz(T)}}finally{P1(T)}}}}function P1(T,N){if(T.g){iz(T);const z=T.g,Z=T.v[0]?()=>{}:null;T.g=null,T.v=null,N||Oe(T,"ready");try{z.onreadystatechange=Z}catch{}}}function iz(T){T.I&&(s.clearTimeout(T.I),T.I=null)}t.isActive=function(){return!!this.g};function cu(T){return T.g?T.g.readyState:0}t.Z=function(){try{return 2<cu(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(T){if(this.g){var N=this.g.responseText;return T&&N.indexOf(T)==0&&(N=N.substring(T.length)),Ia(N)}};function az(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function V0e(T){const N={};T=(T.g&&2<=cu(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<T.length;Z++){if(x(T[Z]))continue;var z=k(T[Z]);const he=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const ye=N[he]||[];N[he]=ye,ye.push(z)}E(N,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uy(T,N,z){return z&&z.internalChannelParams&&z.internalChannelParams[T]||N}function oz(T){this.Aa=0,this.i=[],this.j=new ry,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uy("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uy("baseRetryDelayMs",5e3,T),this.cb=uy("retryDelaySeedMs",1e4,T),this.Wa=uy("forwardChannelMaxRetries",2,T),this.wa=uy("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new VV(T&&T.concurrentRequestLimit),this.Da=new L0e,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oz.prototype,t.la=8,t.G=1,t.connect=function(T,N,z,Z){zi(0),this.W=T,this.H=N||{},z&&Z!==void 0&&(this.H.OSID=z,this.H.OAID=Z),this.F=this.X,this.I=vz(this,null,this.W),O1(this)};function ik(T){if(sz(T),T.G==3){var N=T.U++,z=uu(T.I);if(Qr(z,"SID",T.K),Qr(z,"RID",N),Qr(z,"TYPE","terminate"),cy(T,z),N=new Ac(T,T.j,N),N.L=2,N.v=C1(uu(z)),z=!1,s.navigator&&s.navigator.sendBeacon)try{z=s.navigator.sendBeacon(N.v.toString(),"")}catch{}!z&&s.Image&&(new Image().src=N.v,z=!0),z||(N.g=gz(N.j,null),N.g.ea(N.v)),N.F=Date.now(),S1(N)}pz(T)}function _1(T){T.g&&(ok(T),T.g.cancel(),T.g=null)}function sz(T){_1(T),T.u&&(s.clearTimeout(T.u),T.u=null),k1(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&s.clearTimeout(T.s),T.s=null)}function O1(T){if(!zV(T.h)&&!T.s){T.s=!0;var N=T.Ga;R||q(),V||(R(),V=!0),U.add(N,T),T.B=0}}function z0e(T,N){return UV(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=N.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=ty(f(T.Ga,T,N),hz(T,T.B)),T.B++,!0)}t.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const he=new Ac(this,this.j,T);let ye=this.o;if(this.S&&(ye?(ye=A(ye),_(ye,this.S)):ye=this.S),this.m!==null||this.O||(he.H=ye,ye=null),this.P)e:{for(var N=0,z=0;z<this.i.length;z++){t:{var Z=this.i[z];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(N+=Z,4096<N){N=z;break e}if(N===4096||z===this.i.length-1){N=z+1;break e}}N=1e3}else N=1e3;N=uz(this,he,N),z=uu(this.I),Qr(z,"RID",T),Qr(z,"CVER",22),this.D&&Qr(z,"X-HTTP-Session-Id",this.D),cy(this,z),ye&&(this.O?N="headers="+encodeURIComponent(String(ez(ye)))+"&"+N:this.m&&nk(z,this.m,ye)),rk(this.h,he),this.Ua&&Qr(z,"TYPE","init"),this.P?(Qr(z,"$req",N),Qr(z,"SID","null"),he.T=!0,JO(he,z,null)):JO(he,z,N),this.G=2}}else this.G==3&&(T?lz(this,T):this.i.length==0||zV(this.h)||lz(this))};function lz(T,N){var z;N?z=N.l:z=T.U++;const Z=uu(T.I);Qr(Z,"SID",T.K),Qr(Z,"RID",z),Qr(Z,"AID",T.T),cy(T,Z),T.m&&T.o&&nk(Z,T.m,T.o),z=new Ac(T,T.j,z,T.B+1),T.m===null&&(z.H=T.o),N&&(T.i=N.D.concat(T.i)),N=uz(T,z,1e3),z.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),rk(T.h,z),JO(z,Z,N)}function cy(T,N){T.H&&C(T.H,function(z,Z){Qr(N,Z,z)}),T.l&&WV({},function(z,Z){Qr(N,Z,z)})}function uz(T,N,z){z=Math.min(T.i.length,z);var Z=T.l?f(T.l.Na,T.l,T):null;e:{var he=T.i;let ye=-1;for(;;){const Ge=["count="+z];ye==-1?0<z?(ye=he[0].g,Ge.push("ofs="+ye)):ye=0:Ge.push("ofs="+ye);let Lr=!0;for(let Ci=0;Ci<z;Ci++){let vr=he[Ci].g;const Ui=he[Ci].map;if(vr-=ye,0>vr)ye=Math.max(0,he[Ci].g-100),Lr=!1;else try{$0e(Ui,Ge,"req"+vr+"_")}catch{Z&&Z(Ui)}}if(Lr){Z=Ge.join("&");break e}}}return T=T.i.splice(0,z),N.D=T,Z}function cz(T){if(!T.g&&!T.u){T.Y=1;var N=T.Fa;R||q(),V||(R(),V=!0),U.add(N,T),T.v=0}}function ak(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=ty(f(T.Fa,T),hz(T,T.v)),T.v++,!0)}t.Fa=function(){if(this.u=null,dz(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=ty(f(this.ab,this),T)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zi(10),_1(this),dz(this))};function ok(T){T.A!=null&&(s.clearTimeout(T.A),T.A=null)}function dz(T){T.g=new Ac(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var N=uu(T.qa);Qr(N,"RID","rpc"),Qr(N,"SID",T.K),Qr(N,"AID",T.T),Qr(N,"CI",T.F?"0":"1"),!T.F&&T.ja&&Qr(N,"TO",T.ja),Qr(N,"TYPE","xmlhttp"),cy(T,N),T.m&&T.o&&nk(N,T.m,T.o),T.L&&(T.g.I=T.L);var z=T.g;T=T.ia,z.L=1,z.v=C1(uu(N)),z.m=null,z.P=!0,$V(z,T)}t.Za=function(){this.C!=null&&(this.C=null,_1(this),ak(this),zi(19))};function k1(T){T.C!=null&&(s.clearTimeout(T.C),T.C=null)}function fz(T,N){var z=null;if(T.g==N){k1(T),ok(T),T.g=null;var Z=2}else if(tk(T.h,N))z=N.D,qV(T.h,N),Z=1;else return;if(T.G!=0){if(N.o)if(Z==1){z=N.m?N.m.length:0,N=Date.now()-N.F;var he=T.B;Z=Ec(),Oe(Z,new x1(Z,z)),O1(T)}else cz(T);else if(he=N.s,he==3||he==0&&0<N.X||!(Z==1&&z0e(T,N)||Z==2&&ak(T)))switch(z&&0<z.length&&(N=T.h,N.i=N.i.concat(z)),he){case 1:ff(T,5);break;case 4:ff(T,10);break;case 3:ff(T,6);break;default:ff(T,2)}}}function hz(T,N){let z=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(z*=2),z*N}function ff(T,N){if(T.j.info("Error code "+N),N==2){var z=f(T.fb,T),Z=T.Xa;const he=!Z;Z=new df(Z||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||E1(Z,"https"),C1(Z),he?j0e(Z.toString(),z):F0e(Z.toString(),z)}else zi(2);T.G=0,T.l&&T.l.sa(N),pz(T),sz(T)}t.fb=function(T){T?(this.j.info("Successfully pinged google.com"),zi(2)):(this.j.info("Failed to ping google.com"),zi(1))};function pz(T){if(T.G=0,T.ka=[],T.l){const N=GV(T.h);(N.length!=0||T.i.length!=0)&&(m(T.ka,N),m(T.ka,T.i),T.h.i.length=0,g(T.i),T.i.length=0),T.l.ra()}}function vz(T,N,z){var Z=z instanceof df?uu(z):new df(z);if(Z.g!="")N&&(Z.g=N+"."+Z.g),A1(Z,Z.s);else{var he=s.location;Z=he.protocol,N=N?N+"."+he.hostname:he.hostname,he=+he.port;var ye=new df(null);Z&&E1(ye,Z),N&&(ye.g=N),he&&A1(ye,he),z&&(ye.l=z),Z=ye}return z=T.D,N=T.ya,z&&N&&Qr(Z,z,N),Qr(Z,"VER",T.la),cy(T,Z),Z}function gz(T,N,z){if(N&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=T.Ca&&!T.pa?new wn(new T1({eb:z})):new wn(T.pa),N.Ha(T.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mz(){}t=mz.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function D1(){}D1.prototype.g=function(T,N){return new no(T,N)};function no(T,N){de.call(this),this.g=new oz(N),this.l=T,this.h=N&&N.messageUrlParams||null,T=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(T?T["X-WebChannel-Content-Type"]=N.messageContentType:T={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(T?T["X-WebChannel-Client-Profile"]=N.va:T={"X-WebChannel-Client-Profile":N.va}),this.g.S=T,(T=N&&N.Sb)&&!x(T)&&(this.g.m=T),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!x(N)&&(this.g.D=N,T=this.h,T!==null&&N in T&&(T=this.h,N in T&&delete T[N])),this.j=new Op(this)}v(no,de),no.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},no.prototype.close=function(){ik(this.g)},no.prototype.o=function(T){var N=this.g;if(typeof T=="string"){var z={};z.__data__=T,T=z}else this.u&&(z={},z.__data__=Hn(T),T=z);N.i.push(new C0e(N.Ya++,T)),N.G==3&&O1(N)},no.prototype.N=function(){this.g.l=null,delete this.j,ik(this.g),delete this.g,no.aa.N.call(this)};function yz(T){bn.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var N=T.__sm__;if(N){e:{for(const z in N){T=z;break e}T=void 0}(this.i=T)&&(T=this.i,N=N!==null&&T in N?N[T]:void 0),this.data=N}else this.data=T}v(yz,bn);function xz(){da.call(this),this.status=1}v(xz,da);function Op(T){this.g=T}v(Op,mz),Op.prototype.ua=function(){Oe(this.g,"a")},Op.prototype.ta=function(T){Oe(this.g,new yz(T))},Op.prototype.sa=function(T){Oe(this.g,new xz)},Op.prototype.ra=function(){Oe(this.g,"b")},D1.prototype.createWebChannel=D1.prototype.g,no.prototype.send=no.prototype.o,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,Eae=function(){return new D1},Sae=function(){return Ec()},wae=As,JR={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},b1.NO_ERROR=0,b1.TIMEOUT=8,b1.HTTP_ERROR=6,UE=b1,jV.COMPLETE="complete",bae=jV,il.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",de.prototype.listen=de.prototype.K,i0=il,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,xae=wn}).apply(typeof aS<"u"?aS:typeof self<"u"?self:typeof window<"u"?window:{});const l8="@firebase/firestore",u8="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new iP("@firebase/firestore");function sv(){return _h.logLevel}function Ke(t,...e){if(_h.logLevel<=Xt.DEBUG){const r=e.map(uB);_h.debug(`Firestore (${wm}): ${t}`,...r)}}function Ku(t,...e){if(_h.logLevel<=Xt.ERROR){const r=e.map(uB);_h.error(`Firestore (${wm}): ${t}`,...r)}}function sg(t,...e){if(_h.logLevel<=Xt.WARN){const r=e.map(uB);_h.warn(`Firestore (${wm}): ${t}`,...r)}}function uB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Aae(t,n,r)}function Aae(t,e,r){let n=`FIRESTORE (${wm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ku(n),new Error(n)}function Cr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Aae(e,i,n)}function Pt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends xs{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u8e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qi.UNAUTHENTICATED))}shutdown(){}}class c8e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class d8e{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Cr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new kl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new kl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kl)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Cr(typeof n.accessToken=="string",31837,{l:n}),new Cae(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cr(e===null||typeof e=="string",2055,{h:e}),new Qi(e)}}class f8e{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h8e{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new f8e(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p8e{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ra(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Cr(this.o===void 0,3512);const n=a=>{a.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c8(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Cr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new c8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=v8e(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Vt(t,e){return t<e?-1:t>e?1:0}function ZR(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Vt(n,i);{const a=Tae(),o=g8e(a.encode(d8(t,r)),a.encode(d8(e,r)));return o!==0?o:Vt(n,i)}}r+=n>65535?2:1}return Vt(t.length,e.length)}function d8(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function g8e(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Vt(t[r],e[r]);return Vt(t.length,e.length)}function lg(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=-62135596800,h8=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*h8);return new je(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<f8)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h8}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-f8;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new je(0,0))}static max(){return new Ot(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="__name__";class ml{constructor(e,r,n){r===void 0?r=0:r>e.length&&wt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&wt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ml.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ml?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=ml.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Vt(e.length,r.length)}static compareSegments(e,r){const n=ml.isNumericId(e),i=ml.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ml.extractNumericId(e).compare(ml.extractNumericId(r)):ZR(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dd.fromString(e.substring(4,e.length-2))}}class an extends ml{construct(e,r,n){return new an(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new an(r)}static emptyPath(){return new an([])}}const m8e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends ml{construct(e,r,n){return new Di(e,r,n)}static isValidIdentifier(e){return m8e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p8}static keyField(){return new Di([p8])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Qe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Qe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Qe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(r)}static emptyPath(){return new Di([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(an.fromString(e))}static fromName(e){return new ut(an.fromString(e).popFirst(5))}static empty(){return new ut(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&an.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return an.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new an(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=-1;function y8e(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(n===1e9?new je(r+1,0):new je(r,n));return new Td(i,ut.empty(),e)}function x8e(t){return new Td(t.readTime,t.key,bx)}class Td{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Td(Ot.min(),ut.empty(),bx)}static max(){return new Td(Ot.max(),ut.empty(),bx)}}function b8e(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ut.comparator(t.documentKey,e.documentKey),r!==0?r:Vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S8e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==w8e)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ie((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ie?r:Ie.resolve(r)}catch(r){return Ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ie.reject(r)}static resolve(e){return new Ie((r,n)=>{r(e)})}static reject(e){return new Ie((r,n)=>{n(e)})}static waitFor(e){return new Ie((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=Ie.resolve(!1);for(const n of e)r=r.next(i=>i?Ie.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Ie((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(e,r){return new Ie((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function E8e(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Em(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lP.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=-1;function uP(t){return t==null}function JA(t){return t===0&&1/t==-1/0}function A8e(t){return typeof t=="number"&&Number.isInteger(t)&&!JA(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae="";function C8e(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=v8(e)),e=T8e(t.get(r),e);return v8(e)}function T8e(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case Pae:r+="";break;default:r+=a}}return r}function v8(t){return t+Pae+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Qd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function I8e(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n,t));return r}function _ae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r){this.comparator=e,this.root=r||ki.EMPTY}insert(e,r){return new yn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oS(this.root,e,this.comparator,!1)}getReverseIterator(){return new oS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oS(this.root,e,this.comparator,!0)}}class oS{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ki.RED,this.left=i??ki.EMPTY,this.right=a??ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ki(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ki.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wt(27949);return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1;ki.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new ki(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new m8(this.data.getIterator())}getIteratorFrom(e){return new m8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ti)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ti(this.comparator);return r.data=e,r}}class m8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new mo([])}unionWith(e){let r=new ti(Di.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new mo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return lg(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Oae("Invalid base64 string: "+a):a}}(e);return new Fi(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Fi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fi.EMPTY_BYTE_STRING=new Fi("");const P8e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Id(t){if(Cr(!!t,39018),typeof t=="string"){let e=0;const r=P8e.exec(t);if(Cr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pd(t){return typeof t=="string"?Fi.fromBase64String(t):Fi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae="server_timestamp",Dae="__type__",Mae="__previous_value__",Rae="__local_write_time__";function dB(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dae])===null||r===void 0?void 0:r.stringValue)===kae}function cP(t){const e=t.mapValue.fields[Mae];return dB(e)?cP(e):e}function wx(t){const e=Id(t.mapValue.fields[Rae].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8e{constructor(e,r,n,i,a,o,s,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}const ZA="(default)";class Sx{constructor(e,r){this.projectId=e,this.database=r||ZA}static empty(){return new Sx("","")}get isDefaultDatabase(){return this.database===ZA}isEqual(e){return e instanceof Sx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae="__type__",O8e="__max__",sS={mapValue:{}},Fae="__vector__",eC="value";function _d(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dB(t)?4:D8e(t)?9007199254740991:k8e(t)?10:11:wt(28295,{value:t})}function Gl(t,e){if(t===e)return!0;const r=_d(t);if(r!==_d(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wx(t).isEqual(wx(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Id(i.timestampValue),s=Id(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Pd(i.bytesValue).isEqual(Pd(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Mn(i.geoPointValue.latitude)===Mn(a.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Mn(i.integerValue)===Mn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Mn(i.doubleValue),s=Mn(a.doubleValue);return o===s?JA(o)===JA(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return lg(t.arrayValue.values||[],e.arrayValue.values||[],Gl);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(g8(o)!==g8(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Gl(o[l],s[l])))return!1;return!0}(t,e);default:return wt(52216,{left:t})}}function Ex(t,e){return(t.values||[]).find(r=>Gl(r,e))!==void 0}function ug(t,e){if(t===e)return 0;const r=_d(t),n=_d(e);if(r!==n)return Vt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Mn(a.integerValue||a.doubleValue),l=Mn(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return y8(t.timestampValue,e.timestampValue);case 4:return y8(wx(t),wx(e));case 5:return ZR(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Pd(a),l=Pd(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Vt(s[u],l[u]);if(c!==0)return c}return Vt(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Vt(Mn(a.latitude),Mn(o.latitude));return s!==0?s:Vt(Mn(a.longitude),Mn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x8(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},f=o.fields||{},p=(s=d[eC])===null||s===void 0?void 0:s.arrayValue,v=(l=f[eC])===null||l===void 0?void 0:l.arrayValue,g=Vt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:x8(p,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===sS.mapValue&&o===sS.mapValue)return 0;if(a===sS.mapValue)return 1;if(o===sS.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=ZR(l[d],c[d]);if(f!==0)return f;const p=ug(s[l[d]],u[c[d]]);if(p!==0)return p}return Vt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw wt(23264,{Pe:r})}}function y8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);const r=Id(t),n=Id(e),i=Vt(r.seconds,n.seconds);return i!==0?i:Vt(r.nanos,n.nanos)}function x8(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ug(r[i],n[i]);if(a)return a}return Vt(r.length,n.length)}function cg(t){return ej(t)}function ej(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Id(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Pd(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ut.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=ej(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${ej(r.fields[o])}`;return i+"}"}(t.mapValue):wt(61005,{value:t})}function qE(t){switch(_d(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cP(t);return e?16+qE(e):16;case 5:return 2*t.stringValue.length;case 6:return Pd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+qE(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Qd(n.fields,(a,o)=>{i+=a.length+qE(o)}),i}(t.mapValue);default:throw wt(13486,{value:t})}}function b8(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tj(t){return!!t&&"integerValue"in t}function fB(t){return!!t&&"arrayValue"in t}function w8(t){return!!t&&"nullValue"in t}function S8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function GE(t){return!!t&&"mapValue"in t}function k8e(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[jae])===null||r===void 0?void 0:r.stringValue)===Fae}function k0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=k0(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=k0(t.arrayValue.values[r]);return e}return Object.assign({},t)}function D8e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O8e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.value=e}static empty(){return new Ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!GE(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=k0(r)}setAll(e){let r=Di.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=k0(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());GE(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];GE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Qd(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ba(k0(this.value))}}function Lae(t){const e=[];return Qd(t.fields,(r,n)=>{const i=new Di([r]);if(GE(n)){const a=Lae(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new mo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new ea(e,0,Ot.min(),Ot.min(),Ot.min(),Ba.empty(),0)}static newFoundDocument(e,r,n,i){return new ea(e,1,r,Ot.min(),n,i,0)}static newNoDocument(e,r){return new ea(e,2,r,Ot.min(),Ot.min(),Ba.empty(),0)}static newUnknownDocument(e,r){return new ea(e,3,r,Ot.min(),Ot.min(),Ba.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ea&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ea(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,r){this.position=e,this.inclusive=r}}function E8(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ut.comparator(ut.fromName(o.referenceValue),r.key):n=ug(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function A8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Gl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,r="asc"){this.field=e,this.dir=r}}function M8e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{}class zn extends $ae{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new j8e(e,r,n):r==="array-contains"?new $8e(e,n):r==="in"?new N8e(e,n):r==="not-in"?new B8e(e,n):r==="array-contains-any"?new V8e(e,n):new zn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new F8e(e,n):new L8e(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ug(r,this.value)):r!==null&&_d(this.value)===_d(r)&&this.matchesComparison(ug(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends $ae{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Ws(e,r)}matches(e){return Nae(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Nae(t){return t.op==="and"}function Bae(t){return R8e(t)&&Nae(t)}function R8e(t){for(const e of t.filters)if(e instanceof Ws)return!1;return!0}function rj(t){if(t instanceof zn)return t.field.canonicalString()+t.op.toString()+cg(t.value);if(Bae(t))return t.filters.map(e=>rj(e)).join(",");{const e=t.filters.map(r=>rj(r)).join(",");return`${t.op}(${e})`}}function Vae(t,e){return t instanceof zn?function(n,i){return i instanceof zn&&n.op===i.op&&n.field.isEqual(i.field)&&Gl(n.value,i.value)}(t,e):t instanceof Ws?function(n,i){return i instanceof Ws&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&Vae(o,i.filters[s]),!0):!1}(t,e):void wt(19439)}function zae(t){return t instanceof zn?function(r){return`${r.field.canonicalString()} ${r.op} ${cg(r.value)}`}(t):t instanceof Ws?function(r){return r.op.toString()+" {"+r.getFilters().map(zae).join(" ,")+"}"}(t):"Filter"}class j8e extends zn{constructor(e,r,n){super(e,r,n),this.key=ut.fromName(n.referenceValue)}matches(e){const r=ut.comparator(e.key,this.key);return this.matchesComparison(r)}}class F8e extends zn{constructor(e,r){super(e,"in",r),this.keys=Uae("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class L8e extends zn{constructor(e,r){super(e,"not-in",r),this.keys=Uae("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Uae(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ut.fromName(n.referenceValue))}class $8e extends zn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fB(r)&&Ex(r.arrayValue,this.value)}}class N8e extends zn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ex(this.value.arrayValue,r)}}class B8e extends zn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ex(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Ex(this.value.arrayValue,r)}}class V8e extends zn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fB(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ex(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8e{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function C8(t,e=null,r=[],n=[],i=null,a=null,o=null){return new z8e(t,e,r,n,i,a,o)}function hB(t){const e=Pt(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>rj(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),uP(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>cg(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>cg(n)).join(",")),e.Ie=r}return e.Ie}function pB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!M8e(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Vae(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A8(t.startAt,e.startAt)&&A8(t.endAt,e.endAt)}function nj(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function U8e(t,e,r,n,i,a,o,s){return new Am(t,e,r,n,i,a,o,s)}function dP(t){return new Am(t)}function T8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qae(t){return t.collectionGroup!==null}function D0(t){const e=Pt(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new ti(Di.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Ax(a,n))}),r.has(Di.keyField().canonicalString())||e.Ee.push(new Ax(Di.keyField(),n))}return e.Ee}function Dl(t){const e=Pt(t);return e.de||(e.de=Gae(e,D0(t))),e.de}function q8e(t){const e=Pt(t);return e.Ae||(e.Ae=Gae(e,t.explicitOrderBy)),e.Ae}function Gae(t,e){if(t.limitType==="F")return C8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ax(i.field,a)});const r=t.endAt?new tC(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new tC(t.startAt.position,t.startAt.inclusive):null;return C8(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ij(t,e){const r=t.filters.concat([e]);return new Am(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function aj(t,e,r){return new Am(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function fP(t,e){return pB(Dl(t),Dl(e))&&t.limitType===e.limitType}function Wae(t){return`${hB(Dl(t))}|lt:${t.limitType}`}function lv(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>zae(i)).join(", ")}]`),uP(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>cg(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>cg(i)).join(",")),`Target(${n})`}(Dl(t))}; limitType=${t.limitType})`}function hP(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ut.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of D0(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=E8(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,D0(n),i)||n.endAt&&!function(o,s,l){const u=E8(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,D0(n),i))}(t,e)}function G8e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hae(t){return(e,r)=>{let n=!1;for(const i of D0(t)){const a=W8e(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function W8e(t,e,r){const n=t.field.isKeyField()?ut.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?ug(l,u):wt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return wt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qd(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return _ae(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8e=new yn(ut.comparator);function Qu(){return H8e}const Yae=new yn(ut.comparator);function a0(...t){let e=Yae;for(const r of t)e=e.insert(r.key,r);return e}function Xae(t){let e=Yae;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Hf(){return M0()}function Kae(){return M0()}function M0(){return new cp(t=>t.toString(),(t,e)=>t.isEqual(e))}const Y8e=new yn(ut.comparator),X8e=new ti(ut.comparator);function Qt(...t){let e=X8e;for(const r of t)e=e.add(r);return e}const K8e=new ti(Vt);function Q8e(){return K8e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:JA(e)?"-0":e}}function Qae(t){return{integerValue:""+t}}function J8e(t,e){return A8e(e)?Qae(e):vB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this._=void 0}}function Z8e(t,e,r){return t instanceof Cx?function(i,a){const o={fields:{[Dae]:{stringValue:kae},[Rae]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&dB(a)&&(a=cP(a)),a&&(o.fields[Mae]=a),{mapValue:o}}(r,e):t instanceof Tx?Zae(t,e):t instanceof Ix?eoe(t,e):function(i,a){const o=Jae(i,a),s=I8(o)+I8(i.Re);return tj(o)&&tj(i.Re)?Qae(s):vB(i.serializer,s)}(t,e)}function eGe(t,e,r){return t instanceof Tx?Zae(t,e):t instanceof Ix?eoe(t,e):r}function Jae(t,e){return t instanceof rC?function(n){return tj(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Cx extends pP{}class Tx extends pP{constructor(e){super(),this.elements=e}}function Zae(t,e){const r=toe(e);for(const n of t.elements)r.some(i=>Gl(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ix extends pP{constructor(e){super(),this.elements=e}}function eoe(t,e){let r=toe(e);for(const n of t.elements)r=r.filter(i=>!Gl(i,n));return{arrayValue:{values:r}}}class rC extends pP{constructor(e,r){super(),this.serializer=e,this.Re=r}}function I8(t){return Mn(t.integerValue||t.doubleValue)}function toe(t){return fB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tGe{constructor(e,r){this.field=e,this.transform=r}}function rGe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Tx&&i instanceof Tx||n instanceof Ix&&i instanceof Ix?lg(n.elements,i.elements,Gl):n instanceof rC&&i instanceof rC?Gl(n.Re,i.Re):n instanceof Cx&&i instanceof Cx}(t.transform,e.transform)}class nGe{constructor(e,r){this.version=e,this.transformResults=r}}class rs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function WE(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vP{}function roe(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gB(t.key,rs.none()):new Pw(t.key,t.data,rs.none());{const r=t.data,n=Ba.empty();let i=new ti(Di.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Jd(t.key,n,new mo(i.toArray()),rs.none())}}function iGe(t,e,r){t instanceof Pw?function(i,a,o){const s=i.value.clone(),l=_8(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Jd?function(i,a,o){if(!WE(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=_8(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(noe(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function R0(t,e,r,n){return t instanceof Pw?function(a,o,s,l){if(!WE(a.precondition,o))return s;const u=a.value.clone(),c=O8(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Jd?function(a,o,s,l){if(!WE(a.precondition,o))return s;const u=O8(a.fieldTransforms,l,o),c=o.data;return c.setAll(noe(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(a,o,s){return WE(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function aGe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Jae(n.transform,i||null);a!=null&&(r===null&&(r=Ba.empty()),r.set(n.field,a))}return r||null}function P8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lg(n,i,(a,o)=>rGe(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pw extends vP{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jd extends vP{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function noe(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function _8(t,e,r){const n=new Map;Cr(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,eGe(o,s,r[i]))}return n}function O8(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,Z8e(a,o,e))}return n}class gB extends vP{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oGe extends vP{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sGe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&iGe(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=R0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=R0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Kae();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=roe(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ot.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Qt())}isEqual(e){return this.batchId===e.batchId&&lg(this.mutations,e.mutations,(r,n)=>P8(r,n))&&lg(this.baseMutations,e.baseMutations,(r,n)=>P8(r,n))}}class mB{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Cr(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return Y8e}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new mB(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lGe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uGe{constructor(e,r,n){this.alias=e,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cGe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,rr;function dGe(t){switch(t){case Te.OK:return wt(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return wt(15467,{code:t})}}function ioe(t){if(t===void 0)return Ku("GRPC error has no .code"),Te.UNKNOWN;switch(t){case Nn.OK:return Te.OK;case Nn.CANCELLED:return Te.CANCELLED;case Nn.UNKNOWN:return Te.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return Te.INTERNAL;case Nn.UNAVAILABLE:return Te.UNAVAILABLE;case Nn.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Nn.NOT_FOUND:return Te.NOT_FOUND;case Nn.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Nn.ABORTED:return Te.ABORTED;case Nn.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Nn.DATA_LOSS:return Te.DATA_LOSS;default:return wt(39323,{code:t})}}(rr=Nn||(Nn={}))[rr.OK=0]="OK",rr[rr.CANCELLED=1]="CANCELLED",rr[rr.UNKNOWN=2]="UNKNOWN",rr[rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rr[rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rr[rr.NOT_FOUND=5]="NOT_FOUND",rr[rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",rr[rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",rr[rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",rr[rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rr[rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rr[rr.ABORTED=10]="ABORTED",rr[rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",rr[rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",rr[rr.INTERNAL=13]="INTERNAL",rr[rr.UNAVAILABLE=14]="UNAVAILABLE",rr[rr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fGe=new dd([4294967295,4294967295],0);function k8(t){const e=Tae().encode(t),r=new yae;return r.update(e),new Uint8Array(r.digest())}function D8(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new dd([r,n],0),new dd([i,a],0)]}class yB{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new o0(`Invalid padding: ${r}`);if(n<0)throw new o0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new o0(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new o0(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=dd.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(dd.fromNumber(n)));return i.compare(fGe)===1&&(i=new dd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=k8(e),[n,i]=D8(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);if(!this.be(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new yB(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const r=k8(e),[n,i]=D8(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class o0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,_w.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new gP(Ot.min(),i,new yn(Vt),Qu(),Qt())}}class _w{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new _w(n,r,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class aoe{constructor(e,r){this.targetId=e,this.Ce=r}}class ooe{constructor(e,r,n=Fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class M8{constructor(){this.Fe=0,this.Me=R8(),this.xe=Fi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qt(),r=Qt(),n=Qt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:wt(38017,{changeType:a})}}),new _w(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=R8()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Cr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hGe{constructor(e){this.ze=e,this.je=new Map,this.He=Qu(),this.Je=lS(),this.Ye=lS(),this.Ze=new yn(Vt)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:wt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const a=i.target;if(nj(a))if(n===0){const o=new ut(a.path);this.tt(r,o,ea.newNoDocument(o,Ot.min()))}else Cr(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Pd(n).toUint8Array()}catch(l){if(l instanceof Oae)return sg("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new yB(o,i,a)}catch(l){return sg(l instanceof o0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,a,null),i++)}),i}It(e){const r=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&nj(s.target)){const l=new ut(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,ea.newNoDocument(l,e))}a.Le&&(r.set(o,a.qe()),a.Qe())}});let n=Qt();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new gP(e,r,this.Ze,this.He,n);return this.He=Qu(),this.Je=lS(),this.Ye=lS(),this.Ze=new yn(Vt),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new M8,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new ti(Vt),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new ti(Vt),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ke("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new M8),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function lS(){return new yn(ut.comparator)}function R8(){return new yn(ut.comparator)}const pGe={asc:"ASCENDING",desc:"DESCENDING"},vGe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gGe={and:"AND",or:"OR"};class mGe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function oj(t,e){return t.useProto3Json||uP(e)?e:{value:e}}function nC(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function soe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yGe(t,e){return nC(t,e.toTimestamp())}function Ml(t){return Cr(!!t,49232),Ot.fromTimestamp(function(r){const n=Id(r);return new je(n.seconds,n.nanos)}(t))}function xB(t,e){return sj(t,e).canonicalString()}function sj(t,e){const r=function(i){return new an(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function loe(t){const e=an.fromString(t);return Cr(poe(e),10190,{key:e.toString()}),e}function lj(t,e){return xB(t.databaseId,e.path)}function LD(t,e){const r=loe(e);if(r.get(1)!==t.databaseId.projectId)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Qe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ut(coe(r))}function uoe(t,e){return xB(t.databaseId,e)}function xGe(t){const e=loe(t);return e.length===4?an.emptyPath():coe(e)}function uj(t){return new an(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function coe(t){return Cr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j8(t,e,r){return{name:lj(t,e),fields:r.value.mapValue.fields}}function bGe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:wt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Cr(c===void 0||typeof c=="string",58123),Fi.fromBase64String(c||"")):(Cr(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Fi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?Te.UNKNOWN:ioe(u.code);return new Qe(c,u.message||"")}(o);r=new ooe(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=LD(t,n.document.name),a=Ml(n.document.updateTime),o=n.document.createTime?Ml(n.document.createTime):Ot.min(),s=new Ba({mapValue:{fields:n.document.fields}}),l=ea.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new HE(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=LD(t,n.document),a=n.readTime?Ml(n.readTime):Ot.min(),o=ea.newNoDocument(i,a),s=n.removedTargetIds||[];r=new HE([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=LD(t,n.document),a=n.removedTargetIds||[];r=new HE([],a,i,null)}else{if(!("filter"in e))return wt(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new cGe(i,a),s=n.targetId;r=new aoe(s,o)}}return r}function wGe(t,e){let r;if(e instanceof Pw)r={update:j8(t,e.key,e.value)};else if(e instanceof gB)r={delete:lj(t,e.key)};else if(e instanceof Jd)r={update:j8(t,e.key,e.data),updateMask:OGe(e.fieldMask)};else{if(!(e instanceof oGe))return wt(16599,{ft:e.type});r={verify:lj(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Cx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Tx)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ix)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof rC)return{fieldPath:o.field.canonicalString(),increment:s.Re};throw wt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:yGe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:wt(27497)}(t,e.precondition)),r}function SGe(t,e){return t&&t.length>0?(Cr(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Ml(i.updateTime):Ml(a);return o.isEqual(Ot.min())&&(o=Ml(a)),new nGe(o,i.transformResults||[])}(r,e))):[]}function EGe(t,e){return{documents:[uoe(t,e.path)]}}function doe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=uoe(t,i);const a=function(u){if(u.length!==0)return hoe(Ws.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Wc(f.field),direction:IGe(f.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=oj(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:i}}function AGe(t,e,r,n){const{gt:i,parent:a}=doe(t,e),o={},s=[];let l=0;return r.forEach(u=>{const c="aggregate_"+l++;o[c]=u.alias,u.aggregateType==="count"?s.push({alias:c,count:{}}):u.aggregateType==="avg"?s.push({alias:c,avg:{field:Wc(u.fieldPath)}}):u.aggregateType==="sum"&&s.push({alias:c,sum:{field:Wc(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},yt:o,parent:a}}function CGe(t){let e=xGe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Cr(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];r.where&&(a=function(d){const f=foe(d);return f instanceof Ws&&Bae(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(f=>function(v){return new Ax(uv(v.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let s=null;r.limit&&(s=function(d){let f;return f=typeof d=="object"?d.value:d,uP(f)?null:f}(r.limit));let l=null;r.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new tC(p,f)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new tC(p,f)}(r.endAt)),U8e(e,i,o,a,s,"F",l,u)}function TGe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function foe(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=uv(r.unaryFilter.field);return zn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=uv(r.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=uv(r.unaryFilter.field);return zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uv(r.unaryFilter.field);return zn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}}(t):t.fieldFilter!==void 0?function(r){return zn.create(uv(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ws.create(r.compositeFilter.filters.map(n=>foe(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt(1026)}}(r.compositeFilter.op))}(t):wt(30097,{filter:t})}function IGe(t){return pGe[t]}function PGe(t){return vGe[t]}function _Ge(t){return gGe[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function uv(t){return Di.fromServerFormat(t.fieldPath)}function hoe(t){return t instanceof zn?function(r){if(r.op==="=="){if(S8(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NAN"}};if(w8(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(S8(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NOT_NAN"}};if(w8(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(r.field),op:PGe(r.op),value:r.value}}}(t):t instanceof Ws?function(r){const n=r.getFilters().map(i=>hoe(i));return n.length===1?n[0]:{compositeFilter:{op:_Ge(r.op),filters:n}}}(t):wt(54877,{filter:t})}function OGe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function poe(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,r,n,i,a=Ot.min(),o=Ot.min(),s=Fi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kGe{constructor(e){this.wt=e}}function DGe(t){const e=CGe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?aj(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MGe{constructor(){this.yn=new RGe}addToCollectionParentIndex(e,r){return this.yn.add(r),Ie.resolve()}getCollectionParents(e,r){return Ie.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return Ie.resolve()}deleteFieldIndex(e,r){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,r){return Ie.resolve()}getDocumentsMatchingTarget(e,r){return Ie.resolve(null)}getIndexType(e,r){return Ie.resolve(0)}getFieldIndexes(e,r){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,r){return Ie.resolve(Td.min())}getMinOffsetFromCollectionGroup(e,r){return Ie.resolve(Td.min())}updateCollectionGroup(e,r,n){return Ie.resolve()}updateIndexEntries(e,r){return Ie.resolve()}}class RGe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ti(an.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ti(an.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},voe=41943040;class Fa{static withCacheSize(e){return new Fa(e,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa.DEFAULT_COLLECTION_PERCENTILE=10,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fa.DEFAULT=new Fa(voe,Fa.DEFAULT_COLLECTION_PERCENTILE,Fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fa.DISABLED=new Fa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new dg(0)}static ir(){return new dg(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="LruGarbageCollector",jGe=1048576;function $8([t,e],[r,n]){const i=Vt(t,r);return i===0?Vt(e,n):i}class FGe{constructor(e){this.cr=e,this.buffer=new ti($8),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();$8(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class LGe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ke(L8,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Em(r)?Ke(L8,"Ignoring IndexedDB error during garbage collection: ",r):await Sm(r)}await this.Ir(3e5)})}}class $Ge{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ie.resolve(lP.le);const n=new FGe(r);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Er.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(F8)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F8):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let n,i,a,o,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,s=Date.now(),this.removeTargets(e,n,r))).next(d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),sv()<=Xt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d})))}}function NGe(t,e){return new $Ge(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BGe{constructor(){this.changes=new cp(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ea.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ie.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VGe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zGe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&R0(n.mutation,i,mo.empty(),je.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Qt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Qt()){const i=Hf();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=a0();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Hf();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Qt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=Qu();const o=M0(),s=function(){return M0()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Jd)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),R0(c.mutation,u,c.mutation.getFieldMask(),je.now())):o.set(u.key,mo.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new VGe(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,r){const n=M0();let i=new yn((o,s)=>o-s),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||mo.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||Qt()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=Kae();c.forEach(f=>{if(!a.has(f)){const p=roe(r.get(f),n.get(f));p!==null&&d.set(f,p),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ie.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ut.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):qae(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Ie.resolve(Hf());let s=bx,l=a;return o.next(u=>Ie.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?Ie.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Qt())).next(c=>({batchId:s,changes:Xae(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ut(r)).next(n=>{let i=a0();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=a0();return this.indexManager.getCollectionParents(e,a).next(s=>Ie.forEach(s,l=>{const u=function(d,f){return new Am(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ea.newInvalidDocument(c)))});let s=a0();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&R0(c.mutation,u,mo.empty(),je.now()),hP(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UGe{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return Ie.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ml(i.createTime)}}(r)),Ie.resolve()}getNamedQuery(e,r){return Ie.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(i){return{name:i.name,query:DGe(i.bundledQuery),readTime:Ml(i.readTime)}}(r)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qGe{constructor(){this.overlays=new yn(ut.comparator),this.Or=new Map}getOverlay(e,r){return Ie.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Hf();return Ie.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),Ie.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),Ie.resolve()}getOverlaysForCollection(e,r,n){const i=Hf(),a=r.length+1,o=new ut(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new yn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Hf(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Hf(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Ie.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new lGe(r,n));let a=this.Or.get(r);a===void 0&&(a=Qt(),this.Or.set(r,a)),this.Or.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GGe{constructor(){this.sessionToken=Fi.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.Nr=new ti(si.Br),this.Lr=new ti(si.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const n=new si(e,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Qr(new si(e,r))}$r(e,r){e.forEach(n=>this.removeReference(n,r))}Ur(e){const r=new ut(new an([])),n=new si(r,e),i=new si(r,e+1),a=[];return this.Lr.forEachInRange([n,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new ut(new an([])),n=new si(r,e),i=new si(r,e+1);let a=Qt();return this.Lr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new si(e,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class si{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return ut.comparator(e.key,r.key)||Vt(e.Gr,r.Gr)}static kr(e,r){return Vt(e.Gr,r.Gr)||ut.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WGe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new ti(si.Br)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sGe(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new si(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ie.resolve(o)}lookupMutationBatch(e,r){return Ie.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Hr(n),a=i<0?0:i;return Ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?cB:this.Jn-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new si(r,0),i=new si(r,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],o=>{const s=this.jr(o.Gr);a.push(s)}),Ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ti(Vt);return r.forEach(i=>{const a=new si(i,0),o=new si(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{n=n.add(s.Gr)})}),Ie.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ut.isDocumentKey(a)||(a=a.child(""));const o=new si(new ut(a),0);let s=new ti(Vt);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Gr)),!0)},o),Ie.resolve(this.Jr(s))}Jr(e){const r=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Cr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return Ie.forEach(r.mutations,i=>{const a=new si(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,r){const n=new si(r,0),i=this.zr.firstAfterOrEqual(n);return Ie.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HGe{constructor(e){this.Zr=e,this.docs=function(){return new yn(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ie.resolve(n?n.document.mutableCopy():ea.newInvalidDocument(r))}getEntries(e,r){let n=Qu();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ea.newInvalidDocument(i))}),Ie.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Qu();const o=r.path,s=new ut(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||b8e(x8e(c),n)<=0||(i.has(c.key)||hP(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Ie.resolve(a)}getAllFromCollectionGroup(e,r,n,i){wt(9500)}Xr(e,r){return Ie.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new YGe(this)}getSize(e){return Ie.resolve(this.size)}}class YGe extends BGe{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),Ie.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XGe{constructor(e){this.persistence=e,this.ei=new cp(r=>hB(r),pB),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.ti=0,this.ni=new bB,this.targetCount=0,this.ri=dg.rr()}forEachTarget(e,r){return this.ei.forEach((n,i)=>r(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),Ie.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new dg(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,Ie.resolve()}updateTargetData(e,r){return this.ar(r),Ie.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Ie.waitFor(a).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,r){const n=this.ei.get(r)||null;return Ie.resolve(n)}addMatchingKeys(e,r,n){return this.ni.qr(r,n),Ie.resolve()}removeMatchingKeys(e,r,n){this.ni.$r(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),Ie.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),Ie.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ni.Wr(r);return Ie.resolve(n)}containsKey(e,r){return Ie.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e,r){this.ii={},this.overlays={},this.si=new lP(0),this.oi=!1,this.oi=!0,this._i=new GGe,this.referenceDelegate=e(this),this.ai=new XGe(this),this.indexManager=new MGe,this.remoteDocumentCache=function(i){return new HGe(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new kGe(r),this.ci=new UGe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new qGe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ii[e.toKey()];return n||(n=new WGe(r,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,n){Ke("MemoryPersistence","Starting transaction:",e);const i=new KGe(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,r){return Ie.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,r)))}}class KGe extends S8e{constructor(e){super(),this.currentSequenceNumber=e}}class wB{constructor(e){this.persistence=e,this.Ti=new bB,this.Ii=null}static Ei(e){return new wB(e)}get di(){if(this.Ii)return this.Ii;throw wt(60996)}addReference(e,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),Ie.resolve()}removeReference(e,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),Ie.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),Ie.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.di,n=>{const i=ut.fromPath(n);return this.Ai(e,i).next(a=>{a||r.removeEntry(i,Ot.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return Ie.or([()=>Ie.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class iC{constructor(e,r){this.persistence=e,this.Ri=new cp(n=>C8e(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=NGe(this,r)}static Ei(e,r){return new iC(e,r)}li(){}hi(e){return Ie.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Vr(e){let r=0;return this.Ar(e,n=>{r++}).next(()=>r)}Ar(e,r){return Ie.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?Ie.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,r).next(s=>{s||(n++,a.removeEntry(o,Ot.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),Ie.resolve()}removeReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),Ie.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=qE(e.data.value)),r}gr(e,r,n){return Ie.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.Ri.get(r);return Ie.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ls=n,this.hs=i}static Ps(e,r){let n=Qt(),i=Qt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new SB(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QGe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JGe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Eze()?8:E8e(la())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new QGe;return this.fs(e,r,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,r,o,s.size)})}).next(()=>a.result)}gs(e,r,n,i){return n.documentReadCount<this.Es?(sv()<=Xt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",lv(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ie.resolve()):(sv()<=Xt.DEBUG&&Ke("QueryEngine","Query:",lv(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(sv()<=Xt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",lv(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dl(r))):Ie.resolve())}Rs(e,r){if(T8(r))return Ie.resolve(null);let n=Dl(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=aj(r,null,"F"),n=Dl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Qt(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ps(r,s);return this.ys(r,u,o,l.readTime)?this.Rs(e,aj(r,null,"F")):this.ws(e,u,r,l)}))})))}Vs(e,r,n,i){return T8(r)||i.isEqual(Ot.min())?Ie.resolve(null):this.As.getDocuments(e,n).next(a=>{const o=this.ps(r,a);return this.ys(r,o,n,i)?Ie.resolve(null):(sv()<=Xt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lv(r)),this.ws(e,o,r,y8e(i,bx)).next(s=>s))})}ps(e,r){let n=new ti(Hae(e));return r.forEach((i,a)=>{hP(e,a)&&(n=n.add(a))}),n}ys(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,r,n){return sv()<=Xt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",lv(r)),this.As.getDocumentsMatchingQuery(e,r,Td.min(),n)}ws(e,r,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="LocalStore",ZGe=3e8;class eWe{constructor(e,r,n,i){this.persistence=e,this.bs=r,this.serializer=i,this.Ss=new yn(Vt),this.Ds=new cp(a=>hB(a),pB),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zGe(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function tWe(t,e,r,n){return new eWe(t,e,r,n)}async function moe(t,e){const r=Pt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Fs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Qt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:s}))})})}function rWe(t,e){const r=Pt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,f=d.keys();let p=Ie.resolve();return f.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(g=>{const m=u.docVersions.get(v);Cr(m!==null,48541),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Qt();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function yoe(t){const e=Pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function nWe(t,e){const r=Pt(t),n=e.snapshotVersion;let i=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Cs.newChangeBuffer({trackRemovals:!0});i=r.Ss;const s=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;s.push(r.ai.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.ai.addMatchingKeys(a,c.addedDocuments,d)));let p=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Fi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(d,p),function(g,m,y){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=ZGe?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,c)&&s.push(r.ai.updateTargetData(a,p))});let l=Qu(),u=Qt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(iWe(a,o,e.documentUpdates).next(c=>{l=c.xs,u=c.Os})),!n.isEqual(Ot.min())){const c=r.ai.getLastRemoteSnapshotVersion(a).next(d=>r.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return Ie.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ss=i,a))}function iWe(t,e,r){let n=Qt(),i=Qt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Qu();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):Ke(EB,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function aWe(t,e){const r=Pt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=cB),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function oWe(t,e){const r=Pt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.ai.getTargetData(n,e).next(a=>a?(i=a,Ie.resolve(i)):r.ai.allocateTargetId(n).next(o=>(i=new Zc(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(e,n.targetId)),n})}async function cj(t,e,r){const n=Pt(t),i=n.Ss.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Em(o))throw o;Ke(EB,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function N8(t,e,r){const n=Pt(t);let i=Ot.min(),a=Qt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Pt(l),f=d.Ds.get(c);return f!==void 0?Ie.resolve(d.Ss.get(f)):d.ai.getTargetData(u,c)}(n,o,Dl(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.bs.getDocumentsMatchingQuery(o,e,r?i:Ot.min(),r?a:Qt())).next(s=>(sWe(n,G8e(e),s),{documents:s,Ns:a})))}function sWe(t,e,r){let n=t.vs.get(e)||Ot.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.vs.set(e,n)}class B8{constructor(){this.activeTargetIds=Q8e()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lWe{constructor(){this.So=new B8,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,n){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new B8,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uWe{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="ConnectivityMonitor";class z8{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ke(V8,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ke(V8,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uS=null;function dj(){return uS===null?uS=function(){return 268435456+Math.round(2147483648*Math.random())}():uS++,"0x"+uS.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="RestConnection",cWe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dWe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===ZA?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,r,n,i,a){const o=dj(),s=this.$o(e,r.toUriEncodedString());Ke($D,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,a),this.Ko(e,s,l,n).then(u=>(Ke($D,`Received RPC '${e}' ${o}: `,u),u),u=>{throw sg($D,`RPC '${e}' ${o} failed with error: `,u,"url: ",s,"request:",n),u})}Wo(e,r,n,i,a,o){return this.Qo(e,r,n,i,a)}Uo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wm}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,r){const n=cWe[e];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fWe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class hWe extends dWe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,n,i){const a=dj();return new Promise((o,s)=>{const l=new xae;l.setWithCredentials(!0),l.listenOnce(bae.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case UE.NO_ERROR:const c=l.getResponseJson();Ke(Gi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case UE.TIMEOUT:Ke(Gi,`RPC '${e}' ${a} timed out`),s(new Qe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case UE.HTTP_ERROR:const d=l.getStatus();if(Ke(Gi,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(y)>=0?y:Te.UNKNOWN}(p.status);s(new Qe(v,p.message))}else s(new Qe(Te.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new Qe(Te.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{s_:e,streamId:a,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{Ke(Gi,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);Ke(Gi,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}a_(e,r,n){const i=dj(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Eae(),s=Sae(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");Ke(Gi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const v=new fWe({Go:m=>{p?Ke(Gi,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(Ke(Gi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Ke(Gi,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},zo:()=>d.close()}),g=(m,y,x)=>{m.listen(y,b=>{try{x(b)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,i0.EventType.OPEN,()=>{p||(Ke(Gi,`RPC '${e}' stream ${i} transport opened.`),v.t_())}),g(d,i0.EventType.CLOSE,()=>{p||(p=!0,Ke(Gi,`RPC '${e}' stream ${i} transport closed`),v.r_())}),g(d,i0.EventType.ERROR,m=>{p||(p=!0,sg(Gi,`RPC '${e}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),v.r_(new Qe(Te.UNAVAILABLE,"The operation could not be completed")))}),g(d,i0.EventType.MESSAGE,m=>{var y;if(!p){const x=m.data[0];Cr(!!x,16349);const b=x,w=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(w){Ke(Gi,`RPC '${e}' stream ${i} received error:`,w);const S=w.status;let C=function(P){const _=Nn[P];if(_!==void 0)return ioe(_)}(S),E=w.message;C===void 0&&(C=Te.INTERNAL,E="Unknown error status: "+S+" with message "+w.message),p=!0,v.r_(new Qe(C,E)),d.close()}else Ke(Gi,`RPC '${e}' stream ${i} received:`,x),v.i_(x)}}),g(s,wae.STAT_EVENT,m=>{m.stat===JR.PROXY?Ke(Gi,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===JR.NOPROXY&&Ke(Gi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function ND(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return new mGe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e,r,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=r,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,r-n);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="PersistentStream";class boe{constructor(e,r,n,i,a,o,s,l){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new xoe(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===Te.RESOURCE_EXHAUSTED?(Ku(r.toString()),Ku("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===r&&this.B_(n,i)},n=>{e(()=>{const i=new Qe(Te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,r){const n=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ke(U8,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(Ke(U8,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pWe extends boe{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=bGe(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ot.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ot.min():o.readTime?Ml(o.readTime):Ot.min()}(e);return this.listener.Q_(r,n)}U_(e){const r={};r.database=uj(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=nj(l)?{documents:EGe(a,l)}:{query:doe(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=soe(a,o.resumeToken);const u=oj(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ot.min())>0){s.readTime=nC(a,o.snapshotVersion.toTimestamp());const u=oj(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=TGe(this.serializer,e);n&&(r.labels=n),this.F_(r)}K_(e){const r={};r.database=uj(this.serializer),r.removeTarget=e,this.F_(r)}}class vWe extends boe{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,r){return this.connection.a_("Write",e,r)}q_(e){return Cr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cr(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Cr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const r=SGe(e.writeResults,e.commitTime),n=Ml(e.commitTime);return this.listener.j_(n,r)}H_(){const e={};e.database=uj(this.serializer),this.F_(e)}G_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>wGe(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gWe{}class mWe extends gWe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,sj(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Qe(Te.UNKNOWN,a.toString())})}Wo(e,r,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,sj(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Qe(Te.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class yWe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ku(r),this.ea=!1):Ke("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="RemoteStore";class xWe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{n.enqueueAndForget(async()=>{dp(this)&&(Ke(Oh,"Restarting streams for network reachability change."),await async function(l){const u=Pt(l);u.aa.add(4),await Ow(u),u.la.set("Unknown"),u.aa.delete(4),await yP(u)}(this))})}),this.la=new yWe(n,i)}}async function yP(t){if(dp(t))for(const e of t.ua)await e(!0)}async function Ow(t){for(const e of t.ua)await e(!1)}function woe(t,e){const r=Pt(t);r._a.has(e.targetId)||(r._a.set(e.targetId,e),IB(r)?TB(r):Cm(r).b_()&&CB(r,e))}function AB(t,e){const r=Pt(t),n=Cm(r);r._a.delete(e),n.b_()&&Soe(r,e),r._a.size===0&&(n.b_()?n.v_():dp(r)&&r.la.set("Unknown"))}function CB(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cm(t).U_(e)}function Soe(t,e){t.ha.Ke(e),Cm(t).K_(e)}function TB(t){t.ha=new hGe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Cm(t).start(),t.la.ta()}function IB(t){return dp(t)&&!Cm(t).w_()&&t._a.size>0}function dp(t){return Pt(t).aa.size===0}function Eoe(t){t.ha=void 0}async function bWe(t){t.la.set("Online")}async function wWe(t){t._a.forEach((e,r)=>{CB(t,e)})}async function SWe(t,e){Eoe(t),IB(t)?(t.la.ia(e),TB(t)):t.la.set("Unknown")}async function EWe(t,e,r){if(t.la.set("Online"),e instanceof ooe&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(n){Ke(Oh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await aC(t,n)}else if(e instanceof HE?t.ha.Xe(e):e instanceof aoe?t.ha.ot(e):t.ha.nt(e),!r.isEqual(Ot.min()))try{const n=await yoe(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a._a.get(u);c&&a._a.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a._a.get(l);if(!c)return;a._a.set(l,c.withResumeToken(Fi.EMPTY_BYTE_STRING,c.snapshotVersion)),Soe(a,l);const d=new Zc(c.target,l,u,c.sequenceNumber);CB(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){Ke(Oh,"Failed to raise snapshot:",n),await aC(t,n)}}async function aC(t,e,r){if(!Em(e))throw e;t.aa.add(1),await Ow(t),t.la.set("Offline"),r||(r=()=>yoe(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke(Oh,"Retrying IndexedDB access"),await r(),t.aa.delete(1),await yP(t)})}function Aoe(t,e){return e().catch(r=>aC(t,r,e))}async function xP(t){const e=Pt(t),r=Od(e);let n=e.oa.length>0?e.oa[e.oa.length-1].batchId:cB;for(;AWe(e);)try{const i=await aWe(e.localStore,n);if(i===null){e.oa.length===0&&r.v_();break}n=i.batchId,CWe(e,i)}catch(i){await aC(e,i)}Coe(e)&&Toe(e)}function AWe(t){return dp(t)&&t.oa.length<10}function CWe(t,e){t.oa.push(e);const r=Od(t);r.b_()&&r.W_&&r.G_(e.mutations)}function Coe(t){return dp(t)&&!Od(t).w_()&&t.oa.length>0}function Toe(t){Od(t).start()}async function TWe(t){Od(t).H_()}async function IWe(t){const e=Od(t);for(const r of t.oa)e.G_(r.mutations)}async function PWe(t,e,r){const n=t.oa.shift(),i=mB.from(n,e,r);await Aoe(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xP(t)}async function _We(t,e){e&&Od(t).W_&&await async function(n,i){if(function(o){return dGe(o)&&o!==Te.ABORTED}(i.code)){const a=n.oa.shift();Od(n).D_(),await Aoe(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await xP(n)}}(t,e),Coe(t)&&Toe(t)}async function q8(t,e){const r=Pt(t);r.asyncQueue.verifyOperationInProgress(),Ke(Oh,"RemoteStore received new credentials");const n=dp(r);r.aa.add(3),await Ow(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await yP(r)}async function OWe(t,e){const r=Pt(t);e?(r.aa.delete(2),await yP(r)):e||(r.aa.add(2),await Ow(r),r.la.set("Unknown"))}function Cm(t){return t.Pa||(t.Pa=function(r,n,i){const a=Pt(r);return a.Y_(),new pWe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:bWe.bind(null,t),Jo:wWe.bind(null,t),Zo:SWe.bind(null,t),Q_:EWe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),IB(t)?TB(t):t.la.set("Unknown")):(await t.Pa.stop(),Eoe(t))})),t.Pa}function Od(t){return t.Ta||(t.Ta=function(r,n,i){const a=Pt(r);return a.Y_(),new vWe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:TWe.bind(null,t),Zo:_We.bind(null,t),z_:IWe.bind(null,t),j_:PWe.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await xP(t)):(await t.Ta.stop(),t.oa.length>0&&(Ke(Oh,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new PB(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _B(t,e){if(Ku("AsyncQueue",`${e}: ${t}`),Em(t))return new Qe(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{static emptySet(e){return new Nv(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ut.comparator(r.key,n.key):(r,n)=>ut.comparator(r.key,n.key),this.keyedMap=a0(),this.sortedSet=new yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Nv)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Nv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.Ia=new yn(ut.comparator)}track(e){const r=e.doc.key,n=this.Ia.get(r);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(r):e.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):wt(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,n)=>{e.push(n)}),e}}class fg{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new fg(e,r,Nv.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fP(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kWe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class DWe{constructor(){this.queries=W8(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const i=Pt(r),a=i.queries;i.queries=W8(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(n)})})(this,new Qe(Te.ABORTED,"Firestore shutting down"))}}function W8(){return new cp(t=>Wae(t),fP)}async function OB(t,e){const r=Pt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new kWe,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await r.onListen(i,!0);break;case 1:a.Aa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=_B(o,`Initialization of query '${lv(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Ra.push(e),e.ga(r.onlineState),a.Aa&&e.pa(a.Aa)&&DB(r)}async function kB(t,e){const r=Pt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function MWe(t,e){const r=Pt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(n=!0);o.Aa=i}}n&&DB(r)}function RWe(t,e,r){const n=Pt(t),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(r);n.queries.delete(e)}function DB(t){t.fa.forEach(e=>{e.next()})}var fj,H8;(H8=fj||(fj={})).ya="default",H8.Cache="cache";class MB{constructor(e,r,n){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=fg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==fj.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.key=e}}class Poe{constructor(e){this.key=e}}class jWe{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Qt(),this.mutatedKeys=Qt(),this.Ua=Hae(e),this.Ka=new Nv(this.Ua)}get Wa(){return this.qa}Ga(e,r){const n=r?r.za:new G8,i=r?r.Ka:this.Ka;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=hP(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let m=!1;f&&p?f.data.isEqual(p.data)?v!==g&&(n.track({type:3,doc:p}),m=!0):this.ja(f,p)||(n.track({type:2,doc:p}),m=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(s=!0)):!f&&p?(n.track({type:0,doc:p}),m=!0):f&&!p&&(n.track({type:1,doc:f}),m=!0,(l||u)&&(s=!0)),m&&(p?(o=o.add(p),a=g?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ka:o,za:n,ys:s,mutatedKeys:a}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((c,d)=>function(p,v){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{Vt:m})}};return g(p)-g(v)}(c.type,d.type)||this.Ua(c.doc,d.doc)),this.Ha(n),i=i!=null&&i;const s=r&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new fg(this.query,e.Ka,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new G8,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Qt(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return e.forEach(n=>{this.$a.has(n)||r.push(new Poe(n))}),this.$a.forEach(n=>{e.has(n)||r.push(new Ioe(n))}),r}Xa(e){this.qa=e.Ns,this.$a=Qt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return fg.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const RB="SyncEngine";class FWe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class LWe{constructor(e){this.key=e,this.tu=!1}}class $We{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new cp(s=>Wae(s),fP),this.iu=new Map,this.su=new Set,this.ou=new yn(ut.comparator),this._u=new Map,this.au=new bB,this.uu={},this.cu=new Map,this.lu=dg.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function NWe(t,e,r=!0){const n=Roe(t);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await _oe(n,e,r,!0),i}async function BWe(t,e){const r=Roe(t);await _oe(r,e,!0,!1)}async function _oe(t,e,r,n){const i=await oWe(t.localStore,Dl(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await VWe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&woe(t.remoteStore,i),s}async function VWe(t,e,r,n,i){t.Pu=(d,f,p)=>async function(g,m,y,x){let b=m.view.Ga(y);b.ys&&(b=await N8(g.localStore,m.query,!1).then(({documents:E})=>m.view.Ga(E,b)));const w=x&&x.targetChanges.get(m.targetId),S=x&&x.targetMismatches.get(m.targetId)!=null,C=m.view.applyChanges(b,g.isPrimaryClient,w,S);return X8(g,m.targetId,C.Ya),C.snapshot}(t,d,f,p);const a=await N8(t.localStore,e,!0),o=new jWe(e,a.Ns),s=o.Ga(a.documents),l=_w.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);X8(t,r,u.Ya);const c=new FWe(e,r,o);return t.ru.set(e,c),t.iu.has(r)?t.iu.get(r).push(e):t.iu.set(r,[e]),u.snapshot}async function zWe(t,e,r){const n=Pt(t),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(o=>!fP(o,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cj(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&AB(n.remoteStore,i.targetId),hj(n,i.targetId)}).catch(Sm)):(hj(n,i.targetId),await cj(n.localStore,i.targetId,!0))}async function UWe(t,e){const r=Pt(t),n=r.ru.get(e),i=r.iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),AB(r.remoteStore,n.targetId))}async function qWe(t,e,r){const n=QWe(t);try{const i=await function(o,s){const l=Pt(o),u=je.now(),c=s.reduce((p,v)=>p.add(v.key),Qt());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Qu(),g=Qt();return l.Cs.getEntries(p,c).next(m=>{v=m,v.forEach((y,x)=>{x.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(m=>{d=m;const y=[];for(const x of s){const b=aGe(x,d.get(x.key).overlayedDocument);b!=null&&y.push(new Jd(x.key,b,Lae(b.value.mapValue),rs.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,s)}).next(m=>{f=m;const y=m.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,m.batchId,y)})}).then(()=>({batchId:f.batchId,changes:Xae(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.uu[o.currentUser.toKey()];u||(u=new yn(Vt)),u=u.insert(s,l),o.uu[o.currentUser.toKey()]=u}(n,i.batchId,r),await kw(n,i.changes),await xP(n.remoteStore)}catch(i){const a=_B(i,"Failed to persist write");r.reject(a)}}async function Ooe(t,e){const r=Pt(t);try{const n=await nWe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r._u.get(a);o&&(Cr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Cr(o.tu,14607):i.removedDocuments.size>0&&(Cr(o.tu,42227),o.tu=!1))}),await kw(r,n,e)}catch(n){await Sm(n)}}function Y8(t,e,r){const n=Pt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=Pt(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Ra)f.ga(s)&&(u=!0)}),u&&DB(l)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function GWe(t,e,r){const n=Pt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n._u.get(e),a=i&&i.key;if(a){let o=new yn(ut.comparator);o=o.insert(a,ea.newNoDocument(a,Ot.min()));const s=Qt().add(a),l=new gP(Ot.min(),new Map,new yn(Vt),o,s);await Ooe(n,l),n.ou=n.ou.remove(a),n._u.delete(e),jB(n)}else await cj(n.localStore,e,!1).then(()=>hj(n,e,r)).catch(Sm)}async function WWe(t,e){const r=Pt(t),n=e.batch.batchId;try{const i=await rWe(r.localStore,e);Doe(r,n,null),koe(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await kw(r,i)}catch(i){await Sm(i)}}async function HWe(t,e,r){const n=Pt(t);try{const i=await function(o,s){const l=Pt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Cr(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);Doe(n,e,r),koe(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await kw(n,i)}catch(i){await Sm(i)}}function koe(t,e){(t.cu.get(e)||[]).forEach(r=>{r.resolve()}),t.cu.delete(e)}function Doe(t,e,r){const n=Pt(t);let i=n.uu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.uu[n.currentUser.toKey()]=i}}function hj(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.iu.get(e))t.ru.delete(n),r&&t.nu.Tu(n,r);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(n=>{t.au.containsKey(n)||Moe(t,n)})}function Moe(t,e){t.su.delete(e.path.canonicalString());const r=t.ou.get(e);r!==null&&(AB(t.remoteStore,r),t.ou=t.ou.remove(e),t._u.delete(r),jB(t))}function X8(t,e,r){for(const n of r)n instanceof Ioe?(t.au.addReference(n.key,e),YWe(t,n)):n instanceof Poe?(Ke(RB,"Document no longer in limbo: "+n.key),t.au.removeReference(n.key,e),t.au.containsKey(n.key)||Moe(t,n.key)):wt(19791,{Iu:n})}function YWe(t,e){const r=e.key,n=r.path.canonicalString();t.ou.get(r)||t.su.has(n)||(Ke(RB,"New document in limbo: "+r),t.su.add(n),jB(t))}function jB(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const r=new ut(an.fromString(e)),n=t.lu.next();t._u.set(n,new LWe(r)),t.ou=t.ou.insert(r,n),woe(t.remoteStore,new Zc(Dl(dP(r.path)),n,"TargetPurposeLimboResolution",lP.le))}}async function kw(t,e,r){const n=Pt(t),i=[],a=[],o=[];n.ru.isEmpty()||(n.ru.forEach((s,l)=>{o.push(n.Pu(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=SB.Ps(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.nu.Q_(i),await async function(l,u){const c=Pt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ie.forEach(u,f=>Ie.forEach(f.ls,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>Ie.forEach(f.hs,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Em(d))throw d;Ke(EB,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.Ss.get(f),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);c.Ss=c.Ss.insert(f,g)}}}(n.localStore,a))}async function XWe(t,e){const r=Pt(t);if(!r.currentUser.isEqual(e)){Ke(RB,"User change. New user:",e.toKey());const n=await moe(r.localStore,e);r.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new Qe(Te.CANCELLED,o))})}),a.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await kw(r,n.Ms)}}function KWe(t,e){const r=Pt(t),n=r._u.get(e);if(n&&n.tu)return Qt().add(n.key);{let i=Qt();const a=r.iu.get(e);if(!a)return i;for(const o of a){const s=r.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function Roe(t){const e=Pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ooe.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KWe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GWe.bind(null,e),e.nu.Q_=MWe.bind(null,e.eventManager),e.nu.Tu=RWe.bind(null,e.eventManager),e}function QWe(t){const e=Pt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WWe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HWe.bind(null,e),e}class oC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mP(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return tWe(this.persistence,new JGe,e.initialUser,this.serializer)}Ru(e){return new goe(wB.Ei,this.serializer)}Au(e){return new lWe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oC.provider={build:()=>new oC};class JWe extends oC{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){Cr(this.persistence.referenceDelegate instanceof iC,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new LGe(n,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?Fa.withCacheSize(this.cacheSizeBytes):Fa.DEFAULT;return new goe(n=>iC.Ei(n,r),this.serializer)}}class pj{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Y8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=XWe.bind(null,this.syncEngine),await OWe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DWe}()}createDatastore(e){const r=mP(e.databaseInfo.databaseId),n=function(a){return new hWe(a)}(e.databaseInfo);return function(a,o,s,l){return new mWe(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new xWe(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>Y8(this.syncEngine,r,0),function(){return z8.C()?new z8:new uWe}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,c){const d=new $We(i,a,o,s,l,u);return c&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Pt(i);Ke(Oh,"RemoteStore shutting down."),a.aa.add(5),await Ow(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}pj.provider={build:()=>new pj};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ku("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="FirestoreClient";class ZWe{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Qi.UNAUTHENTICATED,this.clientId=Iae.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Ke(kd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ke(kd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_B(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function BD(t,e){t.asyncQueue.verifyOperationInProgress(),Ke(kd,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await moe(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K8(t,e){t.asyncQueue.verifyOperationInProgress();const r=await eHe(t);Ke(kd,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>q8(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>q8(e.remoteStore,i)),t._onlineComponents=e}async function eHe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke(kd,"Using user provided OfflineComponentProvider");try{await BD(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Te.FAILED_PRECONDITION||i.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;sg("Error using user provided cache. Falling back to memory cache: "+r),await BD(t,new oC)}}else Ke(kd,"Using default OfflineComponentProvider"),await BD(t,new JWe(void 0));return t._offlineComponents}async function LB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke(kd,"Using user provided OnlineComponentProvider"),await K8(t,t._uninitializedComponentsProvider._online)):(Ke(kd,"Using default OnlineComponentProvider"),await K8(t,new pj))),t._onlineComponents}function tHe(t){return LB(t).then(e=>e.syncEngine)}function rHe(t){return LB(t).then(e=>e.datastore)}async function sC(t){const e=await LB(t),r=e.eventManager;return r.onListen=NWe.bind(null,e.syncEngine),r.onUnlisten=zWe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=BWe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=UWe.bind(null,e.syncEngine),r}function nHe(t,e,r={}){const n=new kl;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new FB({next:f=>{c.yu(),o.enqueueAndForget(()=>kB(a,d));const p=f.docs.has(s);!p&&f.fromCache?u.reject(new Qe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Qe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new MB(dP(s.path),c,{includeMetadataChanges:!0,Fa:!0});return OB(a,d)}(await sC(t),t.asyncQueue,e,r,n)),n.promise}function iHe(t,e,r={}){const n=new kl;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new FB({next:f=>{c.yu(),o.enqueueAndForget(()=>kB(a,d)),f.fromCache&&l.source==="server"?u.reject(new Qe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new MB(s,c,{includeMetadataChanges:!0,Fa:!0});return OB(a,d)}(await sC(t),t.asyncQueue,e,r,n)),n.promise}function aHe(t,e,r){const n=new kl;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await rHe(t);n.resolve(async function(o,s,l){var u;const c=Pt(o),{request:d,yt:f,parent:p}=AGe(c.serializer,q8e(s),l);c.connection.Bo||delete d.parent;const v=(await c.Wo("RunAggregationQuery",c.serializer.databaseId,p,d,1)).filter(m=>!!m.result);Cr(v.length===1,64727);const g=(u=v[0].result)===null||u===void 0?void 0:u.aggregateFields;return Object.keys(g).reduce((m,y)=>(m[f[y]]=g[y],m),{})}(i,e,r))}catch(i){n.reject(i)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Foe(t,e,r){if(!r)throw new Qe(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oHe(t,e,r,n){if(e===!0&&n===!0)throw new Qe(Te.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function J8(t){if(!ut.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z8(t){if(ut.isDocumentKey(t))throw new Qe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":wt(12329,{type:typeof t})}function Ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=bP(t);throw new Qe(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe="firestore.googleapis.com",eG=!0;class tG{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Loe,this.ssl=eG}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:eG;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=voe;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jGe)throw new Qe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oHe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=joe((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Qe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wP{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tG({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tG(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new u8e;switch(n.type){case"firstParty":return new h8e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Qe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Q8.get(r);n&&(Ke("ComponentProvider","Removing Datastore"),Q8.delete(r),n.terminate())}(this),Promise.resolve()}}function sHe(t,e,r,n={}){var i;const a=(t=Ea(t,wP))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),s=`${e}:${r}`;a.host!==Loe&&a.host!==s&&sg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:s,ssl:!1,emulatorOptions:n});if(!Cd(l,o)&&(t._setSettings(l),n.mockUserToken)){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Qi.MOCK_USER;else{u=Tie(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Qe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qi(d)}t._authCredentials=new c8e(new Cae(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zd(this.firestore,e,this._query)}}class ia{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ia(this.firestore,e,this._key)}}class fd extends Zd{constructor(e,r,n){super(e,r,dP(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ia(this.firestore,null,new ut(e))}withConverter(e){return new fd(this.firestore,e,this._path)}}function dn(t,e,...r){if(t=Or(t),Foe("collection","path",e),t instanceof wP){const n=an.fromString(e,...r);return Z8(n),new fd(t,null,n)}{if(!(t instanceof ia||t instanceof fd))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(an.fromString(e,...r));return Z8(n),new fd(t.firestore,null,n)}}function Un(t,e,...r){if(t=Or(t),arguments.length===1&&(e=Iae.newId()),Foe("doc","path",e),t instanceof wP){const n=an.fromString(e,...r);return J8(n),new ia(t,null,new ut(n))}{if(!(t instanceof ia||t instanceof fd))throw new Qe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(an.fromString(e,...r));return J8(n),new ia(t.firestore,t instanceof fd?t.converter:null,new ut(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="AsyncQueue";class nG{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new xoe(this,"async_queue_retry"),this.ju=()=>{const n=ND();n&&Ke(rG,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const r=ND();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=ND();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new kl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Em(e))throw e;Ke(rG,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,Ku("INTERNAL UNHANDLED ERROR: ",iG(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(e,r,n){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const i=PB.createAndSchedule(this,e,r,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&wt(47125,{ec:iG(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function iG(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Wl extends wP{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new nG,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nG(e),this._firestoreClient=void 0,await e}}}function lHe(t,e){const r=typeof t=="object"?t:Ew(),n=typeof t=="string"?t:ZA,i=gc(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=YN("firestore");a&&sHe(i,...a)}return i}function Dw(t){if(t._terminated)throw new Qe(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uHe(t),t._firestoreClient}function uHe(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,u,c){return new _8e(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,joe(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ZWe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cHe{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class dHe{constructor(e,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hg(Fi.fromBase64String(e))}catch(r){throw new Qe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hg(Fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Qe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Qe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Qe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fHe=/^__.*__$/;class hHe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Jd(e,this.data,this.fieldMask,r,this.fieldTransforms):new Pw(e,this.data,r,this.fieldTransforms)}}class $oe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Jd(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Noe(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{oc:t})}}class BB{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new BB(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ac({path:n,cc:!1});return i.lc(e),i}hc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ac({path:n,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lC(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Noe(this.oc)&&fHe.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class pHe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||mP(e)}dc(e,r,n,i=!1){return new BB({oc:e,methodName:r,Ec:n,path:Di.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AP(t){const e=t._freezeSettings(),r=mP(t._databaseId);return new pHe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Boe(t,e,r,n,i,a={}){const o=t.dc(a.merge||a.mergeFields?2:0,e,r,i);zB("Data must be an object, but it was:",o,n);const s=Voe(n,o);let l,u;if(a.merge)l=new mo(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const f=vj(e,d,r);if(!o.contains(f))throw new Qe(Te.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Uoe(c,f)||c.push(f)}l=new mo(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new hHe(new Ba(s),l,u)}class CP extends EP{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof CP}}class VB extends EP{_toFieldTransform(e){return new tGe(e.path,new Cx)}isEqual(e){return e instanceof VB}}function vHe(t,e,r,n){const i=t.dc(1,e,r);zB("Data must be an object, but it was:",i,n);const a=[],o=Ba.empty();Qd(n,(l,u)=>{const c=UB(e,l,r);u=Or(u);const d=i.hc(c);if(u instanceof CP)a.push(c);else{const f=Mw(u,d);f!=null&&(a.push(c),o.set(c,f))}});const s=new mo(a);return new $oe(o,s,i.fieldTransforms)}function gHe(t,e,r,n,i,a){const o=t.dc(1,e,r),s=[vj(e,n,r)],l=[i];if(a.length%2!=0)throw new Qe(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)s.push(vj(e,a[f])),l.push(a[f+1]);const u=[],c=Ba.empty();for(let f=s.length-1;f>=0;--f)if(!Uoe(u,s[f])){const p=s[f];let v=l[f];v=Or(v);const g=o.hc(p);if(v instanceof CP)u.push(p);else{const m=Mw(v,g);m!=null&&(u.push(p),c.set(p,m))}}const d=new mo(u);return new $oe(c,d,o.fieldTransforms)}function mHe(t,e,r,n=!1){return Mw(r,t.dc(n?4:3,e))}function Mw(t,e){if(zoe(t=Or(t)))return zB("Unsupported field value:",e,t),Voe(t,e);if(t instanceof EP)return function(n,i){if(!Noe(i.oc))throw i.Tc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Mw(s,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Or(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return J8e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=je.fromDate(n);return{timestampValue:nC(i.serializer,a)}}if(n instanceof je){const a=new je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nC(i.serializer,a)}}if(n instanceof $B)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hg)return{bytesValue:soe(i.serializer,n._byteString)};if(n instanceof ia){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xB(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof NB)return function(o,s){return{mapValue:{fields:{[jae]:{stringValue:Fae},[eC]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw s.Tc("VectorValues must only contain numeric values.");return vB(s.serializer,u)})}}}}}}(n,i);throw i.Tc(`Unsupported field value: ${bP(n)}`)}(t,e)}function Voe(t,e){const r={};return _ae(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qd(t,(n,i)=>{const a=Mw(i,e.uc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function zoe(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof $B||t instanceof hg||t instanceof ia||t instanceof EP||t instanceof NB)}function zB(t,e,r){if(!zoe(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=bP(r);throw n==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+n)}}function vj(t,e,r){if((e=Or(e))instanceof SP)return e._internalPath;if(typeof e=="string")return UB(t,e);throw lC("Field path arguments must be of type string or ",t,!1,void 0,r)}const yHe=new RegExp("[~\\*/\\[\\]]");function UB(t,e,r){if(e.search(yHe)>=0)throw lC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new SP(...e.split("."))._internalPath}catch{throw lC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function lC(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new Qe(Te.INVALID_ARGUMENT,s+t+l)}function Uoe(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qoe{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ia(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xHe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(TP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class xHe extends qoe{data(){return super.data()}}function TP(t,e){return typeof e=="string"?UB(t,e):e instanceof SP?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Qe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qB{}class Woe extends qB{}function So(t,e,...r){let n=[];e instanceof qB&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof GB).length,s=a.filter(l=>l instanceof IP).length;if(o>1||o>0&&s>0)throw new Qe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class IP extends Woe{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new IP(e,r,n)}_apply(e){const r=this._parse(e);return Hoe(e._query,r),new Zd(e.firestore,e.converter,ij(e._query,r))}_parse(e){const r=AP(e.firestore);return function(a,o,s,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sG(d,c);const v=[];for(const g of d)v.push(oG(l,a,g));f={arrayValue:{values:v}}}else f=oG(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sG(d,c),f=mHe(s,o,d,c==="in"||c==="not-in");return zn.create(u,c,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Dd(t,e,r){const n=e,i=TP("where",t);return IP._create(i,n,r)}class GB extends qB{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new GB(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Ws.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)Hoe(o,l),o=ij(o,l)}(e._query,r),new Zd(e.firestore,e.converter,ij(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class WB extends Woe{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new WB(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ax(a,o)}(e._query,this._field,this._direction);return new Zd(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Am(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function kh(t,e="asc"){const r=e,n=TP("orderBy",t);return WB._create(n,r)}function oG(t,e,r){if(typeof(r=Or(r))=="string"){if(r==="")throw new Qe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qae(e)&&r.indexOf("/")!==-1)throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(an.fromString(r));if(!ut.isDocumentKey(n))throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return b8(t,new ut(n))}if(r instanceof ia)return b8(t,r._key);throw new Qe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bP(r)}.`)}function sG(t,e){if(!Array.isArray(t)||t.length===0)throw new Qe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hoe(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Qe(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class bHe{convertValue(e,r="none"){switch(_d(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Pd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw wt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Qd(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[eC].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Mn(o.doubleValue));return new NB(a)}convertGeoPoint(e){return new $B(Mn(e.latitude),Mn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=cP(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(wx(e));default:return null}}convertTimestamp(e){const r=Id(e);return new je(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=an.fromString(e);Cr(poe(n),9688,{name:e});const i=new Sx(n.get(1),n.get(3)),a=new ut(n.popFirst(5));return i.isEqual(r)||Ku(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}function wHe(){return new cHe("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xoe extends qoe{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new YE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(TP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class YE extends Xoe{data(e={}){return super.data(e)}}class Koe{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new s0(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new YE(this._firestore,this._userDataWriter,n.key,n,new s0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Qe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new YE(i._firestore,i._userDataWriter,s.doc.key,s.doc,new s0(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new YE(i._firestore,i._userDataWriter,s.doc.key,s.doc,new s0(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:SHe(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function SHe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){t=Ea(t,ia);const e=Ea(t.firestore,Wl);return nHe(Dw(e),t._key).then(r=>Qoe(e,t,r))}class PP extends bHe{constructor(e){super(),this.firestore=e}convertBytes(e){return new hg(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ia(this.firestore,null,r)}}function za(t){t=Ea(t,Zd);const e=Ea(t.firestore,Wl),r=Dw(e),n=new PP(e);return Goe(t._query),iHe(r,t._query).then(i=>new Koe(e,n,t,i))}function gj(t,e,r){t=Ea(t,ia);const n=Ea(t.firestore,Wl),i=Yoe(t.converter,e,r);return _P(n,[Boe(AP(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,rs.none())])}function Dh(t,e,r,...n){t=Ea(t,ia);const i=Ea(t.firestore,Wl),a=AP(i);let o;return o=typeof(e=Or(e))=="string"||e instanceof SP?gHe(a,"updateDoc",t._key,e,r,n):vHe(a,"updateDoc",t._key,e),_P(i,[o.toMutation(t._key,rs.exists(!0))])}function EHe(t){return _P(Ea(t.firestore,Wl),[new gB(t._key,rs.none())])}function Yf(t,e){const r=Ea(t.firestore,Wl),n=Un(t),i=Yoe(t.converter,e);return _P(r,[Boe(AP(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,rs.exists(!1))]).then(()=>n)}function AHe(t,...e){var r,n,i;t=Or(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||aG(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(aG(e[o])){const d=e[o];e[o]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ia)u=Ea(t.firestore,Wl),c=dP(t._key.path),l={next:d=>{e[o]&&e[o](Qoe(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ea(t,Zd);u=Ea(d.firestore,Wl),c=d._query;const f=new PP(u);l={next:p=>{e[o]&&e[o](new Koe(u,f,d,p))},error:e[o+1],complete:e[o+2]},Goe(t._query)}return function(f,p,v,g){const m=new FB(g),y=new MB(p,m,v);return f.asyncQueue.enqueueAndForget(async()=>OB(await sC(f),y)),()=>{m.yu(),f.asyncQueue.enqueueAndForget(async()=>kB(await sC(f),y))}}(Dw(u),c,s,l)}function _P(t,e){return function(n,i){const a=new kl;return n.asyncQueue.enqueueAndForget(async()=>qWe(await tHe(n),i,a)),a.promise}(Dw(t),e)}function Qoe(t,e,r){const n=r.docs.get(e._key),i=new PP(t);return new Xoe(t,i,e._key,n,new s0(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){return CHe(t,{count:wHe()})}function CHe(t,e){const r=Ea(t.firestore,Wl),n=Dw(r),i=I8e(e,(a,o)=>new uGe(o,a.aggregateType,a._internalFieldPath));return aHe(n,t._query,i).then(a=>function(s,l,u){const c=new PP(s);return new dHe(l,c,u)}(r,t,a))}function hu(){return new VB("serverTimestamp")}(function(e,r=!0){(function(i){wm=i})(up),ss(new ko("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Wl(new d8e(n.getProvider("auth-internal")),new p8e(o,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Qe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sx(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),na(l8,u8,e),na(l8,u8,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Joe="firebasestorage.googleapis.com",Zoe="storageBucket",THe=2*60*1e3,IHe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends xs{constructor(e,r,n=0){super(zD(e),`Firebase Storage: ${r} (${zD(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,On.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function zD(t){return"storage/"+t}function HB(){const t="An unknown error occurred, please check the error payload for server response.";return new On(Pn.UNKNOWN,t)}function PHe(t){return new On(Pn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _He(t){return new On(Pn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OHe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new On(Pn.UNAUTHENTICATED,t)}function kHe(){return new On(Pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DHe(t){return new On(Pn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MHe(){return new On(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RHe(){return new On(Pn.CANCELED,"User canceled the upload/download.")}function jHe(t){return new On(Pn.INVALID_URL,"Invalid URL '"+t+"'.")}function FHe(t){return new On(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LHe(){return new On(Pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zoe+"' property when initializing the app?")}function $He(){return new On(Pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NHe(){return new On(Pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BHe(t){return new On(Pn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mj(t){return new On(Pn.INVALID_ARGUMENT,t)}function ese(){return new On(Pn.APP_DELETED,"The Firebase app was deleted.")}function VHe(t){return new On(Pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function j0(t,e){return new On(Pn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ey(t){throw new On(Pn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu=class XE{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=XE.makeFromUrl(e,r)}catch{return new XE(e,"")}if(n.path==="")return n;throw FHe(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},g=r===Joe?"(?:storage.googleapis.com|storage.cloud.google.com)":r,m="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${m}`,"i"),b=[{regex:s,indices:l,postModify:a},{regex:p,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<b.length;w++){const S=b[w],C=S.regex.exec(e);if(C){const E=C[S.indices.bucket];let A=C[S.indices.path];A||(A=""),n=new XE(E,A),S.postModify(n);break}}if(n==null)throw jHe(e);return n}};class zHe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UHe(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function c(...m){u||(u=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(p,l())},m)}function f(){a&&clearTimeout(a)}function p(m,...y){if(u){f();return}if(m){f(),c.call(null,m,...y);return}if(l()||o){f(),c.call(null,m,...y);return}n<64&&(n*=2);let b;s===1?(s=2,b=0):b=(n+Math.random())*1e3,d(b)}let v=!1;function g(m){v||(v=!0,f(),!u&&(i!==null?(m||(s=2),clearTimeout(i),d(0)):m||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function qHe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GHe(t){return t!==void 0}function WHe(t){return typeof t=="object"&&!Array.isArray(t)}function YB(t){return typeof t=="string"||t instanceof String}function lG(t){return XB()&&t instanceof Blob}function XB(){return typeof Blob<"u"}function uG(t,e,r,n){if(n<e)throw mj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw mj(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function tse(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var uh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(uh||(uh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HHe(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YHe{constructor(e,r,n,i,a,o,s,l,u,c,d,f=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new cS(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===uh.NO_ERROR,l=a.getStatus();if(!s||HHe(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===uh.ABORT;n(!1,new cS(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new cS(u,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());GHe(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=HB();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ese():RHe();o(l)}else{const l=MHe();o(l)}};this.canceled_?r(!1,new cS(!1,null,!0)):this.backoffId_=UHe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qHe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cS{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function XHe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KHe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QHe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function JHe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ZHe(t,e,r,n,i,a,o=!0){const s=tse(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return QHe(u,e),XHe(u,r),KHe(u,a),JHe(u,n),new YHe(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function t9e(...t){const e=e9e();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(XB())return new Blob(t);throw new On(Pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r9e(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9e(t){if(typeof atob>"u")throw BHe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class UD{constructor(e,r){this.data=e,this.contentType=r||null}}function i9e(t,e){switch(t){case Al.RAW:return new UD(rse(e));case Al.BASE64:case Al.BASE64URL:return new UD(nse(t,e));case Al.DATA_URL:return new UD(o9e(e),s9e(e))}throw HB()}function rse(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function a9e(t){let e;try{e=decodeURIComponent(t)}catch{throw j0(Al.DATA_URL,"Malformed data URL.")}return rse(e)}function nse(t,e){switch(t){case Al.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw j0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Al.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw j0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=n9e(e)}catch(i){throw i.message.includes("polyfill")?i:j0(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class ise{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw j0(Al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=l9e(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function o9e(t){const e=new ise(t);return e.base64?nse(Al.BASE64,e.rest):a9e(e.rest)}function s9e(t){return new ise(t).contentType}function l9e(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,r){let n=0,i="";lG(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(lG(this.data_)){const n=this.data_,i=r9e(n,e,r);return i===null?null:new Hc(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Hc(n,!0)}}static getBlob(...e){if(XB()){const r=e.map(n=>n instanceof Hc?n.data_:n);return new Hc(t9e.apply(null,r))}else{const r=e.map(o=>YB(o)?i9e(Al.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new Hc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ase(t){let e;try{e=JSON.parse(t)}catch{return null}return WHe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function c9e(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ose(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9e(t,e){return e}class ha{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||d9e}}let dS=null;function f9e(t){return!YB(t)||t.length<2?t:ose(t)}function sse(){if(dS)return dS;const t=[];t.push(new ha("bucket")),t.push(new ha("generation")),t.push(new ha("metageneration")),t.push(new ha("name","fullPath",!0));function e(a,o){return f9e(o)}const r=new ha("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new ha("size");return i.xform=n,t.push(i),t.push(new ha("timeCreated")),t.push(new ha("updated")),t.push(new ha("md5Hash",null,!0)),t.push(new ha("cacheControl",null,!0)),t.push(new ha("contentDisposition",null,!0)),t.push(new ha("contentEncoding",null,!0)),t.push(new ha("contentLanguage",null,!0)),t.push(new ha("contentType",null,!0)),t.push(new ha("metadata","customMetadata",!0)),dS=t,dS}function h9e(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Tu(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function p9e(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return h9e(n,t),n}function lse(t,e,r){const n=ase(e);return n===null?null:p9e(t,n,r)}function v9e(t,e,r,n){const i=ase(e);if(i===null||!YB(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),p=KB(f,r,n),v=tse({alt:"media",token:u});return p+v})[0]}function g9e(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class use{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(t){if(!t)throw HB()}function m9e(t,e){function r(n,i){const a=lse(t,i,e);return cse(a!==null),a}return r}function y9e(t,e){function r(n,i){const a=lse(t,i,e);return cse(a!==null),v9e(a,i,t.host,t._protocol)}return r}function dse(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=kHe():i=OHe():r.getStatus()===402?i=_He(t.bucket):r.getStatus()===403?i=DHe(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function x9e(t){const e=dse(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=PHe(t.path)),a.serverResponse=i.serverResponse,a}return r}function b9e(t,e,r){const n=e.fullServerUrl(),i=KB(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new use(i,a,y9e(t,r),o);return s.errorHandler=x9e(e),s}function w9e(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function S9e(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=w9e(null,e)),n}function E9e(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let b="";for(let w=0;w<2;w++)b=b+Math.random().toString().slice(2);return b}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=S9e(e,n,i),c=g9e(u,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Hc.getBlob(d,n,f);if(p===null)throw $He();const v={name:u.fullPath},g=KB(a,t.host,t._protocol),m="POST",y=t.maxUploadRetryTime,x=new use(g,m,m9e(t,r),y);return x.urlParams=v,x.headers=o,x.body=p.uploadData(),x.errorHandler=dse(e),x}class A9e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Ey("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ey("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ey("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ey("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ey("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class C9e extends A9e{initXhr(){this.xhr_.responseType="text"}}function fse(){return new C9e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,r){this._service=e,r instanceof Tu?this._location=r:this._location=Tu.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Mh(e,r)}get root(){const e=new Tu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ose(this._location.path)}get storage(){return this._service}get parent(){const e=u9e(this._location.path);if(e===null)return null;const r=new Tu(this._location.bucket,e);return new Mh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw VHe(e)}}function T9e(t,e,r){t._throwIfRoot("uploadBytes");const n=E9e(t.storage,t._location,sse(),new Hc(e,!0),r);return t.storage.makeRequestWithTokens(n,fse).then(i=>({metadata:i,ref:t}))}function I9e(t){t._throwIfRoot("getDownloadURL");const e=b9e(t.storage,t._location,sse());return t.storage.makeRequestWithTokens(e,fse).then(r=>{if(r===null)throw NHe();return r})}function P9e(t,e){const r=c9e(t._location.path,e),n=new Tu(t._location.bucket,r);return new Mh(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9e(t){return/^[A-Za-z]+:\/\//.test(t)}function O9e(t,e){return new Mh(t,e)}function hse(t,e){if(t instanceof QB){const r=t;if(r._bucket==null)throw LHe();const n=new Mh(r,r._bucket);return e!=null?hse(n,e):n}else return e!==void 0?P9e(t,e):t}function k9e(t,e){if(e&&_9e(e)){if(t instanceof QB)return O9e(t,e);throw mj("To use ref(service, url), the first argument must be a Storage instance.")}else return hse(t,e)}function cG(t,e){const r=e==null?void 0:e[Zoe];return r==null?null:Tu.makeFromBucketSpec(r,t)}function D9e(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:Tie(i,t.app.options.projectId))}class QB{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Joe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=THe,this._maxUploadRetryTime=IHe,this._requests=new Set,i!=null?this._bucket=Tu.makeFromBucketSpec(i,this._host):this._bucket=cG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tu.makeFromBucketSpec(this._url,e):this._bucket=cG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uG("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uG("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mh(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new zHe(ese());{const o=ZHe(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const dG="@firebase/storage",fG="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse="storage";function M9e(t,e,r){return t=Or(t),T9e(t,e,r)}function R9e(t){return t=Or(t),I9e(t)}function j9e(t,e){return t=Or(t),k9e(t,e)}function F9e(t=Ew(),e){t=Or(t);const n=gc(t,pse).getImmediate({identifier:e}),i=YN("storage");return i&&L9e(n,...i),n}function L9e(t,e,r,n={}){D9e(t,e,r,n)}function $9e(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new QB(r,n,i,e,up)}function N9e(){ss(new ko(pse,$9e,"PUBLIC").setMultipleInstances(!0)),na(dG,fG,""),na(dG,fG,"esm2017")}N9e();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9e{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ra(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="us-central1";class V9e{constructor(e,r,n,i,a=yj,o=(...s)=>fetch(...s)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new B9e(e,r,n,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(a);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=yj}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function z9e(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}const hG="@firebase/functions",pG="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9e="auth-internal",q9e="app-check-internal",G9e="messaging-internal";function W9e(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(U9e),o=r.getProvider(G9e),s=r.getProvider(q9e);return new V9e(i,a,o,s,n)};ss(new ko(vse,e,"PUBLIC").setMultipleInstances(!0)),na(hG,pG,t),na(hG,pG,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9e(t=Ew(),e=yj){const n=gc(Or(t),vse).getImmediate({identifier:e}),i=YN("functions");return i&&Y9e(n,...i),n}function Y9e(t,e,r){z9e(Or(t),e,r)}W9e();const gse="@firebase/installations",JB="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=1e4,yse=`w:${JB}`,xse="FIS_v2",X9e="https://firebaseinstallations.googleapis.com/v1",K9e=60*60*1e3,Q9e="installations",J9e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rh=new lp(Q9e,J9e,Z9e);function bse(t){return t instanceof xs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse({projectId:t}){return`${X9e}/projects/${t}/installations`}function Sse(t){return{token:t.token,requestStatus:2,expiresIn:tYe(t.expiresIn),creationTime:Date.now()}}async function Ese(t,e){const n=(await e.json()).error;return Rh.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ase({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function eYe(t,{refreshToken:e}){const r=Ase(t);return r.append("Authorization",rYe(e)),r}async function Cse(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tYe(t){return Number(t.replace("s","000"))}function rYe(t){return`${xse} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nYe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=wse(t),i=Ase(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:r,authVersion:xse,appId:t.appId,sdkVersion:yse},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await Cse(()=>fetch(n,s));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:Sse(u.authToken)}}else throw await Ese("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iYe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aYe=/^[cdef][\w-]{21}$/,xj="";function oYe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=sYe(t);return aYe.test(r)?r:xj}catch{return xj}}function sYe(t){return iYe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=new Map;function Pse(t,e){const r=OP(t);_se(r,e),lYe(r,e)}function _se(t,e){const r=Ise.get(t);if(r)for(const n of r)n(e)}function lYe(t,e){const r=uYe();r&&r.postMessage({key:t,fid:e}),cYe()}let Xf=null;function uYe(){return!Xf&&"BroadcastChannel"in self&&(Xf=new BroadcastChannel("[Firebase] FID Change"),Xf.onmessage=t=>{_se(t.data.key,t.data.fid)}),Xf}function cYe(){Ise.size===0&&Xf&&(Xf.close(),Xf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dYe="firebase-installations-database",fYe=1,jh="firebase-installations-store";let qD=null;function ZB(){return qD||(qD=Oie(dYe,fYe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jh)}}})),qD}async function uC(t,e){const r=OP(t),i=(await ZB()).transaction(jh,"readwrite"),a=i.objectStore(jh),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&Pse(t,e.fid),e}async function Ose(t){const e=OP(t),n=(await ZB()).transaction(jh,"readwrite");await n.objectStore(jh).delete(e),await n.done}async function kP(t,e){const r=OP(t),i=(await ZB()).transaction(jh,"readwrite"),a=i.objectStore(jh),o=await a.get(r),s=e(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&Pse(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t){let e;const r=await kP(t.appConfig,n=>{const i=hYe(n),a=pYe(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===xj?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function hYe(t){const e=t||{fid:oYe(),registrationStatus:0};return kse(e)}function pYe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Rh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=vYe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gYe(t)}:{installationEntry:e}}async function vYe(t,e){try{const r=await nYe(t,e);return uC(t.appConfig,r)}catch(r){throw bse(r)&&r.customData.serverCode===409?await Ose(t.appConfig):await uC(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function gYe(t){let e=await vG(t.appConfig);for(;e.registrationStatus===1;)await Tse(100),e=await vG(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await e4(t);return n||r}return e}function vG(t){return kP(t,e=>{if(!e)throw Rh.create("installation-not-found");return kse(e)})}function kse(t){return mYe(t)?{fid:t.fid,registrationStatus:0}:t}function mYe(t){return t.registrationStatus===1&&t.registrationTime+mse<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yYe({appConfig:t,heartbeatServiceProvider:e},r){const n=xYe(t,r),i=eYe(t,r),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:yse,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await Cse(()=>fetch(n,s));if(l.ok){const u=await l.json();return Sse(u)}else throw await Ese("Generate Auth Token",l)}function xYe(t,{fid:e}){return`${wse(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e=!1){let r;const n=await kP(t.appConfig,a=>{if(!Dse(a))throw Rh.create("not-registered");const o=a.authToken;if(!e&&SYe(o))return a;if(o.requestStatus===1)return r=bYe(t,e),a;{if(!navigator.onLine)throw Rh.create("app-offline");const s=AYe(a);return r=wYe(t,s),s}});return r?await r:n.authToken}async function bYe(t,e){let r=await gG(t.appConfig);for(;r.authToken.requestStatus===1;)await Tse(100),r=await gG(t.appConfig);const n=r.authToken;return n.requestStatus===0?t4(t,e):n}function gG(t){return kP(t,e=>{if(!Dse(e))throw Rh.create("not-registered");const r=e.authToken;return CYe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function wYe(t,e){try{const r=await yYe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await uC(t.appConfig,n),r}catch(r){if(bse(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Ose(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await uC(t.appConfig,n)}throw r}}function Dse(t){return t!==void 0&&t.registrationStatus===2}function SYe(t){return t.requestStatus===2&&!EYe(t)}function EYe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+K9e}function AYe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function CYe(t){return t.requestStatus===1&&t.requestTime+mse<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TYe(t){const e=t,{installationEntry:r,registrationPromise:n}=await e4(e);return n?n.catch(console.error):t4(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IYe(t,e=!1){const r=t;return await PYe(r),(await t4(r,e)).token}async function PYe(t){const{registrationPromise:e}=await e4(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Ye(t){if(!t||!t.options)throw GD("App Configuration");if(!t.name)throw GD("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw GD(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function GD(t){return Rh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse="installations",OYe="installations-internal",kYe=t=>{const e=t.getProvider("app").getImmediate(),r=_Ye(e),n=gc(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},DYe=t=>{const e=t.getProvider("app").getImmediate(),r=gc(e,Mse).getImmediate();return{getId:()=>TYe(r),getToken:i=>IYe(r,i)}};function MYe(){ss(new ko(Mse,kYe,"PUBLIC")),ss(new ko(OYe,DYe,"PRIVATE"))}MYe();na(gse,JB);na(gse,JB,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="analytics",RYe="firebase_id",jYe="origin",FYe=60*1e3,LYe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",r4="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new iP("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ye={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Eo=new lp("analytics","Analytics",$Ye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NYe(t){if(!t.startsWith(r4)){const e=Eo.create("invalid-gtag-resource",{gtagURL:t});return Ha.warn(e.message),""}return t}function Rse(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function BYe(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function VYe(t,e){const r=BYe("firebase-js-sdk-policy",{createScriptURL:NYe}),n=document.createElement("script"),i=`${r4}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function zYe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function UYe(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const l=(await Rse(r)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){Ha.error(s)}t("config",i,a)}async function qYe(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await Rse(r);for(const l of o){const u=s.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)a.push(c);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){Ha.error(a)}}function GYe(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await qYe(t,e,r,s,l)}else if(a==="config"){const[s,l]=o;await UYe(t,e,r,n,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){Ha.error(s)}}return i}function WYe(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=GYe(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function HYe(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(r4)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YYe=30,XYe=1e3;class KYe{constructor(e={},r=XYe){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jse=new KYe;function QYe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function JYe(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:QYe(n)},a=LYe.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Eo.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function ZYe(t,e=jse,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Eo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Eo.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new r7e;return setTimeout(async()=>{s.abort()},FYe),Fse({appId:n,apiKey:i,measurementId:a},o,s,e)}async function Fse(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=jse){var a;const{appId:o,measurementId:s}=t;try{await e7e(n,e)}catch(l){if(s)return Ha.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await JYe(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!t7e(u)){if(i.deleteThrottleMetadata(o),s)return Ha.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw l}const c=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?Mq(r,i.intervalMillis,YYe):Mq(r,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return i.setThrottleMetadata(o,d),Ha.debug(`Calling attemptFetch again in ${c} millis`),Fse(t,d,n,i)}}function e7e(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Eo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function t7e(t){if(!(t instanceof xs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class r7e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function n7e(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7e(){if(KN())try{await QN()}catch(t){return Ha.warn(Eo.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ha.warn(Eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a7e(t,e,r,n,i,a,o){var s;const l=ZYe(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ha.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ha.error(p)),e.push(l);const u=i7e().then(p=>{if(p)return n.getId()}),[c,d]=await Promise.all([l,u]);HYe(a)||VYe(a,c.measurementId),i("js",new Date);const f=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return f[jYe]="firebase",f.update=!0,d!=null&&(f[RYe]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7e{constructor(e){this.app=e}_delete(){return delete F0[this.app.options.appId],Promise.resolve()}}let F0={},mG=[];const yG={};let WD="dataLayer",s7e="gtag",xG,Lse,bG=!1;function l7e(){const t=[];if(XN()&&t.push("This is a browser extension environment."),Iie()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Eo.create("invalid-analytics-context",{errorInfo:e});Ha.warn(r.message)}}function u7e(t,e,r){l7e();const n=t.options.appId;if(!n)throw Eo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ha.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Eo.create("no-api-key");if(F0[n]!=null)throw Eo.create("already-exists",{id:n});if(!bG){zYe(WD);const{wrappedGtag:a,gtagCore:o}=WYe(F0,mG,yG,WD,s7e);Lse=a,xG=o,bG=!0}return F0[n]=a7e(t,mG,yG,e,xG,WD,r),new o7e(t)}function c7e(t=Ew()){t=Or(t);const e=gc(t,cC);return e.isInitialized()?e.getImmediate():d7e(t)}function d7e(t,e={}){const r=gc(t,cC);if(r.isInitialized()){const i=r.getImmediate();if(Cd(e,r.getOptions()))return i;throw Eo.create("already-initialized")}return r.initialize({options:e})}async function f7e(){if(XN()||!Iie()||!KN())return!1;try{return await QN()}catch{return!1}}function h7e(t,e,r,n){t=Or(t),n7e(Lse,F0[t.app.options.appId],e,r,n).catch(i=>Ha.error(i))}const wG="@firebase/analytics",SG="0.10.12";function p7e(){ss(new ko(cC,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return u7e(n,i,r)},"PUBLIC")),ss(new ko("analytics-internal",t,"PRIVATE")),na(wG,SG),na(wG,SG,"esm2017");function t(e){try{const r=e.getProvider(cC).getImmediate();return{logEvent:(n,i,a)=>h7e(r,n,i,a)}}catch(r){throw Eo.create("interop-component-reg-failed",{reason:r})}}}p7e();const v7e={apiKey:"AIzaSyDOugyzJkqn4TpD-o1fxWxs7uCK2bCniQQ",authDomain:"demodbn.firebaseapp.com",projectId:"demodbn",storageBucket:"demodbn.firebasestorage.app",messagingSenderId:"599400723868",appId:"1:599400723868:web:e2b23059726bcde37cc459",measurementId:"G-01MB4RKHWL"};let Pc=null,Mi,Dt,bj,EG,HD=null;try{console.log("Initializing Firebase..."),Pc=kie(v7e),Mi=s8e(Pc),Dt=lHe(Pc),bj=F9e(Pc),EG=H9e(Pc),iae(Mi,t=>{t?console.log("User is signed in:",t.uid):console.log("User is signed out")}),f7e().then(t=>{t&&Pc&&(HD=c7e(Pc),console.log("Analytics initialized successfully"))}).catch(t=>{console.error("Analytics not supported:",t),HD=null}),console.log("Firebase initialized successfully")}catch(t){console.error("Firebase initialization error:",t),Pc=null,Mi={currentUser:null,onAuthStateChanged:()=>()=>{},signInWithEmailAndPassword:()=>Promise.reject(new Error("Firebase not initialized")),signOut:()=>Promise.reject(new Error("Firebase not initialized")),createUserWithEmailAndPassword:()=>Promise.reject(new Error("Firebase not initialized"))},Dt={},bj={},EG={},HD=null}const g7e=({opened:t,setOpened:e,userId:r})=>{const[n]=ce.useForm(),[i,a]=j.useState(!0),[o,s]=j.useState(!1),[l,u]=j.useState(null),c=()=>{e(!1)};j.useEffect(()=>{t&&r&&(async()=>{a(!0);try{const p=Un(Dt,"users",r),v=await Md(p);if(v.exists()){const g=v.data();n.setFieldsValue(g),u(g)}}catch(p){_e.error("Failed to load user profile."),console.log("User account error : ",{error:p})}finally{a(!1)}})()},[t,r]);const d=async f=>{try{s(!0);const p=Mi.currentUser;if(!p)throw new Error("No authenticated user");await HUe(p,{displayName:f.name,photoURL:p.photoURL}),p.email!==f.email&&await YUe(p,f.email);const v=Un(Dt,"users",p.uid);await Dh(v,{name:f.name,email:f.email,role:f.role}),_e.success("Profile updated successfully!"),e(!1)}catch(p){console.error(p),_e.error(p.message||"Update failed")}finally{s(!1)}};return i?h.jsx(wh,{open:t,width:756,styles:{body:{background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"}},children:h.jsx(yi,{})}):h.jsxs(wh,{onClose:c,open:t,width:756,styles:{body:{background:"#f5f5f5",padding:0},header:{display:"none"}},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",backgroundColor:"#fff"},children:[h.jsx(lh,{strong:!0,children:"Account Settings"}),h.jsx(ie,{type:"text",icon:h.jsx(g$,{}),onClick:()=>c()})]}),h.jsx("div",{style:{padding:"16px"},children:h.jsx(ue,{children:h.jsxs(ce,{form:n,layout:"vertical",onFinish:d,children:[h.jsx(ce.Item,{label:"Name",name:"name",children:h.jsx(Ve,{placeholder:"Name"})}),h.jsx(ce.Item,{label:"Email",name:"email",children:h.jsx(Ve,{placeholder:"Email"})}),h.jsx(ce.Item,{label:"Role",name:"role",children:h.jsx(Ve,{placeholder:"User Role"})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",loading:o,style:{float:"right"},children:"Save Changes"})})]})})})]})},m7e=()=>{const[t,e]=I.useState(!1),{data:r}=ua(),n=h.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[h.jsx(lh,{strong:!0,style:{padding:"12px 20px"},children:r==null?void 0:r.name}),h.jsx("div",{style:{borderTop:"1px solid #d9d9d9",padding:"4px",display:"flex",flexDirection:"column",gap:"4px"},children:h.jsx(ie,{style:{textAlign:"left"},icon:h.jsx(ox,{}),type:"text",block:!0,onClick:()=>e(!0),children:"Account settings"})})]});return h.jsxs(h.Fragment,{children:[h.jsx(dxe,{placement:"bottomRight",content:n,trigger:"click",overlayInnerStyle:{padding:0},overlayStyle:{zIndex:999},children:h.jsx(sze,{name:r==null?void 0:r.name,src:r==null?void 0:r.avatarUrl,size:"default",style:{cursor:"pointer"}})}),r&&h.jsx(g7e,{opened:t,setOpened:e,userId:r.id})]})},{useToken:y7e}=Cn,x7e=()=>{const{token:t}=y7e(),e={backgroundColor:t.colorBgElevated,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px",position:"sticky",top:0,zIndex:999};return h.jsx(wr.Header,{style:e,children:h.jsx(me,{align:"center",size:"middle",children:h.jsx(m7e,{})})})},b7e=t=>h.jsx(pie,{...t,Title:({collapsed:e})=>h.jsx("div",{style:{padding:"0 16px",fontSize:e?"16px":"22px",fontWeight:700,textAlign:e?"center":"left",overflow:"hidden"},children:e?"IP":"Incubation Platform"})}),w7e=({children:t})=>h.jsx(h.Fragment,{children:h.jsx(LVe,{Header:x7e,Sider:b7e,Title:e=>h.jsx(Kd,{...e,text:"Incubation Platform"}),children:t})}),{Title:S7e,Text:Ay,Paragraph:E7e}=rt,{TabPane:Ts}=Ft,A7e=[{id:1,name:"TechInnovate",status:"Active",compliance:95,sector:"FinTech",progress:72,risk:"Low"},{id:2,name:"GreenSolutions",status:"Active",compliance:87,sector:"CleanEnergy",progress:56,risk:"Medium"},{id:3,name:"HealthPlus",status:"Warning",compliance:73,sector:"HealthTech",progress:45,risk:"High"},{id:4,name:"EduConnect",status:"Active",compliance:91,sector:"EdTech",progress:81,risk:"Low"},{id:5,name:"AgriTech Systems",status:"Warning",compliance:68,sector:"Agriculture",progress:38,risk:"High"}],C7e=[{id:1,name:"Accelerator 2024",startups:12,progress:65,status:"Active",budget:25e4,spent:18e4},{id:2,name:"Scale-Up Cohort",startups:8,progress:92,status:"Ending",budget:18e4,spent:162e3},{id:3,name:"Early Stage Ventures",startups:15,progress:38,status:"Active",budget:3e5,spent:11e4}],T7e=[{category:"Mentorship",allocated:12e4,spent:95e3,remaining:25e3},{category:"Facilities",allocated:2e5,spent:17e4,remaining:3e4},{category:"Marketing",allocated:8e4,spent:65e3,remaining:15e3},{category:"Events",allocated:5e4,spent:42e3,remaining:8e3},{category:"Technology",allocated:15e4,spent:11e4,remaining:4e4},{category:"Operations",allocated:18e4,spent:16e4,remaining:2e4}],I7e=[{metric:"Revenue Growth",target:25,actual:32,unit:"%",status:"Exceeding"},{metric:"Funding Secured",target:5e6,actual:42e5,unit:"$",status:"On Track"},{metric:"Job Creation",target:120,actual:97,unit:"jobs",status:"At Risk"},{metric:"Market Expansion",target:3,actual:4,unit:"markets",status:"Exceeding"},{metric:"Product Launches",target:12,actual:10,unit:"products",status:"On Track"}],P7e=[{resource:"Mentors",allocated:45,utilized:38,utilization:84},{resource:"Meeting Rooms",allocated:8,utilized:7,utilization:92},{resource:"Event Spaces",allocated:3,utilized:2,utilization:65},{resource:"Lab Equipment",allocated:12,utilized:8,utilization:72},{resource:"Software Licenses",allocated:200,utilized:185,utilization:93}],$n={totalIncubatees:35,activeProjects:28,complianceRate:84,averageProgress:72,pendingApprovals:7,upcomingDeadlines:12,successRate:76,avgFundingSecured:85e4,activeMentors:42,resourceUtilization:78,totalBudget:15e5,budgetUtilized:115e4,roi:2.4},sl=[{id:1,name:"TechInnovate",sector:"FinTech",stage:"Growth",valuation:45e5,investment:75e4,progress:72,metrics:{revenue:12e5,customers:5800,employees:32,growthRate:68},status:"Active",risk:"Low"},{id:2,name:"GreenSolutions",sector:"CleanEnergy",stage:"Early Growth",valuation:28e5,investment:5e5,progress:56,metrics:{revenue:84e4,customers:1200,employees:18,growthRate:42},status:"Active",risk:"Medium"},{id:3,name:"HealthPlus",sector:"HealthTech",stage:"Seed",valuation:12e5,investment:3e5,progress:45,metrics:{revenue:32e4,customers:1500,employees:12,growthRate:85},status:"Warning",risk:"High"},{id:4,name:"EduConnect",sector:"EdTech",stage:"Growth",valuation:38e5,investment:65e4,progress:81,metrics:{revenue:95e4,customers:8500,employees:27,growthRate:74},status:"Active",risk:"Low"},{id:5,name:"AgriTech Systems",sector:"Agriculture",stage:"Seed",valuation:95e4,investment:25e4,progress:38,metrics:{revenue:18e4,customers:450,employees:8,growthRate:28},status:"Warning",risk:"High"}],AG=[{sector:"FinTech",companies:8,totalInvestment:32e5,averageValuation:41e5,performance:72},{sector:"HealthTech",companies:6,totalInvestment:24e5,averageValuation:28e5,performance:65},{sector:"CleanEnergy",companies:5,totalInvestment:21e5,averageValuation:31e5,performance:58},{sector:"EdTech",companies:7,totalInvestment:28e5,averageValuation:36e5,performance:81},{sector:"Agriculture",companies:4,totalInvestment:15e5,averageValuation:12e5,performance:42},{sector:"E-commerce",companies:5,totalInvestment:19e5,averageValuation:25e5,performance:63}],_7e=[{id:1,company:"TechInnovate",milestone:"Series A Funding",target:"2024-08-15",progress:85,status:"On Track"},{id:2,company:"GreenSolutions",milestone:"Market Expansion",target:"2024-09-30",progress:62,status:"At Risk"},{id:3,company:"HealthPlus",milestone:"Product Launch",target:"2024-07-20",progress:45,status:"Delayed"},{id:4,company:"EduConnect",milestone:"User Growth Target",target:"2024-08-01",progress:92,status:"Ahead"},{id:5,company:"AgriTech Systems",milestone:"Pilot Program",target:"2024-10-15",progress:38,status:"Delayed"}],O7e=()=>{const[t,e]=j.useState("overview"),r=o=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),n=()=>h.jsx("div",{children:h.jsx(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:h.jsx(oe,{xs:24,children:h.jsx(ue,{children:h.jsxs(Ft,{defaultActiveKey:"program",onChange:o=>console.log(o),children:[h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(vv,{}),"Program Overview"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Programs",value:3,prefix:h.jsx(vv,{})})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Startups",value:$n.totalIncubatees,prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Success Rate",value:$n.successRate,suffix:"%",prefix:h.jsx(Ga,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Program Compliance",value:$n.complianceRate,suffix:"%",prefix:h.jsx(Ga,{}),valueStyle:{color:"#3f8600"}})})})]}),h.jsx(ue,{title:"Incubation Programs",style:{marginTop:16},children:h.jsxs(Le,{dataSource:C7e,rowKey:"id",pagination:!1,children:[h.jsx(Le.Column,{title:"Program",dataIndex:"name"},"name"),h.jsx(Le.Column,{title:"Startups",dataIndex:"startups"},"startups"),h.jsx(Le.Column,{title:"Progress",dataIndex:"progress",render:o=>h.jsx(yr,{percent:o,size:"small",status:o<50?"exception":o<80?"active":"success"})},"progress"),h.jsx(Le.Column,{title:"Status",dataIndex:"status",render:o=>h.jsx(Me,{color:o==="Active"?"green":o==="Ending"?"orange":"red",children:o})},"status"),h.jsx(Le.Column,{title:"Budget Utilization",render:o=>{const s=Math.round(o.spent/o.budget*100);return h.jsxs("div",{children:[h.jsx(yr,{percent:s,size:"small",status:s>90?"exception":"normal"}),h.jsxs("div",{style:{fontSize:"12px",color:"#888"},children:[r(o.spent)," of ",r(o.budget)]})]})}},"budget"),h.jsx(Le.Column,{title:"Actions",render:()=>h.jsxs(me,{children:[h.jsx(ie,{size:"small",children:"Details"}),h.jsx(ie,{size:"small",type:"primary",children:"Manage"})]})},"actions")]})})]},"program"),h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(JJ,{}),"Success Metrics"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Average Funding Secured",value:$n.avgFundingSecured,prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o))})})}),h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Mentors",value:$n.activeMentors,prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"ROI",value:$n.roi,prefix:h.jsx(pv,{}),precision:1,suffix:"x",valueStyle:{color:"#3f8600"}})})})]}),h.jsx(ue,{title:"Key Performance Indicators",style:{marginTop:16},children:h.jsxs(Le,{dataSource:I7e,rowKey:"metric",pagination:!1,children:[h.jsx(Le.Column,{title:"Metric",dataIndex:"metric",render:o=>h.jsx(Ay,{strong:!0,children:o})},"metric"),h.jsx(Le.Column,{title:"Target",render:o=>h.jsx("span",{children:o.metric.includes("Funding")?r(o.target):`${o.target.toLocaleString()} ${o.unit}`})},"target"),h.jsx(Le.Column,{title:"Actual",render:o=>h.jsx("span",{children:o.metric.includes("Funding")?r(o.actual):`${o.actual.toLocaleString()} ${o.unit}`})},"actual"),h.jsx(Le.Column,{title:"Progress",render:o=>{const s=Math.round(o.actual/o.target*100);let l="normal";return s>=100?l="success":s<80?l="exception":l="active",h.jsx(yr,{percent:s,size:"small",status:l})}},"progress"),h.jsx(Le.Column,{title:"Status",dataIndex:"status",render:o=>{let s="blue";return o==="Exceeding"&&(s="green"),o==="At Risk"&&(s="red"),h.jsx(Me,{color:s,children:o})}},"status")]})})]},"kpis"),h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(Ls,{}),"Resource Utilization"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Resource Utilization",value:$n.resourceUtilization,suffix:"%",prefix:h.jsx(_v,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Projects",value:$n.activeProjects,prefix:h.jsx(vv,{})})})}),h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Capacity Usage",value:81,suffix:"%",prefix:h.jsx(_v,{}),valueStyle:{color:"#3f8600"}})})})]}),h.jsx(ue,{title:"Resource Allocation",style:{marginTop:16},children:h.jsxs(Le,{dataSource:P7e,rowKey:"resource",pagination:!1,children:[h.jsx(Le.Column,{title:"Resource",dataIndex:"resource"},"resource"),h.jsx(Le.Column,{title:"Total Allocated",dataIndex:"allocated"},"allocated"),h.jsx(Le.Column,{title:"Currently Utilized",dataIndex:"utilized"},"utilized"),h.jsx(Le.Column,{title:"Utilization",render:o=>h.jsx(yr,{percent:o.utilization,size:"small",status:o.utilization<60?"exception":o.utilization>90?"success":"active"})},"utilization"),h.jsx(Le.Column,{title:"Status",render:o=>{let s="Optimal",l="green";return o.utilization<60?(s="Underutilized",l="orange"):o.utilization>90&&(s="Near Capacity",l="gold"),h.jsx(Me,{color:l,children:s})}},"status")]})})]},"resources"),h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(Oi,{}),"Financial Tracking"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Budget",value:$n.totalBudget,prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o))})})}),h.jsx(oe,{xs:24,md:8,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Budget Utilized",value:$n.budgetUtilized,prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o))}),h.jsx("div",{style:{marginTop:8},children:h.jsx(yr,{percent:Math.round($n.budgetUtilized/$n.totalBudget*100),size:"small"})})]})}),h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Remaining Budget",value:$n.totalBudget-$n.budgetUtilized,prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o)),valueStyle:{color:"#3f8600"}})})})]}),h.jsx(ue,{title:"Budget Allocation by Category",style:{marginTop:16},children:h.jsxs(Le,{dataSource:T7e,rowKey:"category",pagination:!1,summary:o=>{let s=0,l=0,u=0;return o.forEach(({allocated:c,spent:d,remaining:f})=>{s+=c,l+=d,u+=f}),h.jsxs(Le.Summary.Row,{style:{fontWeight:"bold"},children:[h.jsx(Le.Summary.Cell,{index:0,children:"Total"}),h.jsx(Le.Summary.Cell,{index:1,children:r(s)}),h.jsx(Le.Summary.Cell,{index:2,children:r(l)}),h.jsx(Le.Summary.Cell,{index:3,children:r(u)}),h.jsx(Le.Summary.Cell,{index:4,children:h.jsx(yr,{percent:Math.round(l/s*100),size:"small"})})]})},children:[h.jsx(Le.Column,{title:"Category",dataIndex:"category"},"category"),h.jsx(Le.Column,{title:"Allocated",dataIndex:"allocated",render:o=>r(o)},"allocated"),h.jsx(Le.Column,{title:"Spent",dataIndex:"spent",render:o=>r(o)},"spent"),h.jsx(Le.Column,{title:"Remaining",dataIndex:"remaining",render:o=>r(o)},"remaining"),h.jsx(Le.Column,{title:"Utilization",render:o=>h.jsx(yr,{percent:Math.round(o.spent/o.allocated*100),size:"small",status:o.spent/o.allocated>.9?"exception":"normal"})},"utilization")]})})]},"financial")]})})})})}),i=()=>h.jsxs("div",{children:[h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:[h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Incubatees",value:$n.totalIncubatees,prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Projects",value:$n.activeProjects,prefix:h.jsx(Wa,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Compliance Rate",value:$n.complianceRate,suffix:"%",prefix:h.jsx(Ga,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Average Progress",value:$n.averageProgress,suffix:"%",prefix:h.jsx(qf,{})})})})]}),h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:12,children:h.jsx(ue,{title:h.jsxs(me,{children:[h.jsx(Zv,{style:{color:"#ff4d4f"}}),h.jsx("span",{children:"Attention Required"})]}),style:{marginBottom:"24px"},children:h.jsx(At,{size:"small",dataSource:[{text:"Pending approvals",count:$n.pendingApprovals},{text:"Upcoming deadlines",count:$n.upcomingDeadlines},{text:"Compliance issues",count:3},{text:"Budget reviews needed",count:5}],renderItem:o=>h.jsxs(At.Item,{children:[h.jsxs(me,{children:[h.jsx(JT,{}),h.jsx(Ay,{children:o.text})]}),h.jsx(Me,{color:"red",children:o.count})]})})})}),h.jsx(oe,{xs:24,md:12,children:h.jsx(ue,{title:h.jsxs(me,{children:[h.jsx(ar,{}),h.jsx("span",{children:"Incubatees Status"})]}),style:{marginBottom:"24px"},children:h.jsx(At,{size:"small",dataSource:A7e,renderItem:o=>h.jsxs(At.Item,{children:[h.jsxs("div",{children:[h.jsx(Ay,{strong:!0,children:o.name}),h.jsx("br",{}),h.jsx(Ay,{type:"secondary",children:o.sector})]}),h.jsxs(me,{children:[h.jsxs(Me,{color:o.compliance>80?"green":o.compliance>70?"orange":"red",children:[o.compliance,"% Compliance"]}),h.jsx(Me,{color:o.status==="Active"?"blue":"volcano",children:o.status})]})]})})})})]})]}),a=()=>h.jsx("div",{children:h.jsx(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:h.jsx(oe,{xs:24,children:h.jsx(ue,{children:h.jsxs(Ft,{defaultActiveKey:"companies",onChange:o=>console.log(o),children:[h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(ar,{}),"Portfolio Companies"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Portfolio Companies",value:sl.length,prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Portfolio Value",value:sl.reduce((o,s)=>o+s.valuation,0),prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o))})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Avg. Growth Rate",value:Math.round(sl.reduce((o,s)=>o+s.metrics.growthRate,0)/sl.length),suffix:"%",prefix:h.jsx(qf,{}),valueStyle:{color:"#3f8600"}})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"High Risk Companies",value:sl.filter(o=>o.risk==="High").length,prefix:h.jsx(Zv,{}),valueStyle:{color:"#cf1322"}})})})]}),h.jsx(ue,{title:"Portfolio Companies",style:{marginTop:16},children:h.jsxs(Le,{dataSource:sl,rowKey:"id",pagination:{pageSize:10},children:[h.jsx(Le.Column,{title:"Company",render:o=>h.jsxs(me,{children:[h.jsx(vi,{style:{backgroundColor:"#1890ff"},children:o.name.charAt(0)}),h.jsx("span",{children:o.name})]}),sorter:(o,s)=>o.name.localeCompare(s.name)},"name"),h.jsx(Le.Column,{title:"Sector",dataIndex:"sector",filters:[{text:"FinTech",value:"FinTech"},{text:"HealthTech",value:"HealthTech"},{text:"CleanEnergy",value:"CleanEnergy"},{text:"EdTech",value:"EdTech"},{text:"Agriculture",value:"Agriculture"}],onFilter:(o,s)=>s.sector===o,render:o=>h.jsx(Me,{color:"blue",children:o})},"sector"),h.jsx(Le.Column,{title:"Stage",dataIndex:"stage",filters:[{text:"Seed",value:"Seed"},{text:"Early Growth",value:"Early Growth"},{text:"Growth",value:"Growth"}],onFilter:(o,s)=>s.stage===o},"stage"),h.jsx(Le.Column,{title:"Valuation",dataIndex:"valuation",render:o=>r(o),sorter:(o,s)=>o.valuation-s.valuation},"valuation"),h.jsx(Le.Column,{title:"Investment",dataIndex:"investment",render:o=>r(o),sorter:(o,s)=>o.investment-s.investment},"investment"),h.jsx(Le.Column,{title:"Progress",dataIndex:"progress",render:o=>h.jsx(yr,{percent:o,size:"small",status:o<50?"exception":o<80?"active":"success"}),sorter:(o,s)=>o.progress-s.progress},"progress"),h.jsx(Le.Column,{title:"Risk",dataIndex:"risk",render:o=>{let s="green";return o==="Medium"&&(s="orange"),o==="High"&&(s="red"),h.jsx(Me,{color:s,children:o})},filters:[{text:"Low",value:"Low"},{text:"Medium",value:"Medium"},{text:"High",value:"High"}],onFilter:(o,s)=>s.risk===o},"risk"),h.jsx(Le.Column,{title:"Actions",render:()=>h.jsxs(me,{children:[h.jsx(ie,{size:"small",children:"Details"}),h.jsx(ie,{size:"small",type:"primary",children:"Metrics"})]})},"actions")]})})]},"companies"),h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(Oi,{}),"Investment Monitoring"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Invested",value:sl.reduce((o,s)=>o+s.investment,0),prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o))})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Current Portfolio Value",value:sl.reduce((o,s)=>o+s.valuation,0),prefix:h.jsx(Oi,{}),formatter:o=>r(Number(o))})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Average Multiple",value:Math.round(sl.reduce((o,s)=>o+s.valuation,0)/sl.reduce((o,s)=>o+s.investment,0)*10)/10,prefix:h.jsx(pv,{}),suffix:"x",valueStyle:{color:"#3f8600"}})})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Funding Rounds",value:12,prefix:h.jsx(qf,{})})})})]}),h.jsx(ue,{title:"Key Milestones",style:{marginTop:16},children:h.jsxs(Le,{dataSource:_7e,rowKey:"id",pagination:!1,children:[h.jsx(Le.Column,{title:"Company",dataIndex:"company"},"company"),h.jsx(Le.Column,{title:"Milestone",dataIndex:"milestone"},"milestone"),h.jsx(Le.Column,{title:"Target Date",dataIndex:"target"},"target"),h.jsx(Le.Column,{title:"Progress",dataIndex:"progress",render:o=>h.jsx(yr,{percent:o,size:"small",status:o<50?"exception":o<80?"active":"success"})},"progress"),h.jsx(Le.Column,{title:"Status",dataIndex:"status",render:o=>{let s="blue";return o==="Ahead"&&(s="green"),o==="At Risk"&&(s="orange"),o==="Delayed"&&(s="red"),h.jsx(Me,{color:s,children:o})}},"status"),h.jsx(Le.Column,{title:"Actions",render:()=>h.jsxs(me,{children:[h.jsx(ie,{size:"small",children:"Details"}),h.jsx(ie,{size:"small",type:"primary",children:"Update"})]})},"actions")]})})]},"investments"),h.jsxs(Ts,{tab:h.jsxs("span",{children:[h.jsx(_v,{}),"Sector Analysis"]}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Sectors",value:AG.length,prefix:h.jsx(Ls,{})})})}),h.jsx(oe,{xs:24,md:8,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Best Performing Sector",value:"EdTech",prefix:h.jsx(qf,{}),valueStyle:{color:"#3f8600"}}),h.jsx("div",{style:{fontSize:"12px",marginTop:"8px"},children:"Performance Score: 81%"})]})}),h.jsx(oe,{xs:24,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Strategic Focus Recommendation",value:"FinTech & EdTech",prefix:h.jsx(pv,{})})})})]}),h.jsx(ue,{title:"Sector Performance",style:{marginTop:16},children:h.jsxs(Le,{dataSource:AG,rowKey:"sector",pagination:!1,children:[h.jsx(Le.Column,{title:"Sector",dataIndex:"sector",render:o=>h.jsx(Me,{color:"blue",children:o})},"sector"),h.jsx(Le.Column,{title:"Companies",dataIndex:"companies",sorter:(o,s)=>o.companies-s.companies},"companies"),h.jsx(Le.Column,{title:"Total Investment",dataIndex:"totalInvestment",render:o=>r(o),sorter:(o,s)=>o.totalInvestment-s.totalInvestment},"totalInvestment"),h.jsx(Le.Column,{title:"Average Valuation",dataIndex:"averageValuation",render:o=>r(o),sorter:(o,s)=>o.averageValuation-s.averageValuation},"averageValuation"),h.jsx(Le.Column,{title:"Performance Score",dataIndex:"performance",render:o=>h.jsx(yr,{percent:o,size:"small",status:o<50?"exception":o<70?"active":"success"}),sorter:(o,s)=>o.performance-s.performance},"performance"),h.jsx(Le.Column,{title:"Status",render:o=>{let s="Average",l="blue";return o.performance<50?(s="Underperforming",l="red"):o.performance>=75&&(s="High Performing",l="green"),h.jsx(Me,{color:l,children:s})}},"status")]})})]},"sectors")]})})})})});return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(S7e,{level:2,children:"Director Dashboard"}),h.jsx(Ay,{type:"secondary",children:"Strategic oversight and decision-making platform"}),h.jsx(pt,{}),h.jsxs(Ft,{activeKey:t,onChange:e,children:[h.jsx(Ts,{tab:h.jsxs("span",{children:[h.jsx(Wa,{}),"Overview"]}),children:i()},"overview"),h.jsx(Ts,{tab:h.jsxs("span",{children:[h.jsx(pv,{}),"Strategic Dashboard"]}),children:n()},"strategic"),h.jsx(Ts,{tab:h.jsxs("span",{children:[h.jsx(vv,{}),"Portfolio Management"]}),children:a()},"portfolio"),h.jsx(Ts,{tab:h.jsxs("span",{children:[h.jsx(Ya,{}),"Strategic Decisions"]}),children:h.jsx(E7e,{children:"Strategic Decision-Making content will be implemented next"})},"decisions")]})]})},{Search:k7e}=Ve,CG=["Director","Admin","Operations","Incubatee","Funder","Consultant","Mentor"],D7e=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,s]=j.useState(!1),[l,u]=j.useState(!1),[c,d]=j.useState(null),[f,p]=j.useState(""),[v,g]=j.useState(!1),[m,y]=j.useState(""),[x]=ce.useForm();j.useEffect(()=>{const O=So(dn(Dt,"users"));a(!0);const D=AHe(O,B=>{try{const $=B.docs.map(L=>{const R=L.data();let V=R.createdAt||new Date().toISOString();try{new Date(V).toString()==="Invalid Date"&&(V=new Date().toISOString())}catch{V=new Date().toISOString()}return{id:L.id,...R,createdAt:V,status:R.status||"Active"}});e($),n($),a(!1)}catch($){console.error("Error processing user data:",$),_e.error("Failed to process user data. Please try again."),a(!1)}},B=>{console.error("Error fetching users:",B),_e.error("Failed to load users. Please try again."),a(!1)});return()=>D()},[]),j.useEffect(()=>{if(f){const O=t.filter(D=>D.name.toLowerCase().includes(f.toLowerCase())||D.email.toLowerCase().includes(f.toLowerCase())||D.role.toLowerCase().includes(f.toLowerCase()));n(O)}else n(t)},[f,t]);const b=(O=!1,D=null)=>{u(O),d(D),s(!0),O&&D?x.setFieldsValue({name:D.name,email:D.email,role:D.role,status:D.status==="Active"}):(x.resetFields(),x.setFieldsValue({status:!0}))},w=async O=>{try{if(l&&c)await Dh(Un(Dt,"users",c.id),{name:O.name,role:O.role,status:O.status?"Active":"Inactive",updatedAt:new Date().toISOString()}),O.email!==c.email&&_e.info("Email changes require the user to log in again for security reasons."),_e.success("User updated successfully!");else try{const D=await rae(Mi,O.email,O.password);await gj(Un(Dt,"users",D.user.uid),{uid:D.user.uid,name:O.name,email:O.email,role:O.role,status:O.status?"Active":"Inactive",createdAt:new Date().toISOString()}),_e.success("User created successfully!")}catch(D){console.error("Auth error:",D),_e.error(`Failed to create user: ${D.message||"Unknown error"}`);return}s(!1),x.resetFields()}catch(D){console.error("Error saving user:",D),_e.error(D.message||"Failed to save user. Please try again.")}},S=async O=>{try{await EHe(Un(Dt,"users",O)),_e.success("User deleted successfully!")}catch(D){console.error("Error deleting user:",D),_e.error(`Failed to delete user: ${D.message||"Unknown error"}`)}},C=O=>{y(O),g(!0)},E=async()=>{try{await GUe(Mi,m),_e.success(`Password reset email sent to ${m}`),g(!1)}catch(O){console.error("Error sending password reset:",O),_e.error(`Failed to send password reset: ${O.message||"Unknown error"}`)}},A=async O=>{try{const D=O.status==="Active"?"Inactive":"Active";await Dh(Un(Dt,"users",O.id),{status:D,updatedAt:new Date().toISOString()}),_e.success(`User status changed to ${D}`)}catch(D){console.error("Error updating status:",D),_e.error(`Failed to update status: ${D.message||"Unknown error"}`)}},P=O=>{if(!O)return"N/A";try{const D=new Date(O);return D.toString()==="Invalid Date"?"N/A":D.toLocaleDateString()}catch{return"N/A"}},_=()=>{a(!0),setTimeout(()=>{a(!1)},1e3)},k=[{title:"Name",dataIndex:"name",key:"name",sorter:(O,D)=>O.name.localeCompare(D.name),width:"20%"},{title:"Email",dataIndex:"email",key:"email",width:"25%"},{title:"Role",dataIndex:"role",key:"role",filters:CG.map(O=>({text:O,value:O})),onFilter:(O,D)=>D.role===O,render:O=>h.jsx(Me,{color:O==="Director"?"purple":O==="Admin"?"blue":O==="Operations"?"green":O==="Incubatee"?"orange":O==="Funder"?"gold":O==="Consultant"?"cyan":"default",children:O}),width:"15%"},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Active",value:"Active"},{text:"Inactive",value:"Inactive"}],onFilter:(O,D)=>D.status===O,render:(O,D)=>h.jsx(rR,{title:`Change user status to ${O==="Active"?"Inactive":"Active"}?`,onConfirm:()=>A(D),okText:"Yes",cancelText:"No",children:h.jsx(Me,{color:O==="Active"?"success":"error",style:{cursor:"pointer"},children:O})}),width:"10%"},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:O=>P(O),sorter:(O,D)=>{const B=O.createdAt?new Date(O.createdAt).getTime():0,$=D.createdAt?new Date(D.createdAt).getTime():0;return B-$},width:"15%"},{title:"Actions",key:"actions",render:(O,D)=>h.jsxs(me,{size:"small",children:[h.jsx(hr,{title:"Edit User",children:h.jsx(ie,{type:"text",icon:h.jsx(Nl,{}),onClick:()=>b(!0,D),size:"small"})}),h.jsx(hr,{title:"Reset Password",children:h.jsx(ie,{type:"text",icon:h.jsx(pxe,{}),onClick:()=>C(D.email),size:"small"})}),h.jsx(rR,{title:"Are you sure you want to delete this user?",description:"This action cannot be undone.",onConfirm:()=>S(D.id),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:h.jsx(hr,{title:"Delete User",children:h.jsx(ie,{type:"text",icon:h.jsx(Bl,{}),danger:!0,size:"small"})})})]}),width:"15%"}];return h.jsxs("div",{children:[h.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(ie,{type:"primary",icon:h.jsx(fxe,{}),onClick:()=>b(),children:"Add User"}),h.jsxs(me,{children:[h.jsx(k7e,{placeholder:"Search users by name, email or role",value:f,onChange:O=>p(O.target.value),onSearch:O=>p(O),style:{width:300},allowClear:!0}),h.jsx(ie,{icon:h.jsx(hxe,{}),onClick:_,children:"Refresh"})]})]}),h.jsx(Le,{dataSource:r,columns:k,rowKey:"id",loading:i,pagination:{pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showTotal:O=>`Total ${O} users`}}),h.jsx(_r,{title:l?"Edit User":"Create New User",open:o,onCancel:()=>s(!1),footer:null,maskClosable:!1,children:h.jsxs(ce,{form:x,layout:"vertical",onFinish:w,children:[h.jsx(ce.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter user's name"}],children:h.jsx(Ve,{placeholder:"Enter full name"})}),h.jsx(ce.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter user's email"},{type:"email",message:"Please enter a valid email"}],children:h.jsx(Ve,{placeholder:"Enter email address",disabled:l})}),!l&&h.jsx(ce.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter a password"},{min:6,message:"Password must be at least 6 characters"}],children:h.jsx(Ve.Password,{placeholder:"Enter password"})}),h.jsx(ce.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please select a role"}],children:h.jsx(He,{placeholder:"Select role",children:CG.map(O=>h.jsx(He.Option,{value:O,children:O},O))})}),h.jsx(ce.Item,{name:"status",label:"Status",valuePropName:"checked",children:h.jsx(nR,{checkedChildren:"Active",unCheckedChildren:"Inactive"})}),h.jsx(ce.Item,{children:h.jsxs(me,{children:[h.jsx(ie,{type:"primary",htmlType:"submit",children:l?"Update":"Create"}),h.jsx(ie,{onClick:()=>s(!1),children:"Cancel"})]})})]})}),h.jsxs(_r,{title:"Reset Password",open:v,onCancel:()=>g(!1),onOk:E,okText:"Send Reset Email",cancelText:"Cancel",children:[h.jsx("p",{children:"Are you sure you want to send a password reset email to:"}),h.jsx("p",{style:{fontWeight:"bold"},children:m}),h.jsx("p",{children:"The user will receive an email with instructions to reset their password."})]})]})},{Title:Z9t,Text:eYt}=rt,{TabPane:tYt}=Ft,{Title:M7e,Text:pu,Paragraph:R7e}=rt,{TabPane:fS}=Ft,j7e=[{id:1,title:"Review quarterly reports",dueDate:"2023-10-25",priority:"High",status:"In Progress"},{id:2,title:"Schedule mentorship session",dueDate:"2023-10-30",priority:"Medium",status:"To Do"},{id:3,title:"Prepare compliance update",dueDate:"2023-11-05",priority:"High",status:"To Do"},{id:4,title:"Update incubatee database",dueDate:"2023-10-20",priority:"Low",status:"Completed"},{id:5,title:"Organize workshop",dueDate:"2023-11-15",priority:"Medium",status:"In Progress"}],F7e=[{date:"2023-10-20",title:"Incubatee Onboarding",time:"10:00 AM",type:"meeting"},{date:"2023-10-22",title:"Quarterly Review Deadline",time:"All Day",type:"deadline"},{date:"2023-10-25",title:"Mentor Matching Session",time:"2:00 PM",type:"event"},{date:"2023-10-28",title:"Pitch Practice Workshop",time:"11:00 AM",type:"workshop"},{date:"2023-11-01",title:"Investor Networking Event",time:"3:00 PM",type:"event"}],ll={upToDate:22,needsReview:8,overdue:5,total:35},L7e=[{id:1,formName:"Incubatee Application",submissions:24,pending:8,status:"Active"},{id:2,formName:"Mentor Registration",submissions:18,pending:3,status:"Active"},{id:3,formName:"Quarterly Progress Report",submissions:15,pending:10,status:"Active"},{id:4,formName:"Resource Request",submissions:12,pending:5,status:"Active"},{id:5,formName:"Feedback Survey",submissions:30,pending:0,status:"Closed"}],$7e=[{id:1,resource:"Conference Room A",allocated:80,available:20,allocatedTo:"Startup Pitches"},{id:2,resource:"Workshop Space",allocated:65,available:35,allocatedTo:"Technical Training"},{id:3,resource:"Mentorship Hours",allocated:45,available:55,allocatedTo:"Early Stage Startups"},{id:4,resource:"Lab Equipment",allocated:90,available:10,allocatedTo:"R&D Teams"}],N7e=[{id:1,name:"TechSolutions Inc.",stage:"Early",mentorAssigned:"Yes",nextReview:"2023-11-15",status:"Active"},{id:2,name:"GreenEnergy Startup",stage:"Growth",mentorAssigned:"Yes",nextReview:"2023-11-10",status:"Active"},{id:3,name:"HealthTech Innovations",stage:"Scaling",mentorAssigned:"No",nextReview:"2023-11-20",status:"Warning"},{id:4,name:"EdTech Solutions",stage:"Early",mentorAssigned:"Yes",nextReview:"2023-12-05",status:"Active"},{id:5,name:"FinTech Revolution",stage:"Growth",mentorAssigned:"No",nextReview:"2023-11-25",status:"Warning"}],B7e=()=>{const[t,e]=j.useState("1"),r=ji(),n=v=>{switch(v){case"Completed":return"success";case"In Progress":return"processing";case"To Do":return"default";case"Active":return"success";case"Warning":return"warning";case"Closed":return"default";default:return"default"}},i=v=>{switch(v){case"High":return"red";case"Medium":return"orange";case"Low":return"green";default:return"blue"}},a=v=>{switch(v){case"meeting":return h.jsx(JT,{style:{color:"#1890ff"}});case"deadline":return h.jsx(CA,{style:{color:"#ff4d4f"}});case"event":return h.jsx(bo,{style:{color:"#52c41a"}});case"workshop":return h.jsx(Ya,{style:{color:"#722ed1"}});default:return h.jsx(bo,{style:{color:"#1890ff"}})}},o=()=>{r("/operations/forms")},s=()=>{r("/operations/form-responses")},l=()=>{r("/operations/resources")},u=()=>{r("/operations/participants")},c=()=>{r("/operations/mentorship-assignments")},d=[{title:"Form Name",dataIndex:"formName",key:"formName"},{title:"Total Submissions",dataIndex:"submissions",key:"submissions",sorter:(v,g)=>v.submissions-g.submissions},{title:"Pending Review",dataIndex:"pending",key:"pending",render:v=>h.jsx(Ar,{count:v,style:{backgroundColor:v>0?"#faad14":"#52c41a",marginRight:"5px"}})},{title:"Status",dataIndex:"status",key:"status",render:v=>h.jsx(Me,{color:v==="Active"?"green":"default",children:v})},{title:"Actions",key:"actions",render:(v,g)=>h.jsx(me,{children:h.jsx(ie,{size:"small",type:"primary",onClick:s,children:"View Responses"})})}],f=[{title:"Resource",dataIndex:"resource",key:"resource"},{title:"Allocation",dataIndex:"allocated",key:"allocated",render:v=>h.jsx(yr,{percent:v,size:"small",status:v>90?"exception":"normal"})},{title:"Allocated To",dataIndex:"allocatedTo",key:"allocatedTo"},{title:"Actions",key:"actions",render:(v,g)=>h.jsx(ie,{size:"small",type:"primary",onClick:l,children:"Manage"})}],p=[{title:"Participant",dataIndex:"name",key:"name"},{title:"Stage",dataIndex:"stage",key:"stage",render:v=>h.jsx(Me,{color:v==="Early"?"blue":v==="Growth"?"green":"purple",children:v})},{title:"Mentor Assigned",dataIndex:"mentorAssigned",key:"mentorAssigned",render:v=>h.jsx(Ar,{status:v==="Yes"?"success":"warning",text:v})},{title:"Next Review",dataIndex:"nextReview",key:"nextReview"},{title:"Status",dataIndex:"status",key:"status",render:v=>h.jsx(Ar,{status:n(v),text:v})},{title:"Actions",key:"actions",render:(v,g)=>h.jsx(ie,{size:"small",type:"primary",onClick:u,children:"View Details"})}];return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(M7e,{level:2,children:"Operations Dashboard"}),h.jsx(pu,{type:"secondary",children:"Manage daily operations and track incubatee progress"}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:[h.jsx(oe,{xs:24,sm:12,md:6,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Pending Tasks",value:12,valueStyle:{color:"#1890ff"},prefix:h.jsx(Ga,{})})})}),h.jsx(oe,{xs:24,sm:12,md:6,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Form Submissions",value:26,valueStyle:{color:"#52c41a"},prefix:h.jsx(ya,{})})})}),h.jsx(oe,{xs:24,sm:12,md:6,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Participants",value:38,valueStyle:{color:"#722ed1"},prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,sm:12,md:6,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Resource Utilization",value:72,suffix:"%",valueStyle:{color:"#faad14"},prefix:h.jsx(Ls,{})})})})]}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:20},children:[h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{hoverable:!0,onClick:o,children:h.jsxs(me,{direction:"vertical",style:{width:"100%",textAlign:"center"},children:[h.jsx(ya,{style:{fontSize:24,color:"#1890ff"}}),h.jsx(pu,{strong:!0,children:"Form Management"})]})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{hoverable:!0,onClick:l,children:h.jsxs(me,{direction:"vertical",style:{width:"100%",textAlign:"center"},children:[h.jsx(Ls,{style:{fontSize:24,color:"#52c41a"}}),h.jsx(pu,{strong:!0,children:"Resource Management"})]})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{hoverable:!0,onClick:u,children:h.jsxs(me,{direction:"vertical",style:{width:"100%",textAlign:"center"},children:[h.jsx(ar,{style:{fontSize:24,color:"#722ed1"}}),h.jsx(pu,{strong:!0,children:"Participant Management"})]})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{hoverable:!0,onClick:c,children:h.jsxs(me,{direction:"vertical",style:{width:"100%",textAlign:"center"},children:[h.jsx(ar,{style:{fontSize:24,color:"#fa8c16"}}),h.jsx(pu,{strong:!0,children:"Mentorship Assignments"})]})})})]}),h.jsxs(Ft,{activeKey:t,onChange:e,children:[h.jsx(fS,{tab:h.jsxs("span",{children:[h.jsx(Bb,{}),"Daily Operations"]}),children:h.jsxs(Ye,{gutter:[16,16],children:[h.jsxs(oe,{xs:24,lg:14,children:[h.jsx(ue,{title:h.jsxs(me,{children:[h.jsx(Ga,{}),h.jsx("span",{children:"Task Management"})]}),extra:h.jsx(ie,{type:"primary",size:"small",children:"Add Task"}),style:{marginBottom:"24px"},children:h.jsx(At,{size:"small",dataSource:j7e,renderItem:v=>h.jsxs(At.Item,{actions:[v.status!=="Completed"&&h.jsx(ie,{type:"link",size:"small",children:"Complete"},"complete")],children:[h.jsx(At.Item.Meta,{title:h.jsxs(me,{children:[h.jsx(pu,{style:{textDecoration:v.status==="Completed"?"line-through":"none"},children:v.title}),h.jsx(Me,{color:i(v.priority),children:v.priority})]}),description:`Due: ${v.dueDate}`}),h.jsx(Ar,{status:n(v.status),text:v.status})]})})}),h.jsxs(ue,{title:h.jsxs(me,{children:[h.jsx(ZJ,{}),h.jsx("span",{children:"Compliance Tracking"})]}),style:{marginBottom:"24px"},children:[h.jsxs(Ye,{gutter:[16,16],align:"middle",children:[h.jsxs(oe,{span:12,children:[h.jsx(R7e,{children:h.jsx(pu,{strong:!0,children:"Overall Compliance Status"})}),h.jsx(yr,{percent:Math.round(ll.upToDate/ll.total*100),success:{percent:Math.round(ll.upToDate/ll.total*100)},format:v=>`${v}% Compliant`})]}),h.jsxs(oe,{span:12,children:[h.jsx(De,{title:"Up-to-date",value:ll.upToDate,suffix:`/ ${ll.total}`,valueStyle:{color:"#52c41a"}}),h.jsx(De,{title:"Needs Review",value:ll.needsReview,suffix:`/ ${ll.total}`,valueStyle:{color:"#faad14"}}),h.jsx(De,{title:"Overdue",value:ll.overdue,suffix:`/ ${ll.total}`,valueStyle:{color:"#ff4d4f"}})]})]}),h.jsx(pt,{style:{margin:"12px 0"}}),h.jsx(ie,{type:"primary",children:"Generate Compliance Report"})]})]}),h.jsxs(oe,{xs:24,lg:10,children:[h.jsxs(ue,{title:h.jsxs(me,{children:[h.jsx(vxe,{}),h.jsx("span",{children:"Upcoming Events"})]}),extra:h.jsx(ie,{type:"primary",size:"small",children:"Add Event"}),style:{marginBottom:"24px"},children:[h.jsx($f,{mode:"left",children:F7e.map((v,g)=>h.jsxs($f.Item,{dot:a(v.type),children:[h.jsxs(pu,{strong:!0,children:[v.date," - ",v.title]}),h.jsx("br",{}),h.jsx(pu,{type:"secondary",children:v.time}),h.jsx(Me,{color:v.type==="meeting"?"blue":v.type==="deadline"?"red":v.type==="event"?"green":"purple",children:v.type.charAt(0).toUpperCase()+v.type.slice(1)})]},g))}),h.jsx(ie,{type:"link",style:{padding:0},children:"View Full Calendar"})]}),h.jsx(ue,{title:"Quick Actions",children:h.jsxs(me,{direction:"vertical",style:{width:"100%"},children:[h.jsx(ie,{block:!0,icon:h.jsx(ya,{}),onClick:o,style:{textAlign:"left",marginBottom:"10px"},children:"Manage Forms & Templates"}),h.jsx(ie,{block:!0,icon:h.jsx(Ya,{}),onClick:s,style:{textAlign:"left",marginBottom:"10px"},children:"Review Form Submissions"}),h.jsx(ie,{block:!0,icon:h.jsx(Ls,{}),onClick:l,style:{textAlign:"left",marginBottom:"10px"},children:"Manage Resources"}),h.jsx(ie,{block:!0,icon:h.jsx(ar,{}),onClick:u,style:{textAlign:"left"},children:"Participant Management"})]})})]})]})},"1"),h.jsx(fS,{tab:h.jsxs("span",{children:[h.jsx(ya,{}),"Form Management"]}),children:h.jsx(Ye,{gutter:[16,16],children:h.jsx(oe,{span:24,children:h.jsx(ue,{title:"Forms & Submissions",extra:h.jsx(ie,{type:"primary",onClick:o,children:"Manage All Forms"}),children:h.jsx(Le,{dataSource:L7e,columns:d,rowKey:"id",pagination:{pageSize:5}})})})})},"2"),h.jsx(fS,{tab:h.jsxs("span",{children:[h.jsx(Ls,{}),"Resource Management"]}),children:h.jsx(Ye,{gutter:[16,16],children:h.jsx(oe,{span:24,children:h.jsx(ue,{title:"Resource Allocation",extra:h.jsx(ie,{type:"primary",onClick:l,children:"Manage Resources"}),children:h.jsx(Le,{dataSource:$7e,columns:f,rowKey:"id",pagination:{pageSize:5}})})})})},"3"),h.jsx(fS,{tab:h.jsxs("span",{children:[h.jsx(ar,{}),"Participants"]}),children:h.jsx(Ye,{gutter:[16,16],children:h.jsx(oe,{span:24,children:h.jsx(ue,{title:"Participant Tracking",extra:h.jsx(ie,{type:"primary",onClick:u,children:"Manage Participants"}),children:h.jsx(Le,{dataSource:N7e,columns:p,rowKey:"id",pagination:{pageSize:5}})})})})},"4")]})]})},V7e=()=>{const{data:t,isLoading:e}=ua(),[r,n]=j.useState(!0),[i,a]=j.useState(!1);return j.useEffect(()=>{e||(console.log("Admin guard checking user:",t),t&&t.role==="Admin"?a(!0):(_e.error("Access denied: Admin privileges required"),a(!1)),n(!1))},[t,e]),r||e?h.jsx(yi,{size:"large",style:{display:"flex",justifyContent:"center",marginTop:"100px"}}):i?h.jsx(sm,{}):h.jsx(Gb,{to:"/",replace:!0})},z7e=()=>{const{data:t,isLoading:e}=ua(),[r,n]=j.useState(!0),[i,a]=j.useState(!1);return j.useEffect(()=>{e||(console.log("Director guard checking user:",t),t&&t.role==="Director"?a(!0):(_e.error("Access denied: Director privileges required"),a(!1)),n(!1))},[t,e]),r||e?h.jsx(yi,{size:"large",style:{display:"flex",justifyContent:"center",marginTop:"100px"}}):i?h.jsx(sm,{}):h.jsx(Gb,{to:"/",replace:!0})},U7e=()=>{const{data:t,isLoading:e}=ua(),[r,n]=j.useState(!0),[i,a]=j.useState(!1);return j.useEffect(()=>{e||(console.log("Operations guard checking user:",t),t&&t.role==="Operations"?a(!0):(_e.error("Access denied: Operations privileges required"),a(!1)),n(!1))},[t,e]),r||e?h.jsx(yi,{size:"large",style:{display:"flex",justifyContent:"center",marginTop:"100px"}}):i?h.jsx(sm,{}):h.jsx(Gb,{to:"/",replace:!0})},q7e=()=>{const{data:t,isLoading:e}=ua(),[r,n]=j.useState(!0),[i,a]=j.useState(!1);return j.useEffect(()=>{e||(console.log("Consultant guard checking user:",t),t&&t.role==="Consultant"?a(!0):(_e.error("Access denied: Consultant privileges required"),a(!1)),n(!1))},[t,e]),r||e?h.jsx(yi,{size:"large",style:{display:"flex",justifyContent:"center",marginTop:"100px"}}):i?h.jsx(sm,{}):h.jsx(Gb,{to:"/",replace:!0})},G7e=[{name:"admin",list:"/admin",meta:{label:"Admin Panel",icon:h.jsx(ox,{})}},{name:"forms",list:"/admin/forms",show:"/forms/:formId",meta:{canDelete:!0,icon:h.jsx(ya,{}),label:"Forms & Templates"}}],W7e=[{name:"director",list:"/director",meta:{label:"Director Dashboard",icon:h.jsx(pv,{})}}],H7e=[{name:"operations",list:"/operations",meta:{label:"Operations Dashboard",icon:h.jsx(Ls,{})}},{name:"operations-forms",list:"/operations/forms",meta:{label:"Forms Management",icon:h.jsx(ya,{})}},{name:"operations-resources",list:"/operations/resources",meta:{label:"Resource Management",icon:h.jsx(gxe,{})}},{name:"operations-participants",list:"/operations/participants",meta:{label:"Participant Management",icon:h.jsx(as,{})}},{name:"mentorship-assignments",list:"/operations/mentorship-assignments",meta:{label:"Mentorship Assignments",icon:h.jsx(ar,{})}},{name:"operations-compliance",list:"/operations/compliance",meta:{label:"Compliance Management",icon:h.jsx(eZ,{})}},{name:"operations-reports",list:"/operations/reports",meta:{label:"Reports & Analytics",icon:h.jsx(Wa,{})}}],Y7e=[{name:"consultant",list:"/consultant",meta:{label:"Consultant Dashboard",icon:h.jsx(ar,{})}}],X7e=[{name:"dashboard",list:"/",meta:{label:"Dashboard",icon:h.jsx(Nb,{})}},{name:"companies",list:"/companies",show:"/companies/:id",create:"/companies/new",edit:"/companies/edit/:id",meta:{label:"Companies",icon:h.jsx(y$,{})}}],K7e=[...X7e,...G7e,...W7e,...H7e,...Y7e],Q7e={login:async({email:t,password:e})=>{try{const r=await nae(Mi,t,e),n=await r.user.getIdToken();localStorage.setItem("access_token",n);const i=await Md(Un(Dt,"users",r.user.uid));if(i.exists()){const o=i.data().role;if(o==="Admin")return{success:!0,redirectTo:"/admin"};if(o==="Director")return{success:!0,redirectTo:"/director"};if(o==="Operations")return{success:!0,redirectTo:"/operations"};if(o==="Consultant")return{success:!0,redirectTo:"/consultant"};if(o==="Funder")return{success:!0,redirectTo:"/funder"};if(o==="Government")return{success:!0,redirectTo:"/government"};if(o==="Corporate")return{success:!0,redirectTo:"/corporate"}}return{success:!0,redirectTo:"/dashboard"}}catch(r){return{success:!1,error:{name:"Login Failed",message:r.message}}}},logout:async()=>(await aae(Mi),localStorage.removeItem("access_token"),{success:!0,redirectTo:"/login"}),check:async()=>{try{return new Promise(t=>{setTimeout(()=>{iae(Mi,e=>{if(e){const r=window.location.pathname;r==="/"?(console.log("Authenticated user viewing landing page"),t({authenticated:!0})):r==="/login"||r==="/register"?(console.log("Redirecting authenticated user from auth pages to dashboard"),t({authenticated:!0,redirectTo:"/dashboard"})):r.startsWith("/admin")||r.startsWith("/director")||r.startsWith("/operations")||r.startsWith("/consultant")||r.startsWith("/dashboard")||r.startsWith("/government")||r.startsWith("/corporate")||r.startsWith("/funder")?(console.log("User accessing protected route:",r),t({authenticated:!0})):(console.log("Default auth check for path:",r),t({authenticated:!0}))}else{const r=window.location.pathname;r==="/"||r==="/login"||r==="/register"?(console.log("Unauthenticated user on public route:",r),t({authenticated:!1})):(console.log("Redirecting unauthenticated user to login from:",r),t({authenticated:!1,redirectTo:"/login"}))}})},100)})}catch(t){return console.error("Auth check error:",t),{authenticated:!1}}},getIdentity:async()=>{const t=Mi.currentUser;if(t){try{const e=await Md(Un(Dt,"users",t.uid));if(e.exists()){const r=e.data();return{id:t.uid,name:r.name||t.displayName||t.email||"Anonymous",email:t.email,avatar:t.photoURL??void 0,role:r.role}}}catch(e){console.error("Error fetching user data:",e)}return{id:t.uid,name:t.displayName||t.email||"Anonymous",email:t.email,avatar:t.photoURL??void 0}}},onError:async t=>(console.error("Auth provider error:",t),{error:t})};var n4={exports:{}};const J7e=/[\p{Lu}]/u,Z7e=/[\p{Ll}]/u,TG=/^[\p{Lu}](?![\p{Lu}])/gu,$se=/([\p{Alpha}\p{N}_]|$)/u,Nse=/[_.\- ]+/,eXe=new RegExp("^"+Nse.source),IG=new RegExp(Nse.source+$se.source,"gu"),PG=new RegExp("\\d+"+$se.source,"gu"),tXe=(t,e,r)=>{let n=!1,i=!1,a=!1;for(let o=0;o<t.length;o++){const s=t[o];n&&J7e.test(s)?(t=t.slice(0,o)+"-"+t.slice(o),n=!1,a=i,i=!0,o++):i&&a&&Z7e.test(s)?(t=t.slice(0,o-1)+"-"+t.slice(o-1),a=i,i=!1,n=!0):(n=e(s)===s&&r(s)!==s,a=i,i=r(s)===s&&e(s)!==s)}return t},rXe=(t,e)=>(TG.lastIndex=0,t.replace(TG,r=>e(r))),nXe=(t,e)=>(IG.lastIndex=0,PG.lastIndex=0,t.replace(IG,(r,n)=>e(n)).replace(PG,r=>e(r))),Bse=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const r=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),n=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=tXe(t,r,n)),t=t.replace(eXe,""),e.preserveConsecutiveUppercase?t=rXe(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),nXe(t,n))};n4.exports=Bse;n4.exports.default=Bse;var iXe=n4.exports;const mr=_t(iXe);var Iu={},i4={},a4={},fp={};Object.defineProperty(fp,"__esModule",{value:!0});var wj;(function(t){t.Mutation="mutation",t.Query="query",t.Subscription="subscription"})(wj||(wj={}));fp.default=wj;var hp={},DP={};Object.defineProperty(DP,"__esModule",{value:!0});DP.isNestedField=void 0;function aXe(t){return typeof t=="object"&&t.hasOwnProperty("operation")&&t.hasOwnProperty("variables")&&t.hasOwnProperty("fields")||typeof t=="object"&&t.hasOwnProperty("operation")&&t.hasOwnProperty("fragment")&&t.hasOwnProperty("fields")}DP.isNestedField=aXe;var $c=mn&&mn.__assign||function(){return $c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$c.apply(this,arguments)};Object.defineProperty(hp,"__esModule",{value:!0});var _G=DP,oXe=function(){function t(){}return t.resolveVariables=function(e){for(var r={},n=0,i=e;n<i.length;n++){var a=i[n],o=a.variables,s=a.fields;r=$c($c($c({},r),o),s&&t.getNestedVariables(s)||{})}return r},t.queryDataNameAndArgumentMap=function(e){return e&&Object.keys(e).length?"(".concat(Object.entries(e).reduce(function(r,n,i){var a=n[0],o=n[1];return"".concat(r).concat(i!==0?", ":"").concat(o&&o.name?o.name:a,": $").concat(a)},""),")"):""},t.queryFieldsMap=function(e){var r=this;return e?e.map(function(n){if((0,_G.isNestedField)(n))return t.queryNestedFieldMap(n);if(typeof n=="object"){var i="";return Object.entries(n).forEach(function(a,o,s){var l=a[0],u=a[1];i+="".concat(l," ").concat(u.length>0?"{ "+r.queryFieldsMap(u)+" }":""),o<s.length-1&&(i+=", ")}),i}else return"".concat(n)}).join(", "):""},t.operationOrAlias=function(e){return typeof e=="string"?e:"".concat(e.alias,": ").concat(e.name)},t.isFragment=function(e){var r;return(r=(e==null?void 0:e.fragment)===!0)!==null&&r!==void 0?r:!1},t.operationOrFragment=function(e){return t.isFragment(e)?e.operation:t.operationOrAlias(e.operation)},t.getFragment=function(e){return t.isFragment(e)?"... on ":""},t.queryNestedFieldMap=function(e){return"".concat(t.getFragment(e)).concat(t.operationOrFragment(e)," ").concat(this.isFragment(e)?"":this.queryDataNameAndArgumentMap(e.variables)," ").concat(e.fields.length>0?"{ "+this.queryFieldsMap(e.fields)+" }":"")},t.queryVariablesMap=function(e,r){var n={},i=function(a){a&&Object.keys(a).map(function(o){n[o]=typeof a[o]=="object"?a[o].value:a[o]})};return i(e),r&&typeof r=="object"&&i(t.getNestedVariables(r)),n},t.getNestedVariables=function(e){var r={};function n(i){return i==null||i.forEach(function(a){if((0,_G.isNestedField)(a))r=$c($c($c({},a.variables),r),a.fields&&n(a.fields));else if(typeof a=="object")for(var o=0,s=Object.entries(a);o<s.length;o++){var l=s[o],u=l[1];n(u)}}),r}return n(e),r},t.queryDataType=function(e){var r="String",n=typeof e=="object"?e.value:e;if((e==null?void 0:e.type)!=null)r=e.type;else{var i=Array.isArray(n)?n[0]:n;switch(typeof i){case"object":r="Object";break;case"boolean":r="Boolean";break;case"number":r=i%1===0?"Int":"Float";break}}return typeof e=="object"&&(e.list===!0?r="[".concat(r,"]"):Array.isArray(e.list)&&(r="[".concat(r).concat(e.list[0]?"!":"","]")),e.required&&(r+="!")),r},t}();hp.default=oXe;Object.defineProperty(a4,"__esModule",{value:!0});var sXe=fp,hS=hp,lXe=function(){function t(e){Array.isArray(e)?this.variables=hS.default.resolveVariables(e):(this.variables=e.variables,this.fields=e.fields,this.operation=e.operation)}return t.prototype.mutationBuilder=function(){return this.operationWrapperTemplate(this.variables,this.operationTemplate(this.operation))},t.prototype.mutationsBuilder=function(e){var r=this,n=e.map(function(i){return r.operation=i.operation,r.variables=i.variables,r.fields=i.fields,r.operationTemplate(i.operation)});return this.operationWrapperTemplate(hS.default.resolveVariables(e),n.join(`
  `))},t.prototype.queryDataNameAndArgumentMap=function(){return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(e,r,n){return"".concat(e).concat(n!==0?", ":"").concat(r,": $").concat(r)},""),")"):""},t.prototype.queryDataArgumentAndTypeMap=function(e){return Object.keys(e).length?"(".concat(Object.keys(e).reduce(function(r,n,i){return"".concat(r).concat(i!==0?", ":"","$").concat(n,": ").concat(hS.default.queryDataType(e[n]))},""),")"):""},t.prototype.operationWrapperTemplate=function(e,r){var n=typeof this.operation=="string"?this.operation:this.operation.name;return{query:"".concat(sXe.default.Mutation," ").concat(n.charAt(0).toUpperCase()+n.slice(1)," ").concat(this.queryDataArgumentAndTypeMap(e),` {
  `).concat(r,`
}`),variables:hS.default.queryVariablesMap(e)}},t.prototype.operationTemplate=function(e){var r=typeof e=="string"?e:"".concat(e.alias,": ").concat(e.name);return"".concat(r," ").concat(this.queryDataNameAndArgumentMap(),` {
    `).concat(this.queryFieldsMap(this.fields),`
  }`)},t.prototype.queryFieldsMap=function(e){var r=this;return Array.isArray(e)?e.map(function(n){return typeof n=="object"?"".concat(Object.keys(n)[0]," { ").concat(r.queryFieldsMap(Object.values(n)[0])," }"):"".concat(n)}).join(", "):""},t}();a4.default=lXe;var o4={};Object.defineProperty(o4,"__esModule",{value:!0});var uXe=fp,YD=hp,cXe=function(){function t(e){this.queryDataType=function(r){var n="String",i=typeof r=="object"?r.value:r;if(r.type!==void 0)n=r.type;else switch(typeof i){case"object":n="Object";break;case"boolean":n="Boolean";break;case"number":n=i%1===0?"Int":"Float";break}return typeof r=="object"&&r.required&&(n+="!"),n},Array.isArray(e)?this.variables=YD.default.resolveVariables(e):(this.variables=e.variables,this.fields=e.fields||[],this.operation=e.operation)}return t.prototype.queryBuilder=function(){return this.operationWrapperTemplate(this.operationTemplate())},t.prototype.queriesBuilder=function(e){var r=this,n=function(){var i=[];return e.forEach(function(a){a&&(r.operation=a.operation,r.fields=a.fields,r.variables=a.variables,i.push(r.operationTemplate()))}),i.join(" ")};return this.operationWrapperTemplate(n())},t.prototype.queryDataNameAndArgumentMap=function(){return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(e,r,n){return"".concat(e).concat(n!==0?", ":"").concat(r,": $").concat(r)},""),")"):""},t.prototype.queryDataArgumentAndTypeMap=function(){var e=this;return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(r,n,i){return"".concat(r).concat(i!==0?", ":"","$").concat(n,": ").concat(e.queryDataType(e.variables[n]))},""),")"):""},t.prototype.operationWrapperTemplate=function(e){var r=typeof this.operation=="string"?this.operation:this.operation.name;return{query:"".concat(uXe.default.Query," ").concat(r.charAt(0).toUpperCase()).concat(r.slice(1)," ").concat(this.queryDataArgumentAndTypeMap()," { ").concat(e," }"),variables:YD.default.queryVariablesMap(this.variables)}},t.prototype.operationTemplate=function(){var e=typeof this.operation=="string"?this.operation:"".concat(this.operation.alias,": ").concat(this.operation.name);return"".concat(e," ").concat(this.queryDataNameAndArgumentMap()," { nodes { ").concat(YD.default.queryFieldsMap(this.fields)," } }")},t}();o4.default=cXe;Object.defineProperty(i4,"__esModule",{value:!0});var dXe=a4,fXe=o4;i4.default={DefaultAppSyncQueryAdapter:fXe.default,DefaultAppSyncMutationAdapter:dXe.default};var s4={},dC=mn&&mn.__assign||function(){return dC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dC.apply(this,arguments)};Object.defineProperty(s4,"__esModule",{value:!0});var OG=fp,gf=hp,hXe=function(){function t(e,r){var n=this;Array.isArray(e)?this.variables=gf.default.resolveVariables(e):(this.variables=e.variables,this.fields=e.fields,this.operation=e.operation),this.config={operationName:""},r&&Object.entries(r).forEach(function(i){var a=i[0],o=i[1];n.config[a]=o})}return t.prototype.mutationBuilder=function(){return this.operationWrapperTemplate(OG.default.Mutation,this.variables,this.operationTemplate(this.operation))},t.prototype.mutationsBuilder=function(e){var r=this,n=e.map(function(i){return r.operation=i.operation,r.variables=i.variables,r.fields=i.fields,r.operationTemplate(i.operation)});return this.operationWrapperTemplate(OG.default.Mutation,gf.default.resolveVariables(e),n.join(`
  `))},t.prototype.queryDataArgumentAndTypeMap=function(e){return this.fields&&typeof this.fields=="object"&&(e=dC(dC({},gf.default.getNestedVariables(this.fields)),e)),e&&Object.keys(e).length>0?"(".concat(Object.keys(e).reduce(function(r,n,i){return"".concat(r).concat(i!==0?", ":"","$").concat(n,": ").concat(gf.default.queryDataType(e[n]))},""),")"):""},t.prototype.operationWrapperTemplate=function(e,r,n){var i="".concat(e," ").concat(this.queryDataArgumentAndTypeMap(r),` {
      `).concat(n,`
    }`);return this.config.operationName&&(i=i.replace("mutation","mutation ".concat(this.config.operationName))),{query:i,variables:gf.default.queryVariablesMap(r,this.fields)}},t.prototype.operationTemplate=function(e){var r=typeof e=="string"?e:"".concat(e.alias,": ").concat(e.name);return"".concat(r," ").concat(gf.default.queryDataNameAndArgumentMap(this.variables)," ").concat(this.fields&&this.fields.length>0?`{
    `.concat(gf.default.queryFieldsMap(this.fields),`
  }`):"")},t}();s4.default=hXe;var l4={},fC=mn&&mn.__assign||function(){return fC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fC.apply(this,arguments)};Object.defineProperty(l4,"__esModule",{value:!0});var pXe=fp,zp=hp,vXe=function(){function t(e,r){var n=this;this.config={operationName:""},r&&Object.entries(r).forEach(function(i){var a=i[0],o=i[1];n.config[a]=o}),Array.isArray(e)?this.variables=zp.default.resolveVariables(e):(this.variables=e.variables,this.fields=e.fields||[],this.operation=e.operation)}return t.prototype.queryBuilder=function(){return this.operationWrapperTemplate(this.operationTemplate(this.variables))},t.prototype.queriesBuilder=function(e){var r=this,n=function(){var i=[];return e.forEach(function(a){a&&(r.operation=a.operation,r.fields=a.fields,i.push(r.operationTemplate(a.variables)))}),i.join(" ")};return this.operationWrapperTemplate(n())},t.prototype.queryDataArgumentAndTypeMap=function(){var e=this.variables;return this.fields&&typeof this.fields=="object"&&(e=fC(fC({},zp.default.getNestedVariables(this.fields)),e)),e&&Object.keys(e).length>0?"(".concat(Object.keys(e).reduce(function(r,n,i){return"".concat(r).concat(i!==0?", ":"","$").concat(n,": ").concat(zp.default.queryDataType(e[n]))},""),")"):""},t.prototype.operationWrapperTemplate=function(e){var r="".concat(pXe.default.Query," ").concat(this.queryDataArgumentAndTypeMap()," { ").concat(e," }");return r=r.replace("query","query".concat(this.config.operationName!==""?" "+this.config.operationName:"")),{query:r,variables:zp.default.queryVariablesMap(this.variables,this.fields)}},t.prototype.operationTemplate=function(e){var r=typeof this.operation=="string"?this.operation:"".concat(this.operation.alias,": ").concat(this.operation.name);return"".concat(r," ").concat(e?zp.default.queryDataNameAndArgumentMap(e):""," ").concat(this.fields&&this.fields.length>0?"{ "+zp.default.queryFieldsMap(this.fields)+" }":"")},t}();l4.default=vXe;var u4={};Object.defineProperty(u4,"__esModule",{value:!0});var kG=fp,pS=hp,gXe=function(){function t(e){Array.isArray(e)?this.variables=pS.default.resolveVariables(e):(this.variables=e.variables,this.fields=e.fields,this.operation=e.operation)}return t.prototype.subscriptionBuilder=function(){return this.operationWrapperTemplate(kG.default.Subscription,this.variables,this.operationTemplate(this.operation))},t.prototype.subscriptionsBuilder=function(e){var r=this,n=e.map(function(i){return r.operation=i.operation,r.variables=i.variables,r.fields=i.fields,r.operationTemplate(i.operation)});return this.operationWrapperTemplate(kG.default.Subscription,pS.default.resolveVariables(e),n.join(`
  `))},t.prototype.queryDataNameAndArgumentMap=function(){return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(e,r,n){return"".concat(e).concat(n!==0?", ":"").concat(r,": $").concat(r)},""),")"):""},t.prototype.queryDataArgumentAndTypeMap=function(e){return Object.keys(e).length?"(".concat(Object.keys(e).reduce(function(r,n,i){return"".concat(r).concat(i!==0?", ":"","$").concat(n,": ").concat(pS.default.queryDataType(e[n]))},""),")"):""},t.prototype.operationWrapperTemplate=function(e,r,n){return{query:"".concat(e," ").concat(this.queryDataArgumentAndTypeMap(r),` {
  `).concat(n,`
}`),variables:pS.default.queryVariablesMap(r)}},t.prototype.operationTemplate=function(e){var r=typeof this.operation=="string"?this.operation:"".concat(this.operation.alias,": ").concat(this.operation.name);return"".concat(r," ").concat(this.queryDataNameAndArgumentMap(),` {
    `).concat(this.queryFieldsMap(this.fields),`
  }`)},t.prototype.queryFieldsMap=function(e){var r=this;return e?e.map(function(n){return typeof n=="object"?"".concat(Object.keys(n)[0]," { ").concat(r.queryFieldsMap(Object.values(n)[0])," }"):"".concat(n)}).join(", "):""},t}();u4.default=gXe;Object.defineProperty(Iu,"__esModule",{value:!0});Iu.adapters=cv=Iu.query=l0=Iu.mutation=MP=Iu.subscription=void 0;var mXe=i4;Iu.adapters=mXe.default;var DG=s4,MG=l4,RG=u4;function yXe(t,e,r){var n;if(Array.isArray(t)){if(e){var i=new e(t,r);return i.queriesBuilder(t)}return n=new MG.default(t,r),n.queriesBuilder(t)}if(e){var i=new e(t,r);return i.queryBuilder()}return n=new MG.default(t,r),n.queryBuilder()}var cv=Iu.query=yXe;function xXe(t,e,r){var n,i;return Array.isArray(t)?e?(n=new e(t,r),n.mutationsBuilder(t)):(i=new DG.default(t,r),i.mutationsBuilder(t)):e?(n=new e(t,r),n.mutationBuilder()):(i=new DG.default(t,r),i.mutationBuilder())}var l0=Iu.mutation=xXe;function bXe(t,e){var r,n;return Array.isArray(t)?e?(r=new e(t),r.subscriptionsBuilder(t)):(n=new RG.default(t),n.subscriptionsBuilder(t)):e?(r=new e(t),r.subscriptionBuilder()):(n=new RG.default(t),n.subscriptionBuilder())}var MP=Iu.subscription=bXe;const c4={parse:JSON.parse,stringify:JSON.stringify};var wXe=function(e){var r=e.uri,n=e.name,i=e.type;this.uri=r,this.name=n,this.type=i},SXe=wXe,Vse=function(e){return typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob||e instanceof SXe};const EXe=_t(Vse);var AXe=Vse,CXe=function t(e,r,n){r===void 0&&(r=""),n===void 0&&(n=AXe);var i,a=new Map;function o(c,d){var f=a.get(d);f?f.push.apply(f,c):a.set(d,c)}if(n(e))i=null,o([r],e);else{var s=r?r+".":"";if(typeof FileList<"u"&&e instanceof FileList)i=Array.prototype.map.call(e,function(c,d){return o([""+s+d],c),null});else if(Array.isArray(e))i=e.map(function(c,d){var f=t(c,""+s+d,n);return f.files.forEach(o),f.clone});else if(e&&e.constructor===Object){i={};for(var l in e){var u=t(e[l],""+s+l,n);u.files.forEach(o),i[l]=u.clone}}else i=e}return{clone:i,files:a}};const TXe=_t(CXe);var IXe=typeof self=="object"?self.FormData:window.FormData;const PXe=_t(IXe),_Xe=t=>EXe(t)||t!==null&&typeof t=="object"&&typeof t.pipe=="function",OXe=(t,e,r,n=c4)=>{const{clone:i,files:a}=TXe({query:t,variables:e,operationName:r},"",_Xe);if(a.size===0){if(!Array.isArray(t))return n.stringify(i);if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const c=t.reduce((d,f,p)=>(d.push({query:f,variables:e?e[p]:void 0}),d),[]);return n.stringify(c)}const o=typeof FormData>"u"?PXe:FormData,s=new o;s.append("operations",n.stringify(i));const l={};let u=0;return a.forEach(c=>{l[++u]=c}),s.append("map",n.stringify(l)),u=0,a.forEach((c,d)=>{s.append(`${++u}`,d)}),s},kXe=t=>t.toUpperCase(),DXe=t=>{const e={};return t.forEach((r,n)=>{e[n]=r}),e},MXe=(t,e,r)=>t.document?t:{document:t,variables:e,requestHeaders:r,signal:void 0},RXe=(t,e,r)=>t.query?t:{query:t,variables:e,requestHeaders:r,signal:void 0},jXe=(t,e)=>t.documents?t:{documents:t,requestHeaders:e,signal:void 0};function KE(t,e){var r=!!t;if(!r)throw new Error(e)}function QE(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?QE=function(r){return typeof r}:QE=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},QE(t)}function FXe(t){return QE(t)=="object"&&t!==null}var zse=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function Sj(t,e){for(var r=/\r\n|[\n\r]/g,n=1,i=e+1,a;(a=r.exec(t.body))&&a.index<e;)n+=1,i=e+1-(a.index+a[0].length);return{line:n,column:i}}function LXe(t){return Use(t.source,Sj(t.source,t.start))}function Use(t,e){var r=t.locationOffset.column-1,n=JE(r)+t.body,i=e.line-1,a=t.locationOffset.line-1,o=e.line+a,s=e.line===1?r:0,l=e.column+s,u="".concat(t.name,":").concat(o,":").concat(l,`
`),c=n.split(/\r\n|[\n\r]/g),d=c[i];if(d.length>120){for(var f=Math.floor(l/80),p=l%80,v=[],g=0;g<d.length;g+=80)v.push(d.slice(g,g+80));return u+jG([["".concat(o),v[0]]].concat(v.slice(1,f+1).map(function(m){return["",m]}),[[" ",JE(p-1)+"^"],["",v[f+1]]]))}return u+jG([["".concat(o-1),c[i-1]],["".concat(o),d],["",JE(l-1)+"^"],["".concat(o+1),c[i+1]]])}function jG(t){var e=t.filter(function(n){n[0];var i=n[1];return i!==void 0}),r=Math.max.apply(Math,e.map(function(n){var i=n[0];return i.length}));return e.map(function(n){var i=n[0],a=n[1];return $Xe(r,i)+(a?" | "+a:" |")}).join(`
`)}function JE(t){return Array(t+1).join(" ")}function $Xe(t,e){return JE(t-e.length)+e}function ZE(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ZE=function(r){return typeof r}:ZE=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ZE(t)}function FG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NXe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FG(Object(r),!0).forEach(function(n){BXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zXe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function UXe(t,e,r){return e&&zXe(t.prototype,e),t}function qXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Px(t,e)}function GXe(t){var e=Gse();return function(){var n=_x(t),i;if(e){var a=_x(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qse(this,i)}}function qse(t,e){return e&&(ZE(e)==="object"||typeof e=="function")?e:u0(t)}function u0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ej(t){var e=typeof Map=="function"?new Map:void 0;return Ej=function(n){if(n===null||!WXe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return eA(n,arguments,_x(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Px(i,n)},Ej(t)}function eA(t,e,r){return Gse()?eA=Reflect.construct:eA=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),u=new l;return o&&Px(u,o.prototype),u},eA.apply(null,arguments)}function Gse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function WXe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Px(t,e){return Px=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Px(t,e)}function _x(t){return _x=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(t)}var HXe=function(t){qXe(r,t);var e=GXe(r);function r(n,i,a,o,s,l,u){var c,d,f,p;VXe(this,r),p=e.call(this,n),p.name="GraphQLError",p.originalError=l??void 0,p.nodes=LG(Array.isArray(i)?i:i?[i]:void 0);for(var v=[],g=0,m=(y=p.nodes)!==null&&y!==void 0?y:[];g<m.length;g++){var y,x=m[g],b=x.loc;b!=null&&v.push(b)}v=LG(v),p.source=a??((c=v)===null||c===void 0?void 0:c[0].source),p.positions=o??((d=v)===null||d===void 0?void 0:d.map(function(S){return S.start})),p.locations=o&&a?o.map(function(S){return Sj(a,S)}):(f=v)===null||f===void 0?void 0:f.map(function(S){return Sj(S.source,S.start)}),p.path=s??void 0;var w=l==null?void 0:l.extensions;return u==null&&FXe(w)?p.extensions=NXe({},w):p.extensions=u??{},Object.defineProperties(u0(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?(Object.defineProperty(u0(p),"stack",{value:l.stack,writable:!0,configurable:!0}),qse(p)):(Error.captureStackTrace?Error.captureStackTrace(u0(p),r):Object.defineProperty(u0(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return UXe(r,[{key:"toString",value:function(){return YXe(this)}},{key:"toJSON",value:function(){return XXe(this)}},{key:zse,get:function(){return"Object"}}]),r}(Ej(Error));function LG(t){return t===void 0||t.length===0?void 0:t}function YXe(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var i=n[r];i.loc&&(e+=`

`+LXe(i.loc))}else if(t.source&&t.locations)for(var a=0,o=t.locations;a<o.length;a++){var s=o[a];e+=`

`+Use(t.source,s)}return e}function XXe(t){var e;t||KE(0,"Received null or undefined error.");var r=(e=t.message)!==null&&e!==void 0?e:"An unknown error occurred.",n=t.locations,i=t.path,a=t.extensions;return a&&Object.keys(a).length>0?{message:r,locations:n,path:i,extensions:a}:{message:r,locations:n,path:i}}function yo(t,e,r){return new HXe("Syntax Error: ".concat(r),void 0,t,[e])}var Et=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function KXe(t,e){var r=!!t;if(!r)throw new Error("Unexpected invariant triggered.")}var Aj=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function Wse(t){var e=t.prototype.toJSON;typeof e=="function"||KXe(0),t.prototype.inspect=e,Aj&&(t.prototype[Aj]=e)}var Hse=function(){function t(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();Wse(Hse);var En=function(){function t(r,n,i,a,o,s,l){this.kind=r,this.start=n,this.end=i,this.line=a,this.column=o,this.value=l,this.prev=s,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();Wse(En);function $G(t){return t!=null&&typeof t.kind=="string"}var Ae=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function tA(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tA=function(r){return typeof r}:tA=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tA(t)}var QXe=10,Yse=2;function Xse(t){return RP(t,[])}function RP(t,e){switch(tA(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":JXe(t,e);default:return String(t)}}function JXe(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=tKe(t);if(n!==void 0){var i=n.call(t);if(i!==t)return typeof i=="string"?i:RP(i,r)}else if(Array.isArray(t))return eKe(t,r);return ZXe(t,r)}function ZXe(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>Yse)return"["+rKe(t)+"]";var n=r.map(function(i){var a=RP(t[i],e);return i+": "+a});return"{ "+n.join(", ")+" }"}function eKe(t,e){if(t.length===0)return"[]";if(e.length>Yse)return"[Array]";for(var r=Math.min(QXe,t.length),n=t.length-r,i=[],a=0;a<r;++a)i.push(RP(t[a],e));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function tKe(t){var e=t[String(Aj)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function rKe(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}const nKe=function(e,r){return e instanceof r};function iKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aKe(t,e,r){return e&&iKe(t.prototype,e),t}var Kse=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||KE(0,"Body must be a string. Received: ".concat(Xse(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||KE(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||KE(0,"column in locationOffset is 1-indexed and must be positive.")}return aKe(t,[{key:zse,get:function(){return"Source"}}]),t}();function oKe(t){return nKe(t,Kse)}var sKe=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function lKe(t){var e=t.split(/\r\n|[\n\r]/g),r=uKe(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var i=0;i<e.length&&NG(e[i]);)++i;for(var a=e.length;a>i&&NG(e[a-1]);)--a;return e.slice(i,a).join(`
`)}function NG(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function uKe(t){for(var e,r=!0,n=!0,i=0,a=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(a===null||i<a)&&(a=i),n=!1}return(e=a)!==null&&e!==void 0?e:0}function cKe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",a=t[t.length-1]==='"',o=t[t.length-1]==="\\",s=!n||a||o||r,l="";return s&&!(n&&i)&&(l+=`
`+e),l+=e?t.replace(/\n/g,`
`+e):t,s&&(l+=`
`),'"""'+l.replace(/"""/g,'\\"""')+'"""'}var dKe=function(){function t(r){var n=new En(Ae.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==Ae.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=hKe(this,n)}while(n.kind===Ae.COMMENT);return n},t}();function fKe(t){return t===Ae.BANG||t===Ae.DOLLAR||t===Ae.AMP||t===Ae.PAREN_L||t===Ae.PAREN_R||t===Ae.SPREAD||t===Ae.COLON||t===Ae.EQUALS||t===Ae.AT||t===Ae.BRACKET_L||t===Ae.BRACKET_R||t===Ae.BRACE_L||t===Ae.PIPE||t===Ae.BRACE_R}function Fh(t){return isNaN(t)?Ae.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function hKe(t,e){for(var r=t.source,n=r.body,i=n.length,a=e.end;a<i;){var o=n.charCodeAt(a),s=t.line,l=1+a-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++t.line,t.lineStart=a;continue;case 13:n.charCodeAt(a+1)===10?a+=2:++a,++t.line,t.lineStart=a;continue;case 33:return new En(Ae.BANG,a,a+1,s,l,e);case 35:return vKe(r,a,s,l,e);case 36:return new En(Ae.DOLLAR,a,a+1,s,l,e);case 38:return new En(Ae.AMP,a,a+1,s,l,e);case 40:return new En(Ae.PAREN_L,a,a+1,s,l,e);case 41:return new En(Ae.PAREN_R,a,a+1,s,l,e);case 46:if(n.charCodeAt(a+1)===46&&n.charCodeAt(a+2)===46)return new En(Ae.SPREAD,a,a+3,s,l,e);break;case 58:return new En(Ae.COLON,a,a+1,s,l,e);case 61:return new En(Ae.EQUALS,a,a+1,s,l,e);case 64:return new En(Ae.AT,a,a+1,s,l,e);case 91:return new En(Ae.BRACKET_L,a,a+1,s,l,e);case 93:return new En(Ae.BRACKET_R,a,a+1,s,l,e);case 123:return new En(Ae.BRACE_L,a,a+1,s,l,e);case 124:return new En(Ae.PIPE,a,a+1,s,l,e);case 125:return new En(Ae.BRACE_R,a,a+1,s,l,e);case 34:return n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34?yKe(r,a,s,l,e,t):mKe(r,a,s,l,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return gKe(r,a,o,s,l,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return bKe(r,a,s,l,e)}throw yo(r,a,pKe(o))}var u=t.line,c=1+a-t.lineStart;return new En(Ae.EOF,i,i,u,c,e)}function pKe(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(Fh(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(Fh(t),".")}function vKe(t,e,r,n,i){var a=t.body,o,s=e;do o=a.charCodeAt(++s);while(!isNaN(o)&&(o>31||o===9));return new En(Ae.COMMENT,e,s,r,n,i,a.slice(e+1,s))}function gKe(t,e,r,n,i,a){var o=t.body,s=r,l=e,u=!1;if(s===45&&(s=o.charCodeAt(++l)),s===48){if(s=o.charCodeAt(++l),s>=48&&s<=57)throw yo(t,l,"Invalid number, unexpected digit after 0: ".concat(Fh(s),"."))}else l=XD(t,l,s),s=o.charCodeAt(l);if(s===46&&(u=!0,s=o.charCodeAt(++l),l=XD(t,l,s),s=o.charCodeAt(l)),(s===69||s===101)&&(u=!0,s=o.charCodeAt(++l),(s===43||s===45)&&(s=o.charCodeAt(++l)),l=XD(t,l,s),s=o.charCodeAt(l)),s===46||wKe(s))throw yo(t,l,"Invalid number, expected digit but got: ".concat(Fh(s),"."));return new En(u?Ae.FLOAT:Ae.INT,e,l,n,i,a,o.slice(e,l))}function XD(t,e,r){var n=t.body,i=e,a=r;if(a>=48&&a<=57){do a=n.charCodeAt(++i);while(a>=48&&a<=57);return i}throw yo(t,i,"Invalid number, expected digit but got: ".concat(Fh(a),"."))}function mKe(t,e,r,n,i){for(var a=t.body,o=e+1,s=o,l=0,u="";o<a.length&&!isNaN(l=a.charCodeAt(o))&&l!==10&&l!==13;){if(l===34)return u+=a.slice(s,o),new En(Ae.STRING,e,o+1,r,n,i,u);if(l<32&&l!==9)throw yo(t,o,"Invalid character within String: ".concat(Fh(l),"."));if(++o,l===92){switch(u+=a.slice(s,o-1),l=a.charCodeAt(o),l){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var c=xKe(a.charCodeAt(o+1),a.charCodeAt(o+2),a.charCodeAt(o+3),a.charCodeAt(o+4));if(c<0){var d=a.slice(o+1,o+5);throw yo(t,o,"Invalid character escape sequence: \\u".concat(d,"."))}u+=String.fromCharCode(c),o+=4;break}default:throw yo(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(l),"."))}++o,s=o}}throw yo(t,o,"Unterminated string.")}function yKe(t,e,r,n,i,a){for(var o=t.body,s=e+3,l=s,u=0,c="";s<o.length&&!isNaN(u=o.charCodeAt(s));){if(u===34&&o.charCodeAt(s+1)===34&&o.charCodeAt(s+2)===34)return c+=o.slice(l,s),new En(Ae.BLOCK_STRING,e,s+3,r,n,i,lKe(c));if(u<32&&u!==9&&u!==10&&u!==13)throw yo(t,s,"Invalid character within String: ".concat(Fh(u),"."));u===10?(++s,++a.line,a.lineStart=s):u===13?(o.charCodeAt(s+1)===10?s+=2:++s,++a.line,a.lineStart=s):u===92&&o.charCodeAt(s+1)===34&&o.charCodeAt(s+2)===34&&o.charCodeAt(s+3)===34?(c+=o.slice(l,s)+'"""',s+=4,l=s):++s}throw yo(t,s,"Unterminated string.")}function xKe(t,e,r,n){return vS(t)<<12|vS(e)<<8|vS(r)<<4|vS(n)}function vS(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function bKe(t,e,r,n,i){for(var a=t.body,o=a.length,s=e+1,l=0;s!==o&&!isNaN(l=a.charCodeAt(s))&&(l===95||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new En(Ae.NAME,e,s,r,n,i,a.slice(e,s))}function wKe(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}function Qse(t,e){var r=new SKe(t,e);return r.parseDocument()}var SKe=function(){function t(r,n){var i=oKe(r)?r:new Kse(r);this._lexer=new dKe(i),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(Ae.NAME);return{kind:Et.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:Et.DOCUMENT,definitions:this.many(Ae.SOF,this.parseDefinition,Ae.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(Ae.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ae.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Ae.BRACE_L))return{kind:Et.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),a;return this.peek(Ae.NAME)&&(a=this.parseName()),{kind:Et.OPERATION_DEFINITION,operation:i,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(Ae.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(Ae.PAREN_L,this.parseVariableDefinition,Ae.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:Et.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ae.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ae.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Ae.DOLLAR),{kind:Et.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:Et.SELECTION_SET,selections:this.many(Ae.BRACE_L,this.parseSelection,Ae.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(Ae.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,i=this.parseName(),a,o;return this.expectOptionalToken(Ae.COLON)?(a=i,o=this.parseName()):o=i,{kind:Et.FIELD,alias:a,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ae.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ae.PAREN_L,i,Ae.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(Ae.COLON),{kind:Et.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:Et.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ae.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(Ae.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(Ae.NAME)?{kind:Et.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:Et.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:Et.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:Et.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case Ae.BRACKET_L:return this.parseList(n);case Ae.BRACE_L:return this.parseObject(n);case Ae.INT:return this._lexer.advance(),{kind:Et.INT,value:i.value,loc:this.loc(i)};case Ae.FLOAT:return this._lexer.advance(),{kind:Et.FLOAT,value:i.value,loc:this.loc(i)};case Ae.STRING:case Ae.BLOCK_STRING:return this.parseStringLiteral();case Ae.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:Et.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:Et.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:Et.NULL,loc:this.loc(i)};default:return{kind:Et.ENUM,value:i.value,loc:this.loc(i)}}case Ae.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:Et.STRING,value:n.value,block:n.kind===Ae.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var i=this,a=this._lexer.token,o=function(){return i.parseValueLiteral(n)};return{kind:Et.LIST,values:this.any(Ae.BRACKET_L,o,Ae.BRACKET_R),loc:this.loc(a)}},e.parseObject=function(n){var i=this,a=this._lexer.token,o=function(){return i.parseObjectField(n)};return{kind:Et.OBJECT,fields:this.any(Ae.BRACE_L,o,Ae.BRACE_R),loc:this.loc(a)}},e.parseObjectField=function(n){var i=this._lexer.token,a=this.parseName();return this.expectToken(Ae.COLON),{kind:Et.OBJECT_FIELD,name:a,value:this.parseValueLiteral(n),loc:this.loc(i)}},e.parseDirectives=function(n){for(var i=[];this.peek(Ae.AT);)i.push(this.parseDirective(n));return i},e.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(Ae.AT),{kind:Et.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},e.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(Ae.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(Ae.BRACKET_R),i={kind:Et.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(Ae.BANG)?{kind:Et.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},e.parseNamedType=function(){var n=this._lexer.token;return{kind:Et.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Ae.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(Ae.STRING)||this.peek(Ae.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),o=this.many(Ae.BRACE_L,this.parseOperationTypeDefinition,Ae.BRACE_R);return{kind:Et.SCHEMA_DEFINITION,description:i,directives:a,operationTypes:o,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(Ae.COLON);var a=this.parseNamedType();return{kind:Et.OPERATION_TYPE_DEFINITION,operation:i,type:a,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),o=this.parseDirectives(!0);return{kind:Et.SCALAR_TYPE_DEFINITION,description:i,name:a,directives:o,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Et.OBJECT_TYPE_DEFINITION,description:i,name:a,interfaces:o,directives:s,fields:l,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(Ae.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(Ae.AMP)||this.peek(Ae.NAME));return i}return this.delimitedMany(Ae.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Ae.BRACE_L)&&this._lexer.lookahead().kind===Ae.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ae.BRACE_L,this.parseFieldDefinition,Ae.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName(),o=this.parseArgumentDefs();this.expectToken(Ae.COLON);var s=this.parseTypeReference(),l=this.parseDirectives(!0);return{kind:Et.FIELD_DEFINITION,description:i,name:a,arguments:o,type:s,directives:l,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(Ae.PAREN_L,this.parseInputValueDef,Ae.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName();this.expectToken(Ae.COLON);var o=this.parseTypeReference(),s;this.expectOptionalToken(Ae.EQUALS)&&(s=this.parseValueLiteral(!0));var l=this.parseDirectives(!0);return{kind:Et.INPUT_VALUE_DEFINITION,description:i,name:a,type:o,defaultValue:s,directives:l,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),o=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),l=this.parseFieldsDefinition();return{kind:Et.INTERFACE_TYPE_DEFINITION,description:i,name:a,interfaces:o,directives:s,fields:l,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),o=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:Et.UNION_TYPE_DEFINITION,description:i,name:a,directives:o,types:s,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ae.EQUALS)?this.delimitedMany(Ae.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),o=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:Et.ENUM_TYPE_DEFINITION,description:i,name:a,directives:o,values:s,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(Ae.BRACE_L,this.parseEnumValueDefinition,Ae.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName(),o=this.parseDirectives(!0);return{kind:Et.ENUM_VALUE_DEFINITION,description:i,name:a,directives:o,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),o=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:Et.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:a,directives:o,fields:s,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(Ae.BRACE_L,this.parseInputValueDef,Ae.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Ae.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),a=this.optionalMany(Ae.BRACE_L,this.parseOperationTypeDefinition,Ae.BRACE_R);if(i.length===0&&a.length===0)throw this.unexpected();return{kind:Et.SCHEMA_EXTENSION,directives:i,operationTypes:a,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),a=this.parseDirectives(!0);if(a.length===0)throw this.unexpected();return{kind:Et.SCALAR_TYPE_EXTENSION,name:i,directives:a,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),a=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(a.length===0&&o.length===0&&s.length===0)throw this.unexpected();return{kind:Et.OBJECT_TYPE_EXTENSION,name:i,interfaces:a,directives:o,fields:s,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),a=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(a.length===0&&o.length===0&&s.length===0)throw this.unexpected();return{kind:Et.INTERFACE_TYPE_EXTENSION,name:i,interfaces:a,directives:o,fields:s,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),a=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(a.length===0&&o.length===0)throw this.unexpected();return{kind:Et.UNION_TYPE_EXTENSION,name:i,directives:a,types:o,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),a=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(a.length===0&&o.length===0)throw this.unexpected();return{kind:Et.ENUM_TYPE_EXTENSION,name:i,directives:a,values:o,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),a=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(a.length===0&&o.length===0)throw this.unexpected();return{kind:Et.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:a,fields:o,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ae.AT);var a=this.parseName(),o=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var l=this.parseDirectiveLocations();return{kind:Et.DIRECTIVE_DEFINITION,description:i,name:a,arguments:o,repeatable:s,locations:l,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(Ae.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(sKe[i.value]!==void 0)return i;throw this.unexpected(n)},e.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new Hse(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw yo(this._lexer.source,i.start,"Expected ".concat(Jse(n),", found ").concat(KD(i),"."))},e.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},e.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===Ae.NAME&&i.value===n)this._lexer.advance();else throw yo(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(KD(i),"."))},e.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===Ae.NAME&&i.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var i=n??this._lexer.token;return yo(this._lexer.source,i.start,"Unexpected ".concat(KD(i),"."))},e.any=function(n,i,a){this.expectToken(n);for(var o=[];!this.expectOptionalToken(a);)o.push(i.call(this));return o},e.optionalMany=function(n,i,a){if(this.expectOptionalToken(n)){var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(a));return o}return[]},e.many=function(n,i,a){this.expectToken(n);var o=[];do o.push(i.call(this));while(!this.expectOptionalToken(a));return o},e.delimitedMany=function(n,i){this.expectOptionalToken(n);var a=[];do a.push(i.call(this));while(this.expectOptionalToken(n));return a},t}();function KD(t){var e=t.value;return Jse(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function Jse(t){return fKe(t)?'"'.concat(t,'"'):t}var EKe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},AKe=Object.freeze({});function d4(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EKe,n=void 0,i=Array.isArray(t),a=[t],o=-1,s=[],l=void 0,u=void 0,c=void 0,d=[],f=[],p=t;do{o++;var v=o===a.length,g=v&&s.length!==0;if(v){if(u=f.length===0?void 0:d[d.length-1],l=c,c=f.pop(),g){if(i)l=l.slice();else{for(var m={},y=0,x=Object.keys(l);y<x.length;y++){var b=x[y];m[b]=l[b]}l=m}for(var w=0,S=0;S<s.length;S++){var C=s[S][0],E=s[S][1];i&&(C-=w),i&&E===null?(l.splice(C,1),w++):l[C]=E}}o=n.index,a=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(u=c?i?o:a[o]:void 0,l=c?c[u]:p,l==null)continue;c&&d.push(u)}var A=void 0;if(!Array.isArray(l)){if(!$G(l))throw new Error("Invalid AST Node: ".concat(Xse(l),"."));var P=CKe(e,l.kind,v);if(P){if(A=P.call(e,l,u,c,d,f),A===AKe)break;if(A===!1){if(!v){d.pop();continue}}else if(A!==void 0&&(s.push([u,A]),!v))if($G(A))l=A;else{d.pop();continue}}}if(A===void 0&&g&&s.push([u,l]),v)d.pop();else{var _;n={inArray:i,index:o,keys:a,edits:s,prev:n},i=Array.isArray(l),a=i?l:(_=r[l.kind])!==null&&_!==void 0?_:[],o=-1,s=[],c&&f.push(c),c=l}}while(n!==void 0);return s.length!==0&&(p=s[s.length-1][1]),p}function CKe(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var a=r?t.leave:t.enter;if(a){if(typeof a=="function")return a;var o=a[e];if(typeof o=="function")return o}}}function TKe(t){return d4(t,{leave:PKe})}var IKe=80,PKe={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return et(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,i=vn("(",et(e.variableDefinitions,", "),")"),a=et(e.directives," "),o=e.selectionSet;return!n&&!a&&!i&&r==="query"?o:et([r,et([n,i]),a,o]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,i=e.defaultValue,a=e.directives;return r+": "+n+vn(" = ",i)+vn(" ",et(a," "))},SelectionSet:function(e){var r=e.selections;return Ps(r)},Field:function(e){var r=e.alias,n=e.name,i=e.arguments,a=e.directives,o=e.selectionSet,s=vn("",r,": ")+n,l=s+vn("(",et(i,", "),")");return l.length>IKe&&(l=s+vn(`(
`,rA(et(i,`
`)),`
)`)),et([l,et(a," "),o]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+vn(" ",et(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,i=e.selectionSet;return et(["...",vn("on ",r),et(n," "),i]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,i=e.variableDefinitions,a=e.directives,o=e.selectionSet;return"fragment ".concat(r).concat(vn("(",et(i,", "),")")," ")+"on ".concat(n," ").concat(vn("",et(a," ")," "))+o},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,i=e.block;return i?cKe(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+et(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+et(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+vn("(",et(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:Is(function(t){var e=t.directives,r=t.operationTypes;return et(["schema",et(e," "),Ps(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:Is(function(t){var e=t.name,r=t.directives;return et(["scalar",e,et(r," ")]," ")}),ObjectTypeDefinition:Is(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return et(["type",e,vn("implements ",et(r," & ")),et(n," "),Ps(i)]," ")}),FieldDefinition:Is(function(t){var e=t.name,r=t.arguments,n=t.type,i=t.directives;return e+(BG(r)?vn(`(
`,rA(et(r,`
`)),`
)`):vn("(",et(r,", "),")"))+": "+n+vn(" ",et(i," "))}),InputValueDefinition:Is(function(t){var e=t.name,r=t.type,n=t.defaultValue,i=t.directives;return et([e+": "+r,vn("= ",n),et(i," ")]," ")}),InterfaceTypeDefinition:Is(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return et(["interface",e,vn("implements ",et(r," & ")),et(n," "),Ps(i)]," ")}),UnionTypeDefinition:Is(function(t){var e=t.name,r=t.directives,n=t.types;return et(["union",e,et(r," "),n&&n.length!==0?"= "+et(n," | "):""]," ")}),EnumTypeDefinition:Is(function(t){var e=t.name,r=t.directives,n=t.values;return et(["enum",e,et(r," "),Ps(n)]," ")}),EnumValueDefinition:Is(function(t){var e=t.name,r=t.directives;return et([e,et(r," ")]," ")}),InputObjectTypeDefinition:Is(function(t){var e=t.name,r=t.directives,n=t.fields;return et(["input",e,et(r," "),Ps(n)]," ")}),DirectiveDefinition:Is(function(t){var e=t.name,r=t.arguments,n=t.repeatable,i=t.locations;return"directive @"+e+(BG(r)?vn(`(
`,rA(et(r,`
`)),`
)`):vn("(",et(r,", "),")"))+(n?" repeatable":"")+" on "+et(i," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return et(["extend schema",et(r," "),Ps(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return et(["extend scalar",r,et(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return et(["extend type",r,vn("implements ",et(n," & ")),et(i," "),Ps(a)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return et(["extend interface",r,vn("implements ",et(n," & ")),et(i," "),Ps(a)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,i=e.types;return et(["extend union",r,et(n," "),i&&i.length!==0?"= "+et(i," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,i=e.values;return et(["extend enum",r,et(n," "),Ps(i)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,i=e.fields;return et(["extend input",r,et(n," "),Ps(i)]," ")}};function Is(t){return function(e){return et([e.description,t(e)],`
`)}}function et(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function Ps(t){return vn(`{
`,rA(et(t,`
`)),`
}`)}function vn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function rA(t){return vn("  ",t.replace(/\n/g,`
  `))}function _Ke(t){return t.indexOf(`
`)!==-1}function BG(t){return t!=null&&t.some(_Ke)}const VG=t=>{var n,i;let e;const r=t.definitions.filter(a=>a.kind==="OperationDefinition");return r.length===1&&(e=(i=(n=r[0])==null?void 0:n.name)==null?void 0:i.value),e},QD=t=>{if(typeof t=="string"){let r;try{const n=Qse(t);r=VG(n)}catch{}return{query:t,operationName:r}}const e=VG(t);return{query:TKe(t),operationName:e}};class L0 extends Error{constructor(e,r){const n=`${L0.extractMessage(e)}: ${JSON.stringify({response:e,request:r})}`;super(n),Object.setPrototypeOf(this,L0.prototype),this.response=e,this.request=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,L0)}static extractMessage(e){var r,n;return((n=(r=e.errors)==null?void 0:r[0])==null?void 0:n.message)??`GraphQL Error (Code: ${e.status})`}}var Cj={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof mn<"u"&&mn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(o){var s=typeof a<"u"&&a||typeof self<"u"&&self||typeof mn<"u"&&mn||{},l={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u($){return $&&DataView.prototype.isPrototypeOf($)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function($){return $&&c.indexOf(Object.prototype.toString.call($))>-1};function f($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function p($){return typeof $!="string"&&($=String($)),$}function v($){var L={next:function(){var R=$.shift();return{done:R===void 0,value:R}}};return l.iterable&&(L[Symbol.iterator]=function(){return L}),L}function g($){this.map={},$ instanceof g?$.forEach(function(L,R){this.append(R,L)},this):Array.isArray($)?$.forEach(function(L){if(L.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+L.length);this.append(L[0],L[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(L){this.append(L,$[L])},this)}g.prototype.append=function($,L){$=f($),L=p(L);var R=this.map[$];this.map[$]=R?R+", "+L:L},g.prototype.delete=function($){delete this.map[f($)]},g.prototype.get=function($){return $=f($),this.has($)?this.map[$]:null},g.prototype.has=function($){return this.map.hasOwnProperty(f($))},g.prototype.set=function($,L){this.map[f($)]=p(L)},g.prototype.forEach=function($,L){for(var R in this.map)this.map.hasOwnProperty(R)&&$.call(L,this.map[R],R,this)},g.prototype.keys=function(){var $=[];return this.forEach(function(L,R){$.push(R)}),v($)},g.prototype.values=function(){var $=[];return this.forEach(function(L){$.push(L)}),v($)},g.prototype.entries=function(){var $=[];return this.forEach(function(L,R){$.push([R,L])}),v($)},l.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function m($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function y($){return new Promise(function(L,R){$.onload=function(){L($.result)},$.onerror=function(){R($.error)}})}function x($){var L=new FileReader,R=y(L);return L.readAsArrayBuffer($),R}function b($){var L=new FileReader,R=y(L),V=/charset=([A-Za-z0-9_-]+)/.exec($.type),U=V?V[1]:"utf-8";return L.readAsText($,U),R}function w($){for(var L=new Uint8Array($),R=new Array(L.length),V=0;V<L.length;V++)R[V]=String.fromCharCode(L[V]);return R.join("")}function S($){if($.slice)return $.slice(0);var L=new Uint8Array($.byteLength);return L.set(new Uint8Array($)),L.buffer}function C(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:l.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:l.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:l.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():l.arrayBuffer&&l.blob&&u($)?(this._bodyArrayBuffer=S($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||d($))?this._bodyArrayBuffer=S($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var $=m(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=m(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var $=m(this);if($)return $;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A($){var L=$.toUpperCase();return E.indexOf(L)>-1?L:$}function P($,L){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');L=L||{};var R=L.body;if($ instanceof P){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,L.headers||(this.headers=new g($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!R&&$._bodyInit!=null&&(R=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=L.credentials||this.credentials||"same-origin",(L.headers||!this.headers)&&(this.headers=new g(L.headers)),this.method=A(L.method||this.method||"GET"),this.mode=L.mode||this.mode||null,this.signal=L.signal||this.signal||function(){if("AbortController"in s){var q=new AbortController;return q.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(L.cache==="no-store"||L.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function _($){var L=new FormData;return $.trim().split("&").forEach(function(R){if(R){var V=R.split("="),U=V.shift().replace(/\+/g," "),q=V.join("=").replace(/\+/g," ");L.append(decodeURIComponent(U),decodeURIComponent(q))}}),L}function k($){var L=new g,R=$.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var U=V.split(":"),q=U.shift().trim();if(q){var M=U.join(":").trim();try{L.append(q,M)}catch(G){console.warn("Response "+G.message)}}}),L}C.call(P.prototype);function O($,L){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(L||(L={}),this.type="default",this.status=L.status===void 0?200:L.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=L.statusText===void 0?"":""+L.statusText,this.headers=new g(L.headers),this.url=L.url||"",this._initBody($)}C.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var $=new O(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var D=[301,302,303,307,308];O.redirect=function($,L){if(D.indexOf(L)===-1)throw new RangeError("Invalid status code");return new O(null,{status:L,headers:{location:$}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(L,R){this.message=L,this.name=R;var V=Error(L);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function B($,L){return new Promise(function(R,V){var U=new P($,L);if(U.signal&&U.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var q=new XMLHttpRequest;function M(){q.abort()}q.onload=function(){var J={statusText:q.statusText,headers:k(q.getAllResponseHeaders()||"")};U.url.indexOf("file://")===0&&(q.status<200||q.status>599)?J.status=200:J.status=q.status,J.url="responseURL"in q?q.responseURL:J.headers.get("X-Request-URL");var te="response"in q?q.response:q.responseText;setTimeout(function(){R(new O(te,J))},0)},q.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},q.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request timed out"))},0)},q.onabort=function(){setTimeout(function(){V(new o.DOMException("Aborted","AbortError"))},0)};function G(J){try{return J===""&&s.location.href?s.location.href:J}catch{return J}}if(q.open(U.method,G(U.url),!0),U.credentials==="include"?q.withCredentials=!0:U.credentials==="omit"&&(q.withCredentials=!1),"responseType"in q&&(l.blob?q.responseType="blob":l.arrayBuffer&&(q.responseType="arraybuffer")),L&&typeof L.headers=="object"&&!(L.headers instanceof g||s.Headers&&L.headers instanceof s.Headers)){var W=[];Object.getOwnPropertyNames(L.headers).forEach(function(J){W.push(f(J)),q.setRequestHeader(J,p(L.headers[J]))}),U.headers.forEach(function(J,te){W.indexOf(te)===-1&&q.setRequestHeader(te,J)})}else U.headers.forEach(function(J,te){q.setRequestHeader(te,J)});U.signal&&(U.signal.addEventListener("abort",M),q.onreadystatechange=function(){q.readyState===4&&U.signal.removeEventListener("abort",M)}),q.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return B.polyfill=!0,s.fetch||(s.fetch=B,s.Headers=g,s.Request=P,s.Response=O),o.Headers=g,o.Request=P,o.Response=O,o.fetch=B,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Cj,Cj.exports);var hC=Cj.exports;const nA=_t(hC),OKe=Hxe({__proto__:null,default:nA},[hC]),Up=t=>{let e={};return t&&(typeof Headers<"u"&&t instanceof Headers||OKe&&hC.Headers&&t instanceof hC.Headers?e=DXe(t):Array.isArray(t)?t.forEach(([r,n])=>{r&&n!==void 0&&(e[r]=n)}):e=t),e},zG=t=>t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),kKe=t=>{if(!Array.isArray(t.query)){const n=t,i=[`query=${encodeURIComponent(zG(n.query))}`];return t.variables&&i.push(`variables=${encodeURIComponent(n.jsonSerializer.stringify(n.variables))}`),n.operationName&&i.push(`operationName=${encodeURIComponent(n.operationName)}`),i.join("&")}if(typeof t.variables<"u"&&!Array.isArray(t.variables))throw new Error("Cannot create query with given variable type, array expected");const e=t,r=t.query.reduce((n,i,a)=>(n.push({query:zG(i),variables:e.variables?e.jsonSerializer.stringify(e.variables[a]):void 0}),n),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(r))}`},DKe=t=>async e=>{const{url:r,query:n,variables:i,operationName:a,fetch:o,fetchOptions:s,middleware:l}=e,u={...e.headers};let c="",d;t==="POST"?(d=OXe(n,i,a,s.jsonSerializer),typeof d=="string"&&(u["Content-Type"]="application/json")):c=kKe({query:n,variables:i,operationName:a,jsonSerializer:s.jsonSerializer??c4});const f={method:t,headers:u,body:d,...s};let p=r,v=f;if(l){const g=await Promise.resolve(l({...f,url:r,operationName:a,variables:i})),{url:m,...y}=g;p=m,v=y}return c&&(p=`${p}?${c}`),await o(p,v)};class Zse{constructor(e,r={}){this.url=e,this.requestConfig=r,this.rawRequest=async(...n)=>{const[i,a,o]=n,s=RXe(i,a,o),{headers:l,fetch:u=nA,method:c="POST",requestMiddleware:d,responseMiddleware:f,...p}=this.requestConfig,{url:v}=this;s.signal!==void 0&&(p.signal=s.signal);const{operationName:g}=QD(s.query);return JD({url:v,query:s.query,variables:s.variables,headers:{...Up(ZD(l)),...Up(s.requestHeaders)},operationName:g,fetch:u,method:c,fetchOptions:p,middleware:d}).then(m=>(f&&f(m),m)).catch(m=>{throw f&&f(m),m})}}async request(e,...r){const[n,i]=r,a=MXe(e,n,i),{headers:o,fetch:s=nA,method:l="POST",requestMiddleware:u,responseMiddleware:c,...d}=this.requestConfig,{url:f}=this;a.signal!==void 0&&(d.signal=a.signal);const{query:p,operationName:v}=QD(a.document);return JD({url:f,query:p,variables:a.variables,headers:{...Up(ZD(o)),...Up(a.requestHeaders)},operationName:v,fetch:s,method:l,fetchOptions:d,middleware:u}).then(g=>(c&&c(g),g.data)).catch(g=>{throw c&&c(g),g})}batchRequests(e,r){const n=jXe(e,r),{headers:i,...a}=this.requestConfig;n.signal!==void 0&&(a.signal=n.signal);const o=n.documents.map(({document:l})=>QD(l).query),s=n.documents.map(({variables:l})=>l);return JD({url:this.url,query:o,variables:s,headers:{...Up(ZD(i)),...Up(n.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??nA,method:this.requestConfig.method||"POST",fetchOptions:a,middleware:this.requestConfig.requestMiddleware}).then(l=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(l),l.data)).catch(l=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(l),l})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,r){const{headers:n}=this.requestConfig;return n?n[e]=r:this.requestConfig.headers={[e]:r},this}setEndpoint(e){return this.url=e,this}}const JD=async t=>{const{query:e,variables:r,fetchOptions:n}=t,i=DKe(kXe(t.method??"post")),a=Array.isArray(t.query),o=await i(t),s=await MKe(o,n.jsonSerializer??c4),l=Array.isArray(s)?!s.some(({data:c})=>!c):!!s.data,u=Array.isArray(s)||!s.errors||Array.isArray(s.errors)&&!s.errors.length||n.errorPolicy==="all"||n.errorPolicy==="ignore";if(o.ok&&u&&l){const{errors:c,...d}=(Array.isArray(s),s),f=n.errorPolicy==="ignore"?d:s;return{...a?{data:f}:f,headers:o.headers,status:o.status}}else{const c=typeof s=="string"?{error:s}:s;throw new L0({...c,status:o.status,headers:o.headers},{query:e,variables:r})}},MKe=async(t,e)=>{let r;return t.headers.forEach((n,i)=>{i.toLowerCase()==="content-type"&&(r=n)}),r&&(r.toLowerCase().startsWith("application/json")||r.toLowerCase().startsWith("application/graphql+json")||r.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await t.text()):t.text()},ZD=t=>typeof t=="function"?t():t;var iA=new Map,Tj=new Map,ele=!0,pC=!1;function tle(t){return t.replace(/[\s,]+/g," ").trim()}function RKe(t){return tle(t.source.body.substring(t.start,t.end))}function jKe(t){var e=new Set,r=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,a=RKe(n.loc),o=Tj.get(i);o&&!o.has(a)?ele&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||Tj.set(i,o=new Set),o.add(a),e.has(a)||(e.add(a),r.push(n))}else r.push(n)}),F(F({},t),{definitions:r})}function FKe(t){var e=new Set(t.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var a=n[i];a&&typeof a=="object"&&e.add(a)})});var r=t.loc;return r&&(delete r.startToken,delete r.endToken),t}function LKe(t){var e=tle(t);if(!iA.has(e)){var r=Qse(t,{experimentalFragmentVariables:pC,allowLegacyFragmentVariables:pC});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");iA.set(e,FKe(jKe(r)))}return iA.get(e)}function Sl(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(i,a){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=t[a+1]}),LKe(n)}function $Ke(){iA.clear(),Tj.clear()}function NKe(){ele=!1}function BKe(){pC=!0}function VKe(){pC=!1}var Cy={gql:Sl,resetCaches:$Ke,disableFragmentWarnings:NKe,enableExperimentalFragmentVariables:BKe,disableExperimentalFragmentVariables:VKe};(function(t){t.gql=Cy.gql,t.resetCaches=Cy.resetCaches,t.disableFragmentWarnings=Cy.disableFragmentWarnings,t.enableExperimentalFragmentVariables=Cy.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=Cy.disableExperimentalFragmentVariables})(Sl||(Sl={}));Sl.default=Sl;var zKe=typeof mn=="object"&&mn&&mn.Object===Object&&mn,rle=zKe,UKe=rle,qKe=typeof self=="object"&&self&&self.Object===Object&&self,GKe=UKe||qKe||Function("return this")(),iu=GKe,WKe=iu,HKe=WKe.Symbol,Rw=HKe,UG=Rw,nle=Object.prototype,YKe=nle.hasOwnProperty,XKe=nle.toString,Ty=UG?UG.toStringTag:void 0;function KKe(t){var e=YKe.call(t,Ty),r=t[Ty];try{t[Ty]=void 0;var n=!0}catch{}var i=XKe.call(t);return n&&(e?t[Ty]=r:delete t[Ty]),i}var QKe=KKe,JKe=Object.prototype,ZKe=JKe.toString;function eQe(t){return ZKe.call(t)}var tQe=eQe,qG=Rw,rQe=QKe,nQe=tQe,iQe="[object Null]",aQe="[object Undefined]",GG=qG?qG.toStringTag:void 0;function oQe(t){return t==null?t===void 0?aQe:iQe:GG&&GG in Object(t)?rQe(t):nQe(t)}var xc=oQe;function sQe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bc=sQe;const Tm=_t(bc);var lQe=xc,uQe=bc,cQe="[object AsyncFunction]",dQe="[object Function]",fQe="[object GeneratorFunction]",hQe="[object Proxy]";function pQe(t){if(!uQe(t))return!1;var e=lQe(t);return e==dQe||e==fQe||e==cQe||e==hQe}var f4=pQe;const Ct=_t(f4);var vQe=iu,gQe=vQe["__core-js_shared__"],mQe=gQe,eM=mQe,WG=function(){var t=/[^.]+$/.exec(eM&&eM.keys&&eM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yQe(t){return!!WG&&WG in t}var xQe=yQe,bQe=Function.prototype,wQe=bQe.toString;function SQe(t){if(t!=null){try{return wQe.call(t)}catch{}try{return t+""}catch{}}return""}var ile=SQe,EQe=f4,AQe=xQe,CQe=bc,TQe=ile,IQe=/[\\^$.*+?()[\]{}|]/g,PQe=/^\[object .+?Constructor\]$/,_Qe=Function.prototype,OQe=Object.prototype,kQe=_Qe.toString,DQe=OQe.hasOwnProperty,MQe=RegExp("^"+kQe.call(DQe).replace(IQe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RQe(t){if(!CQe(t)||AQe(t))return!1;var e=EQe(t)?MQe:PQe;return e.test(TQe(t))}var jQe=RQe;function FQe(t,e){return t==null?void 0:t[e]}var LQe=FQe,$Qe=jQe,NQe=LQe;function BQe(t,e){var r=NQe(t,e);return $Qe(r)?r:void 0}var pp=BQe,VQe=pp,zQe=function(){try{var t=VQe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ale=zQe,HG=ale;function UQe(t,e,r){e=="__proto__"&&HG?HG(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var ole=UQe;function qQe(t,e){return t===e||t!==t&&e!==e}var jP=qQe,GQe=ole,WQe=jP,HQe=Object.prototype,YQe=HQe.hasOwnProperty;function XQe(t,e,r){var n=t[e];(!(YQe.call(t,e)&&WQe(n,r))||r===void 0&&!(e in t))&&GQe(t,e,r)}var KQe=XQe,QQe=Array.isArray,eo=QQe;function JQe(t){return t!=null&&typeof t=="object"}var wc=JQe,ZQe=xc,eJe=wc,tJe="[object Symbol]";function rJe(t){return typeof t=="symbol"||eJe(t)&&ZQe(t)==tJe}var Im=rJe,nJe=eo,iJe=Im,aJe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oJe=/^\w*$/;function sJe(t,e){if(nJe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||iJe(t)?!0:oJe.test(t)||!aJe.test(t)||e!=null&&t in Object(e)}var h4=sJe,lJe=pp,uJe=lJe(Object,"create"),FP=uJe,YG=FP;function cJe(){this.__data__=YG?YG(null):{},this.size=0}var dJe=cJe;function fJe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hJe=fJe,pJe=FP,vJe="__lodash_hash_undefined__",gJe=Object.prototype,mJe=gJe.hasOwnProperty;function yJe(t){var e=this.__data__;if(pJe){var r=e[t];return r===vJe?void 0:r}return mJe.call(e,t)?e[t]:void 0}var xJe=yJe,bJe=FP,wJe=Object.prototype,SJe=wJe.hasOwnProperty;function EJe(t){var e=this.__data__;return bJe?e[t]!==void 0:SJe.call(e,t)}var AJe=EJe,CJe=FP,TJe="__lodash_hash_undefined__";function IJe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=CJe&&e===void 0?TJe:e,this}var PJe=IJe,_Je=dJe,OJe=hJe,kJe=xJe,DJe=AJe,MJe=PJe;function Pm(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Pm.prototype.clear=_Je;Pm.prototype.delete=OJe;Pm.prototype.get=kJe;Pm.prototype.has=DJe;Pm.prototype.set=MJe;var RJe=Pm;function jJe(){this.__data__=[],this.size=0}var FJe=jJe,LJe=jP;function $Je(t,e){for(var r=t.length;r--;)if(LJe(t[r][0],e))return r;return-1}var LP=$Je,NJe=LP,BJe=Array.prototype,VJe=BJe.splice;function zJe(t){var e=this.__data__,r=NJe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():VJe.call(e,r,1),--this.size,!0}var UJe=zJe,qJe=LP;function GJe(t){var e=this.__data__,r=qJe(e,t);return r<0?void 0:e[r][1]}var WJe=GJe,HJe=LP;function YJe(t){return HJe(this.__data__,t)>-1}var XJe=YJe,KJe=LP;function QJe(t,e){var r=this.__data__,n=KJe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var JJe=QJe,ZJe=FJe,eZe=UJe,tZe=WJe,rZe=XJe,nZe=JJe;function _m(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_m.prototype.clear=ZJe;_m.prototype.delete=eZe;_m.prototype.get=tZe;_m.prototype.has=rZe;_m.prototype.set=nZe;var $P=_m,iZe=pp,aZe=iu,oZe=iZe(aZe,"Map"),p4=oZe,XG=RJe,sZe=$P,lZe=p4;function uZe(){this.size=0,this.__data__={hash:new XG,map:new(lZe||sZe),string:new XG}}var cZe=uZe;function dZe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var fZe=dZe,hZe=fZe;function pZe(t,e){var r=t.__data__;return hZe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var NP=pZe,vZe=NP;function gZe(t){var e=vZe(this,t).delete(t);return this.size-=e?1:0,e}var mZe=gZe,yZe=NP;function xZe(t){return yZe(this,t).get(t)}var bZe=xZe,wZe=NP;function SZe(t){return wZe(this,t).has(t)}var EZe=SZe,AZe=NP;function CZe(t,e){var r=AZe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var TZe=CZe,IZe=cZe,PZe=mZe,_Ze=bZe,OZe=EZe,kZe=TZe;function Om(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Om.prototype.clear=IZe;Om.prototype.delete=PZe;Om.prototype.get=_Ze;Om.prototype.has=OZe;Om.prototype.set=kZe;var v4=Om,sle=v4,DZe="Expected a function";function g4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DZe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(g4.Cache||sle),r}g4.Cache=sle;var lle=g4;const MZe=_t(lle);var RZe=lle,jZe=500;function FZe(t){var e=RZe(t,function(n){return r.size===jZe&&r.clear(),n}),r=e.cache;return e}var LZe=FZe,$Ze=LZe,NZe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BZe=/\\(\\)?/g,VZe=$Ze(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(NZe,function(r,n,i,a){e.push(i?a.replace(BZe,"$1"):n||r)}),e}),zZe=VZe;function UZe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var m4=UZe,KG=Rw,qZe=m4,GZe=eo,WZe=Im,QG=KG?KG.prototype:void 0,JG=QG?QG.toString:void 0;function ule(t){if(typeof t=="string")return t;if(GZe(t))return qZe(t,ule)+"";if(WZe(t))return JG?JG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var HZe=ule,YZe=HZe;function XZe(t){return t==null?"":YZe(t)}var cle=XZe,KZe=eo,QZe=h4,JZe=zZe,ZZe=cle;function eet(t,e){return KZe(t)?t:QZe(t,e)?[t]:JZe(ZZe(t))}var y4=eet,tet=9007199254740991,ret=/^(?:0|[1-9]\d*)$/;function net(t,e){var r=typeof t;return e=e??tet,!!e&&(r=="number"||r!="symbol"&&ret.test(t))&&t>-1&&t%1==0&&t<e}var BP=net,iet=Im;function aet(t){if(typeof t=="string"||iet(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var jw=aet,oet=KQe,set=y4,uet=BP,ZG=bc,cet=jw;function det(t,e,r,n){if(!ZG(t))return t;e=set(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=cet(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=ZG(c)?c:uet(e[i+1])?[]:{})}oet(s,l,u),s=s[l]}return t}var fet=det,het=fet;function pet(t,e,r){return t==null?t:het(t,e,r)}var vet=pet;const eW=_t(vet);function ka(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function kf(t){return ka(t)==="object"}function get(t){return Array.isArray(t)&&t.length>0&&t.every(e=>"message"in e)}function tW(t,e){return t.length<124?t:e}const met="graphql-transport-ws";var lo;(function(t){t[t.InternalServerError=4500]="InternalServerError",t[t.InternalClientError=4005]="InternalClientError",t[t.BadRequest=4400]="BadRequest",t[t.BadResponse=4004]="BadResponse",t[t.Unauthorized=4401]="Unauthorized",t[t.Forbidden=4403]="Forbidden",t[t.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",t[t.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",t[t.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",t[t.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",t[t.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(lo||(lo={}));var Dn;(function(t){t.ConnectionInit="connection_init",t.ConnectionAck="connection_ack",t.Ping="ping",t.Pong="pong",t.Subscribe="subscribe",t.Next="next",t.Error="error",t.Complete="complete"})(Dn||(Dn={}));function dle(t){if(!kf(t))throw new Error(`Message is expected to be an object, but got ${ka(t)}`);if(!t.type)throw new Error("Message is missing the 'type' property");if(typeof t.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${ka(t.type)}`);switch(t.type){case Dn.ConnectionInit:case Dn.ConnectionAck:case Dn.Ping:case Dn.Pong:{if(t.payload!=null&&!kf(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${t.payload}"`);break}case Dn.Subscribe:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${ka(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!kf(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${ka(t.payload)}`);if(typeof t.payload.query!="string")throw new Error(`"${t.type}" message payload expects the 'query' property to be a string, but got ${ka(t.payload.query)}`);if(t.payload.variables!=null&&!kf(t.payload.variables))throw new Error(`"${t.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${ka(t.payload.variables)}`);if(t.payload.operationName!=null&&ka(t.payload.operationName)!=="string")throw new Error(`"${t.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${ka(t.payload.operationName)}`);if(t.payload.extensions!=null&&!kf(t.payload.extensions))throw new Error(`"${t.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${ka(t.payload.extensions)}`);break}case Dn.Next:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${ka(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!kf(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${ka(t.payload)}`);break}case Dn.Error:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${ka(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!get(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(t.payload)}`);break}case Dn.Complete:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${ka(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${t.type}"`)}return t}function yet(t,e){return dle(typeof t=="string"?JSON.parse(t,e):t)}function Iy(t,e){return dle(t),JSON.stringify(t,e)}var Bv=function(t){return this instanceof Bv?(this.v=t,this):new Bv(t)},xet=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(v){return Promise.resolve(v).then(p,d)}}function s(p,v){n[p]&&(i[p]=function(g){return new Promise(function(m,y){a.push([p,g,m,y])>1||l(p,g)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(n[p](v))}catch(g){f(a[0][3],g)}}function u(p){p.value instanceof Bv?Promise.resolve(p.value.v).then(c,d):f(a[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function f(p,v){p(v),a.shift(),a.length&&l(a[0][0],a[0][1])}};function bet(t){const{url:e,connectionParams:r,lazy:n=!0,onNonLazyError:i=console.error,lazyCloseTimeout:a=0,keepAlive:o=0,disablePong:s,connectionAckWaitTimeout:l=0,retryAttempts:u=5,retryWait:c=async function(L){let R=1e3;for(let V=0;V<L;V++)R*=2;await new Promise(V=>setTimeout(V,R+Math.floor(Math.random()*2700+300)))},shouldRetry:d=tM,isFatalConnectionProblem:f,on:p,webSocketImpl:v,generateID:g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,L=>{const R=Math.random()*16|0;return(L=="x"?R:R&3|8).toString(16)})},jsonMessageReplacer:m,jsonMessageReviver:y}=t;let x;if(v){if(!Eet(v))throw new Error("Invalid WebSocket implementation provided");x=v}else typeof WebSocket<"u"?x=WebSocket:typeof global<"u"?x=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(x=window.WebSocket||window.MozWebSocket);if(!x)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const b=x,w=(()=>{const $=(()=>{const R={};return{on(V,U){return R[V]=U,()=>{delete R[V]}},emit(V){var U;"id"in V&&((U=R[V.id])===null||U===void 0||U.call(R,V))}}})(),L={connecting:p!=null&&p.connecting?[p.connecting]:[],opened:p!=null&&p.opened?[p.opened]:[],connected:p!=null&&p.connected?[p.connected]:[],ping:p!=null&&p.ping?[p.ping]:[],pong:p!=null&&p.pong?[p.pong]:[],message:p!=null&&p.message?[$.emit,p.message]:[$.emit],closed:p!=null&&p.closed?[p.closed]:[],error:p!=null&&p.error?[p.error]:[]};return{onMessage:$.on,on(R,V){const U=L[R];return U.push(V),()=>{U.splice(U.indexOf(V),1)}},emit(R,...V){for(const U of[...L[R]])U(...V)}}})();function S($){const L=[w.on("error",R=>{L.forEach(V=>V()),$(R)}),w.on("closed",R=>{L.forEach(V=>V()),$(R)})]}let C,E=0,A,P=!1,_=0,k=!1;async function O(){clearTimeout(A);const[$,L]=await(C??(C=new Promise((U,q)=>(async()=>{if(P){if(await c(_),!E)return C=void 0,q({code:1e3,reason:"All Subscriptions Gone"});_++}w.emit("connecting",P);const M=new b(typeof e=="function"?await e():e,met);let G,W;function J(){isFinite(o)&&o>0&&(clearTimeout(W),W=setTimeout(()=>{M.readyState===b.OPEN&&(M.send(Iy({type:Dn.Ping})),w.emit("ping",!1,void 0))},o))}S(H=>{C=void 0,clearTimeout(G),clearTimeout(W),q(H),H instanceof rW&&(M.close(4499,"Terminated"),M.onerror=null,M.onclose=null)}),M.onerror=H=>w.emit("error",H),M.onclose=H=>w.emit("closed",H),M.onopen=async()=>{try{w.emit("opened",M);const H=typeof r=="function"?await r():r;if(M.readyState!==b.OPEN)return;M.send(Iy(H?{type:Dn.ConnectionInit,payload:H}:{type:Dn.ConnectionInit},m)),isFinite(l)&&l>0&&(G=setTimeout(()=>{M.close(lo.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),J()}catch(H){w.emit("error",H),M.close(lo.InternalClientError,tW(H instanceof Error?H.message:new Error(H).message,"Internal client error"))}};let te=!1;M.onmessage=({data:H})=>{try{const ee=yet(H,y);if(w.emit("message",ee),ee.type==="ping"||ee.type==="pong"){w.emit(ee.type,!0,ee.payload),ee.type==="pong"?J():s||(M.send(Iy(ee.payload?{type:Dn.Pong,payload:ee.payload}:{type:Dn.Pong})),w.emit("pong",!1,ee.payload));return}if(te)return;if(ee.type!==Dn.ConnectionAck)throw new Error(`First message cannot be of type ${ee.type}`);clearTimeout(G),te=!0,w.emit("connected",M,ee.payload,P),P=!1,_=0,U([M,new Promise((re,Q)=>S(Q))])}catch(ee){M.onmessage=null,w.emit("error",ee),M.close(lo.BadResponse,tW(ee instanceof Error?ee.message:new Error(ee).message,"Bad response"))}}})())));$.readyState===b.CLOSING&&await L;let R=()=>{};const V=new Promise(U=>R=U);return[$,R,Promise.race([V.then(()=>{if(!E){const U=()=>$.close(1e3,"Normal Closure");isFinite(a)&&a>0?A=setTimeout(()=>{$.readyState===b.OPEN&&U()},a):U()}}),L])]}function D($){if(tM($)&&(wet($.code)||[lo.InternalServerError,lo.InternalClientError,lo.BadRequest,lo.BadResponse,lo.Unauthorized,lo.SubprotocolNotAcceptable,lo.SubscriberAlreadyExists,lo.TooManyInitialisationRequests].includes($.code)))throw $;if(k)return!1;if(tM($)&&$.code===1e3)return E>0;if(!u||_>=u||!d($)||f!=null&&f($))throw $;return P=!0}n||(async()=>{for(E++;;)try{const[,,$]=await O();await $}catch($){try{if(!D($))return}catch(L){return i==null?void 0:i(L)}}})();function B($,L){const R=g($);let V=!1,U=!1,q=()=>{E--,V=!0};return(async()=>{for(E++;;)try{const[M,G,W]=await O();if(V)return G();const J=w.onMessage(R,te=>{switch(te.type){case Dn.Next:{L.next(te.payload);return}case Dn.Error:{U=!0,V=!0,L.error(te.payload),q();return}case Dn.Complete:{V=!0,q();return}}});M.send(Iy({id:R,type:Dn.Subscribe,payload:$},m)),q=()=>{!V&&M.readyState===b.OPEN&&M.send(Iy({id:R,type:Dn.Complete},m)),E--,V=!0,G()},await W.finally(J);return}catch(M){if(!D(M))return}})().then(()=>{U||L.complete()}).catch(M=>{L.error(M)}),()=>{V||q()}}return{on:w.on,subscribe:B,iterate($){const L=[],R={done:!1,error:null,resolve:()=>{}},V=B($,{next(q){L.push(q),R.resolve()},error(q){R.done=!0,R.error=q,R.resolve()},complete(){R.done=!0,R.resolve()}}),U=function(){return xet(this,arguments,function*(){for(;;){for(L.length||(yield Bv(new Promise(G=>R.resolve=G)));L.length;)yield yield Bv(L.shift());if(R.error)throw R.error;if(R.done)return yield Bv(void 0)}})}();return U.throw=async q=>(R.done||(R.done=!0,R.error=q,R.resolve()),{done:!0,value:void 0}),U.return=async()=>(V(),{done:!0,value:void 0}),U},async dispose(){if(k=!0,C){const[$]=await C;$.close(1e3,"Normal Closure")}},terminate(){C&&w.emit("closed",new rW)}}}class rW extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function tM(t){return kf(t)&&"code"in t&&"reason"in t}function wet(t){return[1e3,1001,1006,1005,1012,1013,1014].includes(t)?!1:t>=1e3&&t<=1999}function Eet(t){return typeof t=="function"&&"constructor"in t&&"CLOSED"in t&&"CLOSING"in t&&"CONNECTING"in t&&"OPEN"in t}var Aet=t=>{var e,r;return(r=(e=t==null?void 0:t.selectionSet)==null?void 0:e.selections)==null?void 0:r.find(n=>n.kind==="Field"&&n.name.value==="nodes")},x4=t=>{let e=[],r=!0,n=0,i=!1;return d4(t,{Field:{enter(a){if(r){r=!1;let o=Aet(a)??a;if(typeof o.selectionSet>"u")throw new Error("Operation must have a selection set");return o.selectionSet}e.push(`${n>0?"  ".repeat(i?n:n-1):""}${a.name.value}${a.selectionSet?" {":""}`),a.selectionSet&&(n++,i=!0)},leave(a){a.selectionSet&&(n--,e.push(`${"  ".repeat(n)}}`),i=!1)}}}),e.join(`
`).trim()},Cet=t=>{let e=!1;return d4(t,{OperationDefinition:{enter(r){r.operation==="mutation"&&(e=!0)}}}),e},Tet=(t,{callback:e,params:r,meta:n},i)=>{let a={created:Oet,updated:ket,deleted:Det},{resource:o,filters:s,subscriptionType:l,id:u,ids:c}=r??{},d=a[i],{operation:f,query:p,variables:v,operationName:g}=d({ids:c,id:u,resource:o,filters:s,meta:n,subscriptionType:l}),m=y=>{e(y.data[f])};return t.subscribe({query:p,variables:v,operationName:g},{next:m,error:console.error,complete:()=>null})},Iet={eq:"eq",ne:"neq",lt:"lt",gt:"gt",lte:"lte",gte:"gte",in:"in",nin:"notIn"},Pet=(t,e)=>{if(t==="contains")return{iLike:`%${e}%`};if(t==="ncontains")return{notILike:`%${e}%`};if(t==="containss")return{like:`%${e}%`};if(t==="ncontainss")return{notLike:`%${e}%`};if(t==="startswith")return{iLike:`${e}%`};if(t==="nstartswith")return{notILike:`${e}%`};if(t==="startswiths")return{like:`${e}%`};if(t==="nstartswiths")return{notLike:`${e}%`};if(t==="endswith")return{iLike:`%${e}`};if(t==="nendswith")return{notILike:`%${e}`};if(t==="endswiths")return{like:`%${e}`};if(t==="nendswiths")return{notLike:`%${e}`};if(t==="null")return{is:null};if(t==="nnull")return{isNot:null};if(t==="between"){if(!Array.isArray(e))throw new Error("Between operator requires an array");return e.length!==2?{}:{between:{lower:e[0],upper:e[1]}}}if(t==="nbetween"){if(!Array.isArray(e))throw new Error("NBetween operator requires an array");return e.length!==2?{}:{notBetween:{lower:e[0],upper:e[1]}}}return{[Iet[t]]:e}},Ju=t=>{let e={};return t.filter(r=>Array.isArray(r.value)&&r.value.length===0?!1:typeof r.value=="number"?Number.isFinite(r.value):r.value!=null).map(r=>r.operator==="and"||r.operator==="or"?eW(e,r.operator,[Ju(r.value)]):"field"in r?eW(e,r.field,Pet(r.operator,r.value)):{}),e},nW=t=>t.map(e=>({field:e.field,direction:e.order.toUpperCase()})),_et=t=>{if(t.mode==="off")return{limit:2147483647};if(t.mode==="server"&&!(!t.current||!t.pageSize))return{limit:t.pageSize,offset:(t.current-1)*t.pageSize}},Oet=({resource:t,filters:e,meta:r})=>{let n=(r==null?void 0:r.gqlQuery)??(r==null?void 0:r.gqlMutation);if(n){let l=mr(rn.singular(t),{pascalCase:!0}),u=`Created${l}`,c=`created${l}`,d=`
            subscription ${u}($input: Create${l}SubscriptionFilterInput) {
                ${c}(input: $input) {
                    ${x4(n)}
                }
            }
        `,f={};return e&&(f.input={filter:Ju(e.filter(p=>!p.field.includes(".")))}),{query:d,variables:f,operation:c,operationName:u}}let i=`created${mr(rn.singular(t),{pascalCase:!0})}`,a={};e&&(a.input={type:mr(`create_${rn.singular(t)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:Ju(e.filter(l=>!l.field.includes(".")))}});let{query:o,variables:s}=MP({operation:i,fields:r.fields,variables:a});return{query:o,variables:s,operation:i}},ket=({id:t,resource:e,filters:r,meta:n})=>{let i=(n==null?void 0:n.gqlQuery)??(n==null?void 0:n.gqlMutation);if(i){let u=mr(rn.singular(e),{pascalCase:!0}),c=`Updated${u}`,d=`updatedOne${u}`,f=`
            subscription ${c}($input: UpdateOne${u}SubscriptionFilterInput) {
                ${d}(input: $input) {
                   ${x4(i)}
                }
            }
        `,p={};return r&&(p.input={filter:Ju(r.filter(v=>!v.field.includes(".")))}),t&&(p.input={filter:{id:{eq:t}}}),{query:f,variables:p,operation:d,operationName:c}}let a=`updatedOne${mr(rn.singular(e),{pascalCase:!0})}`,o={};r&&(o.input={type:mr(`update_one_${rn.singular(e)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:Ju(r.filter(u=>!u.field.includes(".")))}}),t&&(o.input={type:mr(`update_one_${rn.singular(e)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:{id:{eq:t}}}});let{query:s,variables:l}=MP({operation:a,fields:n.fields,variables:o});return{query:s,variables:l,operation:a}},Det=({resource:t,filters:e,meta:r})=>{if(r!=null&&r.gqlQuery){let s=mr(rn.singular(t),{pascalCase:!0}),l=`Deleted${s}`,u=`deletedOne${s}`,c=`
            subscription ${l}($input: DeleteOne${s}SubscriptionFilterInput) {
                ${u}(input: $input) {
                    id
                }
            }
        `,d={};return e&&(d.input={filter:Ju(e.filter(f=>!f.field.includes(".")))}),{query:c,variables:d,operation:u,operationName:l}}let n=`deletedOne${mr(rn.singular(t),{pascalCase:!0})}`,i={};e&&(i.input={type:mr(`delete_one_${rn.singular(t)}_subscription_filter_input`,{pascalCase:!0}),required:!0,value:{filter:Ju(e.filter(s=>!s.field.includes(".")))}});let{query:a,variables:o}=MP({operation:n,fields:r.fields.filter(s=>typeof s!="object"),variables:i});return{query:a,variables:o,operation:n}},Met=t=>({getList:async({resource:e,pagination:r,sorters:n,filters:i,meta:a})=>{let o=mr(e),s=_et(r||{}),l={},u,c;if(a!=null&&a.gqlQuery)u=a==null?void 0:a.gqlQuery,c={filter:i?Ju(i):{},sorting:n?nW(n):[],paging:s};else{i&&(l.filter={type:mr(`${rn.singular(e)}Filter`,{pascalCase:!0}),required:!0,value:Ju(i)}),n&&(l.sorting={type:mr(`${rn.singular(e)}Sort`,{pascalCase:!0}),required:!0,list:[!0],value:nW(n)}),s&&(l.paging={type:"OffsetPaging",required:!0,value:s});let f=cv({operation:o,fields:[{nodes:a==null?void 0:a.fields},"totalCount"],variables:l});u=f.query,c=f.variables}let d=await t.request(u,c);return{data:d[o].nodes,total:d[o].totalCount}},getMany:async({resource:e,ids:r,meta:n})=>{let i=mr(e);if(n!=null&&n.gqlQuery)return{data:(await t.request(n.gqlQuery,{filter:{id:{in:r}}}))[i].nodes};let{query:a,variables:o}=cv({operation:i,fields:[{nodes:(n==null?void 0:n.fields)||["id"]}],variables:{filter:{type:mr(`${rn.singular(e)}Filter`,{pascalCase:!0}),required:!0,value:{id:{in:r}}}}});return{data:(await t.request(a,o))[i].nodes}},create:async({resource:e,variables:r,meta:n})=>{let i=`createOne${mr(rn.singular(e),{pascalCase:!0})}`,a=(n==null?void 0:n.gqlMutation)??(n==null?void 0:n.gqlQuery);if(a)return{data:(await t.request(a,{input:{[mr(rn.singular(e))]:r}}))[i]};let{query:o,variables:s}=l0({operation:i,fields:(n==null?void 0:n.fields)||["id"],variables:{input:{type:`CreateOne${mr(rn.singular(e),{pascalCase:!0})}Input`,required:!0,value:{[mr(rn.singular(e))]:r}}}});return{data:(await t.request(o,s))[i]}},createMany:async({resource:e,variables:r,meta:n})=>{let i=`createMany${mr(e,{pascalCase:!0})}`,a=(n==null?void 0:n.gqlMutation)??(n==null?void 0:n.gqlQuery);if(a)return{data:(await t.request(a,{input:{[mr(e)]:r}}))[i]};let{query:o,variables:s}=l0({operation:i,fields:(n==null?void 0:n.fields)||["id"],variables:{input:{type:`CreateMany${mr(e,{pascalCase:!0})}Input`,required:!0,value:{[mr(e)]:r}}}});return{data:(await t.request(o,s))[i]}},update:async({resource:e,id:r,variables:n,meta:i})=>{let a=`updateOne${mr(rn.singular(e),{pascalCase:!0})}`,o=(i==null?void 0:i.gqlMutation)??(i==null?void 0:i.gqlQuery);if(o)return{data:(await t.request(o,{input:{id:r,update:n}}))[a]};let{query:s,variables:l}=l0({operation:a,fields:(i==null?void 0:i.fields)||["id"],variables:{input:{type:`UpdateOne${mr(rn.singular(e),{pascalCase:!0})}Input`,required:!0,value:{id:r,update:n}}}});return{data:(await t.request(s,l))[a]}},updateMany:async({resource:e,ids:r,variables:n,meta:i})=>{let a=mr(e,{pascalCase:!0}),o=`updateMany${a}`,s=Sl`
                mutation UpdateMany${a}($input: UpdateMany${a}Input!) {
                    ${o}(input: $input) {
                        updatedCount
                    }
                }
            `;await t.request(s,{input:{filter:{id:{in:r}},update:n}});let l=mr(e),u,c;if(i!=null&&i.fields){let d=cv({operation:l,fields:[{nodes:(i==null?void 0:i.fields)||["id"]}],variables:{filter:{type:mr(`${rn.singular(e)}Filter`,{pascalCase:!0}),required:!0,value:{id:{in:r}}}}});u=d.query,c=d.variables}else u=Sl`
                    query GetMany${a}($filter: ${rn.singular(a)}Filter!) {
                        ${l}(filter: $filter) {
                            nodes {
                                id
                            }
                        }
                    }
                `,c={filter:{id:{in:r}}};return{data:(await t.request(u,c))[l].nodes}},getOne:async({resource:e,id:r,meta:n})=>{let i=mr(rn.singular(e)),a=(n==null?void 0:n.gqlQuery)??(n==null?void 0:n.gqlMutation);if(a){let l=a,u={id:r};if(Cet(a)){let c=x4(a);l=Sl`
                        query Get${mr(rn.singular(e),{pascalCase:!0})}($id: ID!) {
                            ${i}(id: $id) {
                            ${c}
                            }
                        }
                    `}return{data:(await t.request(l,u))[i]}}let{query:o,variables:s}=cv({operation:i,fields:(n==null?void 0:n.fields)||["id"],variables:{id:{type:"ID",required:!0,value:r}}});return{data:(await t.request(o,s))[i]}},deleteOne:async({resource:e,id:r,meta:n})=>{let i=mr(rn.singular(e),{pascalCase:!0}),a=`deleteOne${i}`;if(n!=null&&n.gqlMutation)return{data:(await t.request(n.gqlMutation,{input:{id:r}}))[a]};let o=Sl`
                    mutation DeleteOne${i}($input: DeleteOne${i}Input!) {
                        ${a}(input: $input) {
                            id
                        }
                    }
                `;return{data:(await t.request(o,{input:{id:r}}))[a]}},deleteMany:async({resource:e,ids:r})=>{let n=mr(e,{pascalCase:!0}),i=`deleteMany${n}`,a=Sl`
                mutation DeleteMany${n}($input: DeleteMany${n}Input!) {
                    ${i}(input: $input) {
                        deletedCount
                    }
                }
            `,o={input:{filter:{id:{in:r}}}};return await t.request(a,o),{data:[]}},getApiUrl:()=>t.url,custom:async({url:e,method:r,headers:n,meta:i})=>{let a=["get","post"],o=e||t.url;if(!a.some(c=>c===r))throw Error(`GraphQL does not support ${r} method.`);let s=r,l=new Zse(o,{...t.requestConfig,method:s,headers:{...t.requestConfig.headers,...n}}),u=(i==null?void 0:i.gqlMutation)??(i==null?void 0:i.gqlQuery);if(u)return{data:await l.request({document:u,variables:i==null?void 0:i.variables})};if(i!=null&&i.rawQuery)return{data:await l.request({document:i.rawQuery,variables:i.variables})};if(i){if(i.operation){let c,d;if(r==="get"){let f=cv({operation:i.operation,fields:i.fields,variables:i.variables});c=f.query,d=f.variables}else{let f=l0({operation:i.operation,fields:i.fields,variables:i.variables});c=f.query,d=f.variables}return{data:(await l.request({document:c,variables:d}))[i.operation]}}throw Error("GraphQL operation name required.")}throw Error("GraphQL needs operation, fields and variables values in meta object.")}}),Ret=Met,jet=t=>{let e=(r,n,i,a,o,s,l)=>{let u=Tet(r,{callback:n,params:i,meta:a},o);l.push(u)};return{subscribe({callback:r,params:n,meta:i}){let{resource:a,subscriptionType:o}=n??{};if(!i||!o||!a)throw new Error("[useSubscription]: `meta`, `subscriptionType` and `resource` are required in `params` for graphql subscriptions");let s=[];return(n==null?void 0:n.subscriptionType)==="useList"&&["created","updated","deleted"].forEach(l=>e(t,r,n,i,l,a,s)),(n==null?void 0:n.subscriptionType)==="useOne"&&e(t,r,n,i,"updated",a,s),()=>{s.forEach(l=>l())}},unsubscribe(r){r()}}},Fet=Ret;const Let=async(t,e)=>{const r=localStorage.getItem("access_token"),n=e.headers;return await fetch(t,{...e,headers:{...n,Authorization:(n==null?void 0:n.Authorization)||`Bearer ${r}`,"Content-Type":"application/json","Apollo-Require-Preflight":"true"}})},$et=async(t,e)=>{const r=await Let(t,e),i=await r.clone().json(),a=Net(i);if(a)throw a;return r},Net=t=>{var e,r,n;if(!t)return{message:"Unknown error",statusCode:"INTERNAL_SERVER_ERROR"};if("errors"in t){const i=t==null?void 0:t.errors,a=(e=i==null?void 0:i.map(s=>s==null?void 0:s.message))==null?void 0:e.join(""),o=(n=(r=i==null?void 0:i[0])==null?void 0:r.extensions)==null?void 0:n.code;return{message:a||JSON.stringify(i),statusCode:o||500}}return null},Bet="https://api.crm.refine.dev",Vet=`${Bet}/graphql`,zet="wss://api.crm.refine.dev/graphql",Uet=new Zse(Vet,{fetch:(t,e)=>{try{return $et(t,e)}catch(r){return Promise.reject(r)}}}),iW=typeof window<"u"?bet({url:zet,connectionParams:()=>({headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})}):void 0,qet=Fet(Uet),Get=iW?jet(iW):void 0,Wet={can:async({resource:t,action:e,params:r})=>{const n=Mi.currentUser;if(!n)return{can:!1,reason:"Unauthorized: Please login first"};try{const i=await Md(Un(Dt,"users",n.uid));if(!i.exists())return{can:!1,reason:"User data not found"};const o=i.data().role;return o==="Operations"&&e==="list"&&(t==="dashboard"||t==="companies")?{can:!1,reason:"Resource not available for Operations users"}:t==="dashboard"||t==="companies"?{can:!0}:(t==="admin"||t==="forms")&&o!=="Admin"?{can:!1,reason:"You need Admin privileges to access this resource"}:t==="director"&&o!=="Director"?{can:!1,reason:"You need Director privileges to access this resource"}:t==="operations"&&o!=="Operations"?{can:!1,reason:"You need Operations privileges to access this resource"}:t==="consultant"&&o!=="Consultant"?{can:!1,reason:"You need Consultant privileges to access this resource"}:{can:!0}}catch(i){return console.error("Error checking permissions:",i),{can:!1,reason:"An error occurred while checking permissions"}}}};var Do=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},Vf=function(t,e){return Do(t)?t.indexOf(e)>-1:!1},wi=function(t,e){if(!Do(t))return t;for(var r=[],n=0;n<t.length;n++){var i=t[n];e(i,n)&&r.push(i)}return r},Het=function(t,e){return e===void 0&&(e=[]),wi(t,function(r){return!Vf(e,r)})},Yet={}.toString,ef=function(t,e){return Yet.call(t)==="[object "+e+"]"};const qe=function(t){return ef(t,"Function")};var ve=function(t){return t==null};const xe=function(t){return Array.isArray?Array.isArray(t):ef(t,"Array")},lr=function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"};function Y(t,e){if(t){var r;if(xe(t))for(var n=0,i=t.length;n<i&&(r=e(t[n],n),r!==!1);n++);else if(lr(t)){for(var a in t)if(t.hasOwnProperty(a)&&(r=e(t[a],a),r===!1))break}}}var km=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return Y(t,function(r,n){qe(t)&&n==="prototype"||e.push(n)}),e};function fle(t,e){var r=km(e),n=r.length;if(ve(t))return!n;for(var i=0;i<n;i+=1){var a=r[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var Ij=function(t){return typeof t=="object"&&t!==null},Rl=function(t){if(!Ij(t)||!ef(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function Vs(t,e){if(!xe(t))return null;var r;if(qe(e)&&(r=e),Rl(e)&&(r=function(i){return fle(i,e)}),r){for(var n=0;n<t.length;n+=1)if(r(t[n]))return t[n]}return null}function hle(t,e,r){r===void 0&&(r=0);for(var n=r;n<t.length;n++)if(e(t[n],n))return n;return-1}var Xet=function(t,e){for(var r=null,n=0;n<t.length;n++){var i=t[n],a=i[e];if(!ve(a)){xe(a)?r=a[0]:r=a;break}}return r},Mo=function(t){if(!xe(t))return[];for(var e=[],r=0;r<t.length;r++)e=e.concat(t[r]);return e};const Ro=function(t){if(xe(t))return t.reduce(function(e,r){return Math.max(e,r)},t[0])},us=function(t){if(xe(t))return t.reduce(function(e,r){return Math.min(e,r)},t[0])};var ple=function(t){var e=t.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if(xe(t[0])){for(var r=[],n=0;n<t.length;n++)r=r.concat(t[n]);e=r}var i=Ro(e),a=us(e);return{min:a,max:i}},Ket=Array.prototype.splice,Qet=function(e,r){if(!Do(e))return[];for(var n=e?r.length:0,i=n-1;n--;){var a=void 0,o=r[n];(n===i||o!==a)&&(a=o,Ket.call(e,o,1))}return e},aa=function(t,e,r){if(!xe(t)&&!Rl(t))return t;var n=r;return Y(t,function(i,a){n=e(n,i,a)}),n},Jet=function(t,e){var r=[];if(!Do(t))return r;for(var n=-1,i=[],a=t.length;++n<a;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Qet(t,i),r};const nt=function(t){return ef(t,"String")};function Zet(t,e){var r;if(qe(e))r=function(i,a){return e(i)-e(a)};else{var n=[];nt(e)?n.push(e):xe(e)&&(n=e),r=function(i,a){for(var o=0;o<n.length;o+=1){var s=n[o];if(i[s]>a[s])return 1;if(i[s]<a[s])return-1}return 0}}return t.sort(r),t}function Lh(t,e){e===void 0&&(e=new Map);var r=[];if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var a=t[n];e.has(a)||(r.push(a),e.set(a,!0))}return r}const Hs=function(t,e){for(var r=[],n={},i=0;i<t.length;i++){var a=t[i],o=a[e];if(!ve(o)){xe(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];n[l]||(r.push(l),n[l]=!0)}}}return r};function Ao(t){if(Do(t))return t[0]}function Fn(t){if(Do(t)){var e=t;return e[e.length-1]}}var b4=function(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r))return!1;return!0},VP=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r))return!0;return!1},ett=Object.prototype.hasOwnProperty;function Co(t,e){if(!e||!xe(t))return{};for(var r={},n=qe(e)?e:function(s){return s[e]},i,a=0;a<t.length;a++){var o=t[a];i=n(o),ett.call(r,i)?r[i].push(o):r[i]=[o]}return r}function vle(t,e){if(!e)return{0:t};if(!qe(e)){var r=xe(e)?e:e.replace(/\s+/g,"").split("*");e=function(n){for(var i="_",a=0,o=r.length;a<o;a++)i+=n[r[a]]&&n[r[a]].toString();return i}}return Co(t,e)}const ttt=function(t,e){if(!e)return[t];var r=vle(t,e),n=[];for(var i in r)n.push(r[i]);return n};var Fr=function(t,e,r){return t<e?e:t>r?r:t},rM=function(t,e){var r=e.toString(),n=r.indexOf(".");if(n===-1)return Math.round(t);var i=r.substr(n+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))},lt=function(t){return ef(t,"Number")},rtt=1e-5;function hi(t,e,r){return r===void 0&&(r=rtt),Math.abs(t-e)<r}const gle=function(t,e){if(xe(t)){for(var r,n=-1/0,i=0;i<t.length;i++){var a=t[i],o=qe(e)?e(a):a[e];o>n&&(r=a,n=o)}return r}},ntt=function(t,e){if(xe(t)){for(var r,n=1/0,i=0;i<t.length;i++){var a=t[i],o=qe(e)?e(a):a[e];o<n&&(r=a,n=o)}return r}};var zP=function(t,e){return(t%e+e)%e},itt=Math.PI/180,UP=function(t){return itt*t};const Rd=function(t,e){return t.hasOwnProperty(e)};var qP=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return Y(t,function(r,n){qe(t)&&n==="prototype"||e.push(r)}),e};const Fw=function(t){return ve(t)?"":t.toString()};var Dm=function(t){return Fw(t).toLowerCase()};function mle(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(r,n){return r.charAt(0)==="\\"?r.slice(1):e[n]===void 0?"":e[n]})}var vp=function(t){var e=Fw(t);return e.charAt(0).toUpperCase()+e.substring(1)},att={}.toString,ott=function(t){return att.call(t).replace(/^\[object /,"").replace(/]$/,"")},pg=function(t){return ef(t,"Boolean")},yle=function(t){return ef(t,"Date")},stt=function(t){return t===null},ltt=Object.prototype,utt=function(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||ltt;return t===r},Kf=function(t){return t===void 0},xle=function(t){return t instanceof Element||t instanceof HTMLDocument};function ctt(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(r){return setTimeout(r,16)};return e(t)}function dtt(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(t)}function nM(t,e){for(var r in e)e.hasOwnProperty(r)&&r!=="constructor"&&e[r]!==void 0&&(t[r]=e[r])}function dr(t,e,r,n){return e&&nM(t,e),r&&nM(t,r),n&&nM(t,n),t}var ga=function(t){if(typeof t!="object"||t===null)return t;var e;if(xe(t)){e=[];for(var r=0,n=t.length;r<n;r++)typeof t[r]=="object"&&t[r]!=null?e[r]=ga(t[r]):e[r]=t[r]}else{e={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?e[i]=ga(t[i]):e[i]=t[i]}return e};function ble(t,e,r){var n;return function(){var i=this,a=arguments,o=function(){n=null,r||t.apply(i,a)},s=r&&!n;clearTimeout(n),n=setTimeout(o,e),s&&t.apply(i,a)}}const Mm=function(t,e){if(!qe(t))throw new TypeError("Expected a function");var r=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var s=t.apply(this,n);return o.set(a,s),s};return r.cache=new Map,r};var ftt=5;function wle(t,e,r,n){r=r||0,n=n||ftt;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];a!==null&&Rl(a)?(Rl(t[i])||(t[i]={}),r<n?wle(t[i],a,r+1,n):t[i]=e[i]):xe(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var Fe=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)wle(t,e[n]);return t},Sle=function(t,e){if(!Do(t))return-1;var r=Array.prototype.indexOf;if(r)return r.call(t,e);for(var n=-1,i=0;i<t.length;i++)if(t[i]===e){n=i;break}return n},htt=Object.prototype.hasOwnProperty;function Xa(t){if(ve(t))return!0;if(Do(t))return!t.length;var e=ott(t);if(e==="Map"||e==="Set")return!t.size;if(utt(t))return!Object.keys(t).length;for(var r in t)if(htt.call(t,r))return!1;return!0}var on=function(t,e){if(t===e)return!0;if(!t||!e||nt(t)||nt(e))return!1;if(Do(t)||Do(e)){if(t.length!==e.length)return!1;for(var r=!0,n=0;n<t.length&&(r=on(t[n],e[n]),!!r);n++);return r}if(Ij(t)||Ij(e)){var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var r=!0,n=0;n<i.length&&(r=on(t[i[n]],e[i[n]]),!!r);n++);return r}return!1},$r=function(t,e){if(!Do(t))return t;for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(e(i,n))}return r},ptt=function(t){return t};const vtt=function(t,e){e===void 0&&(e=ptt);var r={};return lr(t)&&!ve(t)&&Object.keys(t).forEach(function(n){r[n]=e(t[n],n)}),r},K=function(t,e,r){for(var n=0,i=nt(e)?e.split("."):e;t&&n<i.length;)t=t[i[n++]];return t===void 0||n<i.length?r:t},kn=function(t,e,r){var n=t,i=nt(e)?e.split("."):e;return i.forEach(function(a,o){o<i.length-1?(lr(n[a])||(n[a]=lt(i[o+1])?[]:{}),n=n[a]):n[a]=r}),t};var gtt=Object.prototype.hasOwnProperty;const w4=function(t,e){if(t===null||!Rl(t))return{};var r={};return Y(e,function(n){gtt.call(t,n)&&(r[n]=t[n])}),r},GP=function(t,e){return aa(t,function(r,n,i){return e.includes(i)||(r[i]=n),r},{})},S4=function(t,e,r){var n,i,a,o,s=0;r||(r={});var l=function(){s=r.leading===!1?0:Date.now(),n=null,o=t.apply(i,a),n||(i=a=null)},u=function(){var c=Date.now();!s&&r.leading===!1&&(s=c);var d=e-(c-s);return i=this,a=arguments,d<=0||d>e?(n&&(clearTimeout(n),n=null),s=c,o=t.apply(i,a),n||(i=a=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,d)),o};return u.cancel=function(){clearTimeout(n),s=0,n=i=a=null},u},mtt=function(t){return Do(t)?Array.prototype.slice.call(t):[]};var gS={};const tf=function(t){return t=t||"g",gS[t]?gS[t]+=1:gS[t]=1,t+gS[t]},ed=function(){};function Zn(t){return ve(t)?0:Do(t)?t.length:Object.keys(t).length}var mS;const yS=Mm(function(t,e){e===void 0&&(e={});var r=e.fontSize,n=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return mS||(mS=document.createElement("canvas").getContext("2d")),mS.font=[a,o,i,r+"px",n].join(" "),mS.measureText(nt(t)?t:"").width},function(t,e){return e===void 0&&(e={}),fx([t],qP(e)).join("")}),ytt=function(t,e,r,n){var i=16,a=yS(n,r),o=nt(t)?t:Fw(t),s=e,l=[],u,c;if(yS(t,r)<=e)return t;for(;u=o.substr(0,i),c=yS(u,r),!(c+a>s&&c>s);)if(l.push(u),s-=c,o=o.substr(i),!o)return l.join("");for(;u=o.substr(0,1),c=yS(u,r),!(c+a>s);)if(l.push(u),s-=c,o=o.substr(1),!o)return l.join("");return""+l.join("")+n};var xtt=function(){function t(){this.map={}}return t.prototype.has=function(e){return this.map[e]!==void 0},t.prototype.get=function(e,r){var n=this.map[e];return n===void 0?r:n},t.prototype.set=function(e,r){this.map[e]=r},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(e){delete this.map[e]},t.prototype.size=function(){return Object.keys(this.map).length},t}(),gn;(function(t){t.FORE="fore",t.MID="mid",t.BG="bg"})(gn||(gn={}));var ke;(function(t){t.TOP="top",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.RIGHT="right",t.RIGHT_TOP="right-top",t.RIGHT_BOTTOM="right-bottom",t.LEFT="left",t.LEFT_TOP="left-top",t.LEFT_BOTTOM="left-bottom",t.BOTTOM="bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.RADIUS="radius",t.CIRCLE="circle",t.NONE="none"})(ke||(ke={}));var Qn;(function(t){t.AXIS="axis",t.GRID="grid",t.LEGEND="legend",t.TOOLTIP="tooltip",t.ANNOTATION="annotation",t.SLIDER="slider",t.SCROLLBAR="scrollbar",t.OTHER="other"})(Qn||(Qn={}));var Vv={FORE:3,MID:2,BG:1},St;(function(t){t.BEFORE_RENDER="beforerender",t.AFTER_RENDER="afterrender",t.BEFORE_PAINT="beforepaint",t.AFTER_PAINT="afterpaint",t.BEFORE_CHANGE_DATA="beforechangedata",t.AFTER_CHANGE_DATA="afterchangedata",t.BEFORE_CLEAR="beforeclear",t.AFTER_CLEAR="afterclear",t.BEFORE_DESTROY="beforedestroy",t.BEFORE_CHANGE_SIZE="beforechangesize",t.AFTER_CHANGE_SIZE="afterchangesize"})(St||(St={}));var hd;(function(t){t.BEFORE_DRAW_ANIMATE="beforeanimate",t.AFTER_DRAW_ANIMATE="afteranimate",t.BEFORE_RENDER_LABEL="beforerenderlabel",t.AFTER_RENDER_LABEL="afterrenderlabel"})(hd||(hd={}));var Ma;(function(t){t.MOUSE_ENTER="plot:mouseenter",t.MOUSE_DOWN="plot:mousedown",t.MOUSE_MOVE="plot:mousemove",t.MOUSE_UP="plot:mouseup",t.MOUSE_LEAVE="plot:mouseleave",t.TOUCH_START="plot:touchstart",t.TOUCH_MOVE="plot:touchmove",t.TOUCH_END="plot:touchend",t.TOUCH_CANCEL="plot:touchcancel",t.CLICK="plot:click",t.DBLCLICK="plot:dblclick",t.CONTEXTMENU="plot:contextmenu",t.LEAVE="plot:leave",t.ENTER="plot:enter"})(Ma||(Ma={}));var vC;(function(t){t.ACTIVE="active",t.INACTIVE="inactive",t.SELECTED="selected",t.DEFAULT="default"})(vC||(vC={}));var xv=["color","shape","size"],xr="_origin",aW=1,oW=1,sW=.25,Ele={};function btt(t){var e=Ele[t];if(!e)throw new Error("G engine '".concat(t,"' is not exist, please register it at first."));return e}function Ale(t,e){Ele[t]=e}function qp(t,e,r){if(t){if(typeof t.addEventListener=="function")return t.addEventListener(e,r,!1),{remove:function(){t.removeEventListener(e,r,!1)}};if(typeof t.attachEvent=="function")return t.attachEvent("on"+e,r),{remove:function(){t.detachEvent("on"+e,r)}}}}var c0,iM,Cle,Pj;function wtt(){c0=document.createElement("table"),iM=document.createElement("tr"),Cle=/^\s*<(\w+|!)[^>]*>/,Pj={tr:document.createElement("tbody"),tbody:c0,thead:c0,tfoot:c0,td:iM,th:iM,"*":document.createElement("div")}}function pd(t){c0||wtt();var e=Cle.test(t)&&RegExp.$1;(!e||!(e in Pj))&&(e="*");var r=Pj[e];t=typeof t=="string"?t.replace(/(^\s*)|(\s*$)/g,""):t,r.innerHTML=""+t;var n=r.childNodes[0];return n&&r.contains(n)&&r.removeChild(n),n}function Na(t,e,r){var n;try{n=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch{}finally{n=n===void 0?r:n}return n}function Stt(t,e){var r=Na(t,"height",e);return r==="auto"&&(r=t.offsetHeight),parseFloat(r)}function Ett(t,e){var r=Stt(t,e),n=parseFloat(Na(t,"borderTopWidth"))||0,i=parseFloat(Na(t,"paddingTop"))||0,a=parseFloat(Na(t,"paddingBottom"))||0,o=parseFloat(Na(t,"borderBottomWidth"))||0,s=parseFloat(Na(t,"marginTop"))||0,l=parseFloat(Na(t,"marginBottom"))||0;return r+n+o+i+a+s+l}function Att(t,e){var r=Na(t,"width",e);return r==="auto"&&(r=t.offsetWidth),parseFloat(r)}function Ctt(t,e){var r=Att(t,e),n=parseFloat(Na(t,"borderLeftWidth"))||0,i=parseFloat(Na(t,"paddingLeft"))||0,a=parseFloat(Na(t,"paddingRight"))||0,o=parseFloat(Na(t,"borderRightWidth"))||0,s=parseFloat(Na(t,"marginRight"))||0,l=parseFloat(Na(t,"marginLeft"))||0;return r+n+o+i+a+l+s}function Ji(t,e){if(t)for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r]);return t}function Ttt(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function lW(t){return typeof t=="number"&&!isNaN(t)}function uW(t,e,r,n){var i=r,a=n;if(e){var o=Ttt(t);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(lW(i)?i:aW,aW),height:Math.max(lW(a)?a:oW,oW)}}function Itt(t){var e=t.parentNode;e&&e.removeChild(t)}var Ptt="*",E4=function(){function t(){this._events={}}return t.prototype.on=function(e,r,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:r,once:!!n}),this},t.prototype.once=function(e,r){return this.on(e,r,!0)},t.prototype.emit=function(e){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this._events[e]||[],o=this._events[Ptt]||[],s=function(l){for(var u=l.length,c=0;c<u;c++)if(l[c]){var d=l[c],f=d.callback,p=d.once;p&&(l.splice(c,1),l.length===0&&delete r._events[e],u--,c--),f.apply(r,n)}};s(a),s(o)},t.prototype.off=function(e,r){if(!e)this._events={};else if(!r)delete this._events[e];else{for(var n=this._events[e]||[],i=n.length,a=0;a<i;a++)n[a].callback===r&&(n.splice(a,1),i--,a--);n.length===0&&delete this._events[e]}return this},t.prototype.getEvents=function(){return this._events},t}(),A4=function(t){ae(e,t);function e(r){var n=t.call(this)||this;n.destroyed=!1;var i=r.visible,a=i===void 0?!0:i;return n.visible=a,n}return e.prototype.show=function(){var r=this.visible;r||this.changeVisible(!0)},e.prototype.hide=function(){var r=this.visible;r&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(r){this.visible!==r&&(this.visible=r)},e}(E4),$0=`	
\v\f\r \u2028\u2029`,_tt=new RegExp("([a-z])["+$0+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+$0+"]*,?["+$0+"]*)+)","ig"),Ott=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+$0+"]*,?["+$0+"]*","ig"),bv=function(t){if(!t)return null;if(xe(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(_tt,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(Ott,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(r.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([i,o[0]]),s==="r")r.push([i].concat(o));else for(;o.length>=e[s]&&(r.push([i].concat(o.splice(0,e[s]))),!!e[s]););return t}),r},_j=function(t,e){for(var r=[],n=0,i=t.length;i-2*!e>n;n+=2){var a=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?i-4===n?a[3]={x:+t[0],y:+t[1]}:i-2===n&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===n?a[3]=a[2]:n||(a[0]={x:+t[n],y:+t[n+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r},xS=function(t,e,r,n,i){var a=[];if(i===null&&n===null&&(n=r),t=+t,e=+e,r=+r,n=+n,i!==null){var o=Math.PI/180,s=t+r*Math.cos(-n*o),l=t+r*Math.cos(-i*o),u=e+r*Math.sin(-n*o),c=e+r*Math.sin(-i*o);a=[["M",s,u],["A",r,r,0,+(i-n>180),0,l,c]]}else a=[["M",t,e],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]];return a},Oj=function(t){if(t=bv(t),!t||!t.length)return[["M",0,0]];var e=[],r=0,n=0,i=0,a=0,o=0,s,l;t[0][0]==="M"&&(r=+t[0][1],n=+t[0][2],i=r,a=n,o++,e[0]=["M",r,n]);for(var u=t.length===3&&t[0][0]==="M"&&t[1][0].toUpperCase()==="R"&&t[2][0].toUpperCase()==="Z",c=void 0,d=void 0,f=o,p=t.length;f<p;f++){if(e.push(c=[]),d=t[f],s=d[0],s!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=+d[6]+r,c[7]=+d[7]+n;break;case"V":c[1]=+d[1]+n;break;case"H":c[1]=+d[1]+r;break;case"R":l=[r,n].concat(d.slice(1));for(var v=2,g=l.length;v<g;v++)l[v]=+l[v]+r,l[++v]=+l[v]+n;e.pop(),e=e.concat(_j(l,u));break;case"O":e.pop(),l=xS(r,n,d[1],d[2]),l.push(l[0]),e=e.concat(l);break;case"U":e.pop(),e=e.concat(xS(r,n,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":i=+d[1]+r,a=+d[2]+n;break;default:for(var v=1,g=d.length;v<g;v++)c[v]=+d[v]+(v%2?r:n)}else if(s==="R")l=[r,n].concat(d.slice(1)),e.pop(),e=e.concat(_j(l,u)),c=["R"].concat(d.slice(-2));else if(s==="O")e.pop(),l=xS(r,n,d[1],d[2]),l.push(l[0]),e=e.concat(l);else if(s==="U")e.pop(),e=e.concat(xS(r,n,d[1],d[2],d[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var m=0,y=d.length;m<y;m++)c[m]=d[m];if(s=s.toUpperCase(),s!=="O")switch(c[0]){case"Z":r=+i,n=+a;break;case"H":r=c[1];break;case"V":n=c[1];break;case"M":i=c[c.length-2],a=c[c.length-1];break;default:r=c[c.length-2],n=c[c.length-1]}}return e},bS=function(t,e,r,n){return[t,e,r,n,r,n]},cW=function(t,e,r,n,i,a){var o=.3333333333333333,s=2/3;return[o*t+s*r,o*e+s*n,o*i+s*r,o*a+s*n,i,a]},Tle=function(t,e,r,n,i,a,o,s,l,u){r===n&&(r+=1);var c=Math.PI*120/180,d=Math.PI/180*(+i||0),f=[],p,v,g,m,y,x=function(ee,re,Q){var se=ee*Math.cos(Q)-re*Math.sin(Q),ne=ee*Math.sin(Q)+re*Math.cos(Q);return{x:se,y:ne}};if(u)v=u[0],g=u[1],m=u[2],y=u[3];else{p=x(t,e,-d),t=p.x,e=p.y,p=x(s,l,-d),s=p.x,l=p.y,t===s&&e===l&&(s+=1,l+=1);var b=(t-s)/2,w=(e-l)/2,S=b*b/(r*r)+w*w/(n*n);S>1&&(S=Math.sqrt(S),r=S*r,n=S*n);var C=r*r,E=n*n,A=(a===o?-1:1)*Math.sqrt(Math.abs((C*E-C*w*w-E*b*b)/(C*w*w+E*b*b)));m=A*r*w/n+(t+s)/2,y=A*-n*b/r+(e+l)/2,v=Math.asin(((e-y)/n).toFixed(9)),g=Math.asin(((l-y)/n).toFixed(9)),v=t<m?Math.PI-v:v,g=s<m?Math.PI-g:g,v<0&&(v=Math.PI*2+v),g<0&&(g=Math.PI*2+g),o&&v>g&&(v=v-Math.PI*2),!o&&g>v&&(g=g-Math.PI*2)}var P=g-v;if(Math.abs(P)>c){var _=g,k=s,O=l;g=v+c*(o&&g>v?1:-1),s=m+r*Math.cos(g),l=y+n*Math.sin(g),f=Tle(s,l,r,n,i,0,o,k,O,[g,_,m,y])}P=g-v;var D=Math.cos(v),B=Math.sin(v),$=Math.cos(g),L=Math.sin(g),R=Math.tan(P/4),V=4/3*r*R,U=4/3*n*R,q=[t,e],M=[t+V*B,e-U*D],G=[s+V*L,l-U*$],W=[s,l];if(M[0]=2*q[0]-M[0],M[1]=2*q[1]-M[1],u)return[M,G,W].concat(f);f=[M,G,W].concat(f).join().split(",");for(var J=[],te=0,H=f.length;te<H;te++)J[te]=te%2?x(f[te-1],f[te],d).y:x(f[te],f[te+1],d).x;return J},kj=function(t,e){var r=Oj(t),n=e&&Oj(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",c,d=function(b,w,S){var C,E;if(!b)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(b[0]in{T:1,Q:1})&&(w.qx=w.qy=null),b[0]){case"M":w.X=b[1],w.Y=b[2];break;case"A":b=["C"].concat(Tle.apply(0,[w.x,w.y].concat(b.slice(1))));break;case"S":S==="C"||S==="S"?(C=w.x*2-w.bx,E=w.y*2-w.by):(C=w.x,E=w.y),b=["C",C,E].concat(b.slice(1));break;case"T":S==="Q"||S==="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),b=["C"].concat(cW(w.x,w.y,w.qx,w.qy,b[1],b[2]));break;case"Q":w.qx=b[1],w.qy=b[2],b=["C"].concat(cW(w.x,w.y,b[1],b[2],b[3],b[4]));break;case"L":b=["C"].concat(bS(w.x,w.y,b[1],b[2]));break;case"H":b=["C"].concat(bS(w.x,w.y,b[1],w.y));break;case"V":b=["C"].concat(bS(w.x,w.y,w.x,b[1]));break;case"Z":b=["C"].concat(bS(w.x,w.y,w.X,w.Y));break}return b},f=function(b,w){if(b[w].length>7){b[w].shift();for(var S=b[w];S.length;)o[w]="A",n&&(s[w]="A"),b.splice(w++,0,["C"].concat(S.splice(0,6)));b.splice(w,1),c=Math.max(r.length,n&&n.length||0)}},p=function(b,w,S,C,E){b&&w&&b[E][0]==="M"&&w[E][0]!=="M"&&(w.splice(E,0,["M",C.x,C.y]),S.bx=0,S.by=0,S.x=b[E][1],S.y=b[E][2],c=Math.max(r.length,n&&n.length||0))};c=Math.max(r.length,n&&n.length||0);for(var v=0;v<c;v++){r[v]&&(l=r[v][0]),l!=="C"&&(o[v]=l,v&&(u=o[v-1])),r[v]=d(r[v],i,u),o[v]!=="A"&&l==="C"&&(o[v]="C"),f(r,v),n&&(n[v]&&(l=n[v][0]),l!=="C"&&(s[v]=l,v&&(u=s[v-1])),n[v]=d(n[v],a,u),s[v]!=="A"&&l==="C"&&(s[v]="C"),f(n,v)),p(r,n,i,a,v),p(n,r,a,i,v);var g=r[v],m=n&&n[v],y=g.length,x=n&&m.length;i.x=g[y-2],i.y=g[y-1],i.bx=parseFloat(g[y-4])||i.x,i.by=parseFloat(g[y-3])||i.y,a.bx=n&&(parseFloat(m[x-4])||a.x),a.by=n&&(parseFloat(m[x-3])||a.y),a.x=n&&m[x-2],a.y=n&&m[x-1]}return n?[r,n]:r},ktt=/,?([a-z]),?/gi,Ile=function(t){return t.join(",").replace(ktt,"$1")},dW=function(t,e,r,n,i){var a=-3*e+9*r-9*n+3*i,o=t*a+6*e-12*r+6*n;return t*o-3*e+3*r},fW=function(t,e,r,n,i,a,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,c=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,v=0;v<c;v++){var g=u*d[v]+u,m=dW(g,t,r,i,o),y=dW(g,e,n,a,s),x=m*m+y*y;p+=f[v]*Math.sqrt(x)}return u*p},Dtt=function(t,e,r,n,i,a,o,s){for(var l=[],u=[[],[]],c,d,f,p,v=0;v<2;++v){if(v===0?(d=6*t-12*r+6*i,c=-3*t+9*r-9*i+3*o,f=3*r-3*t):(d=6*e-12*n+6*a,c=-3*e+9*n-9*a+3*s,f=3*n-3*e),Math.abs(c)<1e-12){if(Math.abs(d)<1e-12)continue;p=-f/d,p>0&&p<1&&l.push(p);continue}var g=d*d-4*f*c,m=Math.sqrt(g);if(!(g<0)){var y=(-d+m)/(2*c);y>0&&y<1&&l.push(y);var x=(-d-m)/(2*c);x>0&&x<1&&l.push(x)}}for(var b=l.length,w=b,S;b--;)p=l[b],S=1-p,u[0][b]=S*S*S*t+3*S*S*p*r+3*S*p*p*i+p*p*p*o,u[1][b]=S*S*S*e+3*S*S*p*n+3*S*p*p*a+p*p*p*s;return u[0][w]=t,u[1][w]=e,u[0][w+1]=o,u[1][w+1]=s,u[0].length=u[1].length=w+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},Mtt=function(t,e,r,n,i,a,o,s){if(!(Math.max(t,r)<Math.min(i,o)||Math.min(t,r)>Math.max(i,o)||Math.max(e,n)<Math.min(a,s)||Math.min(e,n)>Math.max(a,s))){var l=(t*n-e*r)*(i-o)-(t-r)*(i*s-a*o),u=(t*n-e*r)*(a-s)-(e-n)*(i*s-a*o),c=(t-r)*(a-s)-(e-n)*(i-o);if(c){var d=l/c,f=u/c,p=+d.toFixed(2),v=+f.toFixed(2);if(!(p<+Math.min(t,r).toFixed(2)||p>+Math.max(t,r).toFixed(2)||p<+Math.min(i,o).toFixed(2)||p>+Math.max(i,o).toFixed(2)||v<+Math.min(e,n).toFixed(2)||v>+Math.max(e,n).toFixed(2)||v<+Math.min(a,s).toFixed(2)||v>+Math.max(a,s).toFixed(2)))return{x:d,y:f}}}},_c=function(t,e,r){return e>=t.x&&e<=t.x+t.width&&r>=t.y&&r<=t.y+t.height},Ple=function(t,e,r,n,i){if(i)return[["M",+t+ +i,e],["l",r-i*2,0],["a",i,i,0,0,1,i,i],["l",0,n-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-r,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-n],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",t,e],["l",r,0],["l",0,n],["l",-r,0],["z"]];return a.parsePathArray=Ile,a},Dj=function(t,e,r,n){return t===null&&(t=e=r=n=0),e===null&&(e=t.y,r=t.width,n=t.height,t=t.x),{x:t,y:e,width:r,w:r,height:n,h:n,x2:t+r,y2:e+n,cx:t+r/2,cy:e+n/2,r1:Math.min(r,n)/2,r2:Math.max(r,n)/2,r0:Math.sqrt(r*r+n*n)/2,path:Ple(t,e,r,n),vb:[t,e,r,n].join(" ")}},Rtt=function(t,e){return t=Dj(t),e=Dj(e),_c(e,t.x,t.y)||_c(e,t.x2,t.y)||_c(e,t.x,t.y2)||_c(e,t.x2,t.y2)||_c(t,e.x,e.y)||_c(t,e.x2,e.y)||_c(t,e.x,e.y2)||_c(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},hW=function(t,e,r,n,i,a,o,s){xe(t)||(t=[t,e,r,n,i,a,o,s]);var l=Dtt.apply(null,t);return Dj(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},pW=function(t,e,r,n,i,a,o,s,l){var u=1-l,c=Math.pow(u,3),d=Math.pow(u,2),f=l*l,p=f*l,v=c*t+d*3*l*r+u*3*l*l*i+p*o,g=c*e+d*3*l*n+u*3*l*l*a+p*s,m=t+2*l*(r-t)+f*(i-2*r+t),y=e+2*l*(n-e)+f*(a-2*n+e),x=r+2*l*(i-r)+f*(o-2*i+r),b=n+2*l*(a-n)+f*(s-2*a+n),w=u*t+l*r,S=u*e+l*n,C=u*i+l*o,E=u*a+l*s,A=90-Math.atan2(m-x,y-b)*180/Math.PI;return{x:v,y:g,m:{x:m,y},n:{x,y:b},start:{x:w,y:S},end:{x:C,y:E},alpha:A}},jtt=function(t,e,r){var n=hW(t),i=hW(e);if(!Rtt(n,i))return[];for(var a=fW.apply(0,t),o=fW.apply(0,e),s=~~(a/8),l=~~(o/8),u=[],c=[],d={},f=[],p=0;p<s+1;p++){var v=pW.apply(0,t.concat(p/s));u.push({x:v.x,y:v.y,t:p/s})}for(var p=0;p<l+1;p++){var v=pW.apply(0,e.concat(p/l));c.push({x:v.x,y:v.y,t:p/l})}for(var p=0;p<s;p++)for(var g=0;g<l;g++){var m=u[p],y=u[p+1],x=c[g],b=c[g+1],w=Math.abs(y.x-m.x)<.001?"y":"x",S=Math.abs(b.x-x.x)<.001?"y":"x",C=Mtt(m.x,m.y,y.x,y.y,x.x,x.y,b.x,b.y);if(C){if(d[C.x.toFixed(4)]===C.y.toFixed(4))continue;d[C.x.toFixed(4)]=C.y.toFixed(4);var E=m.t+Math.abs((C[w]-m[w])/(y[w]-m[w]))*(y.t-m.t),A=x.t+Math.abs((C[S]-x[S])/(b[S]-x[S]))*(b.t-x.t);E>=0&&E<=1&&A>=0&&A<=1&&f.push({x:C.x,y:C.y,t1:E,t2:A})}}return f},Ftt=function(t,e,r){t=kj(t),e=kj(e);for(var n,i,a,o,s,l,u,c,d,f,p=r?0:[],v=0,g=t.length;v<g;v++){var m=t[v];if(m[0]==="M")n=s=m[1],i=l=m[2];else{m[0]==="C"?(d=[n,i].concat(m.slice(1)),n=d[6],i=d[7]):(d=[n,i,n,i,s,l,s,l],n=s,i=l);for(var y=0,x=e.length;y<x;y++){var b=e[y];if(b[0]==="M")a=u=b[1],o=c=b[2];else{b[0]==="C"?(f=[a,o].concat(b.slice(1)),a=f[6],o=f[7]):(f=[a,o,a,o,u,c,u,c],a=u,o=c);var w=jtt(d,f);{for(var S=0,C=w.length;S<C;S++)w[S].segment1=v,w[S].segment2=y,w[S].bez1=d,w[S].bez2=f;p=p.concat(w)}}}}}return p},Ltt=function(t,e){return Ftt(t,e)};function $tt(t,e){var r=[],n=[];function i(a,o){if(a.length===1)r.push(a[0]),n.push(a[0]);else{for(var s=[],l=0;l<a.length-1;l++)l===0&&r.push(a[0]),l===a.length-2&&n.push(a[l+1]),s[l]=[(1-o)*a[l][0]+o*a[l+1][0],(1-o)*a[l][1]+o*a[l+1][1]];i(s,o)}}return t.length&&i(t,e),{left:r,right:n.reverse()}}function Ntt(t,e,r){var n=[[t[1],t[2]]];r=r||2;var i=[];e[0]==="A"?(n.push(e[6]),n.push(e[7])):e[0]==="C"?(n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(n.push([e[1],e[2]]),n.push([e[3],e[4]])):n.push([e[1],e[2]]);for(var a=n,o=1/r,s=0;s<r-1;s++){var l=o/(1-o*s),u=$tt(a,l);i.push(u.left),a=u.right}i.push(a);var c=i.map(function(d){var f=[];return d.length===4&&(f.push("C"),f=f.concat(d[2])),d.length>=3&&(d.length===3&&f.push("Q"),f=f.concat(d[1])),d.length===2&&f.push("L"),f=f.concat(d[d.length-1]),f});return c}var Btt=function(t,e,r){if(r===1)return[[].concat(t)];var n=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")n=n.concat(Ntt(t,e,r));else{var i=[].concat(t);i[0]==="M"&&(i[0]="L");for(var a=0;a<=r-1;a++)n.push(i)}return n},Vtt=function(t,e){if(t.length===1)return t;var r=t.length-1,n=e.length-1,i=r/n,a=[];if(t.length===1&&t[0][0]==="M"){for(var o=0;o<n-r;o++)t.push(t[0]);return t}for(var o=0;o<n;o++){var s=Math.floor(i*o);a[s]=(a[s]||0)+1}var l=a.reduce(function(u,c,d){return d===r?u.concat(t[r]):u.concat(Btt(t[d],t[d+1],c))},[]);return l.unshift(t[0]),(e[n]==="Z"||e[n]==="z")&&l.push("Z"),l},ztt=function(t,e){if(t.length!==e.length)return!1;var r=!0;return Y(t,function(n,i){if(n!==e[i])return r=!1,!1}),r};function Utt(t,e,r){var n=null,i=r;return e<i&&(i=e,n="add"),t<i&&(i=t,n="del"),{type:n,min:i}}var qtt=function(t,e){var r=t.length,n=e.length,i,a,o=0;if(r===0||n===0)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=n;u++)s[0][u]={min:u};for(var l=1;l<=r;l++){i=t[l-1];for(var u=1;u<=n;u++){a=e[u-1],ztt(i,a)?o=0:o=1;var c=s[l-1][u].min+1,d=s[l][u-1].min+1,f=s[l-1][u-1].min+o;s[l][u]=Utt(c,d,f)}}return s},_le=function(t,e){var r=qtt(t,e),n=t.length,i=e.length,a=[],o=1,s=1;if(r[n][i].min!==n){for(var l=1;l<=n;l++){var u=r[l][l].min;s=l;for(var c=o;c<=i;c++)r[l][c].min<u&&(u=r[l][c].min,s=c);o=s,r[l][o].type&&a.push({index:l-1,type:r[l][o].type})}for(var l=a.length-1;l>=0;l--)o=a[l].index,a[l].type==="add"?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}n=t.length;var d=i-n;if(n<i)for(var l=0;l<d;l++)t[n-1][0]==="z"||t[n-1][0]==="Z"?t.splice(n-2,0,t[n-2]):t.push(t[n-1]),n+=1;return t};function aM(t,e,r){for(var n=[].concat(t),i,a=1/(r+1),o=Ole(e)[0],s=1;s<=r;s++)a*=s,i=Math.floor(t.length*a),i===0?n.unshift([o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]):n.splice(i,0,[o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]);return n}function Ole(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break}return e}var Mj=function(t,e){if(t.length<=1)return t;for(var r,n=0;n<e.length;n++)if(t[n][0]!==e[n][0])switch(r=Ole(t[n]),e[n][0]){case"M":t[n]=["M"].concat(r[0]);break;case"L":t[n]=["L"].concat(r[0]);break;case"A":t[n]=[].concat(e[n]),t[n][6]=r[0][0],t[n][7]=r[0][1];break;case"Q":if(r.length<2)if(n>0)r=aM(r,t[n-1],1);else{t[n]=e[n];break}t[n]=["Q"].concat(r.reduce(function(i,a){return i.concat(a)},[]));break;case"T":t[n]=["T"].concat(r[0]);break;case"C":if(r.length<3)if(n>0)r=aM(r,t[n-1],2);else{t[n]=e[n];break}t[n]=["C"].concat(r.reduce(function(i,a){return i.concat(a)},[]));break;case"S":if(r.length<2)if(n>0)r=aM(r,t[n-1],1);else{t[n]=e[n];break}t[n]=["S"].concat(r.reduce(function(i,a){return i.concat(a)},[]));break;default:t[n]=e[n]}return t};const C4=Object.freeze(Object.defineProperty({__proto__:null,catmullRomToBezier:_j,fillPath:Vtt,fillPathByDiff:_le,formatPath:Mj,intersection:Ltt,parsePathArray:Ile,parsePathString:bv,pathToAbsolute:Oj,pathToCurve:kj,rectPath:Ple},Symbol.toStringTag,{value:"Module"}));var Lw=function(){function t(e,r){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=r,this.timeStamp=r.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();function kle(t,e){var r=t.indexOf(e);r!==-1&&t.splice(r,1)}var vW=typeof window<"u"&&typeof window.document<"u";function Dle(t,e){if(t.isCanvas())return!0;for(var r=e.getParent(),n=!1;r;){if(r===t){n=!0;break}r=r.getParent()}return n}function Ox(t){return t.cfg.visible&&t.cfg.capture}var WP=function(t){ae(e,t);function e(r){var n=t.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=dr(i,r),n}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(r){return this.cfg[r]},e.prototype.set=function(r,n){this.cfg[r]=n},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(E4),gW=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},Gtt=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Wtt=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Htt=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),Ytt=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Xtt=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Ktt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Qtt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,mW=3,Jtt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ktt]],yW=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Mle(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Xtt:typeof navigator<"u"?ert(navigator.userAgent):rrt()}function Ztt(t){return t!==""&&Jtt.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var a=i.exec(t);return!!a&&[n,a]},!1)}function ert(t){var e=Ztt(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Ytt;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<mW&&(i=gW(gW([],i,!0),nrt(mW-i.length),!0)):i=[];var a=i.join("."),o=trt(t),s=Qtt.exec(t);return s&&s[1]?new Htt(r,a,o,s[1]):new Gtt(r,a,o)}function trt(t){for(var e=0,r=yW.length;e<r;e++){var n=yW[e],i=n[0],a=n[1],o=a.exec(t);if(o)return i}return null}function rrt(){var t=typeof process<"u"&&process.version;return t?new Wtt(process.version.slice(1)):null}function nrt(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var gC=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function irt(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],d=c*o-s*u,f=-c*a+s*l,p=u*a-o*l,v=r*d+n*f+i*p;return v?(v=1/v,t[0]=d*v,t[1]=(-c*n+i*u)*v,t[2]=(s*n-i*o)*v,t[3]=f*v,t[4]=(c*r-i*l)*v,t[5]=(-s*r+i*a)*v,t[6]=p*v,t[7]=(-u*r+n*l)*v,t[8]=(o*r-n*a)*v,t):null}function HP(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],f=r[0],p=r[1],v=r[2],g=r[3],m=r[4],y=r[5],x=r[6],b=r[7],w=r[8];return t[0]=f*n+p*o+v*u,t[1]=f*i+p*s+v*c,t[2]=f*a+p*l+v*d,t[3]=g*n+m*o+y*u,t[4]=g*i+m*s+y*c,t[5]=g*a+m*l+y*d,t[6]=x*n+b*o+w*u,t[7]=x*i+b*s+w*c,t[8]=x*a+b*l+w*d,t}function art(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function ort(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function srt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function lrt(){var t=new gC(3);return gC!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function kx(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}(function(){var t=lrt();return function(e,r,n,i,a,o){var s,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,s=n;s<l;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();function urt(){var t=new gC(2);return gC!=Float32Array&&(t[0]=0,t[1]=0),t}function Cl(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function Rle(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function ci(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function di(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function ma(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function vg(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function wv(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function jle(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function crt(t,e){return t[0]*e[0]+t[1]*e[1]}function drt(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function Rj(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a),s=o&&(r*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function frt(t,e){return t[0]===e[0]&&t[1]===e[1]}var ch=Rle;(function(){var t=urt();return function(e,r,n,i,a,o){var s,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,s=n;s<l;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}})();function dv(t,e,r){var n=[0,0,0,0,0,0,0,0,0];return art(n,r),HP(t,n,e)}function T4(t,e,r){var n=[0,0,0,0,0,0,0,0,0];return ort(n,r),HP(t,n,e)}function Fle(t,e,r){var n=[0,0,0,0,0,0,0,0,0];return srt(n,r),HP(t,n,e)}function hrt(t,e,r){return HP(t,r,e)}function Rn(t,e){for(var r=t?[].concat(t):[1,0,0,0,1,0,0,0,1],n=0,i=e.length;n<i;n++){var a=e[n];switch(a[0]){case"t":dv(r,r,[a[1],a[2]]);break;case"s":Fle(r,r,[a[1],a[2]]);break;case"r":T4(r,r,a[1]);break;case"m":hrt(r,r,a[1]);break}}return r}function prt(t,e){return t[0]*e[1]-e[0]*t[1]}function I4(t,e,r){var n=Rj(t,e),i=prt(t,e)>=0;return r?i?Math.PI*2-n:n:i?n:Math.PI*2-n}function xW(t,e){var r=[],n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=e[0],p=e[1],v=e[2],g=e[3],m=e[4],y=e[5],x=e[6],b=e[7],w=e[8];return r[0]=f*n+p*o+v*u,r[1]=f*i+p*s+v*c,r[2]=f*a+p*l+v*d,r[3]=g*n+m*o+y*u,r[4]=g*i+m*s+y*c,r[5]=g*a+m*l+y*d,r[6]=x*n+b*o+w*u,r[7]=x*i+b*s+w*c,r[8]=x*a+b*l+w*d,r}function Pu(t,e){var r=[],n=e[0],i=e[1];return r[0]=t[0]*n+t[3]*i+t[6],r[1]=t[1]*n+t[4]*i+t[7],r}function YP(t){var e=[],r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=c*o-s*u,f=-c*a+s*l,p=u*a-o*l,v=r*d+n*f+i*p;return v?(v=1/v,e[0]=d*v,e[1]=(-c*n+i*u)*v,e[2]=(s*n-i*o)*v,e[3]=f*v,e[4]=(c*r-i*l)*v,e[5]=(-s*r+i*a)*v,e[6]=p*v,e[7]=(-u*r+n*l)*v,e[8]=(o*r-n*a)*v,e):null}var Py=Rn,oM="matrix",vrt=["zIndex","capture","visible","type"],grt=["repeat"],mrt=":",yrt="*";function xrt(t){for(var e=[],r=0;r<t.length;r++)xe(t[r])?e.push([].concat(t[r])):e.push(t[r]);return e}function brt(t,e){var r={},n=e.attrs;for(var i in t)r[i]=n[i];return r}function wrt(t,e){var r={},n=e.attr();return Y(t,function(i,a){grt.indexOf(a)===-1&&!on(n[a],i)&&(r[a]=i)}),r}function Srt(t,e){if(e.onFrame)return t;var r=e.startTime,n=e.delay,i=e.duration,a=Object.prototype.hasOwnProperty;return Y(t,function(o){r+n<o.startTime+o.delay+o.duration&&i>o.delay&&Y(e.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),t}var Lle=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.attrs={};var i=n.getDefaultAttrs();return dr(i,r.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(r){},e.prototype.initAttrs=function(r){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n[0],o=n[1];if(!a)return this.attrs;if(lr(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return n.length===2?(this.setAttr(a,o),this.afterAttrsChange((r={},r[a]=o,r)),this):this.attrs[a]},e.prototype.isClipped=function(r,n){var i=this.getClip();return i&&!i.isHit(r,n)},e.prototype.setAttr=function(r,n){var i=this.attrs[r];i!==n&&(this.attrs[r]=n,this.onAttrChange(r,n,i))},e.prototype.onAttrChange=function(r,n,i){r==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(r){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(r){this.set("zIndex",r);var n=this.getParent();return n&&n.sort(),this},e.prototype.toFront=function(){var r=this.getParent();if(r){var n=r.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var r=this.getParent();if(r){var n=r.getChildren();this.get("el");var i=n.indexOf(this);n.splice(i,1),n.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(r){r===void 0&&(r=!0);var n=this.getParent();n?(kle(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),r&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(oM,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(oM)},e.prototype.setMatrix=function(r){this.attr(oM,r),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var r=this.cfg.totalMatrix;if(!r){var n=this.attr("matrix"),i=this.cfg.parentMatrix;i&&n?r=xW(i,n):r=n||i,this.set("totalMatrix",r)}return r},e.prototype.applyMatrix=function(r){var n=this.attr("matrix"),i=null;r&&n?i=xW(r,n):i=n||r,this.set("totalMatrix",i),this.set("parentMatrix",r)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(r){var n=this.attr("matrix");return n?Pu(n,r):r},e.prototype.invertFromMatrix=function(r){var n=this.attr("matrix");if(n){var i=YP(n);if(i)return Pu(i,r)}return r},e.prototype.setClip=function(r){var n=this.getCanvas(),i=null;if(r){var a=this.getShapeBase(),o=vp(r.type),s=a[o];s&&(i=new s({type:r.type,isClipShape:!0,applyTo:this,attrs:r.attrs,canvas:n}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},e.prototype.getClip=function(){var r=this.cfg.clipShape;return r||null},e.prototype.clone=function(){var r=this,n=this.attrs,i={};Y(n,function(s,l){xe(n[l])?i[l]=xrt(n[l]):i[l]=n[l]});var a=this.constructor,o=new a({attrs:i});return Y(vrt,function(s){o.set(s,r.get(s))}),o},e.prototype.destroy=function(){var r=this.destroyed;r||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var a=this.get("animations")||[];i.timer||i.initTimer();var o=r[0],s=r[1],l=r[2],u=l===void 0?"easeLinear":l,c=r[3],d=c===void 0?ed:c,f=r[4],p=f===void 0?0:f,v,g,m,y,x;qe(o)?(v=o,o={}):lr(o)&&o.onFrame&&(v=o.onFrame,g=o.repeat),lr(s)?(x=s,s=x.duration,u=x.easing||"easeLinear",p=x.delay||0,g=x.repeat||g||!1,d=x.callback||ed,m=x.pauseCallback||ed,y=x.resumeCallback||ed):(lt(d)&&(p=d,d=null),qe(u)?(d=u,u="easeLinear"):u=u||"easeLinear");var b=wrt(o,this),w={fromAttrs:brt(b,this),toAttrs:b,duration:s,easing:u,repeat:g,callback:d,pauseCallback:m,resumeCallback:y,delay:p,startTime:i.getTime(),id:tf(),onFrame:v,pathFormatted:!1};a.length>0?a=Srt(a,w):i.addAnimator(this),a.push(w),this.set("animations",a),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(r){var n=this;r===void 0&&(r=!0);var i=this.get("animations");Y(i,function(a){r&&(a.onFrame?n.attr(a.onFrame(1)):n.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var r=this.get("timeline"),n=this.get("animations"),i=r.getTime();return Y(n,function(a){a._paused=!0,a._pauseTime=i,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},e.prototype.resumeAnimate=function(){var r=this.get("timeline"),n=r.getTime(),i=this.get("animations"),a=this.get("_pause").pauseTime;return Y(i,function(o){o.startTime=o.startTime+(n-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},e.prototype.emitDelegation=function(r,n){var i=this,a=n.propagationPath;this.getEvents();var o;r==="mouseenter"?o=n.fromShape:r==="mouseleave"&&(o=n.toShape);for(var s=function(d){var f=a[d],p=f.get("name");if(p){if((f.isGroup()||f.isCanvas&&f.isCanvas())&&o&&Dle(f,o))return"break";xe(p)?Y(p,function(v){i.emitDelegateEvent(f,v,n)}):l.emitDelegateEvent(f,p,n)}},l=this,u=0;u<a.length;u++){var c=s(u);if(c==="break")break}},e.prototype.emitDelegateEvent=function(r,n,i){var a=this.getEvents(),o=n+mrt+i.type;(a[o]||a[yrt])&&(i.name=o,i.currentTarget=r,i.delegateTarget=this,i.delegateObject=r.get("delegateObject"),this.emit(o,i))},e.prototype.translate=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=this.getMatrix(),a=Py(i,[["t",r,n]]);return this.setMatrix(a),this},e.prototype.move=function(r,n){var i=this.attr("x")||0,a=this.attr("y")||0;return this.translate(r-i,n-a),this},e.prototype.moveTo=function(r,n){return this.move(r,n)},e.prototype.scale=function(r,n){var i=this.getMatrix(),a=Py(i,[["s",r,n||r]]);return this.setMatrix(a),this},e.prototype.rotate=function(r){var n=this.getMatrix(),i=Py(n,[["r",r]]);return this.setMatrix(i),this},e.prototype.rotateAtStart=function(r){var n=this.attr(),i=n.x,a=n.y,o=this.getMatrix(),s=Py(o,[["t",-i,-a],["r",r],["t",i,a]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(r,n,i){var a=this.getMatrix(),o=Py(a,[["t",-r,-n],["r",i],["t",r,n]]);return this.setMatrix(o),this},e}(WP),bW={},jj="_INDEX";function $le(t,e){if(t.set("canvas",e),t.isGroup()){var r=t.get("children");r.length&&r.forEach(function(n){$le(n,e)})}}function Nle(t,e){if(t.set("timeline",e),t.isGroup()){var r=t.get("children");r.length&&r.forEach(function(n){Nle(n,e)})}}function Ert(t,e,r){e.set("parent",null),e.set("canvas",null),kle(t.getChildren(),e)}function Art(t){return function(e,r){var n=t(e,r);return n===0?e[jj]-r[jj]:n}}var Ble=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var r=1/0,n=-1/0,i=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?Y(o,function(l){var u=l.getBBox(),c=u.minX,d=u.maxX,f=u.minY,p=u.maxY;c<r&&(r=c),d>n&&(n=d),f<i&&(i=f),p>a&&(a=p)}):(r=0,n=0,i=0,a=0);var s={x:r,y:i,minX:r,minY:i,maxX:n,maxY:a,width:n-r,height:a-i};return s},e.prototype.getCanvasBBox=function(){var r=1/0,n=-1/0,i=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?Y(o,function(l){var u=l.getCanvasBBox(),c=u.minX,d=u.maxX,f=u.minY,p=u.maxY;c<r&&(r=c),d>n&&(n=d),f<i&&(i=f),p>a&&(a=p)}):(r=0,n=0,i=0,a=0);var s={x:r,y:i,minX:r,minY:i,maxX:n,maxY:a,width:n-r,height:a-i};return s},e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return r.children=[],r},e.prototype.onAttrChange=function(r,n,i){if(t.prototype.onAttrChange.call(this,r,n,i),r==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},e.prototype.applyMatrix=function(r){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,r);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},e.prototype._applyChildrenMarix=function(r){var n=this.getChildren();Y(n,function(i){i.applyMatrix(r)})},e.prototype.addShape=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0],a=r[1];lr(i)?a=i:a.type=i;var o=bW[a.type];o||(o=vp(a.type),bW[a.type]=o);var s=this.getShapeBase(),l=new s[o](a);return this.add(l),l},e.prototype.addGroup=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0],a=r[1],o;if(qe(i))a?o=new i(a):o=new i({parent:this});else{var s=i||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},e.prototype.getCanvas=function(){var r;return this.isCanvas()?r=this:r=this.get("canvas"),r},e.prototype.getShape=function(r,n,i){if(!Ox(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,r,n,i);else{var s=[r,n,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],i))}return o},e.prototype._findShape=function(r,n,i,a){for(var o=null,s=r.length-1;s>=0;s--){var l=r[s];if(Ox(l)&&(l.isGroup()?o=l.getShape(n,i,a):l.isHit(n,i)&&(o=l)),o)break}return o},e.prototype.add=function(r){var n=this.getCanvas(),i=this.getChildren(),a=this.get("timeline"),o=r.getParent();o&&Ert(o,r),r.set("parent",this),n&&$le(r,n),a&&Nle(r,a),i.push(r),r.onCanvasChange("add"),this._applyElementMatrix(r)},e.prototype._applyElementMatrix=function(r){var n=this.getTotalMatrix();n&&r.applyMatrix(n)},e.prototype.getChildren=function(){return this.get("children")||[]},e.prototype.sort=function(){var r=this.getChildren();Y(r,function(n,i){return n[jj]=i,n}),r.sort(Art(function(n,i){return n.get("zIndex")-i.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var r=this.getChildren(),n=r.length-1;n>=0;n--)r[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var r=this.getChildren();return this.getChildByIndex(r.length-1)},e.prototype.getChildByIndex=function(r){var n=this.getChildren();return n[r]},e.prototype.getCount=function(){var r=this.getChildren();return r.length},e.prototype.contain=function(r){var n=this.getChildren();return n.indexOf(r)>-1},e.prototype.removeChild=function(r,n){n===void 0&&(n=!0),this.contain(r)&&r.remove(n)},e.prototype.findAll=function(r){var n=[],i=this.getChildren();return Y(i,function(a){r(a)&&n.push(a),a.isGroup()&&(n=n.concat(a.findAll(r)))}),n},e.prototype.find=function(r){var n=null,i=this.getChildren();return Y(i,function(a){if(r(a)?n=a:a.isGroup()&&(n=a.find(r)),n)return!1}),n},e.prototype.findById=function(r){return this.find(function(n){return n.get("id")===r})},e.prototype.findByClassName=function(r){return this.find(function(n){return n.get("className")===r})},e.prototype.findAllByName=function(r){return this.findAll(function(n){return n.get("name")===r})},e}(Lle),gg=0,d0=0,_y=0,Vle=1e3,mC,f0,yC=0,$h=0,XP=0,Dx=typeof performance=="object"&&performance.now?performance:Date,zle=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ule(){return $h||(zle(Crt),$h=Dx.now()+XP)}function Crt(){$h=0}function Fj(){this._call=this._time=this._next=null}Fj.prototype=qle.prototype={constructor:Fj,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Ule():+r)+(e==null?0:+e),!this._next&&f0!==this&&(f0?f0._next=this:mC=this,f0=this),this._call=t,this._time=r,Lj()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lj())}};function qle(t,e,r){var n=new Fj;return n.restart(t,e,r),n}function Trt(){Ule(),++gg;for(var t=mC,e;t;)(e=$h-t._time)>=0&&t._call.call(null,e),t=t._next;--gg}function wW(){$h=(yC=Dx.now())+XP,gg=d0=0;try{Trt()}finally{gg=0,Prt(),$h=0}}function Irt(){var t=Dx.now(),e=t-yC;e>Vle&&(XP-=e,yC=t)}function Prt(){for(var t,e=mC,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:mC=r);f0=t,Lj(n)}function Lj(t){if(!gg){d0&&(d0=clearTimeout(d0));var e=t-$h;e>24?(t<1/0&&(d0=setTimeout(wW,t-Dx.now()-XP)),_y&&(_y=clearInterval(_y))):(_y||(yC=Dx.now(),_y=setInterval(Irt,Vle)),gg=1,zle(wW))}}function P4(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Gle(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function $w(){}var Mx=.7,xC=1/Mx,zv="\\s*([+-]?\\d+)\\s*",Rx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_rt=/^#([0-9a-f]{3,8})$/,Ort=new RegExp(`^rgb\\(${zv},${zv},${zv}\\)$`),krt=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),Drt=new RegExp(`^rgba\\(${zv},${zv},${zv},${Rx}\\)$`),Mrt=new RegExp(`^rgba\\(${jl},${jl},${jl},${Rx}\\)$`),Rrt=new RegExp(`^hsl\\(${Rx},${jl},${jl}\\)$`),jrt=new RegExp(`^hsla\\(${Rx},${jl},${jl},${Rx}\\)$`),SW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P4($w,jx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:EW,formatHex:EW,formatHex8:Frt,formatHsl:Lrt,formatRgb:AW,toString:AW});function EW(){return this.rgb().formatHex()}function Frt(){return this.rgb().formatHex8()}function Lrt(){return Wle(this).formatHsl()}function AW(){return this.rgb().formatRgb()}function jx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_rt.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?CW(e):r===3?new Ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ort.exec(t))?new Ua(e[1],e[2],e[3],1):(e=krt.exec(t))?new Ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Drt.exec(t))?wS(e[1],e[2],e[3],e[4]):(e=Mrt.exec(t))?wS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rrt.exec(t))?PW(e[1],e[2]/100,e[3]/100,1):(e=jrt.exec(t))?PW(e[1],e[2]/100,e[3]/100,e[4]):SW.hasOwnProperty(t)?CW(SW[t]):t==="transparent"?new Ua(NaN,NaN,NaN,0):null}function CW(t){return new Ua(t>>16&255,t>>8&255,t&255,1)}function wS(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ua(t,e,r,n)}function $rt(t){return t instanceof $w||(t=jx(t)),t?(t=t.rgb(),new Ua(t.r,t.g,t.b,t.opacity)):new Ua}function $j(t,e,r,n){return arguments.length===1?$rt(t):new Ua(t,e,r,n??1)}function Ua(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}P4(Ua,$j,Gle($w,{brighter(t){return t=t==null?xC:Math.pow(xC,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mx:Math.pow(Mx,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ua(dh(this.r),dh(this.g),dh(this.b),bC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TW,formatHex:TW,formatHex8:Nrt,formatRgb:IW,toString:IW}));function TW(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}`}function Nrt(){return`#${Qf(this.r)}${Qf(this.g)}${Qf(this.b)}${Qf((isNaN(this.opacity)?1:this.opacity)*255)}`}function IW(){const t=bC(this.opacity);return`${t===1?"rgb(":"rgba("}${dh(this.r)}, ${dh(this.g)}, ${dh(this.b)}${t===1?")":`, ${t})`}`}function bC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function dh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qf(t){return t=dh(t),(t<16?"0":"")+t.toString(16)}function PW(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fs(t,e,r,n)}function Wle(t){if(t instanceof Fs)return new Fs(t.h,t.s,t.l,t.opacity);if(t instanceof $w||(t=jx(t)),!t)return new Fs;if(t instanceof Fs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Fs(o,s,l,t.opacity)}function Brt(t,e,r,n){return arguments.length===1?Wle(t):new Fs(t,e,r,n??1)}function Fs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}P4(Fs,Brt,Gle($w,{brighter(t){return t=t==null?xC:Math.pow(xC,t),new Fs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mx:Math.pow(Mx,t),new Fs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ua(sM(t>=240?t-240:t+120,i,n),sM(t,i,n),sM(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Fs(_W(this.h),SS(this.s),SS(this.l),bC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bC(this.opacity);return`${t===1?"hsl(":"hsla("}${_W(this.h)}, ${SS(this.s)*100}%, ${SS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _W(t){return t=(t||0)%360,t<0?t+360:t}function SS(t){return Math.max(0,Math.min(1,t||0))}function sM(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const _4=t=>()=>t;function Vrt(t,e){return function(r){return t+r*e}}function zrt(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Urt(t){return(t=+t)==1?Hle:function(e,r){return r-e?zrt(e,r,t):_4(isNaN(e)?r:e)}}function Hle(t,e){var r=e-t;return r?Vrt(t,r):_4(isNaN(t)?e:t)}const OW=function t(e){var r=Urt(e);function n(i,a){var o=r((i=$j(i)).r,(a=$j(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Hle(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function Yle(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Xle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qrt(t,e){return(Xle(e)?Yle:Kle)(t,e)}function Kle(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=jd(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Grt(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function wC(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Wrt(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=jd(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Nj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lM=new RegExp(Nj.source,"g");function Hrt(t){return function(){return t}}function Yrt(t){return function(e){return t(e)+""}}function Xrt(t,e){var r=Nj.lastIndex=lM.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Nj.exec(t))&&(i=lM.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:wC(n,i)})),r=lM.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Yrt(l[0].x):Hrt(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function jd(t,e){var r=typeof e,n;return e==null||r==="boolean"?_4(e):(r==="number"?wC:r==="string"?(n=jx(e))?(e=n,OW):Xrt:e instanceof jx?OW:e instanceof Date?Grt:Xle(e)?Yle:Array.isArray(e)?Kle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wrt:wC)(t,e)}function O4(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Krt(t,e){e===void 0&&(e=t,t=jd);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Qrt(t){return+t}function Jrt(t){return t*t}function Zrt(t){return t*(2-t)}function kW(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ent(t){return t*t*t}function tnt(t){return--t*t*t+1}function DW(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var k4=3,rnt=function t(e){e=+e;function r(n){return Math.pow(n,e)}return r.exponent=t,r}(k4),nnt=function t(e){e=+e;function r(n){return 1-Math.pow(1-n,e)}return r.exponent=t,r}(k4),MW=function t(e){e=+e;function r(n){return((n*=2)<=1?Math.pow(n,e):2-Math.pow(2-n,e))/2}return r.exponent=t,r}(k4),Qle=Math.PI,Jle=Qle/2;function int(t){return+t==1?1:1-Math.cos(t*Jle)}function ant(t){return Math.sin(t*Jle)}function RW(t){return(1-Math.cos(Qle*t))/2}function Fd(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function ont(t){return Fd(1-+t)}function snt(t){return 1-Fd(t)}function jW(t){return((t*=2)<=1?Fd(1-t):2-Fd(t-1))/2}function lnt(t){return 1-Math.sqrt(1-t*t)}function unt(t){return Math.sqrt(1- --t*t)}function FW(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Bj=4/11,cnt=6/11,dnt=8/11,fnt=3/4,hnt=9/11,pnt=10/11,vnt=15/16,gnt=21/22,mnt=63/64,ES=1/Bj/Bj;function ynt(t){return 1-Fx(1-t)}function Fx(t){return(t=+t)<Bj?ES*t*t:t<dnt?ES*(t-=cnt)*t+fnt:t<pnt?ES*(t-=hnt)*t+vnt:ES*(t-=gnt)*t+mnt}function xnt(t){return((t*=2)<=1?1-Fx(1-t):Fx(t-1)+1)/2}var D4=1.70158,bnt=function t(e){e=+e;function r(n){return(n=+n)*n*(e*(n-1)+n)}return r.overshoot=t,r}(D4),wnt=function t(e){e=+e;function r(n){return--n*n*((n+1)*e+n)+1}return r.overshoot=t,r}(D4),LW=function t(e){e=+e;function r(n){return((n*=2)<1?n*n*((e+1)*n-e):(n-=2)*n*((e+1)*n+e)+2)/2}return r.overshoot=t,r}(D4),mg=2*Math.PI,M4=1,R4=.3,Snt=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=mg);function i(a){return e*Fd(- --a)*Math.sin((n-a)/r)}return i.amplitude=function(a){return t(a,r*mg)},i.period=function(a){return t(e,a)},i}(M4,R4),$W=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=mg);function i(a){return 1-e*Fd(a=+a)*Math.sin((a+n)/r)}return i.amplitude=function(a){return t(a,r*mg)},i.period=function(a){return t(e,a)},i}(M4,R4),Ent=function t(e,r){var n=Math.asin(1/(e=Math.max(1,e)))*(r/=mg);function i(a){return((a=a*2-1)<0?e*Fd(-a)*Math.sin((n-a)/r):2-e*Fd(a)*Math.sin((n+a)/r))/2}return i.amplitude=function(a){return t(a,r*mg)},i.period=function(a){return t(e,a)},i}(M4,R4);const Ant=Object.freeze(Object.defineProperty({__proto__:null,easeBack:LW,easeBackIn:bnt,easeBackInOut:LW,easeBackOut:wnt,easeBounce:Fx,easeBounceIn:ynt,easeBounceInOut:xnt,easeBounceOut:Fx,easeCircle:FW,easeCircleIn:lnt,easeCircleInOut:FW,easeCircleOut:unt,easeCubic:DW,easeCubicIn:ent,easeCubicInOut:DW,easeCubicOut:tnt,easeElastic:$W,easeElasticIn:Snt,easeElasticInOut:Ent,easeElasticOut:$W,easeExp:jW,easeExpIn:ont,easeExpInOut:jW,easeExpOut:snt,easeLinear:Qrt,easePoly:MW,easePolyIn:rnt,easePolyInOut:MW,easePolyOut:nnt,easeQuad:kW,easeQuadIn:Jrt,easeQuadInOut:kW,easeQuadOut:Zrt,easeSin:RW,easeSinIn:int,easeSinInOut:RW,easeSinOut:ant},Symbol.toStringTag,{value:"Module"}));var Zle={};function Cnt(t){return Zle[t.toLowerCase()]||Ant[t]}function eue(t,e){Zle[t.toLowerCase()]=e}var Tnt=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},Int=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},NW=[1,0,0,0,1,0,0,0,1];function Pnt(t,e,r){var n={},i=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var o;for(var s in a)if(!on(i[s],a[s]))if(s==="path"){var l=a[s],u=i[s];l.length>u.length?(l=bv(a[s]),u=bv(i[s]),u=_le(u,l),u=Mj(u,l),e.fromAttrs.path=u,e.toAttrs.path=l):e.pathFormatted||(l=bv(a[s]),u=bv(i[s]),u=Mj(u,l),e.fromAttrs.path=u,e.toAttrs.path=l,e.pathFormatted=!0),n[s]=[];for(var c=0;c<l.length;c++){for(var d=l[c],f=u[c],p=[],v=0;v<d.length;v++)lt(d[v])&&f&&lt(f[v])?(o=jd(f[v],d[v]),p.push(o(r))):p.push(d[v]);n[s].push(p)}}else if(s==="matrix"){var g=qrt(i[s]||NW,a[s]||NW),m=g(r);n[s]=m}else Tnt(s)&&Int(a[s])?n[s]=a[s]:qe(a[s])||(o=jd(i[s],a[s]),n[s]=o(r));t.attr(n)}}function _nt(t,e,r){var n=e.startTime,i=e.delay;if(r<n+i||e._paused)return!1;var a,o=e.duration,s=e.easing,l=Cnt(s);if(r=r-n-e.delay,e.repeat)a=r%o/o,a=l(a);else if(a=r/o,a<1)a=l(a);else return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;if(e.onFrame){var u=e.onFrame(a);t.attr(u)}else Pnt(t,e,a);return!1}var Ont=function(){function t(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return t.prototype.initTimer=function(){var e=this,r=!1,n,i,a;this.timer=qle(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(n=e.animators[s],n.destroyed){e.removeAnimator(s);continue}if(!n.isAnimatePaused()){i=n.get("animations");for(var l=i.length-1;l>=0;l--)a=i[l],r=_nt(n,a,o),r&&(i.splice(l,1),r=!1,a.callback&&a.callback())}i.length===0&&e.removeAnimator(s)}var u=e.canvas.get("autoDraw");u||e.canvas.draw()}})},t.prototype.addAnimator=function(e){this.animators.push(e)},t.prototype.removeAnimator=function(e){this.animators.splice(e,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(r){r.stopAnimate(e)}),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),knt=40,BW=0,VW=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function zW(t,e,r){r.name=e,r.target=t,r.currentTarget=t,r.delegateTarget=t,t.emit(e,r)}function Dnt(t,e,r){if(r.bubbles){var n=void 0,i=!1;if(e==="mouseenter"?(n=r.fromShape,i=!0):e==="mouseleave"&&(i=!0,n=r.toShape),t.isCanvas()&&i)return;if(n&&Dle(t,n)){r.bubbles=!1;return}r.name=e,r.currentTarget=t,r.delegateTarget=t,t.emit(e,r)}}var Mnt=function(){function t(e){var r=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var i=n.type;r._triggerEvent(i,n)},this._onDocumentMove=function(n){var i=r.canvas,a=i.get("el");if(a!==n.target&&(r.dragging||r.currentShape)){var o=r._getPointInfo(n);r.dragging&&r._emitEvent("drag",n,o,r.draggingShape)}},this._onDocumentMouseUp=function(n){var i=r.canvas,a=i.get("el");if(a!==n.target&&r.dragging){var o=r._getPointInfo(n);r.draggingShape&&r._emitEvent("drop",n,o,null),r._emitEvent("dragend",n,o,r.draggingShape),r._afterDrag(r.draggingShape,o,n)}},this.canvas=e.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var e=this,r=this.canvas.get("el");Y(VW,function(n){r.addEventListener(n,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var e=this,r=this.canvas.get("el");Y(VW,function(n){r.removeEventListener(n,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(e,r,n,i,a,o){var s=new Lw(e,r);return s.fromShape=a,s.toShape=o,s.x=n.x,s.y=n.y,s.clientX=n.clientX,s.clientY=n.clientY,s.propagationPath.push(i),s},t.prototype._getShape=function(e,r){return this.canvas.getShape(e.x,e.y,r)},t.prototype._getPointInfo=function(e){var r=this.canvas,n=r.getClientByEvent(e),i=r.getPointByEvent(e);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(e,r){var n=this._getPointInfo(r),i=this._getShape(n,r),a=this["_on"+e],o=!1;if(a)a.call(this,n,i,r);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,r,n,null,null,i),i&&this._emitEvent(e,r,n,i,null,i),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",r,n,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,r,n,s,s,null),this._emitEvent(e,r,n,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",r,n,null)):this._emitEvent(e,r,n,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var l=this.canvas,u=l.get("el");u.style.cursor=i.attr("cursor")||l.get("cursor")}},t.prototype._onmousedown=function(e,r,n){n.button===BW&&(this.mousedownShape=r,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,r,null,null)},t.prototype._emitMouseoverEvents=function(e,r,n,i){var a=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",e,r,n,n,i),this._emitEvent("mouseleave",e,r,n,n,i),(!i||i.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",e,r,i,n,i),this._emitEvent("mouseenter",e,r,i,n,i)))},t.prototype._emitDragoverEvents=function(e,r,n,i,a){i?(i!==n&&(n&&this._emitEvent("dragleave",e,r,n,n,i),this._emitEvent("dragenter",e,r,i,n,i)),a||this._emitEvent("dragover",e,r,i)):n&&this._emitEvent("dragleave",e,r,n,n,i),a&&this._emitEvent("dragover",e,r,i)},t.prototype._afterDrag=function(e,r,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(r,n);i!==e&&this._emitMouseoverEvents(n,r,e,i),this.currentShape=i},t.prototype._onmouseup=function(e,r,n){if(n.button===BW){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,e,r),this._emitEvent("dragend",n,e,i),this._afterDrag(i,e,n)):(this._emitEvent("mouseup",n,e,r),r===this.mousedownShape&&this._emitEvent("click",n,e,r),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(e,r,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,e,i,r,!0)},t.prototype._onmousemove=function(e,r,n){var i=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,e,a,r,!1),this._emitEvent("drag",n,e,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,u=n.timeStamp,c=u-this.mousedownTimeStamp,d=s.clientX-e.clientX,f=s.clientY-e.clientY,p=d*d+f*f;c>120||p>knt?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,e,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,a,r),this._emitEvent("mousemove",n,e,r)):(this._emitMouseoverEvents(n,e,a,r),this._emitEvent("mousemove",n,e,r))}else this._emitMouseoverEvents(n,e,a,r),this._emitEvent("mousemove",n,e,r)}},t.prototype._emitEvent=function(e,r,n,i,a,o){var s=this._getEventObj(e,r,n,i,a,o);if(i){s.shape=i,zW(i,e,s);for(var l=i.getParent();l;)l.emitDelegation(e,s),s.propagationStopped||Dnt(l,e,s),s.propagationPath.push(l),l=l.getParent()}else{var u=this.canvas;zW(u,e,s)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),UW="px",qW=Mle(),Rnt=qW&&qW.name==="firefox",KP=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return r.cursor="default",r.supportCSSTransform=!1,r},e.prototype.initContainer=function(){var r=this.get("container");nt(r)&&(r=document.getElementById(r),this.set("container",r))},e.prototype.initDom=function(){var r=this.createDom();this.set("el",r);var n=this.get("container");n.appendChild(r),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var r=new Mnt({canvas:this});r.init(),this.set("eventController",r)},e.prototype.initTimeline=function(){var r=new Ont(this);this.set("timeline",r)},e.prototype.setDOMSize=function(r,n){var i=this.get("el");vW&&(i.style.width=r+UW,i.style.height=n+UW)},e.prototype.changeSize=function(r,n){this.setDOMSize(r,n),this.set("width",r),this.set("height",n),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(r){this.set("cursor",r);var n=this.get("el");vW&&n&&(n.style.cursor=r)},e.prototype.getPointByEvent=function(r){var n=this.get("supportCSSTransform");if(n){if(Rnt&&!ve(r.layerX)&&r.layerX!==r.offsetX)return{x:r.layerX,y:r.layerY};if(!ve(r.offsetX))return{x:r.offsetX,y:r.offsetY}}var i=this.getClientByEvent(r),a=i.x,o=i.y;return this.getPointByClient(a,o)},e.prototype.getClientByEvent=function(r){var n=r;return r.touches&&(r.type==="touchend"?n=r.changedTouches[0]:n=r.touches[0]),{x:n.clientX,y:n.clientY}},e.prototype.getPointByClient=function(r,n){var i=this.get("el"),a=i.getBoundingClientRect();return{x:r-a.left,y:n-a.top}},e.prototype.getClientByPoint=function(r,n){var i=this.get("el"),a=i.getBoundingClientRect();return{x:r+a.left,y:n+a.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var r=this.get("el");r.parentNode.removeChild(r)},e.prototype.clearEvents=function(){var r=this.get("eventController");r.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var r=this.get("timeline");this.get("destroyed")||(this.clear(),r&&r.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Ble),QP=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var r=t.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var a=n[i];r.add(a.clone())}return r},e}(Ble),JP=function(t){ae(e,t);function e(r){return t.call(this,r)||this}return e.prototype._isInBBox=function(r,n){var i=this.getBBox();return i.minX<=r&&i.maxX>=r&&i.minY<=n&&i.maxY>=n},e.prototype.afterAttrsChange=function(r){t.prototype.afterAttrsChange.call(this,r),this.clearCacheBBox()},e.prototype.getBBox=function(){var r=this.cfg.bbox;return r||(r=this.calculateBBox(),this.set("bbox",r)),r},e.prototype.getCanvasBBox=function(){var r=this.cfg.canvasBBox;return r||(r=this.calculateCanvasBBox(),this.set("canvasBBox",r)),r},e.prototype.applyMatrix=function(r){t.prototype.applyMatrix.call(this,r),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var r=this.getBBox(),n=this.getTotalMatrix(),i=r.minX,a=r.minY,o=r.maxX,s=r.maxY;if(n){var l=Pu(n,[r.minX,r.minY]),u=Pu(n,[r.maxX,r.minY]),c=Pu(n,[r.minX,r.maxY]),d=Pu(n,[r.maxX,r.maxY]);i=Math.min(l[0],u[0],c[0],d[0]),o=Math.max(l[0],u[0],c[0],d[0]),a=Math.min(l[1],u[1],c[1],d[1]),s=Math.max(l[1],u[1],c[1],d[1])}var f=this.attrs;if(f.shadowColor){var p=f.shadowBlur,v=p===void 0?0:p,g=f.shadowOffsetX,m=g===void 0?0:g,y=f.shadowOffsetY,x=y===void 0?0:y,b=i-v+m,w=o+v+m,S=a-v+x,C=s+v+x;i=Math.min(i,b),o=Math.max(o,w),a=Math.min(a,S),s=Math.max(s,C)}return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(r,n){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(r,n){var i=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[r,n,1];o=this.invertFromMatrix(o);var s=o[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(s,l)&&(this.isInShape(s,l)||i&&i.isHit(s,l)||a&&a.isHit(s,l)))},e}(Lle),tue=new Map;function bs(t,e){tue.set(t,e)}function ZP(t){return tue.get(t)}function rue(t){var e=t.attr(),r=e.x,n=e.y,i=e.width,a=e.height;return{x:r,y:n,width:i,height:a}}function nue(t){var e=t.attr(),r=e.x,n=e.y,i=e.r;return{x:r-i,y:n-i,width:i*2,height:i*2}}function oa(t,e,r,n){var i=t-r,a=e-n;return Math.sqrt(i*i+a*a)}function aA(t,e){return Math.abs(t-e)<.001}function Rm(t,e){var r=us(t),n=us(e),i=Ro(t),a=Ro(e);return{x:r,y:n,width:i-r,height:a-n}}function e_(t){return(t+Math.PI*2)%(Math.PI*2)}const pi={box:function(t,e,r,n){return Rm([t,r],[e,n])},length:function(t,e,r,n){return oa(t,e,r,n)},pointAt:function(t,e,r,n,i){return{x:(1-i)*t+i*r,y:(1-i)*e+i*n}},pointDistance:function(t,e,r,n,i,a){var o=(r-t)*(i-t)+(n-e)*(a-e);if(o<0)return oa(t,e,i,a);var s=(r-t)*(r-t)+(n-e)*(n-e);return o>s?oa(r,n,i,a):this.pointToLine(t,e,r,n,i,a)},pointToLine:function(t,e,r,n,i,a){var o=[r-t,n-e];if(frt(o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var s=[-o[1],o[0]];jle(s,s);var l=[i-t,a-e];return Math.abs(crt(l,s))},tangentAngle:function(t,e,r,n){return Math.atan2(n-e,r-t)}};var jnt=1e-4;function iue(t,e,r,n,i,a){var o,s=1/0,l=[r,n],u=20;a&&a>200&&(u=a/10);for(var c=1/u,d=c/10,f=0;f<=u;f++){var p=f*c,v=[i.apply(null,t.concat([p])),i.apply(null,e.concat([p]))],g=oa(l[0],l[1],v[0],v[1]);g<s&&(o=p,s=g)}if(o===0)return{x:t[0],y:e[0]};if(o===1){var m=t.length;return{x:t[m-1],y:e[m-1]}}s=1/0;for(var f=0;f<32&&!(d<jnt);f++){var y=o-d,x=o+d,v=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],g=oa(l[0],l[1],v[0],v[1]);if(y>=0&&g<s)o=y,s=g;else{var b=[i.apply(null,t.concat([x])),i.apply(null,e.concat([x]))],w=oa(l[0],l[1],b[0],b[1]);x<=1&&w<s?(o=x,s=w):d*=.5}}return{x:i.apply(null,t.concat([o])),y:i.apply(null,e.concat([o]))}}function Fnt(t,e){for(var r=0,n=t.length,i=0;i<n;i++){var a=t[i],o=e[i],s=t[(i+1)%n],l=e[(i+1)%n];r+=oa(a,o,s,l)}return r/2}function Nc(t,e,r,n){var i=1-n;return i*i*t+2*n*i*e+n*n*r}function GW(t,e,r){var n=t+r-2*e;if(aA(n,0))return[.5];var i=(t-e)/n;return i<=1&&i>=0?[i]:[]}function WW(t,e,r,n){return 2*(1-n)*(e-t)+2*n*(r-e)}function aue(t,e,r,n,i,a,o){var s=Nc(t,r,i,o),l=Nc(e,n,a,o),u=pi.pointAt(t,e,r,n,o),c=pi.pointAt(r,n,i,a,o);return[[t,e,u.x,u.y,s,l],[s,l,c.x,c.y,i,a]]}function Vj(t,e,r,n,i,a,o){if(o===0)return(oa(t,e,r,n)+oa(r,n,i,a)+oa(t,e,i,a))/2;var s=aue(t,e,r,n,i,a,.5),l=s[0],u=s[1];return l.push(o-1),u.push(o-1),Vj.apply(null,l)+Vj.apply(null,u)}const oue={box:function(t,e,r,n,i,a){var o=GW(t,r,i)[0],s=GW(e,n,a)[0],l=[t,i],u=[e,a];return o!==void 0&&l.push(Nc(t,r,i,o)),s!==void 0&&u.push(Nc(e,n,a,s)),Rm(l,u)},length:function(t,e,r,n,i,a){return Vj(t,e,r,n,i,a,3)},nearestPoint:function(t,e,r,n,i,a,o,s){return iue([t,r,i],[e,n,a],o,s,Nc)},pointDistance:function(t,e,r,n,i,a,o,s){var l=this.nearestPoint(t,e,r,n,i,a,o,s);return oa(l.x,l.y,o,s)},interpolationAt:Nc,pointAt:function(t,e,r,n,i,a,o){return{x:Nc(t,r,i,o),y:Nc(e,n,a,o)}},divide:function(t,e,r,n,i,a,o){return aue(t,e,r,n,i,a,o)},tangentAngle:function(t,e,r,n,i,a,o){var s=WW(t,r,i,o),l=WW(e,n,a,o),u=Math.atan2(l,s);return e_(u)}};function Bc(t,e,r,n,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*r*i*i*a+n*i*i*i}function HW(t,e,r,n,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(r-e)+i*i*(n-r))}function uM(t,e,r,n){var i=-3*t+9*e-9*r+3*n,a=6*t-12*e+6*r,o=3*e-3*t,s=[],l,u,c;if(aA(i,0))aA(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var d=a*a-4*i*o;aA(d,0)?s.push(-a/(2*i)):d>0&&(c=Math.sqrt(d),l=(-a+c)/(2*i),u=(-a-c)/(2*i),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function sue(t,e,r,n,i,a,o,s,l){var u=Bc(t,r,i,o,l),c=Bc(e,n,a,s,l),d=pi.pointAt(t,e,r,n,l),f=pi.pointAt(r,n,i,a,l),p=pi.pointAt(i,a,o,s,l),v=pi.pointAt(d.x,d.y,f.x,f.y,l),g=pi.pointAt(f.x,f.y,p.x,p.y,l);return[[t,e,d.x,d.y,v.x,v.y,u,c],[u,c,g.x,g.y,p.x,p.y,o,s]]}function zj(t,e,r,n,i,a,o,s,l){if(l===0)return Fnt([t,r,i,o],[e,n,a,s]);var u=sue(t,e,r,n,i,a,o,s,.5),c=u[0],d=u[1];return c.push(l-1),d.push(l-1),zj.apply(null,c)+zj.apply(null,d)}const N0={extrema:uM,box:function(t,e,r,n,i,a,o,s){for(var l=[t,o],u=[e,s],c=uM(t,r,i,o),d=uM(e,n,a,s),f=0;f<c.length;f++)l.push(Bc(t,r,i,o,c[f]));for(var f=0;f<d.length;f++)u.push(Bc(e,n,a,s,d[f]));return Rm(l,u)},length:function(t,e,r,n,i,a,o,s){return zj(t,e,r,n,i,a,o,s,3)},nearestPoint:function(t,e,r,n,i,a,o,s,l,u,c){return iue([t,r,i,o],[e,n,a,s],l,u,Bc,c)},pointDistance:function(t,e,r,n,i,a,o,s,l,u,c){var d=this.nearestPoint(t,e,r,n,i,a,o,s,l,u,c);return oa(d.x,d.y,l,u)},interpolationAt:Bc,pointAt:function(t,e,r,n,i,a,o,s,l){return{x:Bc(t,r,i,o,l),y:Bc(e,n,a,s,l)}},divide:function(t,e,r,n,i,a,o,s,l){return sue(t,e,r,n,i,a,o,s,l)},tangentAngle:function(t,e,r,n,i,a,o,s,l){var u=HW(t,r,i,o,l),c=HW(e,n,a,s,l);return e_(Math.atan2(c,u))}};function YW(t,e){var r=Math.abs(t);return e>0?r:r*-1}const Lnt={box:function(t,e,r,n){return{x:t-r,y:e-n,width:r*2,height:n*2}},length:function(t,e,r,n){return Math.PI*(3*(r+n)-Math.sqrt((3*r+n)*(r+3*n)))},nearestPoint:function(t,e,r,n,i,a){var o=r,s=n;if(o===0||s===0)return{x:t,y:e};for(var l=i-t,u=a-e,c=Math.abs(l),d=Math.abs(u),f=o*o,p=s*s,v=Math.PI/4,g,m,y=0;y<4;y++){g=o*Math.cos(v),m=s*Math.sin(v);var x=(f-p)*Math.pow(Math.cos(v),3)/o,b=(p-f)*Math.pow(Math.sin(v),3)/s,w=g-x,S=m-b,C=c-x,E=d-b,A=Math.hypot(S,w),P=Math.hypot(E,C),_=A*Math.asin((w*E-S*C)/(A*P)),k=_/Math.sqrt(f+p-g*g-m*m);v+=k,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:t+YW(g,l),y:e+YW(m,u)}},pointDistance:function(t,e,r,n,i,a){var o=this.nearestPoint(t,e,r,n,i,a);return oa(o.x,o.y,i,a)},pointAt:function(t,e,r,n,i){var a=2*Math.PI*i;return{x:t+r*Math.cos(a),y:e+n*Math.sin(a)}},tangentAngle:function(t,e,r,n,i){var a=2*Math.PI*i,o=Math.atan2(n*Math.cos(a),-r*Math.sin(a));return e_(o)}};function $nt(t,e,r,n,i,a,o,s){return-1*r*Math.cos(i)*Math.sin(s)-n*Math.sin(i)*Math.cos(s)}function Nnt(t,e,r,n,i,a,o,s){return-1*r*Math.sin(i)*Math.sin(s)+n*Math.cos(i)*Math.cos(s)}function Bnt(t,e,r){return Math.atan(-e/t*Math.tan(r))}function Vnt(t,e,r){return Math.atan(e/(t*Math.tan(r)))}function XW(t,e,r,n,i,a){return r*Math.cos(i)*Math.cos(a)-n*Math.sin(i)*Math.sin(a)+t}function KW(t,e,r,n,i,a){return r*Math.sin(i)*Math.cos(a)+n*Math.cos(i)*Math.sin(a)+e}function znt(t,e,r,n){var i=Math.atan2(n*t,r*e);return(i+Math.PI*2)%(Math.PI*2)}function QW(t,e,r){return{x:t*Math.cos(r),y:e*Math.sin(r)}}function JW(t,e,r){var n=Math.cos(r),i=Math.sin(r);return[t*n-e*i,t*i+e*n]}const Unt={box:function(t,e,r,n,i,a,o){for(var s=Bnt(r,n,i),l=1/0,u=-1/0,c=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var f=s+d;a<o?a<f&&f<o&&c.push(f):o<f&&f<a&&c.push(f)}for(var d=0;d<c.length;d++){var p=XW(t,e,r,n,i,c[d]);p<l&&(l=p),p>u&&(u=p)}for(var v=Vnt(r,n,i),g=1/0,m=-1/0,y=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var x=v+d;a<o?a<x&&x<o&&y.push(x):o<x&&x<a&&y.push(x)}for(var d=0;d<y.length;d++){var b=KW(t,e,r,n,i,y[d]);b<g&&(g=b),b>m&&(m=b)}return{x:l,y:g,width:u-l,height:m-g}},length:function(t,e,r,n,i,a,o){},nearestPoint:function(t,e,r,n,i,a,o,s,l){var u=JW(s-t,l-e,-i),c=u[0],d=u[1],f=Lnt.nearestPoint(0,0,r,n,c,d),p=znt(r,n,f.x,f.y);p<a?f=QW(r,n,a):p>o&&(f=QW(r,n,o));var v=JW(f.x,f.y,i);return{x:v[0]+t,y:v[1]+e}},pointDistance:function(t,e,r,n,i,a,o,s,l){var u=this.nearestPoint(t,e,r,n,s,l);return oa(u.x,u.y,s,l)},pointAt:function(t,e,r,n,i,a,o,s){var l=(o-a)*s+a;return{x:XW(t,e,r,n,i,l),y:KW(t,e,r,n,i,l)}},tangentAngle:function(t,e,r,n,i,a,o,s){var l=(o-a)*s+a,u=$nt(t,e,r,n,i,a,o,l),c=Nnt(t,e,r,n,i,a,o,l);return e_(Math.atan2(c,u))}};function lue(t){for(var e=0,r=[],n=0;n<t.length-1;n++){var i=t[n],a=t[n+1],o=oa(i[0],i[1],a[0],a[1]),s={from:i,to:a,length:o};r.push(s),e+=o}return{segments:r,totalLength:e}}function qnt(t){if(t.length<2)return 0;for(var e=0,r=0;r<t.length-1;r++){var n=t[r],i=t[r+1];e+=oa(n[0],n[1],i[0],i[1])}return e}function Gnt(t,e){if(e>1||e<0||t.length<2)return null;var r=lue(t),n=r.segments,i=r.totalLength;if(i===0)return{x:t[0][0],y:t[0][1]};for(var a=0,o=null,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,d=l.length/i;if(e>=a&&e<=a+d){var f=(e-a)/d;o=pi.pointAt(u[0],u[1],c[0],c[1],f);break}a+=d}return o}function Wnt(t,e){if(e>1||e<0||t.length<2)return 0;for(var r=lue(t),n=r.segments,i=r.totalLength,a=0,o=0,s=0;s<n.length;s++){var l=n[s],u=l.from,c=l.to,d=l.length/i;if(e>=a&&e<=a+d){o=Math.atan2(c[1]-u[1],c[0]-u[0]);break}a+=d}return o}function Hnt(t,e,r){for(var n=1/0,i=0;i<t.length-1;i++){var a=t[i],o=t[i+1],s=pi.pointDistance(a[0],a[1],o[0],o[1],e,r);s<n&&(n=s)}return n}const uue={box:function(t){for(var e=[],r=[],n=0;n<t.length;n++){var i=t[n];e.push(i[0]),r.push(i[1])}return Rm(e,r)},length:function(t){return qnt(t)},pointAt:function(t,e){return Gnt(t,e)},pointDistance:function(t,e,r){return Hnt(t,e,r)},tangentAngle:function(t,e){return Wnt(t,e)}};function ZW(t,e){return!t||!e?t||e:{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}function j4(t,e){var r=t.get("startArrowShape"),n=t.get("endArrowShape"),i=null,a=null;return r&&(i=r.getCanvasBBox(),e=ZW(e,i)),n&&(a=n.getCanvasBBox(),e=ZW(e,a)),e}function Ynt(t){for(var e=t.attr(),r=e.points,n=[],i=[],a=0;a<r.length;a++){var o=r[a];n.push(o[0]),i.push(o[1])}var s=Rm(n,i),l=s.x,u=s.y,c=s.width,d=s.height,f={minX:l,minY:u,maxX:l+c,maxY:u+d};return f=j4(t,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function Xnt(t){for(var e=t.attr(),r=e.points,n=[],i=[],a=0;a<r.length;a++){var o=r[a];n.push(o[0]),i.push(o[1])}return Rm(n,i)}var cM=null;function t_(){if(!cM){var t=document.createElement("canvas");t.width=1,t.height=1,cM=t.getContext("2d")}return cM}function r_(t,e,r){var n=1;if(nt(t)&&(n=t.split(`
`).length),n>1){var i=Knt(e,r);return e*n+i*(n-1)}return e}function Knt(t,e){return e?e-t:t*.14}function Qnt(t,e){var r=t_(),n=0;if(ve(t)||t==="")return n;if(r.save(),r.font=e,nt(t)&&t.includes(`
`)){var i=t.split(`
`);Y(i,function(a){var o=r.measureText(a).width;n<o&&(n=o)})}else n=r.measureText(t).width;return r.restore(),n}function n_(t){var e=t.fontSize,r=t.fontFamily,n=t.fontWeight,i=t.fontStyle,a=t.fontVariant;return[i,a,n,e+"px",r].join(" ").trim()}function Jnt(t){var e=t.attr(),r=e.x,n=e.y,i=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=n_(e));var l=Qnt(i,s),u;if(!l)u={x:r,y:n,width:0,height:0};else{var c=e.textAlign,d=e.textBaseline,f=r_(i,a,o),p={x:r,y:n-f};c&&(c==="end"||c==="right"?p.x-=l:c==="center"&&(p.x-=l/2)),d&&(d==="top"?p.y+=f:d==="middle"&&(p.y+=f/2)),u={x:p.x,y:p.y,width:l,height:f}}return u}var Znt=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,eit=/[^\s\,]+/ig;function tit(t){var e=t||[];if(xe(e))return e;if(nt(e))return e=e.match(Znt),Y(e,function(r,n){if(r=r.match(eit),r[0].length>1){var i=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=i}Y(r,function(a,o){isNaN(a)||(r[o]=+a)}),e[n]=r}),e}function AS(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Uj(t,e){return AS(t)*AS(e)?(t[0]*e[0]+t[1]*e[1])/(AS(t)*AS(e)):1}function eH(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Uj(t,e))}function qj(t,e){return t[0]===e[0]&&t[1]===e[1]}function rit(t,e){var r=e[1],n=e[2],i=zP(UP(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],l=t[1],u=e[6],c=e[7],d=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,f=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,p=d*d/(r*r)+f*f/(n*n);p>1&&(r*=Math.sqrt(p),n*=Math.sqrt(p));var v=r*r*(f*f)+n*n*(d*d),g=v?Math.sqrt((r*r*(n*n)-v)/v):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var m=n?g*r*f/n:0,y=r?g*-n*d/r:0,x=(s+u)/2+Math.cos(i)*m-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*m+Math.cos(i)*y,w=[(d-m)/r,(f-y)/n],S=[(-1*d-m)/r,(-1*f-y)/n],C=eH([1,0],w),E=eH(w,S);return Uj(w,S)<=-1&&(E=Math.PI),Uj(w,S)>=1&&(E=0),o===0&&E>0&&(E=E-2*Math.PI),o===1&&E<0&&(E=E+2*Math.PI),{cx:x,cy:b,rx:qj(t,[u,c])?0:r,ry:qj(t,[u,c])?0:n,startAngle:C,endAngle:C+E,xRotation:i,arcFlag:a,sweepFlag:o}}function tH(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function nit(t){t=tit(t);for(var e=[],r=null,n=null,i=null,a=0,o=t.length,s=0;s<o;s++){var l=t[s];n=t[s+1];var u=l[0],c={command:u,prePoint:r,params:l,startTangent:null,endTangent:null};switch(u){case"M":i=[l[1],l[2]],a=s;break;case"A":var d=rit(r,l);c.arcParams=d;break}if(u==="Z")r=i,n=t[a+1];else{var f=l.length;r=[l[f-2],l[f-1]]}n&&n[0]==="Z"&&(n=t[a],e[a]&&(e[a].prePoint=r)),c.currentPoint=r,e[a]&&qj(r,e[a].currentPoint)&&(e[a].prePoint=c.prePoint);var p=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=p;var v=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]];else if(u==="Q"){var g=[l[1],l[2]];c.startTangent=[v[0]-g[0],v[1]-g[1]],c.endTangent=[r[0]-g[0],r[1]-g[1]]}else if(u==="T"){var m=e[s-1],g=tH(m.currentPoint,v);m.command==="Q"?(c.command="Q",c.startTangent=[v[0]-g[0],v[1]-g[1]],c.endTangent=[r[0]-g[0],r[1]-g[1]]):(c.command="TL",c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]])}else if(u==="C"){var y=[l[1],l[2]],x=[l[3],l[4]];c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[r[0]-x[0],r[1]-x[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-x[0],y[1]-x[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[x[0]-y[0],x[1]-y[1]])}else if(u==="S"){var m=e[s-1],y=tH(m.currentPoint,v),x=[l[1],l[2]];m.command==="C"?(c.command="C",c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[r[0]-x[0],r[1]-x[1]]):(c.command="SQ",c.startTangent=[v[0]-x[0],v[1]-x[1]],c.endTangent=[r[0]-x[0],r[1]-x[1]])}else if(u==="A"){var b=.001,w=c.arcParams||{},S=w.cx,C=S===void 0?0:S,E=w.cy,A=E===void 0?0:E,P=w.rx,_=P===void 0?0:P,k=w.ry,O=k===void 0?0:k,D=w.sweepFlag,B=D===void 0?0:D,$=w.startAngle,L=$===void 0?0:$,R=w.endAngle,V=R===void 0?0:R;B===0&&(b*=-1);var U=_*Math.cos(L-b)+C,q=O*Math.sin(L-b)+A;c.startTangent=[U-i[0],q-i[1]];var M=_*Math.cos(L+V+b)+C,G=O*Math.sin(L+V-b)+A;c.endTangent=[v[0]-M,v[1]-G]}e.push(c)}return e}function iit(t,e){for(var r=[],n=[],i=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=oue.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=N0.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=o.arcParams;c=Unt.box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:r.push(s[0]),n.push(s[1]);break}c&&(o.box=c,r.push(c.x,c.x+c.width),n.push(c.y,c.y+c.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&i.push(o)}r=r.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0}),n=n.filter(function(y){return!Number.isNaN(y)&&y!==1/0&&y!==-1/0});var f=us(r),p=us(n),v=Ro(r),g=Ro(n);if(i.length===0)return{x:f,y:p,width:v-f,height:g-p};for(var a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,m=void 0;s[0]===f?(m=CS(o,e),f=f-m.xExtra):s[0]===v&&(m=CS(o,e),v=v+m.xExtra),s[1]===p?(m=CS(o,e),p=p-m.yExtra):s[1]===g&&(m=CS(o,e),g=g+m.yExtra)}return{x:f,y:p,width:v-f,height:g-p}}function CS(t,e){var r=t.prePoint,n=t.currentPoint,i=t.nextPoint,a=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),o=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),s=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||hi(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-n[1],i[0]-n[0])),c=Math.abs(Math.atan2(i[0]-n[0],i[1]-n[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var d={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return d}function ait(t){var e=t.attr(),r=e.path,n=e.stroke,i=n?e.lineWidth:0,a=t.get("segments")||nit(r),o=iit(a,i),s=o.x,l=o.y,u=o.width,c=o.height,d={minX:s,minY:l,maxX:s+u,maxY:l+c};return d=j4(t,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}}function oit(t){var e=t.attr(),r=e.x1,n=e.y1,i=e.x2,a=e.y2,o=Math.min(r,i),s=Math.max(r,i),l=Math.min(n,a),u=Math.max(n,a),c={minX:o,maxX:s,minY:l,maxY:u};return c=j4(t,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function sit(t){var e=t.attr(),r=e.x,n=e.y,i=e.rx,a=e.ry;return{x:r-i,y:n-a,width:i*2,height:a*2}}bs("rect",rue);bs("image",rue);bs("circle",nue);bs("marker",nue);bs("polyline",Ynt);bs("polygon",Xnt);bs("text",Jnt);bs("path",ait);bs("line",oit);bs("ellipse",sit);var rH=0,lit=1/2,uit=1/2,cit=.05,i_=function(){function t(e){var r=e.xField,n=e.yField,i=e.adjustNames,a=i===void 0?["x","y"]:i,o=e.dimValuesMap;this.adjustNames=a,this.xField=r,this.yField=n,this.dimValuesMap=o}return t.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},t.prototype.getAdjustRange=function(e,r,n){var i=this.yField,a=n.indexOf(r),o=n.length,s,l;return!i&&this.isAdjust("y")?(s=0,l=1):o>1?(s=n[a===0?0:a-1],l=n[a===o-1?o-1:a+1],a!==0?s+=(r-s)/2:s-=(l-r)/2,a!==o-1?l-=(l-r)/2:l+=(r-n[o-2])/2):(s=r===0?0:r-.5,l=r===0?1:r+.5),{pre:s,next:l}},t.prototype.adjustData=function(e,r){var n=this,i=this.getDimValues(r);Y(e,function(a,o){Y(i,function(s,l){n.adjustDim(l,s,a,o)})})},t.prototype.groupData=function(e,r){return Y(e,function(n){n[r]===void 0&&(n[r]=rH)}),Co(e,r)},t.prototype.adjustDim=function(e,r,n,i){},t.prototype.getDimValues=function(e){var r=this,n=r.xField,i=r.yField,a=dr({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(l){a&&a[l]||(a[l]=Hs(e,l).sort(function(u,c){return u-c}))}),!i&&this.isAdjust("y")){var s="y";a[s]=[rH,1]}return a},t}(),cue={},due=function(t){return cue[t.toLowerCase()]},a_=function(t,e){if(due(t))throw new Error("Adjust type '"+t+"' existed.");cue[t.toLowerCase()]=e};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gj=function(t,e){return Gj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Gj(t,e)};function o_(t,e){Gj(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tl=function(){return Tl=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Tl.apply(this,arguments)},dit=function(t){o_(e,t);function e(r){var n=t.call(this,r)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=r.marginRatio,a=i===void 0?lit:i,o=r.dodgeRatio,s=o===void 0?uit:o,l=r.dodgeBy,u=r.intervalPadding,c=r.dodgePadding,d=r.xDimensionLength,f=r.groupNum,p=r.defaultSize,v=r.maxColumnWidth,g=r.minColumnWidth,m=r.columnWidthRatio,y=r.customOffset;return n.marginRatio=a,n.dodgeRatio=s,n.dodgeBy=l,n.intervalPadding=u,n.dodgePadding=c,n.xDimensionLegenth=d,n.groupNum=f,n.defaultSize=p,n.maxColumnWidth=v,n.minColumnWidth=g,n.columnWidthRatio=m,n.customOffset=y,n}return e.prototype.process=function(r){var n=ga(r),i=Mo(n),a=this.dodgeBy,o=a?ttt(i,a):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],n},e.prototype.adjustDim=function(r,n,i,a){var o=this,s=this.customOffset,l=this.getDistribution(r),u=this.groupData(i,r);return Y(u,function(c,d){var f;n.length===1?f={pre:n[0]-1,next:n[0]+1}:f=o.getAdjustRange(r,parseFloat(d),n),Y(c,function(p){var v=p[r],g=l[v],m=g.indexOf(a);if(ve(s))p[r]=o.getDodgeOffset(f,m,g.length);else{var y=f.pre,x=f.next;p[r]=qe(s)?s(p,f):(y+x)/2+s}})}),[]},e.prototype.getDodgeOffset=function(r,n,i){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,c=r.pre,d=r.next,f=d-c,p;if(!ve(l)&&ve(u)&&l>=0){var v=this.getIntervalOnlyOffset(i,n);p=c+v}else if(!ve(u)&&ve(l)&&u>=0){var v=this.getDodgeOnlyOffset(i,n);p=c+v}else if(!ve(l)&&!ve(u)&&l>=0&&u>=0){var v=this.getIntervalAndDodgeOffset(i,n);p=c+v}else{var g=f*o/i,m=s*g,v=1/2*(f-i*g-(i-1)*m)+((n+1)*g+n*m)-1/2*g-1/2*f;p=(c+d)/2+v}return p},e.prototype.getIntervalOnlyOffset=function(r,n){var i=this,a=i.defaultSize,o=i.intervalPadding,s=i.xDimensionLegenth,l=i.groupNum,u=i.dodgeRatio,c=i.maxColumnWidth,d=i.minColumnWidth,f=i.columnWidthRatio,p=o/s,v=(1-(l-1)*p)/l*u/(r-1),g=((1-p*(l-1))/l-v*(r-1))/r;if(g=ve(f)?g:1/l/r*f,!ve(c)){var m=c/s;g=Math.min(g,m)}if(!ve(d)){var y=d/s;g=Math.max(g,y)}g=a?a/s:g,v=((1-(l-1)*p)/l-r*g)/(r-1);var x=((1/2+n)*g+n*v+1/2*p)*l-p/2;return x},e.prototype.getDodgeOnlyOffset=function(r,n){var i=this,a=i.defaultSize,o=i.dodgePadding,s=i.xDimensionLegenth,l=i.groupNum,u=i.marginRatio,c=i.maxColumnWidth,d=i.minColumnWidth,f=i.columnWidthRatio,p=o/s,v=1*u/(l-1),g=((1-v*(l-1))/l-p*(r-1))/r;if(g=f?1/l/r*f:g,!ve(c)){var m=c/s;g=Math.min(g,m)}if(!ve(d)){var y=d/s;g=Math.max(g,y)}g=a?a/s:g,v=(1-(g*r+p*(r-1))*l)/(l-1);var x=((1/2+n)*g+n*p+1/2*v)*l-v/2;return x},e.prototype.getIntervalAndDodgeOffset=function(r,n){var i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.xDimensionLegenth,l=i.groupNum,u=a/s,c=o/s,d=((1-u*(l-1))/l-c*(r-1))/r,f=((1/2+n)*d+n*c+1/2*u)*l-u/2;return f},e.prototype.getDistribution=function(r){var n=this.adjustDataArray,i=this.cacheMap,a=i[r];return a||(a={},Y(n,function(o,s){var l=Hs(o,r);l.length||l.push(0),Y(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),i[r]=a),a},e}(i_);function fit(t,e){return(e-t)*Math.random()+t}var hit=function(t){o_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.process=function(r){var n=ga(r),i=Mo(n);return this.adjustData(n,i),n},e.prototype.adjustDim=function(r,n,i){var a=this,o=this.groupData(i,r);return Y(o,function(s,l){return a.adjustGroup(s,r,parseFloat(l),n)})},e.prototype.getAdjustOffset=function(r){var n=r.pre,i=r.next,a=(i-n)*cit;return fit(n+a,i-a)},e.prototype.adjustGroup=function(r,n,i,a){var o=this,s=this.getAdjustRange(n,i,a);return Y(r,function(l){l[n]=o.getAdjustOffset(s)}),r},e}(i_),dM=xtt,pit=function(t){o_(e,t);function e(r){var n=t.call(this,r)||this,i=r.adjustNames,a=i===void 0?["y"]:i,o=r.height,s=o===void 0?NaN:o,l=r.size,u=l===void 0?10:l,c=r.reverseOrder,d=c===void 0?!1:c;return n.adjustNames=a,n.height=s,n.size=u,n.reverseOrder=d,n}return e.prototype.process=function(r){var n=this,i=n.yField,a=n.reverseOrder,o=i?this.processStack(r):this.processOneDimStack(r);return a?this.reverse(o):o},e.prototype.reverse=function(r){return r.slice(0).reverse()},e.prototype.processStack=function(r){var n=this,i=n.xField,a=n.yField,o=n.reverseOrder,s=o?this.reverse(r):r,l=new dM,u=new dM;return s.map(function(c){return c.map(function(d){var f,p=K(d,i,0),v=K(d,[a]),g=p.toString();if(v=xe(v)?v[1]:v,!ve(v)){var m=v>=0?l:u;m.has(g)||m.set(g,0);var y=m.get(g),x=v+y;return m.set(g,x),Tl(Tl({},d),(f={},f[a]=[y,x],f))}return d})})},e.prototype.processOneDimStack=function(r){var n=this,i=this,a=i.xField,o=i.height,s=i.reverseOrder,l="y",u=s?this.reverse(r):r,c=new dM;return u.map(function(d){return d.map(function(f){var p,v=n.size,g=f[a],m=v*2/o;c.has(g)||c.set(g,m/2);var y=c.get(g);return c.set(g,y+m),Tl(Tl({},f),(p={},p[l]=y,p))})})},e}(i_),vit=function(t){o_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.process=function(r){var n=Mo(r),i=this,a=i.xField,o=i.yField,s=this.getXValuesMaxMap(n),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return $r(r,function(u){return $r(u,function(c){var d,f,p=c[o],v=c[a];if(xe(p)){var g=(l-s[v])/2;return Tl(Tl({},c),(d={},d[o]=$r(p,function(y){return g+y}),d))}var m=(l-p)/2;return Tl(Tl({},c),(f={},f[o]=[m,p+m],f))})})},e.prototype.getXValuesMaxMap=function(r){var n=this,i=this,a=i.xField,o=i.yField,s=Co(r,function(l){return l[a]});return vtt(s,function(l){return n.getDimMaxValue(l,o)})},e.prototype.getDimMaxValue=function(r,n){var i=$r(r,function(o){return K(o,n,[])}),a=Mo(i);return Math.max.apply(Math,a)},e}(i_);a_("Dodge",dit);a_("Jitter",hit);a_("Stack",pit);a_("Symmetric",vit);var nH=function(t,e){return nt(e)?e:t.invert(t.scale(e))},Nw=function(){function t(e){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(e)}return t.prototype.mapping=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.map(function(a,o){return e._toOriginParam(a,e.scales[o])});return this.callback.apply(this,i)},t.prototype.getLinearValue=function(e){var r=this.values.length-1,n=Math.floor(r*e),i=r*e-n,a=this.values[n],o=n===r?a:this.values[n+1];return a+(o-a)*i},t.prototype.getNames=function(){for(var e=this.scales,r=this.names,n=Math.min(e.length,r.length),i=[],a=0;a<n;a+=1)i.push(r[a]);return i},t.prototype.getFields=function(){return this.scales.map(function(e){return e.field})},t.prototype.getScale=function(e){return this.scales[this.names.indexOf(e)]},t.prototype.defaultCallback=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===0?this.values:r.map(function(i,a){var o=e.scales[a];return o.type==="identity"?o.values[0]:e._getAttributeValue(o,i)})},t.prototype._parseCfg=function(e){var r=this,n=e.type,i=n===void 0?"base":n,a=e.names,o=a===void 0?[]:a,s=e.scales,l=s===void 0?[]:s,u=e.values,c=u===void 0?[]:u,d=e.callback;this.type=i,this.scales=l,this.values=c,this.names=o,this.callback=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(d){var v=d.apply(void 0,f);if(!ve(v))return[v]}return r.defaultCallback.apply(r,f)}},t.prototype._getAttributeValue=function(e,r){if(e.isCategory&&!this.linear){var n=e.translate(r);return this.values[n%this.values.length]}var i=e.scale(r);return this.getLinearValue(i)},t.prototype._toOriginParam=function(e,r){return r.isLinear?e:xe(e)?e.map(function(n){return nH(r,n)}):nH(r,e)},t}(),git=/rgba?\(([\s.,0-9]+)\)/,mit=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,yit=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,xit=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,bit=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},wit=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t},fM=function(t,e,r,n){return t[n]+(e[n]-t[n])*r};function fue(t){return"#"+hM(t[0])+hM(t[1])+hM(t[2])}var hue=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},hM=function(t){var e=Math.round(t).toString(16);return e.length===1?"0"+e:e},Sit=function(t,e){var r=isNaN(Number(e))||e<0?0:e>1?1:Number(e),n=t.length-1,i=Math.floor(n*r),a=n*r-i,o=t[i],s=i===n?o:t[i+1];return fue([fM(o,s,a,0),fM(o,s,a,1),fM(o,s,a,2)])},TS,pue=function(t){if(t[0]==="#"&&t.length===7)return t;TS||(TS=wit()),TS.style.color=t;var e=document.defaultView.getComputedStyle(TS,"").getPropertyValue("color"),r=git.exec(e),n=r[1].split(/\s*,\s*/).map(function(i){return Number(i)});return e=fue(n),e},Eit=function(t){var e=nt(t)?t.split("-"):t,r=$r(e,function(n){return hue(n.indexOf("#")===-1?pue(n):n)});return function(n){return Sit(r,n)}},Ait=function(t){if(bit(t)){var e,r=void 0;if(t[0]==="l"){var n=mit.exec(t),i=+n[1]+90;r=n[2],e="linear-gradient("+i+"deg, "}else if(t[0]==="r"){e="radial-gradient(";var n=yit.exec(t);r=n[4]}var a=r.match(xit);return Y(a,function(o,s){var l=o.split(":");e+=l[1]+" "+l[0]*100+"%",s!==a.length-1&&(e+=", ")}),e+=")",e}return t};const vd={rgb2arr:hue,gradient:Eit,toRGB:Mm(pue),toCSSGradient:Ait};var Cit=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.type="color",n.names=["color"],nt(n.values)&&(n.linear=!0),n.gradient=vd.gradient(n.values),n}return e.prototype.getLinearValue=function(r){return this.gradient(r)},e}(Nw),Tit=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.type="opacity",n.names=["opacity"],n}return e}(Nw),Iit=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.names=["x","y"],n.type="position",n}return e.prototype.mapping=function(r,n){var i=this.scales,a=i[0],o=i[1];return ve(r)||ve(n)?[]:[xe(r)?r.map(function(s){return a.scale(s)}):a.scale(r),xe(n)?n.map(function(s){return o.scale(s)}):o.scale(n)]},e}(Nw),Pit=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.type="shape",n.names=["shape"],n}return e.prototype.getLinearValue=function(r){var n=Math.round((this.values.length-1)*r);return this.values[n]},e}(Nw),_it=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.type="size",n.names=["size"],n}return e}(Nw),vue={};function Oit(t){return vue[t]}function au(t,e){vue[t]=e}var F4=function(){function t(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return t.prototype.translate=function(e){return e},t.prototype.change=function(e){dr(this.__cfg__,e),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var e=this;return $r(this.ticks,function(r,n){return lr(r)?r:{text:e.getText(r,n),tickValue:r,value:e.scale(r)}})},t.prototype.getText=function(e,r){var n=this.formatter,i=n?n(e,r):e;return ve(i)||!qe(i.toString)?"":i.toString()},t.prototype.getConfig=function(e){return this.__cfg__[e]},t.prototype.init=function(){dr(this,this.__cfg__),this.setDomain(),Xa(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var e=this.tickMethod,r=[];if(nt(e)){var n=Oit(e);if(!n)throw new Error("There is no method to to calculate ticks!");r=n(this)}else qe(e)&&(r=e(this));return r},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(e,r,n){return lt(e)?(e-r)/(n-r):NaN},t.prototype.calcValue=function(e,r,n){return r+e*(n-r)},t}(),s_=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cat",r.isCategory=!0,r}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var r=0;r<this.values.length;r++)this.translateIndexMap.set(this.values[r],r)}},e.prototype.translate=function(r){this.buildIndexMap();var n=this.translateIndexMap.get(r);return n===void 0&&(n=lt(r)?r:NaN),n},e.prototype.scale=function(r){var n=this.translate(r),i=this.calcPercent(n,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(r){var n=this.max-this.min,i=this.calcPercent(r,this.rangeMin(),this.rangeMax()),a=Math.round(n*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},e.prototype.getText=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=r;return lt(r)&&!this.values.includes(r)&&(a=this.values[a]),t.prototype.getText.apply(this,fx([a],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(ve(this.getConfig("min"))&&(this.min=0),ve(this.getConfig("max"))){var r=this.values.length;this.max=r>1?r-1:r}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(F4),gue=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Mc="\\d\\d?",Oc="\\d\\d",kit="\\d{3}",Dit="\\d{4}",B0="[^\\s]+",mue=/\[([^]*?)\]/gm;function yue(t,e){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n].substr(0,e));return r}var iH=function(t){return function(e,r){var n=r[t].map(function(a){return a.toLowerCase()}),i=n.indexOf(e.toLowerCase());return i>-1?i:null}};function Ld(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,i=e;n<i.length;n++){var a=i[n];for(var o in a)t[o]=a[o]}return t}var xue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bue=["January","February","March","April","May","June","July","August","September","October","November","December"],Mit=yue(bue,3),Rit=yue(xue,3),L4={dayNamesShort:Rit,dayNames:xue,monthNamesShort:Mit,monthNames:bue,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},SC=Ld({},L4),wue=function(t){return SC=Ld(SC,t)},aH=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Oa=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},jit={D:function(t){return String(t.getDate())},DD:function(t){return Oa(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Oa(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Oa(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Oa(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Oa(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Oa(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Oa(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Oa(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Oa(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Oa(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Oa(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Oa(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Oa(Math.floor(Math.abs(e)/60),2)+":"+Oa(Math.abs(e)%60,2)}},oH=function(t){return+t-1},sH=[null,Mc],lH=[null,B0],uH=["isPm",B0,function(t,e){var r=t.toLowerCase();return r===e.amPm[0]?0:r===e.amPm[1]?1:null}],cH=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var r=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?r:-r}return 0}],Fit={D:["day",Mc],DD:["day",Oc],Do:["day",Mc+B0,function(t){return parseInt(t,10)}],M:["month",Mc,oH],MM:["month",Oc,oH],YY:["year",Oc,function(t){var e=new Date,r=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?r-1:r)+t)}],h:["hour",Mc,void 0,"isPm"],hh:["hour",Oc,void 0,"isPm"],H:["hour",Mc],HH:["hour",Oc],m:["minute",Mc],mm:["minute",Oc],s:["second",Mc],ss:["second",Oc],YYYY:["year",Dit],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",Oc,function(t){return+t*10}],SSS:["millisecond",kit],d:sH,dd:sH,ddd:lH,dddd:lH,MMM:["month",B0,iH("monthNamesShort")],MMMM:["month",B0,iH("monthNames")],a:uH,A:uH,ZZ:cH,Z:cH},EC={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Sue=function(t){return Ld(EC,t)},Eue=function(t,e,r){if(e===void 0&&(e=EC.default),r===void 0&&(r={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=EC[e]||e;var n=[];e=e.replace(mue,function(a,o){return n.push(o),"@@@"});var i=Ld(Ld({},SC),r);return e=e.replace(gue,function(a){return jit[a](t,i)}),e.replace(/@@@/g,function(){return n.shift()})};function Aue(t,e,r){if(r===void 0&&(r={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=EC[e]||e,t.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(mue,function(w,S){return o.push(aH(S)),"@@@"}),l={},u={};s=aH(s).replace(gue,function(w){var S=Fit[w],C=S[0],E=S[1],A=S[3];if(l[C])throw new Error("Invalid format. "+C+" specified twice in format");return l[C]=!0,A&&(u[A]=!0),a.push(S),"("+E+")"}),Object.keys(u).forEach(function(w){if(!l[w])throw new Error("Invalid format. "+w+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=t.match(new RegExp(s,"i"));if(!c)return null;for(var d=Ld(Ld({},SC),r),f=1;f<c.length;f++){var p=a[f-1],v=p[0],g=p[2],m=g?g(c[f],d):+c[f];if(m==null)return null;i[v]=m}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var y;if(i.timezoneOffset==null){y=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var x=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],f=0,b=x.length;f<b;f++)if(l[x[f][0]]&&i[x[f][0]]!==y[x[f][1]]())return null}else if(y=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return y}var Cue={format:Eue,parse:Aue,defaultI18n:L4,setGlobalDateI18n:wue,setGlobalDateMasks:Sue};const Lit=Object.freeze(Object.defineProperty({__proto__:null,assign:Ld,default:Cue,defaultI18n:L4,format:Eue,parse:Aue,setGlobalDateI18n:wue,setGlobalDateMasks:Sue},Symbol.toStringTag,{value:"Module"}));function $it(t){return function(e,r,n,i){for(var a=ve(n)?0:n,o=ve(i)?e.length:i;a<o;){var s=a+o>>>1;t(e[s])>r?o=s:a=s+1}return a}}var dH="format";function Tue(t,e){var r=Lit[dH]||Cue[dH];return r(t,e)}function AC(t){return nt(t)&&(t.indexOf("T")>0?t=new Date(t).getTime():t=new Date(t.replace(/-/gi,"/")).getTime()),yle(t)&&(t=t.getTime()),t}var Ms=1e3,fh=60*Ms,hh=60*fh,_u=24*hh,V0=_u*31,fH=_u*365,Oy=[["HH:mm:ss",Ms],["HH:mm:ss",Ms*10],["HH:mm:ss",Ms*30],["HH:mm",fh],["HH:mm",fh*10],["HH:mm",fh*30],["HH",hh],["HH",hh*6],["HH",hh*12],["YYYY-MM-DD",_u],["YYYY-MM-DD",_u*4],["YYYY-WW",_u*7],["YYYY-MM",V0],["YYYY-MM",V0*4],["YYYY-MM",V0*6],["YYYY",_u*380]];function Nit(t,e,r){var n=(e-t)/r,i=$it(function(o){return o[1]})(Oy,n)-1,a=Oy[i];return i<0?a=Oy[0]:i>=Oy.length&&(a=Fn(Oy)),a}var Bit=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="timeCat",r}return e.prototype.translate=function(r){r=AC(r);var n=this.values.indexOf(r);return n===-1&&(lt(r)&&r<this.values.length?n=r:n=NaN),n},e.prototype.getText=function(r,n){var i=this.translate(r);if(i>-1){var a=this.values[i],o=this.formatter;return a=o?o(a,n):Tue(a,this.mask),a}return r},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var r=this.values;Y(r,function(n,i){r[i]=AC(n)}),r.sort(function(n,i){return n-i}),t.prototype.setDomain.call(this)},e}(s_),l_=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isContinuous=!0,r}return e.prototype.scale=function(r){if(ve(r))return NaN;var n=this.rangeMin(),i=this.rangeMax(),a=this.max,o=this.min;if(a===o)return n;var s=this.getScalePercent(r);return n+s*(i-n)},e.prototype.init=function(){t.prototype.init.call(this);var r=this.ticks,n=Ao(r),i=Fn(r);n<this.min&&(this.min=n),i>this.max&&(this.max=i),ve(this.minLimit)||(this.min=n),ve(this.maxLimit)||(this.max=i)},e.prototype.setDomain=function(){var r=ple(this.values),n=r.min,i=r.max;ve(this.min)&&(this.min=n),ve(this.max)&&(this.max=i),this.min>this.max&&(this.min=n,this.max=i)},e.prototype.calculateTicks=function(){var r=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=wi(n,function(i){return i>=r.min&&i<=r.max})),n},e.prototype.getScalePercent=function(r){var n=this.max,i=this.min;return(r-i)/(n-i)},e.prototype.getInvertPercent=function(r){return(r-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(F4),u_=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="linear",r.isLinear=!0,r}return e.prototype.invert=function(r){var n=this.getInvertPercent(r);return this.min+n*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(l_);function Vc(t,e){var r=Math.E,n;return e>=0?n=Math.pow(r,Math.log(e)/t):n=Math.pow(r,Math.log(-e)/t)*-1,n}function Xo(t,e){return t===1?1:Math.log(e)/Math.log(t)}function Iue(t,e,r){ve(r)&&(r=Math.max.apply(null,t));var n=r;return Y(t,function(i){i>0&&i<n&&(n=i)}),n===r&&(n=r/e),n>1&&(n=1),n}var Vit=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r}return e.prototype.invert=function(r){var n=this.base,i=Xo(n,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,l=this.positiveMin;if(l){if(r===0)return 0;s=Xo(n,l/n);var u=1/(i-s)*o;if(r<u)return r/u*l}else s=Xo(n,this.min);var c=(r-a)/o,d=c*(i-s)+s;return Math.pow(n,d)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var r=this.min;if(r<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");r===0&&(this.positiveMin=Iue(this.values,this.base,this.max))},e.prototype.getScalePercent=function(r){var n=this.max,i=this.min;if(n===i||r<=0)return 0;var a=this.base,o=this.positiveMin;o&&(i=o*1/a);var s;return r<o?s=r/o/(Xo(a,n)-Xo(a,i)):s=(Xo(a,r)-Xo(a,i))/(Xo(a,n)-Xo(a,i)),s},e}(l_),zit=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="pow",r}return e.prototype.invert=function(r){var n=this.getInvertPercent(r),i=this.exponent,a=Vc(i,this.max),o=Vc(i,this.min),s=n*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,i)*l},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(r){var n=this.max,i=this.min;if(n===i)return 0;var a=this.exponent,o=(Vc(a,r)-Vc(a,i))/(Vc(a,n)-Vc(a,i));return o},e}(l_),Uit=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="time",r}return e.prototype.getText=function(r,n){var i=this.translate(r),a=this.formatter;return a?a(i,n):Tue(i,this.mask)},e.prototype.scale=function(r){var n=r;return(nt(n)||yle(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(r){return AC(r)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var r=this.values,n=this.getConfig("min"),i=this.getConfig("max");if((!ve(n)||!lt(n))&&(this.min=this.translate(this.min)),(!ve(i)||!lt(i))&&(this.max=this.translate(this.max)),r&&r.length){var a=[],o=1/0,s=o,l=0;Y(r,function(u){var c=AC(u);if(isNaN(c))throw new TypeError("Invalid Time: "+u+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),l<c&&(l=c),a.push(c)}),r.length>1&&(this.minTickInterval=s-o),ve(n)&&(this.min=o),ve(i)&&(this.max=l)}},e}(u_),Pue=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="quantize",r}return e.prototype.invert=function(r){var n=this.ticks,i=n.length,a=this.getInvertPercent(r),o=Math.floor(a*(i-1));if(o>=i-1)return Fn(n);if(o<0)return Ao(n);var s=n[o],l=n[o+1],u=o/(i-1),c=(o+1)/(i-1);return s+(a-u)/(c-u)*(l-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var r=t.prototype.calculateTicks.call(this);return this.nice||(Fn(r)!==this.max&&r.push(this.max),Ao(r)!==this.min&&r.unshift(this.min)),r},e.prototype.getScalePercent=function(r){var n=this.ticks;if(r<Ao(n))return 0;if(r>Fn(n))return 1;var i=0;return Y(n,function(a,o){if(r>=a)i=o;else return!1}),i/(n.length-1)},e}(l_),qit=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="quantile",r}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(Pue),_ue={};function Wj(t){return _ue[t]}function ou(t,e){if(Wj(t))throw new Error("type '"+t+"' existed.");_ue[t]=e}var Git=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="identity",r.isIdentity=!0,r}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(r){return this.values[0]!==r&&lt(r)?r:this.range[0]},e.prototype.invert=function(r){var n=this.range;return r<n[0]||r>n[1]?NaN:this.values[0]},e}(F4);function Oue(t){var e=t.values,r=t.tickInterval,n=t.tickCount,i=t.showLast;if(lt(r)){var a=wi(e,function(v,g){return g%r===0}),o=Fn(e);return i&&Fn(a)!==o&&a.push(o),a}var s=e.length,l=t.min,u=t.max;if(ve(l)&&(l=0),ve(u)&&(u=e.length-1),!lt(n)||n>=s)return e.slice(l,u+1);if(n<=0||u<=0)return[];for(var c=n===1?s:Math.floor(s/(n-1)),d=[],f=l,p=0;p<n&&!(f>=u);p++)f=Math.min(l+p*c,u),p===n-1&&i?d.push(e[u]):d.push(e[f]);return d}function Wit(t){var e=t.min,r=t.max,n=t.nice,i=t.tickCount,a=new Hit;return a.domain([e,r]),n&&a.nice(i),a.ticks(i)}var pM=5,hH=Math.sqrt(50),pH=Math.sqrt(10),vH=Math.sqrt(2),Hit=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},t.prototype.nice=function(e){var r,n;e===void 0&&(e=pM);var i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o],u;return l<s&&(r=[l,s],s=r[0],l=r[1],n=[o,a],a=n[0],o=n[1]),u=oA(s,l,e),u>0?(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,u=oA(s,l,e)):u<0&&(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,u=oA(s,l,e)),u>0?(i[a]=Math.floor(s/u)*u,i[o]=Math.ceil(l/u)*u,this.domain(i)):u<0&&(i[a]=Math.ceil(s*u)/u,i[o]=Math.floor(l*u)/u,this.domain(i)),this},t.prototype.ticks=function(e){return e===void 0&&(e=pM),Yit(this._domain[0],this._domain[this._domain.length-1],e||pM)},t}();function Yit(t,e,r){var n,i=-1,a,o,s;if(e=+e,t=+t,r=+r,t===e&&r>0)return[t];if((n=e<t)&&(a=t,t=e,e=a),(s=oA(t,e,r))===0||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/s;return n&&o.reverse(),o}function oA(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=hH?10:a>=pH?5:a>=vH?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=hH?10:a>=pH?5:a>=vH?2:1)}function gH(t,e,r){var n;return r==="ceil"?n=Math.ceil(t/e):r==="floor"?n=Math.floor(t/e):n=Math.round(t/e),n*e}function $4(t,e,r){var n=gH(t,r,"floor"),i=gH(e,r,"ceil");n=rM(n,r),i=rM(i,r);for(var a=[],o=Math.max((i-n)/(Math.pow(2,12)-1),r),s=n;s<=i;s=s+o){var l=rM(s,o);a.push(l)}return{min:n,max:i,ticks:a}}function N4(t,e,r){var n,i=t.minLimit,a=t.maxLimit,o=t.min,s=t.max,l=t.tickCount,u=l===void 0?5:l,c=ve(i)?ve(e)?o:e:i,d=ve(a)?ve(r)?s:r:a;if(c>d&&(n=[c,d],d=n[0],c=n[1]),u<=2)return[c,d];for(var f=(d-c)/(u-1),p=[],v=0;v<u;v++)p.push(c+f*v);return p}function Xit(t){var e=t.min,r=t.max,n=t.tickInterval,i=t.minLimit,a=t.maxLimit,o=Wit(t);return!ve(i)||!ve(a)?N4(t,Ao(o),Fn(o)):n?$4(e,r,n).ticks:o}function Df(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Kit=[1,5,2,2.5,4,3],mH=Number.EPSILON*100;function Qit(t,e){return(t%e+e)%e}function Jit(t){return Math.round(t*1e12)/1e12}function Zit(t,e,r,n,i,a){var o=Zn(e),s=Sle(e,t),l=0,u=Qit(n,a);return(u<mH||a-u<mH)&&n<=0&&i>=0&&(l=1),1-s/(o-1)-r+l}function eat(t,e,r){var n=Zn(e),i=Sle(e,t),a=1;return 1-i/(n-1)-r+a}function tat(t,e,r,n,i,a){var o=(t-1)/(a-i),s=(e-1)/(Math.max(a,n)-Math.min(r,i));return 2-Math.max(o/s,s/o)}function rat(t,e){return t>=e?2-(t-1)/(e-1):1}function nat(t,e,r,n){var i=e-t;return 1-.5*(Math.pow(e-n,2)+Math.pow(t-r,2))/Math.pow(.1*i,2)}function iat(t,e,r){var n=e-t;if(r>n){var i=(r-n)/2;return 1-Math.pow(i,2)/Math.pow(.1*n,2)}return 1}function aat(){return 1}function oat(t,e,r,n,i,a){r===void 0&&(r=5),n===void 0&&(n=!0),i===void 0&&(i=Kit),a===void 0&&(a=[.25,.2,.5,.05]);var o=r<0?0:Math.round(r);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-t<1e-15||o===1)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var s=r||5,l=(e-t)/s;return{min:t,max:e,ticks:Array(s).fill(null).map(function(M,G){return Df(t+l*G)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var d=0;d<i.length;d+=1){var f=i[d],p=eat(f,i,c);if(a[0]*p+a[1]+a[2]+a[3]<u.score){c=1/0;break}for(var v=2;v<1/0;){var g=rat(v,o);if(a[0]*p+a[1]+a[2]*g+a[3]<u.score)break;for(var m=(e-t)/(v+1)/c/f,y=Math.ceil(Math.log10(m));y<1/0;){var x=c*f*Math.pow(10,y),b=iat(t,e,x*(v-1));if(a[0]*p+a[1]*b+a[2]*g+a[3]<u.score)break;var w=Math.floor(e/x)*c-(v-1)*c,S=Math.ceil(t/x)*c;if(w<=S)for(var s=S-w,C=0;C<=s;C+=1){var E=w+C,A=E*(x/c),P=A+x*(v-1),_=x,k=Zit(f,i,c,A,P,_),O=nat(t,e,A,P),D=tat(v,o,t,e,A,P),B=aat(),$=a[0]*k+a[1]*O+a[2]*D+a[3]*B;$>u.score&&(!n||A<=t&&P>=e)&&(u.lmin=A,u.lmax=P,u.lstep=_,u.score=$)}y+=1}v+=1}}c+=1}var L=Df(u.lmax),R=Df(u.lmin),V=Df(u.lstep),U=Math.floor(Jit((L-R)/V))+1,q=new Array(U);q[0]=Df(R);for(var d=1;d<U;d++)q[d]=Df(q[d-1]+V);return{min:Math.min(t,Ao(q)),max:Math.max(e,Fn(q)),ticks:q}}function sat(t){var e=t.min,r=t.max,n=t.tickCount,i=t.nice,a=t.tickInterval,o=t.minLimit,s=t.maxLimit,l=oat(e,r,n,i).ticks;return!ve(o)||!ve(s)?N4(t,Ao(l),Fn(l)):a?$4(e,r,a).ticks:l}function lat(t){var e=t.base,r=t.tickCount,n=t.min,i=t.max,a=t.values,o,s=Xo(e,i);if(n>0)o=Math.floor(Xo(e,n));else{var l=Iue(a,e,i);o=Math.floor(Xo(e,l))}for(var u=s-o,c=Math.ceil(u/r),d=[],f=o;f<s+c;f=f+c)d.push(Math.pow(e,f));return n<=0&&d.unshift(0),d}function kue(t,e,r){if(r===void 0&&(r=5),t===e)return{max:e,min:t,ticks:[t]};var n=r<0?0:Math.round(r);if(n===0)return{max:e,min:t,ticks:[]};var i=1.5,a=.5+1.5*i,o=e-t,s=o/n,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<i*(s-u)&&(u=2*l,5*l-s<a*(s-u)&&(u=5*l,10*l-s<i*(s-u)&&(u=10*l)));for(var c=Math.ceil(e/u),d=Math.floor(t/u),f=Math.max(c*u,e),p=Math.min(d*u,t),v=Math.floor((f-p)/u)+1,g=new Array(v),m=0;m<v;m++)g[m]=Df(p+m*u);return{min:p,max:f,ticks:g}}function uat(t){var e=t.exponent,r=t.tickCount,n=Math.ceil(Vc(e,t.max)),i=Math.floor(Vc(e,t.min)),a=kue(i,n,r).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function cat(t,e){var r=t.length*e;return e===1?t[t.length-1]:e===0?t[0]:r%1!==0?t[Math.ceil(r)-1]:t.length%2===0?(t[r-1]+t[r])/2:t[r]}function dat(t){var e=t.tickCount,r=t.values;if(!r||!r.length)return[];for(var n=r.slice().sort(function(s,l){return s-l}),i=[],a=0;a<e;a++){var o=a/(e-1);i.push(cat(n,o))}return i}function fat(t){var e=t.min,r=t.max,n=t.tickCount,i=t.tickInterval,a=t.minLimit,o=t.maxLimit,s=kue(e,r,n).ticks;return!ve(a)||!ve(o)?N4(t,Ao(s),Fn(s)):i?$4(e,r,i).ticks:s}function hat(t){var e=t.min,r=t.max,n=t.minTickInterval,i=t.tickInterval,a=t.tickCount;if(i)a=Math.ceil((r-e)/i);else{i=Nit(e,r,a)[1];var o=(r-e)/i,s=o/a;s>1&&(i=i*Math.ceil(s)),n&&i<n&&(i=n)}i=Math.max(Math.floor((r-e)/(Math.pow(2,12)-1)),i);for(var l=[],u=e;u<r+i;u+=i)l.push(u);return l}function pat(t){var e=Oue(F({showLast:!0},t));return e}function CC(t){return new Date(t).getFullYear()}function vat(t){return new Date(t,0,1).getTime()}function Hj(t){return new Date(t).getMonth()}function gat(t,e){var r=CC(t),n=CC(e),i=Hj(t),a=Hj(e);return(n-r)*12+(a-i)%12}function mat(t,e){return new Date(t,e,1).getTime()}function yat(t,e){return Math.ceil((e-t)/_u)}function xat(t,e){return Math.ceil((e-t)/hh)}function bat(t,e){return Math.ceil((e-t)/(60*1e3))}function wat(t){var e=t.min,r=t.max,n=t.minTickInterval,i=t.tickCount,a=t.tickInterval,o=[];a||(a=(r-e)/i,n&&a<n&&(a=n)),a=Math.max(Math.floor((r-e)/(Math.pow(2,12)-1)),a);var s=CC(e);if(a>fH)for(var l=CC(r),u=Math.ceil(a/fH),c=s;c<=l+u;c=c+u)o.push(vat(c));else if(a>V0)for(var d=Math.ceil(a/V0),f=Hj(e),p=gat(e,r),c=0;c<=p+d;c=c+d)o.push(mat(s,c+f));else if(a>_u)for(var v=new Date(e),g=v.getFullYear(),m=v.getMonth(),y=v.getDate(),x=Math.ceil(a/_u),b=yat(e,r),c=0;c<b+x;c=c+x)o.push(new Date(g,m,y+c).getTime());else if(a>hh)for(var v=new Date(e),g=v.getFullYear(),m=v.getMonth(),x=v.getDate(),w=v.getHours(),S=Math.ceil(a/hh),C=xat(e,r),c=0;c<=C+S;c=c+S)o.push(new Date(g,m,x,w+c).getTime());else if(a>fh)for(var E=bat(e,r),A=Math.ceil(a/fh),c=0;c<=E+A;c=c+A)o.push(e+c*fh);else{var P=a;P<Ms&&(P=Ms);for(var _=Math.floor(e/Ms)*Ms,k=Math.ceil((r-e)/Ms),O=Math.ceil(P/Ms),c=0;c<k+O;c=c+O)o.push(_+c*Ms)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}au("cat",Oue);au("time-cat",pat);au("wilkinson-extended",sat);au("r-pretty",fat);au("time",hat);au("time-pretty",wat);au("log",lat);au("pow",uat);au("quantile",dat);au("d3-linear",Xit);ou("cat",s_);ou("category",s_);ou("identity",Git);ou("linear",u_);ou("log",Vit);ou("pow",zit);ou("time",Uit);ou("timeCat",Bit);ou("quantize",Pue);ou("quantile",qit);var Due={},Mue=function(t){return Due[t.toLowerCase()]},Bw=function(t,e){if(Mue(t))throw new Error("Attribute type '".concat(t,"' existed."));Due[t.toLowerCase()]=e};Bw("Color",Cit);Bw("Opacity",Tit);Bw("Position",Iit);Bw("Shape",Pit);Bw("Size",_it);var B4=function(){function t(e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var r=e.start,n=e.end,i=e.matrix,a=i===void 0?[1,0,0,0,1,0,0,0,1]:i,o=e.isTransposed,s=o===void 0?!1:o;this.start=r,this.end=n,this.matrix=a,this.originalMatrix=Je([],a),this.isTransposed=s}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(e){dr(this,e),this.initial()},t.prototype.convertDim=function(e,r){var n,i=this[r],a=i.start,o=i.end;return this.isReflect(r)&&(n=[o,a],a=n[0],o=n[1]),a+e*(o-a)},t.prototype.invertDim=function(e,r){var n,i=this[r],a=i.start,o=i.end;return this.isReflect(r)&&(n=[o,a],a=n[0],o=n[1]),(e-a)/(o-a)},t.prototype.applyMatrix=function(e,r,n){n===void 0&&(n=0);var i=this.matrix,a=[e,r,n];return kx(a,a,i),a},t.prototype.invertMatrix=function(e,r,n){n===void 0&&(n=0);var i=this.matrix,a=irt([0,0,0,0,0,0,0,0,0],i),o=[e,r,n];return a&&kx(o,o,a),o},t.prototype.convert=function(e){var r=this.convertPoint(e),n=r.x,i=r.y,a=this.applyMatrix(n,i,1);return{x:a[0],y:a[1]}},t.prototype.invert=function(e){var r=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:r[0],y:r[1]})},t.prototype.rotate=function(e){var r=this.matrix,n=this.center;return dv(r,r,[-n.x,-n.y]),T4(r,r,e),dv(r,r,[n.x,n.y]),this},t.prototype.reflect=function(e){return e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(e,r){var n=this.matrix,i=this.center;return dv(n,n,[-i.x,-i.y]),Fle(n,n,[e,r]),dv(n,n,[i.x,i.y]),this},t.prototype.translate=function(e,r){var n=this.matrix;return dv(n,n,[e,r]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(e){return e==="x"?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(e){this.matrix=e||Je([],this.originalMatrix)},t}(),Rue=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return e.prototype.initial=function(){t.prototype.initial.call(this);var r=this.start,n=this.end;this.x={start:r.x,end:n.x},this.y={start:r.y,end:n.y}},e.prototype.convertPoint=function(r){var n,i=r.x,a=r.y;return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:this.convertDim(i,"x"),y:this.convertDim(a,"y")}},e.prototype.invertPoint=function(r){var n,i=this.invertDim(r.x,"x"),a=this.invertDim(r.y,"y");return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:i,y:a}},e}(B4),Sat=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.isHelix=!0,n.type="helix";var i=r.startAngle,a=i===void 0?1.25*Math.PI:i,o=r.endAngle,s=o===void 0?7.25*Math.PI:o,l=r.innerRadius,u=l===void 0?0:l,c=r.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=u,n.radius=c,n.initial(),n}return e.prototype.initial=function(){t.prototype.initial.call(this);var r=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/r),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},e.prototype.convertPoint=function(r){var n,i=r.x,a=r.y;this.isTransposed&&(n=[a,i],i=n[0],a=n[1]);var o=this.convertDim(i,"x"),s=this.a*o,l=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},e.prototype.invertPoint=function(r){var n,i=this.d+this.y.start,a=Rle([0,0],[r.x,r.y],[this.center.x,this.center.y]),o=I4(a,[1,0],!0),s=o*this.a;wv(a)<s&&(s=wv(a));var l=Math.floor((wv(a)-s)/i);o=2*l*Math.PI+o;var u=this.a*o,c=wv(a)-u;c=hi(c,0)?0:c;var d=this.invertDim(o,"x"),f=this.invertDim(c,"y");return d=hi(d,0)?0:d,f=hi(f,0)?0:f,this.isTransposed&&(n=[f,d],d=n[0],f=n[1]),{x:d,y:f}},e}(B4),Eat=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.isPolar=!0,n.type="polar";var i=r.startAngle,a=i===void 0?-Math.PI/2:i,o=r.endAngle,s=o===void 0?Math.PI*3/2:o,l=r.innerRadius,u=l===void 0?0:l,c=r.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=u,n.radius=c,n.initial(),n}return e.prototype.initial=function(){for(t.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var r=this.getOneBox(),n=r.maxX-r.minX,i=r.maxY-r.minY,a=Math.abs(r.minX)/n,o=Math.abs(r.minY)/i,s;this.height/i>this.width/n?(s=this.width/n,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*s*i}):(s=this.height/i,this.circleCenter={x:this.center.x-(.5-a)*s*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(r){var n,i=this.getCenter(),a=r.x,o=r.y;return this.isTransposed&&(n=[o,a],a=n[0],o=n[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(a)*o,y:i.y+Math.sin(a)*o}},e.prototype.invertPoint=function(r){var n,i=this.getCenter(),a=[r.x-i.x,r.y-i.y],o=this,s=o.startAngle,l=o.endAngle;this.isReflect("x")&&(n=[l,s],s=n[0],l=n[1]);var u=[1,0,0,0,1,0,0,0,1];T4(u,u,s);var c=[1,0,0];kx(c,c,u);var d=[c[0],c[1]],f=I4(d,a,l<s);hi(f,Math.PI*2)&&(f=0);var p=wv(a),v=f/(l-s);v=l-s>0?v:-v;var g=this.invertDim(p,"y"),m={x:0,y:0};return m.x=this.isTransposed?g:v,m.y=this.isTransposed?v:g,m},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var r=this.startAngle,n=this.endAngle;if(Math.abs(n-r)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(r),Math.cos(n)],a=[0,Math.sin(r),Math.sin(n)],o=Math.min(r,n);o<Math.max(r,n);o+=Math.PI/18)i.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},e}(B4),jue={},Aat=function(t){return jue[t.toLowerCase()]},c_=function(t,e){jue[t.toLowerCase()]=e};c_("rect",Rue);c_("cartesian",Rue);c_("polar",Eat);c_("helix",Sat);function Fue(t,e,r){var n=new Lw(e,r);n.target=t,n.propagationPath.push(t),t.emitDelegation(e,n);for(var i=t.getParent();i;)i.emitDelegation(e,n),n.propagationPath.push(i),i=i.getParent()}var Lue=[1,0,0,0,1,0,0,0,1];function Nh(t,e,r){if(r===void 0&&(r=Lue),!e)return null;var n=Rn(r,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]);return n}function V4(t,e){return!t.x&&!t.y?null:Rn(Lue,[["t",t.x,t.y]])}function Cat(t){var e=[1,0,0],r=[0,0,0];return kx(r,e,t),Math.atan2(r[1],r[0])}function IS(t,e){var r=[0,0];return drt(r,e,t),r}function Tat(t,e){var r=IS(t,[e.minX,e.minY]),n=IS(t,[e.maxX,e.minY]),i=IS(t,[e.minX,e.maxY]),a=IS(t,[e.maxX,e.maxY]),o=Math.min(r[0],n[0],i[0],a[0]),s=Math.max(r[0],n[0],i[0],a[0]),l=Math.min(r[1],n[1],i[1],a[1]),u=Math.max(r[1],n[1],i[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}function $ue(t,e,r,n){if(e){var i=Nh({x:r,y:n},e,t.getMatrix());t.setMatrix(i)}}function z4(t,e,r){var n=V4({x:e,y:r});t.attr("matrix",n)}function TC(t){var e=0,r=0,n=0,i=0;return lt(t)?e=r=n=i=t:xe(t)&&(e=t[0],n=ve(t[1])?t[0]:t[1],i=ve(t[2])?t[0]:t[2],r=ve(t[3])?n:t[3]),[e,n,i,r]}function U4(t){for(var e=t.childNodes,r=e.length,n=r-1;n>=0;n--)t.removeChild(e[n])}function Iat(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Lx(t){var e=t.start,r=t.end,n=Math.min(e.x,r.x),i=Math.min(e.y,r.y),a=Math.max(e.x,r.x),o=Math.max(e.y,r.y);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function Pat(t){var e=t.map(function(s){return s.x}),r=t.map(function(s){return s.y}),n=Math.min.apply(Math,e),i=Math.min.apply(Math,r),a=Math.max.apply(Math,e),o=Math.max.apply(Math,r);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function d_(t,e,r,n){var i=t+r,a=e+n;return{x:t,y:e,width:r,height:n,minX:t,minY:e,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function ph(t,e,r){return(1-r)*t+e*r}function Uv(t,e,r){return{x:t.x+Math.cos(r)*e,y:t.y+Math.sin(r)*e}}function _at(t,e){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}var IC=function(t,e,r){return r===void 0&&(r=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<r};function Oat(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),a=Math.min(t.maxY,e.maxY);return d_(r,n,i-r,a-n)}function Nue(t){var e=t.getClip(),r=e&&e.getBBox(),n;if(!t.isGroup())n=t.getBBox();else{var i=1/0,a=-1/0,o=1/0,s=-1/0,l=t.getChildren();l.length>0?Y(l,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var c=Nue(u),d=u.applyToMatrix([c.minX,c.minY,1]),f=u.applyToMatrix([c.minX,c.maxY,1]),p=u.applyToMatrix([c.maxX,c.minY,1]),v=u.applyToMatrix([c.maxX,c.maxY,1]),g=Math.min(d[0],f[0],p[0],v[0]),m=Math.max(d[0],f[0],p[0],v[0]),y=Math.min(d[1],f[1],p[1],v[1]),x=Math.max(d[1],f[1],p[1],v[1]);g<i&&(i=g),m>a&&(a=m),y<o&&(o=y),x>s&&(s=x)}}):(i=0,a=0,o=0,s=0),n=d_(i,o,a-i,s-o)}return r?Oat(n,r):n}function kat(t,e){if(!(!t.getClip()&&!e.getClip())){var r=e.getClip();if(!r){t.setClip(null);return}var n={type:r.get("type"),attrs:r.attr()};t.setClip(n)}}function La(t){return t+"px"}function Bue(t,e,r,n){var i=_at(t,e),a=n/i,o=0;return r==="start"?o=0-a:r==="end"&&(o=1+a),{x:ph(t.x,e.x,o),y:ph(t.y,e.y,o)}}var Dat={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Vue=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.initCfg(),n}return e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(r){var n=this,i=this.get("defaultCfg")||{};Y(r,function(a,o){var s=n.get(o),l=a;s!==a&&(lr(a)&&i[o]&&(l=Fe({},i[o],a)),n.set(o,l))}),this.updateInner(r),this.afterUpdate(r)},e.prototype.updateInner=function(r){},e.prototype.afterUpdate=function(r){Rd(r,"visible")&&(r.visible?this.show():this.hide()),Rd(r,"capture")&&this.setCapture(r.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(r,n){this.update({offsetX:r,offsetY:n})},e.prototype.setLocation=function(r){var n=F({},r);this.update(n)},e.prototype.getLocation=function(){var r=this,n={},i=this.get("locationType"),a=Dat[i];return Y(a,function(o){n[o]=r.get(o)}),n},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var r=this,n=this.get("defaultCfg");Y(n,function(i,a){var o=r.get(a);if(lr(o)){var s=Fe({},i,o);r.set(a,s)}})},e}(WP),mf="update_status",Mat=["visible","tip","delegateObject"],Rat=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Bi=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var r=this.get("group");r.remove()},e.prototype.clear=function(){var r=this.get("group");r.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(r){var n=this.getElementById(r),i=n&&n.get("component");return i},e.prototype.getElementById=function(r){return this.get("shapesMap")[r]},e.prototype.getElementByLocalId=function(r){var n=this.getElementId(r);return this.getElementById(n)},e.prototype.getElementsByName=function(r){var n=[];return Y(this.get("shapesMap"),function(i){i.get("name")===r&&n.push(i)}),n},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(r){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var r=this.get("offScreenGroup");r||(r=this.offScreenRender());var n=this.get("group");this.updateElements(r,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var r=this.get("group");r.show(),this.set("visible",!0)},e.prototype.hide=function(){var r=this.get("group");r.hide(),this.set("visible",!1)},e.prototype.setCapture=function(r){var n=this.get("group");n.set("capture",r),this.set("capture",r)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var r=this.get("group"),n=this.getInnerLayoutBBox(),i=r.getTotalMatrix();return i&&(n=Tat(i,n)),n},e.prototype.on=function(r,n,i){var a=this.get("group");return a.on(r,n,i),this},e.prototype.off=function(r,n){var i=this.get("group");return i&&i.off(r,n),this},e.prototype.emit=function(r,n){var i=this.get("group");i.emit(r,n)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(r,n){var i=this.get("group");n.target=i,i.emit(r,n),Fue(i,r,n)},e.prototype.createOffScreenGroup=function(){var r=this.get("group"),n=r.getGroupBase(),i=new n({delegateObject:this.getDelegateObject()});return i},e.prototype.applyOffset=function(){var r=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:r,y:n})},e.prototype.initGroup=function(){var r=this.get("container");this.set("group",r.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var r=this.createOffScreenGroup();return this.renderInner(r),this.set("offScreenGroup",r),this.set("offScreenBBox",Nue(r)),r},e.prototype.addGroup=function(r,n){this.appendDelegateObject(r,n);var i=r.addGroup(n);return this.get("isRegister")&&this.registerElement(i),i},e.prototype.addShape=function(r,n){this.appendDelegateObject(r,n);var i=r.addShape(n);return this.get("isRegister")&&this.registerElement(i),i},e.prototype.addComponent=function(r,n){var i=n.id,a=n.component,o=Kt(n,["id","component"]),s=new a(F(F({},o),{id:i,container:r,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var r=this.get("group");r.off()},e.prototype.getElementId=function(r){var n=this.get("id"),i=this.get("name");return n+"-"+i+"-"+r},e.prototype.registerElement=function(r){var n=r.get("id");this.get("shapesMap")[n]=r},e.prototype.unregisterElement=function(r){var n=r.get("id");delete this.get("shapesMap")[n]},e.prototype.moveElementTo=function(r,n){var i=V4(n);r.attr("matrix",i)},e.prototype.addAnimation=function(r,n,i){var a=n.attr("opacity");ve(a)&&(a=1),n.attr("opacity",0),n.animate({opacity:a},i)},e.prototype.removeAnimation=function(r,n,i){n.animate({opacity:0},i)},e.prototype.updateAnimation=function(r,n,i,a){n.animate(i,a)},e.prototype.updateElements=function(r,n){var i=this,a=this.get("animate"),o=this.get("animateOption"),s=r.getChildren().slice(0),l;Y(s,function(u){var c=u.get("id"),d=i.getElementById(c),f=u.get("name");if(d)if(u.get("isComponent")){var p=u.get("component"),v=d.get("component"),g=w4(p.cfg,Het(km(p.cfg),Rat));v.update(g),d.set(mf,"update")}else{var m=i.getReplaceAttrs(d,u);a&&o.update?i.updateAnimation(f,d,m,o.update):d.attr(m),u.isGroup()&&i.updateElements(u,d),Y(Mat,function(w){d.set(w,u.get(w))}),kat(d,u),l=d,d.set(mf,"update")}else{n.add(u);var y=n.getChildren();if(y.splice(y.length-1,1),l){var x=y.indexOf(l);y.splice(x+1,0,u)}else y.unshift(u);if(i.registerElement(u),u.set(mf,"add"),u.get("isComponent")){var p=u.get("component");p.set("container",n)}else u.isGroup()&&i.registerNewGroup(u);if(l=u,a){var b=i.get("isInit")?o.appear:o.enter;b&&i.addAnimation(f,u,b)}}})},e.prototype.clearUpdateStatus=function(r){var n=r.getChildren();Y(n,function(i){i.set(mf,null)})},e.prototype.clearOffScreenCache=function(){var r=this.get("offScreenGroup");r&&r.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var r,n=this.get("name"),i=(r={},r[n]=this,r.component=this,r);return i},e.prototype.appendDelegateObject=function(r,n){var i=r.get("delegateObject");n.delegateObject||(n.delegateObject={}),dr(n.delegateObject,i)},e.prototype.getReplaceAttrs=function(r,n){var i=r.attr(),a=n.attr();return Y(i,function(o,s){a[s]===void 0&&(a[s]=void 0)}),a},e.prototype.registerNewGroup=function(r){var n=this,i=r.getChildren();Y(i,function(a){n.registerElement(a),a.set(mf,"add"),a.isGroup()&&n.registerNewGroup(a)})},e.prototype.deleteElements=function(){var r=this,n=this.get("shapesMap"),i=[];Y(n,function(s,l){!s.get(mf)||s.destroyed?i.push([l,s]):s.set(mf,null)});var a=this.get("animate"),o=this.get("animateOption");Y(i,function(s){var l=s[0],u=s[1];if(!u.destroyed){var c=u.get("name");if(a&&o.leave){var d=dr({callback:function(){r.removeElement(u)}},o.leave);r.removeAnimation(c,u,d)}else r.removeElement(u)}delete n[l]})},e.prototype.removeElement=function(r){if(r.get("isGroup")){var n=r.get("component");n&&n.destroy()}r.remove()},e}(Vue),vM="";function jat(t){for(var e=0,r=0;r<t.length;r++)e+=Mf(t,r);return e}function Mf(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}function Fat(t,e,r){r===void 0&&(r="tail");var n=t.length,i="";if(r==="tail"){for(var a=0,o=0;a<e;){var s=Mf(t,o);if(a+s<=e)i+=t[o],a+=Mf(t,o),o++;else break}i+=vM}else if(r==="head"){for(var a=0,o=n-1;a<e;){var s=Mf(t,o);if(a+s<=e)i+=t[o],a+=Mf(t,o),o--;else break}i=vM+i}else{for(var l="",u="",a=0,c=0,d=n-1;a<e;){var f=Mf(t,c),p=!1;f+a<=e&&(l+=t[c],c++,a+=f,p=!0);var v=Mf(t,d);if(v+a<=e&&(u=t[d]+u,a+=v,d--,p=!0),!p)break}i=l+vM+u}return i}var Lat="",$at=2,Nat=400;function Bat(t){for(var e=t.map(function(l){var u=l.attr("text");return ve(u)?"":""+u}),r=0,n=0,i=0;i<e.length;i+=1){for(var a=0,o=0;o<=e[i].length;o+=1){var s=e[i].charCodeAt(o);s>=19968&&s<=40869?a+=2:a+=1}a>r&&(r=a,n=i)}return t[n].getBBox().width}function Yj(t){if(t.length>Nat)return Bat(t);var e=0;return Y(t,function(r){var n=r.getBBox(),i=n.width;e<i&&(e=i)}),e}function Vat(t,e){var r=e.getCanvasBBox();return t?r.width:r.height}function z0(t,e,r,n){var i;n===void 0&&(n="tail");var a=(i=e.attr("text"))!==null&&i!==void 0?i:"";if(n==="tail"){var o=w4(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=ytt(a,r,o,"");return a!==s?(e.attr("text",s),e.set("tip",a),!0):(e.set("tip",null),!1)}var l=Vat(t,e),u=jat(a),c=!1;if(r<l){var d=Math.floor(r/l*u)-$at,f=void 0;d>=0?f=Fat(a,d,n):f=Lat,f&&(e.attr("text",f),c=!0)}return c?e.set("tip",a):e.set("tip",null),c}function f_(t,e){var r=e.x,n=e.y,i=e.content,a=e.style,o=e.id,s=e.name,l=e.rotate,u=e.maxLength,c=e.autoEllipsis,d=e.isVertical,f=e.ellipsisPosition,p=e.background,v=t.addGroup({id:o+"-group",name:s+"-group",attrs:{x:r,y:n}}),g=v.addShape({type:"text",id:o,name:s,attrs:F({x:0,y:0,text:i},a)}),m=TC(K(p,"padding",0));if(u&&c){var y=u-(m[1]+m[3]);z0(!d,g,y,f)}if(p){var x=K(p,"style",{}),b=g.getCanvasBBox(),w=b.minX,S=b.minY,C=b.width,E=b.height,A=v.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:F({x:w-m[3],y:S-m[0],width:C+m[1]+m[3],height:E+m[0]+m[2]},x)});A.toBack()}z4(v,r,n),$ue(v,l,r,n)}const kt={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var zat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:kt.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:kt.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:kt.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(r){this.renderLine(r),this.get("text")&&this.renderLabel(r)},e.prototype.renderLine=function(r){var n=this.get("start"),i=this.get("end"),a=this.get("style");this.addShape(r,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:F({x1:n.x,y1:n.y,x2:i.x,y2:i.y},a)})},e.prototype.getLabelPoint=function(r,n,i){var a;return i==="start"?a=0:i==="center"?a=.5:nt(i)&&i.indexOf("%")!==-1?a=parseInt(i,10)/100:lt(i)?a=i:a=1,(a>1||a<0)&&(a=1),{x:ph(r.x,n.x,a),y:ph(r.y,n.y,a)}},e.prototype.renderLabel=function(r){var n=this.get("text"),i=this.get("start"),a=this.get("end"),o=n.position,s=n.content,l=n.style,u=n.offsetX,c=n.offsetY,d=n.autoRotate,f=n.maxLength,p=n.autoEllipsis,v=n.ellipsisPosition,g=n.background,m=n.isVertical,y=m===void 0?!1:m,x=this.getLabelPoint(i,a,o),b=x.x+u,w=x.y+c,S={id:this.getElementId("line-text"),name:"annotation-line-text",x:b,y:w,content:s,style:l,maxLength:f,autoEllipsis:p,ellipsisPosition:v,background:g,isVertical:y};if(d){var C=[a.x-i.x,a.y-i.y];S.rotate=Math.atan2(C[1],C[0])}f_(r,S)},e}(Bi),Uat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:kt.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:kt.fontFamily}}})},e.prototype.setLocation=function(r){this.set("x",r.x),this.set("y",r.y),this.resetLocation()},e.prototype.renderInner=function(r){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("content"),s=this.get("style"),l=this.getElementId("text"),u=this.get("name")+"-text",c=this.get("maxLength"),d=this.get("autoEllipsis"),f=this.get("isVertical"),p=this.get("ellipsisPosition"),v=this.get("background"),g=this.get("rotate"),m={id:l,name:u,x:i,y:a,content:o,style:s,maxLength:c,autoEllipsis:d,isVertical:f,ellipsisPosition:p,background:v,rotate:g};f_(r,m)},e.prototype.resetLocation=function(){var r=this.getElementByLocalId("text-group");if(r){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("rotate");z4(r,i,a),$ue(r,o,i,a)}},e}(Bi),qat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(r){this.renderArc(r)},e.prototype.getArcPath=function(){var r=this.getLocation(),n=r.center,i=r.radius,a=r.startAngle,o=r.endAngle,s=Uv(n,i,a),l=Uv(n,i,o),u=o-a>Math.PI?1:0,c=[["M",s.x,s.y]];if(o-a===Math.PI*2){var d=Uv(n,i,a+Math.PI);c.push(["A",i,i,0,u,1,d.x,d.y]),c.push(["A",i,i,0,u,1,l.x,l.y])}else c.push(["A",i,i,0,u,1,l.x,l.y]);return c},e.prototype.renderArc=function(r){var n=this.getArcPath(),i=this.get("style");this.addShape(r,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:F({path:n},i)})},e}(Bi),Gat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:kt.regionColor,opacity:.4}}})},e.prototype.renderInner=function(r){this.renderRegion(r)},e.prototype.renderRegion=function(r){var n=this.get("start"),i=this.get("end"),a=this.get("style"),o=Lx({start:n,end:i});this.addShape(r,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:F({x:o.x,y:o.y,width:o.width,height:o.height},a)})},e}(Bi),Wat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(r){this.renderImage(r)},e.prototype.getImageAttrs=function(){var r=this.get("start"),n=this.get("end"),i=this.get("style"),a=Lx({start:r,end:n}),o=this.get("src");return F({x:a.x,y:a.y,img:o,width:a.width,height:a.height},i)},e.prototype.renderImage=function(r){this.addShape(r,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(Bi),Hat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:kt.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:kt.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:kt.fontFamily}}}})},e.prototype.renderInner=function(r){K(this.get("line"),"display")&&this.renderLine(r),K(this.get("text"),"display")&&this.renderText(r),K(this.get("point"),"display")&&this.renderPoint(r),this.get("autoAdjust")&&this.autoAdjust(r)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(r){var n=this.getShapeAttrs().point;this.addShape(r,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},e.prototype.renderLine=function(r){var n=this.getShapeAttrs().line;this.addShape(r,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},e.prototype.renderText=function(r){var n=this.getShapeAttrs().text,i=n.x,a=n.y,o=n.text,s=Kt(n,["x","y","text"]),l=this.get("text"),u=l.background,c=l.maxLength,d=l.autoEllipsis;l.isVertival;var f=l.ellipsisPosition,p={x:i,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:c,autoEllipsis:d,ellipsisPosition:f};f_(r,p)},e.prototype.autoAdjust=function(r){var n=this.get("direction"),i=this.get("x"),a=this.get("y"),o=K(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=r.getBBox(),u=l.minX,c=l.maxX,d=l.minY,f=l.maxY,p=r.findById(this.getElementId("text-group")),v=r.findById(this.getElementId("text")),g=r.findById(this.getElementId("line"));if(s&&p){var m=p.attr("x"),y=p.attr("y"),x=v.getCanvasBBox(),b=x.width,w=x.height,S=0,C=0;if(i+u<=s.minX)if(n==="leftward")S=1;else{var E=s.minX-(i+u);m=p.attr("x")+E}else if(i+c>=s.maxX)if(n==="rightward")S=-1;else{var E=i+c-s.maxX;m=p.attr("x")-E}if(S&&(g&&g.attr("path",[["M",0,0],["L",o*S,0]]),m=(o+2+b)*S),a+d<=s.minY)if(n==="upward")C=1;else{var E=s.minY-(a+d);y=p.attr("y")+E}else if(a+f>=s.maxY)if(n==="downward")C=-1;else{var E=a+f-s.maxY;y=p.attr("y")-E}C&&(g&&g.attr("path",[["M",0,0],["L",0,o*C]]),y=(o+2+w)*C),(m!==p.attr("x")||y!==p.attr("y"))&&z4(p,m,y)}},e.prototype.getShapeAttrs=function(){var r=K(this.get("line"),"display"),n=K(this.get("point"),"style",{}),i=K(this.get("line"),"style",{}),a=K(this.get("text"),"style",{}),o=this.get("direction"),s=r?K(this.get("line"),"length",0):0,l=0,u=0,c="top",d="start";switch(o){case"upward":u=-1,c="bottom";break;case"downward":u=1,c="top";break;case"leftward":l=-1,d="end";break;case"rightward":l=1,d="start";break}return{point:F({x:0,y:0},n),line:F({path:[["M",0,0],["L",s*l,s*u]]},i),text:F({x:(s+2)*l,y:(s+2)*u,text:K(this.get("text"),"content",""),textBaseline:c,textAlign:d},a)}},e}(Bi),Yat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:kt.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:kt.textColor,fontFamily:kt.fontFamily}}}})},e.prototype.renderInner=function(r){var n=K(this.get("region"),"style",{});K(this.get("text"),"style",{});var i=this.get("lineLength")||0,a=this.get("points");if(a.length){var o=Pat(a),s=[];s.push(["M",a[0].x,o.minY-i]),a.forEach(function(u){s.push(["L",u.x,u.y])}),s.push(["L",a[a.length-1].x,a[a.length-1].y-i]),this.addShape(r,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:F({path:s},n)});var l=F({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-i},this.get("text"));f_(r,l)}},e}(Bi),Xat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(r){var n=this,i=this.get("start"),a=this.get("end"),o=this.addGroup(r,{id:this.getElementId("region-filter"),capture:!1});Y(this.get("shapes"),function(l,u){var c=l.get("type"),d=ga(l.attr());n.adjustShapeAttrs(d),n.addShape(o,{id:n.getElementId("shape-"+c+"-"+u),capture:!1,type:c,attrs:d})});var s=Lx({start:i,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},e.prototype.adjustShapeAttrs=function(r){var n=this.get("color");r.fill&&(r.fill=r.fillStyle=n),r.stroke=r.strokeStyle=n},e}(Bi),Kat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"shape",draw:ed})},e.prototype.renderInner=function(r){var n=this.get("render");qe(n)&&n(r)},e}(Bi),q4=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var r=this.get("container");r.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var r=this.get("container");r.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(r){var n=this.getContainer(),i=r?"auto":"none";n.style.pointerEvents=i,this.set("capture",r)},e.prototype.getBBox=function(){var r=this.getContainer(),n=parseFloat(r.style.left)||0,i=parseFloat(r.style.top)||0;return d_(n,i,r.clientWidth,r.clientHeight)},e.prototype.clear=function(){var r=this.get("container");U4(r)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var r=this.get("container");if(ve(r)){r=this.createDom();var n=this.get("parent");nt(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(r),this.get("containerId")&&r.setAttribute("id",this.get("containerId")),this.set("container",r)}else nt(r)&&(r=document.getElementById(r),this.set("container",r));this.get("parent")||this.set("parent",r.parentNode)},e.prototype.resetStyles=function(){var r=this.get("domStyles"),n=this.get("defaultStyles");r?r=Fe({},n,r):r=n,this.set("domStyles",r)},e.prototype.applyStyles=function(){var r=this.get("domStyles");if(r){var n=this.getContainer();this.applyChildrenStyles(n,r);var i=this.get("containerClassName");if(i&&Iat(n,i)){var a=r[i];Ji(n,a)}}},e.prototype.applyChildrenStyles=function(r,n){Y(n,function(i,a){var o=r.getElementsByClassName(a);Y(o,function(s){Ji(s,i)})})},e.prototype.applyStyle=function(r,n){var i=this.get("domStyles");Ji(n,i[r])},e.prototype.createDom=function(){var r=this.get("containerTpl");return pd(r)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var r=this.get("container");r&&r.parentNode&&r.parentNode.removeChild(r)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(r){Rd(r,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(Vue),Qat=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var r=this.getContainer(),n=this.get("html");U4(r);var i=qe(n)?n(r):n;if(xle(i))r.appendChild(i);else if(nt(i)||lt(i)){var a=pd(""+i);a&&r.appendChild(a)}this.resetPosition()},e.prototype.resetPosition=function(){var r=this.getContainer(),n=this.getLocation(),i=n.x,a=n.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),c=Ctt(r),d=Ett(r),f={x:i,y:a};o==="middle"?f.x-=Math.round(c/2):o==="right"&&(f.x-=Math.round(c)),s==="middle"?f.y-=Math.round(d/2):s==="bottom"&&(f.y-=Math.round(d)),l&&(f.x+=l),u&&(f.y+=u),Ji(r,{position:"absolute",left:f.x+"px",top:f.y+"px",zIndex:this.get("zIndex")})},e}(q4);const Jat=Object.freeze(Object.defineProperty({__proto__:null,Arc:qat,DataMarker:Hat,DataRegion:Yat,Html:Qat,Image:Wat,Line:zat,Region:Gat,RegionFilter:Xat,Shape:Kat,Text:Uat},Symbol.toStringTag,{value:"Module"}));function h0(t,e,r){var n=e+"Style",i=null;return Y(r,function(a,o){t[o]&&a[n]&&(i||(i={}),dr(i,a[n]))}),i}var zue=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:kt.lineColor}},tickLine:{style:{lineWidth:1,stroke:kt.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:kt.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:kt.textColor,fontFamily:kt.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:kt.textColor,textBaseline:"middle",fontFamily:kt.fontFamily,textAlign:"center"},iconStyle:{fill:kt.descriptionIconFill,stroke:kt.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:kt.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(r){this.get("line")&&this.drawLine(r),this.drawTicks(r),this.get("title")&&this.drawTitle(r)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(r){this.update({ticks:r})},e.prototype.updateItem=function(r,n){dr(r,n),this.clear(),this.render()},e.prototype.clearItems=function(){var r=this.getElementByLocalId("label-group");r&&r.clear()},e.prototype.setItemState=function(r,n,i){r[n]=i,this.updateTickStates(r)},e.prototype.hasState=function(r,n){return!!r[n]},e.prototype.getItemStates=function(r){var n=this.get("tickStates"),i=[];return Y(n,function(a,o){r[o]&&i.push(o)}),i},e.prototype.clearItemsState=function(r){var n=this,i=this.getItemsByState(r);Y(i,function(a){n.setItemState(a,r,!1)})},e.prototype.getItemsByState=function(r){var n=this,i=this.getItems();return wi(i,function(a){return n.hasState(a,r)})},e.prototype.getSidePoint=function(r,n){var i=this,a=i.getSideVector(n,r);return{x:r.x+a[0],y:r.y+a[1]}},e.prototype.getTextAnchor=function(r){var n;return hi(r[0],0)?n="center":r[0]>0?n="start":r[0]<0&&(n="end"),n},e.prototype.getTextBaseline=function(r){var n;return hi(r[1],0)?n="middle":r[1]>0?n="top":r[1]<0&&(n="bottom"),n},e.prototype.processOverlap=function(r){},e.prototype.drawLine=function(r){var n=this.getLinePath(),i=this.get("line");this.addShape(r,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:dr({path:n},i.style)})},e.prototype.getTickLineItems=function(r){var n=this,i=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,l=1,u=r.length;return u>=2&&(l=r[1].value-r[0].value),Y(r,function(c){var d=c.point;o||(d=n.getTickPoint(c.value-l/2));var f=n.getSidePoint(d,s);i.push({startPoint:d,tickValue:c.value,endPoint:f,tickId:c.id,id:"tickline-"+c.id})}),i},e.prototype.getSubTickLineItems=function(r){var n=[],i=this.get("subTickLine"),a=i.count,o=r.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=r[s],u=r[s+1],c=0;c<a;c++){var d=(c+1)/(a+1),f=(1-d)*l.tickValue+d*u.tickValue,p=this.getTickPoint(f),v=this.getSidePoint(p,i.length);n.push({startPoint:p,endPoint:v,tickValue:f,id:"sub-"+l.id+"-"+c})}return n},e.prototype.getTickLineAttrs=function(r,n,i,a){var o=this.get(n).style,s={points:[r.startPoint,r.endPoint]},l=K(this.get("theme"),["tickLine","style"],{});o=qe(o)?dr({},l,o(s,i,a)):o;var u=r.startPoint,c=r.endPoint;return F({x1:u.x,y1:u.y,x2:c.x,y2:c.y},o)},e.prototype.drawTick=function(r,n,i,a,o){this.addShape(n,{type:"line",id:this.getElementId(r.id),name:"axis-"+i,attrs:this.getTickLineAttrs(r,i,a,o)})},e.prototype.drawTickLines=function(r){var n=this,i=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(i),s=this.addGroup(r,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if(Y(o,function(c,d){if(l.displayWithLabel){var f=n.getElementId("label-"+c.tickId);r.findById(f)&&n.drawTick(c,s,"tickLine",d,o)}else n.drawTick(c,s,"tickLine",d,o)}),a){var u=this.getSubTickLineItems(o);Y(u,function(c,d){n.drawTick(c,s,"subTickLine",d,u)})}},e.prototype.processTicks=function(){var r=this,n=this.get("ticks");Y(n,function(i){i.point=r.getTickPoint(i.value),ve(i.id)&&(i.id=i.name)})},e.prototype.drawTicks=function(r){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(r),this.get("tickLine")&&this.drawTickLines(r);var i=this.get("ticks");Y(i,function(a){n.applyTickStates(a,r)})},e.prototype.optimizeTicks=function(){var r=this.get("optimize"),n=this.get("ticks");if(r&&r.enable&&r.threshold>0){var i=Zn(n);if(i>r.threshold){var a=Math.ceil(i/r.threshold),o=n.filter(function(s,l){return l%a===0});this.set("ticks",o),this.set("originalTicks",n)}}},e.prototype.getLabelAttrs=function(r,n,i){var a=this.get("label"),o=a.offset,s=a.offsetX,l=a.offsetY,u=a.rotate,c=a.formatter,d=this.getSidePoint(r.point,o),f=this.getSideVector(o,d),p=c?c(r.name,r,n):r.name,v=a.style;v=qe(v)?K(this.get("theme"),["label","style"],{}):v;var g=dr({x:d.x+s,y:d.y+l,text:p,textAlign:this.getTextAnchor(f),textBaseline:this.getTextBaseline(f)},v);return u&&(g.matrix=Nh(d,u)),g},e.prototype.drawLabels=function(r){var n=this,i=this.get("ticks"),a=this.addGroup(r,{name:"axis-label-group",id:this.getElementId("label-group")});Y(i,function(f,p){n.addShape(a,{type:"text",name:"axis-label",id:n.getElementId("label-"+f.id),attrs:n.getLabelAttrs(f,p,i),delegateObject:{tick:f,item:f,index:p}})}),this.processOverlap(a);var o=a.getChildren(),s=K(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,c=l.formatter;if(qe(u)){var d=o.map(function(f){return K(f.get("delegateObject"),"tick")});Y(o,function(f,p){var v=f.get("delegateObject").tick,g=c?c(v.name,v,p):v.name,m=dr({},s,u(g,p,d));f.attr(m)})}},e.prototype.getTitleAttrs=function(){var r=this.get("title"),n=r.style,i=r.position,a=r.offset,o=r.spacing,s=o===void 0?0:o,l=r.autoRotate,u=n.fontSize,c=.5;i==="start"?c=0:i==="end"&&(c=1);var d=this.getTickPoint(c),f=this.getSidePoint(d,a||s+u/2),p=dr({x:f.x,y:f.y,text:r.text},n),v=r.rotate,g=v;if(ve(v)&&l){var m=this.getAxisVector(d),y=[1,0];g=I4(m,y,!0)}if(g){var x=Nh(f,g);p.matrix=x}return p},e.prototype.drawTitle=function(r){var n,i=this.getTitleAttrs(),a=this.addShape(r,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:i});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(r,a,i.matrix)},e.prototype.drawDescriptionIcon=function(r,n,i){var a=this.addGroup(r,{name:"axis-description",id:this.getElementById("description")}),o=n.getBBox(),s=o.maxX,l=o.maxY,u=o.height,c=this.get("title").iconStyle,d=4,f=u/2,p=f/6,v=s+d,g=l-u/2,m=[v+f,g-f],y=m[0],x=m[1],b=[y+f,x+f],w=b[0],S=b[1],C=[y,S+f],E=C[0],A=C[1],P=[v,x+f],_=P[0],k=P[1],O=[v+f,g-u/4],D=O[0],B=O[1],$=[D,B+p],L=$[0],R=$[1],V=[L,R+p],U=V[0],q=V[1],M=[U,q+f*3/4],G=M[0],W=M[1];this.addShape(a,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:F({path:[["M",y,x],["A",f,f,0,0,1,w,S],["A",f,f,0,0,1,E,A],["A",f,f,0,0,1,_,k],["A",f,f,0,0,1,y,x],["M",D,B],["L",L,R],["M",U,q],["L",G,W]],lineWidth:p,matrix:i},c)}),this.addShape(a,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:v,y:g-u/2,width:u,height:u,stroke:"#000",fill:"#000",opacity:0,matrix:i,cursor:"pointer"}})},e.prototype.applyTickStates=function(r,n){var i=this.getItemStates(r);if(i.length){var a=this.get("tickStates"),o=this.getElementId("label-"+r.id),s=n.findById(o);if(s){var l=h0(r,"label",a);l&&s.attr(l)}var u=this.getElementId("tickline-"+r.id),c=n.findById(u);if(c){var d=h0(r,"tickLine",a);d&&c.attr(d)}}},e.prototype.updateTickStates=function(r){var n=this.getItemStates(r),i=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+r.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+r.id);if(n.length){if(o){var u=h0(r,"label",i);u&&o.attr(u)}if(l){var c=h0(r,"tickLine",i);c&&l.attr(c)}}else o&&o.attr(a.style),l&&l.attr(s.style)},e}(Bi);function G4(t,e,r,n){var i=e.getChildren(),a=!1;return Y(i,function(o){var s=z0(t,o,r,n);a=a||s}),a}function Zat(){return Uue}function eot(t,e,r){return G4(t,e,r,"head")}function Uue(t,e,r){return G4(t,e,r,"tail")}function tot(t,e,r){return G4(t,e,r,"middle")}const rot=Object.freeze(Object.defineProperty({__proto__:null,ellipsisHead:eot,ellipsisMiddle:tot,ellipsisTail:Uue,getDefault:Zat},Symbol.toStringTag,{value:"Module"}));function not(t){var e=t.attr("matrix");return e&&e[0]!==1}function que(t){var e=not(t)?Cat(t.attr("matrix")):0;return e%360}function Xj(t,e,r,n){var i=!1,a=que(e),o=Math.abs(t?r.attr("y")-e.attr("y"):r.attr("x")-e.attr("x")),s=(t?r.attr("y")>e.attr("y"):r.attr("x")>e.attr("x"))?e.getBBox():r.getBBox();if(t){var l=Math.abs(Math.cos(a));IC(l,0,Math.PI/180)?i=s.width+n>o:i=s.height/l+n>o}else{var l=Math.abs(Math.sin(a));IC(l,0,Math.PI/180)?i=s.width+n>o:i=s.height/l+n>o}return i}function $x(t,e,r,n){var i=(n==null?void 0:n.minGap)||0,a=e.getChildren().slice().filter(function(p){return p.get("visible")});if(!a.length)return!1;var o=!1;r&&a.reverse();for(var s=a.length,l=a[0],u=l,c=1;c<s;c++){var d=a[c];d.getBBox();var f=Xj(t,u,d,i);f?(d.hide(),o=!0):u=d}return o}function Gue(t,e,r){var n=(r==null?void 0:r.minGap)||0,i=e.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),l=i[1],u=i.length,c=que(o),d=Math.abs(t?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),f=0;if(t){var p=Math.abs(Math.cos(c));if(IC(p,0,Math.PI/180)){var v=Yj(i);f=(v+n)/d}else f=(s.height/p+n)/d}else{var p=Math.abs(Math.sin(c));if(IC(p,0,Math.PI/180)){var v=Yj(i);f=(v+n)/d}else f=(s.height/p+n)/d}if(f>1){f=Math.ceil(f);for(var g=0;g<u;g++)g%f!==0&&(i[g].hide(),a=!0)}return a}function iot(){return Wue}function aot(t,e,r,n){return $x(t,e,!1,n)}function oot(t,e,r,n){return $x(t,e,!0,n)}function sot(t,e,r,n){var i=(n==null?void 0:n.minGap)||0,a=e.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,l=a[0],u=a[s-1],c=l,d=1;d<s-1;d++){var f=a[d];f.getBBox();var p=Xj(t,c,f,i);p?(f.hide(),o=!0):c=f}var v=Xj(t,c,u,i);return v&&(c.hide(),o=!0),o}function Wue(t,e,r,n){var i=Gue(t,e,n);return $x(t,e,!1)&&(i=!0),i}function lot(t,e,r,n){var i=e.getChildren().slice(),a=Gue(t,e,n);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),$x(t,e,!1,n)&&(a=!0)),s.get("visible")||(s.show(),$x(t,e,!0,n)&&(a=!0))}return a}const uot=Object.freeze(Object.defineProperty({__proto__:null,equidistance:Wue,equidistanceWithReverseBoth:lot,getDefault:iot,reserveBoth:sot,reserveFirst:aot,reserveLast:oot},Symbol.toStringTag,{value:"Module"}));function cot(t,e){Y(t,function(r){var n=r.attr("x"),i=r.attr("y"),a=Nh({x:n,y:i},e);r.attr("matrix",a)})}function Hue(t,e,r,n){var i=e.getChildren();if(!i.length||!t&&i.length<2)return!1;var a=Yj(i),o=!1;if(t)o=!!r&&a>r;else{var s=Math.abs(i[1].attr("x")-i[0].attr("x"));o=a>s}if(o){var l=n(r,a);cot(i,l)}return o}function dot(){return Yue}function Yue(t,e,r,n){return Hue(t,e,r,function(){return lt(n)?n:t?kt.verticalAxisRotate:kt.horizontalAxisRotate})}function fot(t,e,r){return Hue(t,e,r,function(n,i){if(!n)return t?kt.verticalAxisRotate:kt.horizontalAxisRotate;if(t)return-Math.acos(n/i);var a=0;return n>i?a=Math.PI/4:(a=Math.asin(n/i),a>Math.PI/4&&(a=Math.PI/4)),a})}const hot=Object.freeze(Object.defineProperty({__proto__:null,fixedAngle:Yue,getDefault:dot,unfixedAngle:fot},Symbol.toStringTag,{value:"Module"})),Xue=Object.freeze(Object.defineProperty({__proto__:null,autoEllipsis:rot,autoHide:uot,autoRotate:hot},Symbol.toStringTag,{value:"Module"}));var pot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var r=this.get("start"),n=this.get("end"),i=[];return i.push(["M",r.x,r.y]),i.push(["L",n.x,n.y]),i},e.prototype.getInnerLayoutBBox=function(){var r=this.get("start"),n=this.get("end"),i=t.prototype.getInnerLayoutBBox.call(this),a=Math.min(r.x,n.x,i.x),o=Math.min(r.y,n.y,i.y),s=Math.max(r.x,n.x,i.maxX),l=Math.max(r.y,n.y,i.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:l,width:s-a,height:l-o}},e.prototype.isVertical=function(){var r=this.get("start"),n=this.get("end");return hi(r.x,n.x)},e.prototype.isHorizontal=function(){var r=this.get("start"),n=this.get("end");return hi(r.y,n.y)},e.prototype.getTickPoint=function(r){var n=this,i=n.get("start"),a=n.get("end"),o=a.x-i.x,s=a.y-i.y;return{x:i.x+o*r,y:i.y+s*r}},e.prototype.getSideVector=function(r){var n=this.getAxisVector(),i=jle([0,0],n),a=this.get("verticalFactor"),o=[i[1],i[0]*-1];return ma([0,0],o,r*a)},e.prototype.getAxisVector=function(){var r=this.get("start"),n=this.get("end");return[n.x-r.x,n.y-r.y]},e.prototype.processOverlap=function(r){var n=this,i=this.isVertical(),a=this.isHorizontal();if(!(!i&&!a)){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,c=l,d=0,f=0;s&&(d=s.style.fontSize,f=s.spacing),c&&(c=c-u-f-d);var p=this.get("overlapOrder");if(Y(p,function(m){o[m]&&n.canProcessOverlap(m)&&n.autoProcessOverlap(m,o[m],r,c)}),s&&ve(s.offset)){var v=r.getCanvasBBox(),g=i?v.width:v.height;s.offset=u+g+f+d/2}}},e.prototype.canProcessOverlap=function(r){var n=this.get("label");return r==="autoRotate"?ve(n.rotate):!0},e.prototype.autoProcessOverlap=function(r,n,i,a){var o=this,s=this.isVertical(),l=!1,u=Xue[r];if(n===!0)this.get("label"),l=u.getDefault()(s,i,a);else if(qe(n))l=n(s,i,a);else if(lr(n)){var c=n;u[c.type]&&(l=u[c.type](s,i,a,c.cfg))}else u[n]&&(l=u[n](s,i,a));if(r==="autoRotate"){if(l){var d=i.getChildren(),f=this.get("verticalFactor");Y(d,function(v){var g=v.attr("textAlign");if(g==="center"){var m=f>0?"end":"start";v.attr("textAlign",m)}})}}else if(r==="autoHide"){var p=i.getChildren().slice(0);Y(p,function(v){v.get("visible")||(o.get("isRegister")&&o.unregisterElement(v),v.remove())})}},e}(zue),vot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getLinePath=function(){var r=this.get("center"),n=r.x,i=r.y,a=this.get("radius"),o=a,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===Math.PI*2)u=[["M",n,i-o],["A",a,o,0,1,1,n,i+o],["A",a,o,0,1,1,n,i-o],["Z"]];else{var c=this.getCirclePoint(s),d=this.getCirclePoint(l),f=Math.abs(l-s)>Math.PI?1:0,p=s>l?0:1;u=[["M",n,i],["L",c.x,c.y],["A",a,o,0,f,p,d.x,d.y],["L",n,i]]}return u},e.prototype.getTickPoint=function(r){var n=this.get("startAngle"),i=this.get("endAngle"),a=n+(i-n)*r;return this.getCirclePoint(a)},e.prototype.getSideVector=function(r,n){var i=this.get("center"),a=[n.x-i.x,n.y-i.y],o=this.get("verticalFactor"),s=wv(a);return ma(a,a,o*r/s),a},e.prototype.getAxisVector=function(r){var n=this.get("center"),i=[r.x-n.x,r.y-n.y];return[i[1],-1*i[0]]},e.prototype.getCirclePoint=function(r,n){var i=this.get("center");return n=n||this.get("radius"),{x:i.x+Math.cos(r)*n,y:i.y+Math.sin(r)*n}},e.prototype.canProcessOverlap=function(r){var n=this.get("label");return r==="autoRotate"?ve(n.rotate):!0},e.prototype.processOverlap=function(r){var n=this,i=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=i.offset,l=o,u=0,c=0;a&&(u=a.style.fontSize,c=a.spacing),l&&(l=l-s-c-u);var d=this.get("overlapOrder");if(Y(d,function(p){i[p]&&n.canProcessOverlap(p)&&n.autoProcessOverlap(p,i[p],r,l)}),a&&ve(a.offset)){var f=r.getCanvasBBox().height;a.offset=s+f+c+u/2}},e.prototype.autoProcessOverlap=function(r,n,i,a){var o=this,s=!1,l=Xue[r];if(a>0)if(n===!0)s=l.getDefault()(!1,i,a);else if(qe(n))s=n(!1,i,a);else if(lr(n)){var u=n;l[u.type]&&(s=l[u.type](!1,i,a,u.cfg))}else l[n]&&(s=l[n](!1,i,a));if(r==="autoRotate"){if(s){var c=i.getChildren(),d=this.get("verticalFactor");Y(c,function(p){var v=p.attr("textAlign");if(v==="center"){var g=d>0?"end":"start";p.attr("textAlign",g)}})}}else if(r==="autoHide"){var f=i.getChildren().slice(0);Y(f,function(p){p.get("visible")||(o.get("isRegister")&&o.unregisterElement(p),p.remove())})}},e}(zue),W4=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:kt.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:kt.textColor,textAlign:"center",textBaseline:"middle",fontFamily:kt.fontFamily}},textBackground:{padding:5,style:{stroke:kt.lineColor}}}})},e.prototype.renderInner=function(r){this.get("line")&&this.renderLine(r),this.get("text")&&(this.renderText(r),this.renderBackground(r))},e.prototype.renderText=function(r){var n=this.get("text"),i=n.style,a=n.autoRotate,o=n.content;if(!ve(o)){var s=this.getTextPoint(),l=null;if(a){var u=this.getRotateAngle();l=Nh(s,u)}this.addShape(r,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:F(F(F({},s),{text:o,matrix:l}),i)})}},e.prototype.renderLine=function(r){var n=this.getLinePath(),i=this.get("line"),a=i.style;this.addShape(r,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:F({path:n},a)})},e.prototype.renderBackground=function(r){var n=this.getElementId("text"),i=r.findById(n),a=this.get("textBackground");if(a&&i){var o=i.getBBox(),s=TC(a.padding),l=a.style,u=this.addShape(r,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:F({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:i.attr("matrix")},l)});u.toBack()}},e}(Bi),Kue=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var r=this.getLocation(),n=r.start,i=r.end,a=this.get("text").position,o=Math.atan2(i.y-n.y,i.x-n.x),s=a==="start"?o-Math.PI/2:o+Math.PI/2;return s},e.prototype.getTextPoint=function(){var r=this.getLocation(),n=r.start,i=r.end,a=this.get("text"),o=a.position,s=a.offset;return Bue(n,i,o,s)},e.prototype.getLinePath=function(){var r=this.getLocation(),n=r.start,i=r.end;return[["M",n.x,n.y],["L",i.x,i.y]]},e}(W4),got=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getRotateAngle=function(){var r=this.getLocation(),n=r.startAngle,i=r.endAngle,a=this.get("text").position,o=a==="start"?n+Math.PI/2:i-Math.PI/2;return o},e.prototype.getTextPoint=function(){var r=this.get("text"),n=r.position,i=r.offset,a=this.getLocation(),o=a.center,s=a.radius,l=a.startAngle,u=a.endAngle,c=n==="start"?l:u,d=this.getRotateAngle()-Math.PI,f=Uv(o,s,c),p=Math.cos(d)*i,v=Math.sin(d)*i;return{x:f.x+p,y:f.y+v}},e.prototype.getLinePath=function(){var r=this.getLocation(),n=r.center,i=r.radius,a=r.startAngle,o=r.endAngle,s=null;if(o-a===Math.PI*2){var l=n.x,u=n.y;s=[["M",l,u-i],["A",i,i,0,1,1,l,u+i],["A",i,i,0,1,1,l,u-i],["Z"]]}else{var c=Uv(n,i,a),d=Uv(n,i,o),f=Math.abs(o-a)>Math.PI?1:0,p=a>o?0:1;s=[["M",c.x,c.y],["A",i,i,0,f,p,d.x,d.y]]}return s},e}(W4),Nx="g2-crosshair",Kj=Nx+"-line",Qj=Nx+"-text",ky;const mot=(ky={},ky[""+Nx]={position:"relative"},ky[""+Kj]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},ky[""+Qj]={position:"absolute",color:kt.textColor,fontFamily:kt.fontFamily},ky);var yot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Nx+'"></div>',crosshairTpl:'<div class="'+Kj+'"></div>',textTpl:'<span class="'+Qj+'">{content}</span>',domStyles:null,containerClassName:Nx,defaultStyles:mot,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var r=this.getContainer(),n=this.get("crosshairTpl"),i=pd(n);r.appendChild(i),this.applyStyle(Kj,i),this.set("crosshairEl",i)},e.prototype.getTextPoint=function(){var r=this.getLocation(),n=r.start,i=r.end,a=this.get("text"),o=a.position,s=a.offset;return Bue(n,i,o,s)},e.prototype.resetText=function(){var r=this.get("text"),n=this.get("textEl");if(r){var i=r.content;if(!n){var a=this.getContainer(),o=mle(this.get("textTpl"),r);n=pd(o),a.appendChild(n),this.applyStyle(Qj,n),this.set("textEl",n)}n.innerHTML=i}else n&&n.remove()},e.prototype.isVertical=function(r,n){return r.x===n.x},e.prototype.resetPosition=function(){var r=this.get("crosshairEl");r||(this.initCrossHair(),r=this.get("crosshairEl"));var n=this.get("start"),i=this.get("end"),a=Math.min(n.x,i.x),o=Math.min(n.y,i.y);this.isVertical(n,i)?Ji(r,{width:"1px",height:La(Math.abs(i.y-n.y))}):Ji(r,{height:"1px",width:La(Math.abs(i.x-n.x))}),Ji(r,{top:La(o),left:La(a)}),this.alignText()},e.prototype.alignText=function(){var r=this.get("textEl");if(r){var n=this.get("text").align,i=r.clientWidth,a=this.getTextPoint();switch(n){case"center":a.x=a.x-i/2;break;case"right":a.x=a.x-i}Ji(r,{top:La(a.y),left:La(a.x)})}},e.prototype.updateInner=function(r){Rd(r,"text")&&this.resetText(),t.prototype.updateInner.call(this,r)},e}(q4);const yH=Object.freeze(Object.defineProperty({__proto__:null,Base:W4,Circle:got,Html:yot,Line:Kue},Symbol.toStringTag,{value:"Module"}));var Que=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:kt.lineColor}}}})},e.prototype.getLineType=function(){var r=this.get("line")||this.get("defaultCfg").line;return r.type},e.prototype.renderInner=function(r){this.drawGrid(r)},e.prototype.getAlternatePath=function(r,n){var i=this.getGridPath(r),a=n.slice(0).reverse(),o=this.getGridPath(a,!0),s=this.get("closed");return s?i=i.concat(o):(o[0][0]="L",i=i.concat(o),i.push(["Z"])),i},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(r){var n=this,i=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;Y(a,function(l,u){var c=l.id||u;if(i){var d=n.getPathStyle();d=qe(d)?d(l,u,a):d;var f=n.getElementId("line-"+c),p=n.getGridPath(l.points);n.addShape(r,{type:"path",name:"grid-line",id:f,attrs:dr({path:p},d)})}if(o&&u>0){var v=n.getElementId("region-"+c),g=u%2===0;if(nt(o))g&&n.drawAlternateRegion(v,r,s.points,l.points,o);else{var m=g?o[1]:o[0];n.drawAlternateRegion(v,r,s.points,l.points,m)}}s=l})},e.prototype.drawAlternateRegion=function(r,n,i,a,o){var s=this.getAlternatePath(i,a);this.addShape(n,{type:"path",id:r,name:"grid-region",attrs:{path:s,fill:o}})},e}(Bi);function xot(t,e,r,n){var i=r-t,a=n-e;return Math.sqrt(i*i+a*a)}var bot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(r,n){var i=this.getLineType(),a=this.get("closed"),o=[];if(r.length)if(i==="circle"){var s=this.get("center"),l=r[0],u=xot(s.x,s.y,l.x,l.y),c=n?0:1;a?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,c,s.x,s.y+u]),o.push(["A",u,u,0,0,c,s.x,s.y-u]),o.push(["Z"])):Y(r,function(d,f){f===0?o.push(["M",d.x,d.y]):o.push(["A",u,u,0,0,c,d.x,d.y])})}else Y(r,function(d,f){f===0?o.push(["M",d.x,d.y]):o.push(["L",d.x,d.y])}),a&&o.push(["Z"]);return o},e}(Que),wot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"line"})},e.prototype.getGridPath=function(r){var n=[];return Y(r,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},e}(Que),Jue=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var r=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),i=this.get("maxHeight"),a=r.width,o=r.height;return n&&(a=Math.min(a,n)),i&&(o=Math.min(o,i)),d_(r.minX,r.minY,a,o)},e.prototype.setLocation=function(r){this.set("x",r.x),this.set("y",r.y),this.resetLocation()},e.prototype.resetLocation=function(){var r=this.get("x"),n=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:r+i,y:n+a})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(r){return this.set("currentPoint",r)},e.prototype.renderInner=function(r){this.resetDraw(),this.get("title")&&this.drawTitle(r),this.drawLegendContent(r),this.get("background")&&this.drawBackground(r)},e.prototype.drawBackground=function(r){var n=this.get("background"),i=r.getBBox(),a=TC(n.padding),o=F({x:0,y:0,width:i.width+a[1]+a[3],height:i.height+a[0]+a[2]},n.style),s=this.addShape(r,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},e.prototype.drawTitle=function(r){var n=this.get("currentPoint"),i=this.get("title"),a=i.spacing,o=i.style,s=i.text,l=this.addShape(r,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:F({text:s,x:n.x,y:n.y},o)}),u=l.getBBox();this.set("currentPoint",{x:n.x,y:u.maxY+a})},e.prototype.resetDraw=function(){var r=this.get("background"),n={x:0,y:0};if(r){var i=TC(r.padding);n.x=i[3],n.y=i[0]}this.set("currentPoint",n)},e}(Bi),gM={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},PS={fill:kt.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:kt.fontFamily,fontWeight:"normal",lineHeight:12},mM="navigation-arrow-right",yM="navigation-arrow-left",xH={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},Sot=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.currentPageIndex=1,r.totalPagesCnt=1,r.pageWidth=0,r.pageHeight=0,r.startX=0,r.startY=0,r.onNavigationBack=function(){var n=r.getElementByLocalId("item-group");if(r.currentPageIndex>1){r.currentPageIndex-=1,r.updateNavigation();var i=r.getCurrentNavigationMatrix();r.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},r.onNavigationAfter=function(){var n=r.getElementByLocalId("item-group");if(r.currentPageIndex<r.totalPagesCnt){r.currentPageIndex+=1,r.updateNavigation();var i=r.getCurrentNavigationMatrix();r.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},r}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:kt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:kt.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:gM,itemName:{spacing:16,style:PS},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:PS,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:kt.uncheckedColor},markerStyle:{fill:kt.uncheckedColor,stroke:kt.uncheckedColor}},inactive:{nameStyle:{fill:kt.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(r){this.update({items:r})},e.prototype.updateItem=function(r,n){dr(r,n),this.clear(),this.render()},e.prototype.clearItems=function(){var r=this.getElementByLocalId("item-group");r&&r.clear()},e.prototype.setItemState=function(r,n,i){r[n]=i;var a=this.getElementByLocalId("item-"+r.id);if(a){var o=this.getItems(),s=o.indexOf(r),l=this.createOffScreenGroup(),u=this.drawItem(r,s,this.getItemHeight(),l);this.updateElements(u,a),this.clearUpdateStatus(a)}},e.prototype.hasState=function(r,n){return!!r[n]},e.prototype.getItemStates=function(r){var n=this.get("itemStates"),i=[];return Y(n,function(a,o){r[o]&&i.push(o)}),i},e.prototype.clearItemsState=function(r){var n=this,i=this.getItemsByState(r);Y(i,function(a){n.setItemState(a,r,!1)})},e.prototype.getItemsByState=function(r){var n=this,i=this.getItems();return wi(i,function(a){return n.hasState(a,r)})},e.prototype.drawLegendContent=function(r){this.processItems(),this.drawItems(r)},e.prototype.processItems=function(){var r=this.get("items");Y(r,function(n){n.id||(n.id=n.name)})},e.prototype.drawItems=function(r){var n=this,i=this.addGroup(r,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),c=this.get("currentPoint"),d=c.x,f=c.y,p=this.get("layout"),v=this.get("items"),g=!1,m=0,y=this.get("maxWidth"),x=this.get("maxHeight");Y(v,function(b,w){var S=n.drawItem(b,w,o,a),C=S.getBBox(),E=s||C.width;E>m&&(m=E),p==="horizontal"?(y&&y<c.x+E-d&&(g=!0,c.x=d,c.y+=o+u),n.moveElementTo(S,c),c.x+=E+l):(x&&x<c.y+o+u-f&&(g=!0,c.x+=m+l,c.y=f,m=0),n.moveElementTo(S,c),c.y+=o+u)}),g&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=d,this.startY=f,this.adjustNavigation(r,a))},e.prototype.getItemHeight=function(){var r=this.get("itemHeight");if(!r){var n=(this.get("itemName")||{}).style;if(qe(n)){var i=this.getItems();i.forEach(function(a,o){var s=F(F({},PS),n(a,o,i)).fontSize;r<s&&(r=s)})}else n&&(r=n.fontSize)}return r},e.prototype.drawMarker=function(r,n,i,a){var o=F(F(F({x:0,y:a/2},n.style),{symbol:K(i.marker,"symbol","circle")}),K(i.marker,"style",{})),s=this.addShape(r,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),c=u.stroke,d=u.fill;return c&&s.set("isStroke",!0),d&&s.set("isFill",!0),s},e.prototype.drawItemText=function(r,n,i,a,o,s,l){var u=i.formatter,c=i.style,d=F(F({x:s,y:o/2,text:u?u(a[n],a,l):a[n]},PS),qe(c)?c(a,l,this.getItems()):c);return this.addShape(r,{type:"text",id:this.getElementId("item-"+a.id+"-"+n),name:"legend-item-"+n,attrs:d})},e.prototype.drawRadio=function(r,n,i,a,o){var s,l,u=n.style||{},c=(s=u.r)!==null&&s!==void 0?s:a/2,d=c*3.6/8,f=[o+c,a/2-c],p=f[0],v=f[1],g=[p+c,v+c],m=g[0],y=g[1],x=[p,y+c],b=x[0],w=x[1],S=[o,v+c],C=S[0],E=S[1],A=i.showRadio,P=F(F({path:[["M",p,v],["A",c,c,0,0,1,m,y],["L",m-d,y],["L",m,y],["A",c,c,0,0,1,b,w],["L",b,w-d],["L",b,w],["A",c,c,0,0,1,C,E],["L",C+d,E],["L",C,E],["A",c,c,0,0,1,p,v],["L",p,v+d]],stroke:"#000000",fill:"#ffffff"},u),{opacity:A?(l=u==null?void 0:u.opacity)!==null&&l!==void 0?l:.45:0}),_=this.addShape(r,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:P});return _.set("tip",n.tip),_},e.prototype.drawItem=function(r,n,i,a){var o="item-"+r.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:r,index:n}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:r,index:n}}),u=this.get("marker"),c=this.get("itemName"),d=this.get("itemValue"),f=this.get("itemBackground"),p=this.get("radio"),v=this.getLimitItemWidth(),g=0;if(u){var m=this.drawMarker(l,u,r,i),y=u.spacing,x=K(r,["marker","spacing"]);lt(x)&&(y=x),g=m.getBBox().maxX+y}if(c){var b=this.drawItemText(l,"name",c,r,i,g,n);v&&z0(!0,b,Fr(v-g,0,v)),g=b.getBBox().maxX+c.spacing}if(d){var w=this.drawItemText(l,"value",d,r,i,g,n);v&&(d.alignRight?(w.attr({textAlign:"right",x:v}),z0(!0,w,Fr(v-g,0,v),"head")):z0(!0,w,Fr(v-g,0,v))),g=w.getBBox().maxX+d.spacing}if(p&&this.drawRadio(l,p,r,i,g),f){var S=l.getBBox(),C=this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:F({x:0,y:0,width:S.width,height:i},f.style)});C.toBack()}return this.applyItemStates(r,l),l},e.prototype.adjustNavigation=function(r,n){var i=this,a=this.startX,o=this.startY,s=this.get("layout"),l=n.findAll(function(O){return O.get("name")==="legend-item"}),u=this.get("maxWidth"),c=this.get("maxHeight"),d=this.get("itemWidth"),f=this.get("itemSpacing"),p=this.getItemHeight(),v=Fe({},gM,this.get("pageNavigator")),g=this.drawNavigation(r,s,"00/00",v),m=g.getBBox(),y={x:a,y:o},x=1,b=0,w=0,S=0,C=this.get("itemMarginBottom");function E(O,D){var B=O.getBBox(),$=d||B.width,L=D.x+$+f+m.width;return L>u}if(s==="horizontal"){var A=this.get("maxRow")||1,P=p+(A===1?0:C),_=u-f-m.width-m.minX;this.pageHeight=P*A,this.pageWidth=_,Y(l,function(O){var D=O.getBBox(),B=d||D.width;(b&&b<y.x+B+f||E(O,y))&&(x===1&&(b=y.x+f,i.moveElementTo(g,{x:_,y:y.y+p/2-m.height/2-m.minY})),x+=1,y.x=a,y.y+=P),i.moveElementTo(O,y),O.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:B+f,height:p}}),y.x+=B+f})}else{Y(l,function(O){var D=O.getBBox();D.width>w&&(w=D.width)}),S=w,w+=f,u&&(w=Math.min(u,w),S=Math.min(u,S)),this.pageWidth=w,this.pageHeight=c-Math.max(m.height,p+C);var k=Math.floor(this.pageHeight/(p+C));Y(l,function(O,D){D!==0&&D%k===0&&(x+=1,y.x+=w,y.y=o),i.moveElementTo(O,y),O.getParent().setClip({type:"rect",attrs:{x:y.x,y:y.y,width:w,height:p}}),y.y+=p+C}),this.totalPagesCnt=x,this.moveElementTo(g,{x:a+S/2-m.width/2-m.minX,y:c-m.height-m.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(x/this.get("maxRow")):this.totalPagesCnt=x,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(g),n.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(r,n,i,a){var o={x:0,y:0},s=this.addGroup(r,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=K(a.marker,"style",{}),u=l.size,c=u===void 0?12:u,d=Kt(l,["size"]),f=this.drawArrow(s,o,yM,n==="horizontal"?"up":"left",c,d);f.on("click",this.onNavigationBack);var p=f.getBBox();o.x+=p.width+2;var v=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:F({x:o.x,y:o.y+c/2,text:i,textBaseline:"middle"},K(a.text,"style"))}),g=v.getBBox();o.x+=g.width+2;var m=this.drawArrow(s,o,mM,n==="horizontal"?"down":"right",c,d);return m.on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(r){var n=Fe({},gM,this.get("pageNavigator")),i=n.marker.style,a=i.fill,o=i.opacity,s=i.inactiveFill,l=i.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,c=r?r.getChildren()[1]:this.getElementByLocalId("navigation-text"),d=r?r.findById(this.getElementId(yM)):this.getElementByLocalId(yM),f=r?r.findById(this.getElementId(mM)):this.getElementByLocalId(mM);c.attr("text",u),d.attr("opacity",this.currentPageIndex===1?l:o),d.attr("fill",this.currentPageIndex===1?s:a),d.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),f.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),f.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),f.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var p=d.getBBox().maxX+2;c.attr("x",p),p+=c.getBBox().width+2,this.updateArrowPath(f,{x:p,y:0})},e.prototype.drawArrow=function(r,n,i,a,o,s){var l=n.x,u=n.y,c=this.addShape(r,{type:"path",id:this.getElementId(i),name:i,attrs:F({size:o,direction:a,path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return c.attr("matrix",Nh({x:l+o/2,y:u+o/2},xH[a])),c},e.prototype.updateArrowPath=function(r,n){var i=n.x,a=n.y,o=r.attr(),s=o.size,l=o.direction,u=Nh({x:i+s/2,y:a+s/2},xH[l]);r.attr("path",[["M",i+s/2,a],["L",i,a+s],["L",i+s,a+s],["Z"]]),r.attr("matrix",u)},e.prototype.getCurrentNavigationMatrix=function(){var r=this,n=r.currentPageIndex,i=r.pageWidth,a=r.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:a*(1-n)}:{x:i*(1-n),y:0};return V4(s)},e.prototype.applyItemStates=function(r,n){var i=this.getItemStates(r),a=i.length>0;if(a){var o=n.getChildren(),s=this.get("itemStates");Y(o,function(l){var u=l.get("name"),c=u.split("-")[2],d=h0(r,c,s);d&&(l.attr(d),c==="marker"&&!(l.get("isStroke")&&l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},e.prototype.getLimitItemWidth=function(){var r=this.get("itemWidth"),n=this.get("maxItemWidth");return n?r&&(n=r<=n?r:n):r&&(n=r),n},e}(Jue),Eot=1.4,bH=.4,Aot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:kt.textColor,textBaseline:"middle",fontFamily:kt.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:kt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(r,n){this.update({min:r,max:n})},e.prototype.setValue=function(r){var n=this.getValue();this.set("value",r);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:n,value:r})},e.prototype.initEvent=function(){var r=this.get("group");this.bindSliderEvent(r),this.bindRailEvent(r),this.bindTrackEvent(r)},e.prototype.drawLegendContent=function(r){this.drawRail(r),this.drawLabels(r),this.fixedElements(r),this.resetTrack(r),this.resetTrackClip(r),this.get("slidable")&&this.resetHandlers(r)},e.prototype.bindSliderEvent=function(r){this.bindHandlersEvent(r)},e.prototype.bindHandlersEvent=function(r){var n=this;r.on("legend-handler-min:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[1];s<a&&(s=a),n.setValue([a,s])}),r.on("legend-handler-max:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[0];s>a&&(s=a),n.setValue([s,a])})},e.prototype.bindRailEvent=function(r){},e.prototype.bindTrackEvent=function(r){var n=this,i=null;r.on("legend-track:dragstart",function(a){i={x:a.x,y:a.y}}),r.on("legend-track:drag",function(a){if(i){var o=n.getValueByCanvasPoint(i.x,i.y),s=n.getValueByCanvasPoint(a.x,a.y),l=n.getCurrentValue(),u=l[1]-l[0],c=n.getRange(),d=s-o;d<0?l[0]+d>c.min?n.setValue([l[0]+d,l[1]+d]):n.setValue([c.min,c.min+u]):d>0&&(d>0&&l[1]+d<c.max?n.setValue([l[0]+d,l[1]+d]):n.setValue([c.max-u,c.max])),i={x:a.x,y:a.y}}}),r.on("legend-track:dragend",function(a){i=null})},e.prototype.drawLabels=function(r){this.drawLabel("min",r),this.drawLabel("max",r)},e.prototype.drawLabel=function(r,n){var i=this.get("label"),a=i.style,o=i.align,s=i.formatter,l=this.get(r),u=this.getLabelAlignAttrs(r,o),c="label-"+r;this.addShape(n,{type:"text",id:this.getElementId(c),name:"legend-label-"+r,attrs:F(F({x:0,y:0,text:qe(s)?s(l):l},a),u)})},e.prototype.getLabelAlignAttrs=function(r,n){var i=this.isVertical(),a="center",o="middle";return i?(a="start",n!=="rail"?r==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",r==="min"?a="start":a="end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},e.prototype.getRailPath=function(r,n,i,a){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,c=this.isVertical(),d=l,f=i,p=a;f||(f=c?s:d),p||(p=c?d:s);var v=[];return u==="color"?(v.push(["M",r,n]),v.push(["L",r+f,n]),v.push(["L",r+f,n+p]),v.push(["L",r,n+p]),v.push(["Z"])):(v.push(["M",r+f,n]),v.push(["L",r+f,n+p]),v.push(["L",r,n+p]),v.push(["Z"])),v},e.prototype.drawRail=function(r){var n=this.get("rail"),i=n.style;this.addShape(r,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:F({path:this.getRailPath(0,0)},i)})},e.prototype.getTrackColor=function(r){var n=r.length;if(!n)return null;if(n===1)return r[0];var i;this.isVertical()?i="l(90)":i="l(0)";for(var a=0;a<n;a++){var o=a/(n-1);i+=" "+o+":"+r[a]}return i},e.prototype.getTrackPath=function(r){var n=this.getRailShape(r),i=n.attr("path");return ga(i)},e.prototype.getClipTrackAttrs=function(r){var n=this.getCurrentValue(),i=n[0],a=n[1],o=this.getRailBBox(r),s=this.getPointByValue(i,r),l=this.getPointByValue(a,r),u=this.isVertical(),c,d,f,p;return u?(c=o.minX,d=s.y,f=o.width,p=l.y-s.y):(c=s.x,d=o.minY,f=l.x-s.x,p=o.height),{x:c,y:d,width:f,height:p}},e.prototype.getTrackAttrs=function(r){var n=this.get("track"),i=this.get("colors"),a=this.getTrackPath(r);return dr({path:a,fill:this.getTrackColor(i)},n.style)},e.prototype.resetTrackClip=function(r){var n=r||this.get("group"),i=this.getElementId("track"),a=n.findById(i),o=a.getClip(),s=this.getClipTrackAttrs(r);o?o.attr(s):a.setClip({type:"rect",attrs:s})},e.prototype.resetTrack=function(r){var n=this.getElementId("track"),i=r.findById(n),a=this.getTrackAttrs(r);i?i.attr(a):this.addShape(r,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:a})},e.prototype.getPointByValue=function(r,n){var i=this.getRange(),a=i.min,o=i.max,s=(r-a)/(o-a),l=this.getRailBBox(n),u=this.isVertical(),c={x:0,y:0};return u?(c.x=l.minX+l.width/2,c.y=ph(l.minY,l.maxY,s)):(c.x=ph(l.minX,l.maxX,s),c.y=l.minY+l.height/2),c},e.prototype.getRailShape=function(r){var n=r||this.get("group");return n.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(r){var n=this.getRailShape(r),i=n.getBBox();return i},e.prototype.getRailCanvasBBox=function(){var r=this.get("group"),n=r.findById(this.getElementId("rail")),i=n.getCanvasBBox();return i},e.prototype.isVertical=function(){return this.get("layout")==="vertical"},e.prototype.getValueByCanvasPoint=function(r,n){var i=this.getRange(),a=i.min,o=i.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),c;l?c=(n-s.minY)/s.height:c=(r-s.minX)/s.width;var d=ph(a,o,c);if(u){var f=Math.round((d-a)/u);d=a+f*u}return d>o&&(d=o),d<a&&(d=a),d},e.prototype.getCurrentValue=function(){var r=this.get("value");if(!r){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,fx(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,fx(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return r},e.prototype.resetHandlers=function(r){var n=this.getCurrentValue(),i=n[0],a=n[1];this.resetHandler(r,"min",i),this.resetHandler(r,"max",a)},e.prototype.getHandlerPath=function(r,n){var i=this.isVertical(),a=[],o=r.size,s=n.x,l=n.y,u=o*Eot,c=o/2,d=o/6;if(i){var f=s+u*bH;a.push(["M",s,l]),a.push(["L",f,l+c]),a.push(["L",s+u,l+c]),a.push(["L",s+u,l-c]),a.push(["L",f,l-c]),a.push(["Z"]),a.push(["M",f,l+d]),a.push(["L",s+u-2,l+d]),a.push(["M",f,l-d]),a.push(["L",s+u-2,l-d])}else{var p=l+u*bH;a.push(["M",s,l]),a.push(["L",s-c,p]),a.push(["L",s-c,l+u]),a.push(["L",s+c,l+u]),a.push(["L",s+c,p]),a.push(["Z"]),a.push(["M",s-d,p]),a.push(["L",s-d,l+u-2]),a.push(["M",s+d,p]),a.push(["L",s+d,l+u-2])}return a},e.prototype.resetHandler=function(r,n,i){var a=this.getPointByValue(i,r),o=this.get("handler"),s=this.getHandlerPath(o,a),l=this.getElementId("handler-"+n),u=r.findById(l),c=this.isVertical();u?u.attr("path",s):this.addShape(r,{type:"path",name:"legend-handler-"+n,draggable:!0,id:l,attrs:F(F({path:s},o.style),{cursor:c?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(r){var n=r.findById(this.getElementId("rail")),i=r.findById(this.getElementId("label-min")),a=r.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,a,n,o):this.fixedHorizontal(i,a,n,o)},e.prototype.fitRailLength=function(r,n,i,a){var o=this.isVertical(),s=o?"height":"width",l=this.get("label"),u=l.align,c=l.spacing,d=this.get("max"+vp(s));if(d){var f=u==="rail"?i[s]+r[s]+n[s]+c*2:i[s],p=f-d;p>0&&this.changeRailLength(a,s,i[s]-p)}},e.prototype.changeRailLength=function(r,n,i){var a=r.getBBox(),o;n==="height"?o=this.getRailPath(a.x,a.y,a.width,i):o=this.getRailPath(a.x,a.y,i,a.height),r.attr("path",o)},e.prototype.changeRailPosition=function(r,n,i){var a=r.getBBox(),o=this.getRailPath(n,i,a.width,a.height);r.attr("path",o)},e.prototype.fixedHorizontal=function(r,n,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),c=r.getBBox(),d=n.getBBox(),f=u.height;this.fitRailLength(c,d,u,i),u=i.getBBox(),s==="rail"?(r.attr({x:a.x,y:a.y+f/2}),this.changeRailPosition(i,a.x+c.width+l,a.y),n.attr({x:a.x+c.width+u.width+l*2,y:a.y+f/2})):s==="top"?(r.attr({x:a.x,y:a.y}),n.attr({x:a.x+u.width,y:a.y}),this.changeRailPosition(i,a.x,a.y+c.height+l)):(this.changeRailPosition(i,a.x,a.y),r.attr({x:a.x,y:a.y+u.height+l}),n.attr({x:a.x+u.width,y:a.y+u.height+l}))},e.prototype.fixedVertail=function(r,n,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),c=r.getBBox(),d=n.getBBox();if(this.fitRailLength(c,d,u,i),u=i.getBBox(),s==="rail")r.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x,a.y+c.height+l),n.attr({x:a.x,y:a.y+c.height+u.height+l*2});else if(s==="right")r.attr({x:a.x+u.width+l,y:a.y}),this.changeRailPosition(i,a.x,a.y),n.attr({x:a.x+u.width+l,y:a.y+u.height});else{var f=Math.max(c.width,d.width);r.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x+f+l,a.y),n.attr({x:a.x,y:a.y+u.height})}},e}(Jue),Zu="g2-tooltip",ec="g2-tooltip-title",Bx="g2-tooltip-list",h_="g2-tooltip-list-item",p_="g2-tooltip-marker",v_="g2-tooltip-value",Zue="g2-tooltip-name",H4="g2-tooltip-crosshair-x",Y4="g2-tooltip-crosshair-y";const Cot=Object.freeze(Object.defineProperty({__proto__:null,CONTAINER_CLASS:Zu,CROSSHAIR_X:H4,CROSSHAIR_Y:Y4,LIST_CLASS:Bx,LIST_ITEM_CLASS:h_,MARKER_CLASS:p_,NAME_CLASS:Zue,TITLE_CLASS:ec,VALUE_CLASS:v_},Symbol.toStringTag,{value:"Module"}));var ul;const Tot=(ul={},ul[""+Zu]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:kt.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},ul[""+ec]={marginBottom:"4px"},ul[""+Bx]={margin:"0px",listStyleType:"none",padding:"0px"},ul[""+h_]={listStyleType:"none",marginBottom:"4px"},ul[""+p_]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},ul[""+v_]={display:"inline-block",float:"right",marginLeft:"30px"},ul[""+H4]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ul[""+Y4]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},ul);function Iot(t,e,r,n,i){var a={left:t<i.x,right:t+r>i.x+i.width,top:e<i.y,bottom:e+n>i.y+i.height};return a}function Pot(t,e,r,n,i,a){var o=t,s=e;switch(a){case"left":o=t-n-r,s=e-i/2;break;case"right":o=t+r,s=e-i/2;break;case"top":o=t-n/2,s=e-i-r;break;case"bottom":o=t-n/2,s=e+r;break;default:o=t+r,s=e-i-r;break}return{x:o,y:s}}function _ot(t,e,r,n,i,a,o){var s=Pot(t,e,r,n,i,a);if(o){var l=Iot(s.x,s.y,n,i,o);a==="auto"?(l.right&&(s.x=Math.max(0,t-n-r)),l.top&&(s.y=Math.max(0,e-i-r))):a==="top"||a==="bottom"?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-n),a==="top"&&l.top&&(s.y=e+r),a==="bottom"&&l.bottom&&(s.y=e-i-r)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-i),a==="left"&&l.left&&(s.x=t+r),a==="right"&&l.right&&(s.x=t-n-r))}return s}function Oot(t,e){var r=!1;return Y(e,function(n){if(Rd(t,n))return r=!0,!1}),r}var kot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Zu+'"><div class="'+ec+'"></div><ul class="'+Bx+'"></ul></div>',itemTpl:'<li class="'+h_+`" data-index={index}>
          <span class="`+p_+`" style="background:{color}"></span>
          <span class="`+Zue+`">{name}</span>:
          <span class="`+v_+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+H4+'"></div>',yCrosshairTpl:'<div class="'+Y4+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Zu,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Tot})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var r=this.getContainer();!r||this.destroyed||(this.set("visible",!0),Ji(r,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var r=this.getContainer();!r||this.destroyed||(this.set("visible",!1),Ji(r,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(r){this.set("x",r.x),this.set("y",r.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(r){var n=r?"":"none",i=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");i&&Ji(i,{display:n}),a&&Ji(a,{display:n})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var r=this.getHtmlContentNode();this.get("parent").appendChild(r),this.set("container",r),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(r){this.get("customContent")?this.renderCustomContent():(Oot(r,["title","showTitle"])&&this.resetTitle(),Rd(r,"items")&&this.renderItems()),t.prototype.updateInner.call(this,r)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var r=this.get("x"),n=this.get("y"),i=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,l=this.get("position"),u=this.get("region"),c=this.getContainer(),d=this.getBBox(),f=d.width,p=d.height,v;u&&(v=Lx(u));var g=_ot(r,n,i,f,p,l,v);Ji(c,{left:La(g.x+o),top:La(g.y+s)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var r=this.getHtmlContentNode(),n=this.get("parent"),i=this.get("container");i&&i.parentNode===n?n.replaceChild(r,i):n.appendChild(r),this.set("container",r),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var r,n=this.get("customContent");if(n){var i=n(this.get("title"),this.get("items"));xle(i)?r=i:r=pd(i)}return r},e.prototype.cacheDoms=function(){var r=this.getContainer(),n=r.getElementsByClassName(ec)[0],i=r.getElementsByClassName(Bx)[0];this.set("titleDom",n),this.set("listDom",i)},e.prototype.resetTitle=function(){var r=this.get("title"),n=this.get("showTitle");n&&r?this.setTitle(r):this.setTitle("")},e.prototype.setTitle=function(r){var n=this.get("titleDom");n&&(n.innerText=r)},e.prototype.resetCrosshairs=function(){var r=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!r||!n)this.clearCrosshairs();else{var i=Lx(r),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",i),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",i),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}},e.prototype.resetCrosshair=function(r,n){var i=this.checkCrosshair(r),a=this.get(r);r==="x"?Ji(i,{left:La(a),top:La(n.y),height:La(n.height)}):Ji(i,{top:La(a),left:La(n.x),width:La(n.width)})},e.prototype.checkCrosshair=function(r){var n=r+"CrosshairDom",i=r+"CrosshairTpl",a="CROSSHAIR_"+r.toUpperCase(),o=Cot[a],s=this.get(n),l=this.get("parent");return s||(s=pd(this.get(i)),this.applyStyle(o,s),l.appendChild(s),this.set(n,s)),s},e.prototype.renderItems=function(){this.clearItemDoms();var r=this.get("items"),n=this.get("itemTpl"),i=this.get("listDom");i&&(Y(r,function(a){var o=vd.toCSSGradient(a.color),s=F(F({},a),{color:o}),l=mle(n,s),u=pd(l);i.appendChild(u)}),this.applyChildrenStyles(i,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&U4(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var r=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");r&&r.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(q4),Dot={opacity:0},Mot={stroke:"#C5C5C5",strokeOpacity:.85},Rot={fill:"#CACED4",opacity:.85};function jot(t,e,r,n){var i=[],a=!!n,o,s,l,u,c,d,f;if(a){l=n[0],u=n[1];for(var p=0,v=t.length;p<v;p+=1){var g=t[p];l=ci([0,0],l,g),u=di([0,0],u,g)}}for(var p=0,m=t.length;p<m;p+=1){var g=t[p];if(p===0)f=g;else if(p===m-1)d=g,i.push(f),i.push(d);else{var y=[p?p-1:m-1,p-1][1];o=t[y],s=t[p+1];var x=[0,0];x=ch(x,s,o),x=ma(x,x,e);var b=vg(g,o),w=vg(g,s),S=b+w;S!==0&&(b/=S,w/=S);var C=ma([0,0],x,-b),E=ma([0,0],x,w);d=Cl([0,0],g,C),c=Cl([0,0],g,E),c=ci([0,0],c,di([0,0],s,g)),c=di([0,0],c,ci([0,0],s,g)),C=ch([0,0],c,g),C=ma([0,0],C,-b/w),d=Cl([0,0],g,C),d=ci([0,0],d,di([0,0],o,g)),d=di([0,0],d,ci([0,0],o,g)),E=ch([0,0],g,d),E=ma([0,0],E,w/b),c=Cl([0,0],g,E),a&&(d=di([0,0],d,l),d=ci([0,0],d,u),c=di([0,0],c,l),c=ci([0,0],c,u)),i.push(f),i.push(d),f=c}}return i}function Fot(t,e,r){r===void 0&&(r=[[0,0],[1,1]]);for(var n=!1,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=jot(i,.4,n,r),l=i.length,u=[],c,d,f,a=0;a<l-1;a+=1)c=s[a*2],d=s[a*2+1],f=i[a+1],u.push(["C",c[0],c[1],d[0],d[1],f[0],f[1]]);return u}function Lot(t){return $r(t,function(e,r){var n=r===0?"M":"L",i=e[0],a=e[1];return[n,i,a]})}function ece(t){return Lot(t)}function $ot(t){if(t.length<=2)return ece(t);var e=[];Y(t,function(o){on(o,e.slice(e.length-2))||e.push(o[0],o[1])});var r=Fot(e),n=Ao(t),i=n[0],a=n[1];return r.unshift(["M",i,a]),r}function Not(t,e,r,n){n===void 0&&(n=!0);var i=new u_({values:t}),a=new s_({values:$r(t,function(s,l){return l})}),o=$r(t,function(s,l){return[a.scale(l)*e,r-i.scale(s)*r]});return n?$ot(o):ece(o)}function Bot(t,e){var r=new u_({values:t}),n=r.max<0?r.max:Math.max(0,r.min);return e-r.scale(n)*e}function Vot(t,e,r,n){var i=fx(t),a=Bot(n,r);return i.push(["L",e,a]),i.push(["L",0,a]),i.push(["Z"]),i}var zot=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Dot,lineStyle:Mot,areaStyle:Rot})},e.prototype.renderInner=function(r){var n=this.cfg,i=n.width,a=n.height,o=n.data,s=n.smooth,l=n.isArea,u=n.backgroundStyle,c=n.lineStyle,d=n.areaStyle;this.addShape(r,{id:this.getElementId("background"),type:"rect",attrs:F({x:0,y:0,width:i,height:a},u)});var f=Not(o,i,a,s);if(this.addShape(r,{id:this.getElementId("line"),type:"path",attrs:F({path:f},c)}),l){var p=Vot(f,i,a,o);this.addShape(r,{id:this.getElementId("area"),type:"path",attrs:F({path:p},d)})}},e.prototype.applyOffset=function(){var r=this.cfg,n=r.x,i=r.y;this.moveElementTo(this.get("group"),{x:n,y:i})},e}(Bi),tce={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},wH=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"handler",x:0,y:0,width:10,height:24,style:tce})},e.prototype.renderInner=function(r){var n=this.cfg,i=n.width,a=n.height,o=n.style,s=o.fill,l=o.stroke,u=o.radius,c=o.opacity,d=o.cursor;this.addShape(r,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:a,fill:s,stroke:l,radius:u,opacity:c,cursor:d}});var f=1/3*i,p=2/3*i,v=1/4*a,g=3/4*a;this.addShape(r,{id:this.getElementId("line-left"),type:"line",attrs:{x1:f,y1:v,x2:f,y2:g,stroke:l,cursor:d}}),this.addShape(r,{id:this.getElementId("line-right"),type:"line",attrs:{x1:p,y1:v,x2:p,y2:g,stroke:l,cursor:d}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var r=this;this.get("group").on("mouseenter",function(){var n=r.get("style").highLightFill;r.getElementByLocalId("background").attr("fill",n),r.draw()}),this.get("group").on("mouseleave",function(){var n=r.get("style").fill;r.getElementByLocalId("background").attr("fill",n),r.draw()})},e.prototype.draw=function(){var r=this.get("container").get("canvas");r&&r.draw()},e}(Bi),Uot={fill:"#416180",opacity:.05},qot={fill:"#5B8FF9",opacity:.15,cursor:"move"},sA=10,Got={width:sA,height:24},Wot={textBaseline:"middle",fill:"#000",opacity:.45},Hot="sliderchange",Yot=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.onMouseDown=function(n){return function(i){r.currentTarget=n;var a=i.originalEvent;a.stopPropagation(),a.preventDefault(),r.prevX=K(a,"touches.0.pageX",a.pageX),r.prevY=K(a,"touches.0.pageY",a.pageY);var o=r.getContainerDOM();o.addEventListener("mousemove",r.onMouseMove),o.addEventListener("mouseup",r.onMouseUp),o.addEventListener("mouseleave",r.onMouseUp),o.addEventListener("touchmove",r.onMouseMove),o.addEventListener("touchend",r.onMouseUp),o.addEventListener("touchcancel",r.onMouseUp)}},r.onMouseMove=function(n){var i=r.cfg.width,a=[r.get("start"),r.get("end")];n.stopPropagation(),n.preventDefault();var o=K(n,"touches.0.pageX",n.pageX),s=K(n,"touches.0.pageY",n.pageY),l=o-r.prevX,u=r.adjustOffsetRange(l/i);r.updateStartEnd(u),r.updateUI(r.getElementByLocalId("foreground"),r.getElementByLocalId("minText"),r.getElementByLocalId("maxText")),r.prevX=o,r.prevY=s,r.draw(),r.emit(Hot,[r.get("start"),r.get("end")].sort()),r.delegateEmit("valuechanged",{originValue:a,value:[r.get("start"),r.get("end")]})},r.onMouseUp=function(){r.currentTarget&&(r.currentTarget=void 0);var n=r.getContainerDOM();n&&(n.removeEventListener("mousemove",r.onMouseMove),n.removeEventListener("mouseup",r.onMouseUp),n.removeEventListener("mouseleave",r.onMouseUp),n.removeEventListener("touchmove",r.onMouseMove),n.removeEventListener("touchend",r.onMouseUp),n.removeEventListener("touchcancel",r.onMouseUp))},r}return e.prototype.setRange=function(r,n){this.set("minLimit",r),this.set("maxLimit",n);var i=this.get("start"),a=this.get("end"),o=Fr(i,r,n),s=Fr(a,r,n);!this.get("isInit")&&(i!==o||a!==s)&&this.setValue([o,s])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(r){var n=this.getRange();if(xe(r)&&r.length===2){var i=[this.get("start"),this.get("end")];this.update({start:Fr(r[0],n.min,n.max),end:Fr(r[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:r})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Uot,foregroundStyle:qot,handlerStyle:Got,textStyle:Wot}})},e.prototype.update=function(r){var n=r.start,i=r.end,a=F({},r);ve(n)||(a.start=Fr(n,0,1)),ve(i)||(a.end=Fr(i,0,1)),t.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Fr(this.get("start"),0,1)),this.set("end",Fr(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(r){var n=this.cfg;n.start,n.end;var i=n.width,a=n.height,o=n.trendCfg,s=o===void 0?{}:o,l=n.minText,u=n.maxText,c=n.backgroundStyle,d=c===void 0?{}:c,f=n.foregroundStyle,p=f===void 0?{}:f,v=n.textStyle,g=v===void 0?{}:v,m=Fe({},tce,this.cfg.handlerStyle);Zn(K(s,"data"))&&(this.trend=this.addComponent(r,F({component:zot,id:this.getElementId("trend"),x:0,y:0,width:i,height:a},s))),this.addShape(r,{id:this.getElementId("background"),type:"rect",attrs:F({x:0,y:0,width:i,height:a},d)}),this.addShape(r,{id:this.getElementId("minText"),type:"text",attrs:F({y:a/2,textAlign:"right",text:l,silent:!1},g)}),this.addShape(r,{id:this.getElementId("maxText"),type:"text",attrs:F({y:a/2,textAlign:"left",text:u,silent:!1},g)}),this.addShape(r,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:F({y:0,height:a},p)});var y=K(m,"width",sA),x=K(m,"height",24);this.minHandler=this.addComponent(r,{component:wH,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(a-x)/2,width:y,height:x,cursor:"ew-resize",style:m}),this.maxHandler=this.addComponent(r,{component:wH,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(a-x)/2,width:y,height:x,cursor:"ew-resize",style:m})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(r,n,i){var a=this.cfg,o=a.start,s=a.end,l=a.width,u=a.minText,c=a.maxText,d=a.handlerStyle,f=a.height,p=o*l,v=s*l;this.trend&&(this.trend.update({width:l,height:f}),this.get("updateAutoRender")||this.trend.render()),r.attr("x",p),r.attr("width",v-p);var g=K(d,"width",sA);n.attr("text",u),i.attr("text",c);var m=this._dodgeText([p,v],n,i),y=m[0],x=m[1];this.minHandler&&(this.minHandler.update({x:p-g/2}),this.get("updateAutoRender")||this.minHandler.render()),Y(y,function(b,w){return n.attr(w,b)}),this.maxHandler&&(this.maxHandler.update({x:v-g/2}),this.get("updateAutoRender")||this.maxHandler.render()),Y(x,function(b,w){return i.attr(w,b)})},e.prototype.bindEvents=function(){var r=this.get("group");r.on("handler-min:mousedown",this.onMouseDown("minHandler")),r.on("handler-min:touchstart",this.onMouseDown("minHandler")),r.on("handler-max:mousedown",this.onMouseDown("maxHandler")),r.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=r.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(r){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":{var o=0-i,s=1-i;return Math.min(s,Math.max(o,r))}case"maxHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,r))}case"foreground":{var o=0-i,s=1-a;return Math.min(s,Math.max(o,r))}}},e.prototype.updateStartEnd=function(r){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":i+=r;break;case"maxHandler":a+=r;break;case"foreground":i+=r,a+=r;break}this.set("start",i),this.set("end",a)},e.prototype._dodgeText=function(r,n,i){var a,o,s=this.cfg,l=s.handlerStyle,u=s.width,c=2,d=K(l,"width",sA),f=r[0],p=r[1],v=!1;f>p&&(a=[p,f],f=a[0],p=a[1],o=[i,n],n=o[0],i=o[1],v=!0);var g=n.getBBox(),m=i.getBBox(),y=g.width>f-c?{x:f+d/2+c,textAlign:"left"}:{x:f-d/2-c,textAlign:"right"},x=m.width>u-p-c?{x:p-d/2-c,textAlign:"right"}:{x:p+d/2+c,textAlign:"left"};return v?[x,y]:[y,x]},e.prototype.draw=function(){var r=this.get("container"),n=r&&r.get("canvas");n&&n.draw()},e.prototype.getContainerDOM=function(){var r=this.get("container"),n=r&&r.get("canvas");return n&&n.get("container")},e}(Bi),Xot={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},xM={default:Xot,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Kot=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.clearEvents=ed,r.onStartEvent=function(n){return function(i){r.isMobile=n,i.originalEvent.preventDefault();var a=n?K(i.originalEvent,"touches.0.clientX"):i.clientX,o=n?K(i.originalEvent,"touches.0.clientY"):i.clientY;r.startPos=r.cfg.isHorizontal?a:o,r.bindLaterEvent()}},r.bindLaterEvent=function(){var n=r.getContainerDOM(),i=[];r.isMobile?i=[qp(n,"touchmove",r.onMouseMove),qp(n,"touchend",r.onMouseUp),qp(n,"touchcancel",r.onMouseUp)]:i=[qp(n,"mousemove",r.onMouseMove),qp(n,"mouseup",r.onMouseUp),qp(n,"mouseleave",r.onMouseUp)],r.clearEvents=function(){i.forEach(function(a){a.remove()})}},r.onMouseMove=function(n){var i=r.cfg,a=i.isHorizontal,o=i.thumbOffset;n.preventDefault();var s=r.isMobile?K(n,"touches.0.clientX"):n.clientX,l=r.isMobile?K(n,"touches.0.clientY"):n.clientY,u=a?s:l,c=u-r.startPos;r.startPos=u,r.updateThumbOffset(o+c)},r.onMouseUp=function(n){n.preventDefault(),r.clearEvents()},r.onTrackClick=function(n){var i=r.cfg,a=i.isHorizontal,o=i.x,s=i.y,l=i.thumbLen,u=r.getContainerDOM(),c=u.getBoundingClientRect(),d=n.clientX,f=n.clientY,p=a?d-c.left-o-l/2:f-c.top-s-l/2,v=r.validateRange(p);r.updateThumbOffset(v)},r.onThumbMouseOver=function(){var n=r.cfg.theme.hover.thumbColor;r.getElementByLocalId("thumb").attr("stroke",n),r.draw()},r.onThumbMouseOut=function(){var n=r.cfg.theme.default.thumbColor;r.getElementByLocalId("thumb").attr("stroke",n),r.draw()},r}return e.prototype.setRange=function(r,n){this.set("minLimit",r),this.set("maxLimit",n);var i=this.getValue(),a=Fr(i,r,n);i!==a&&!this.get("isInit")&&this.setValue(a)},e.prototype.getRange=function(){var r=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:r,max:n}},e.prototype.setValue=function(r){var n=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Fr(r,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},e.prototype.getValue=function(){return Fr(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return F(F({},r),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:xM})},e.prototype.renderInner=function(r){this.renderTrackShape(r),this.renderThumbShape(r)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(r){var n=this.cfg,i=n.trackLen,a=n.theme,o=a===void 0?{default:{}}:a,s=Fe({},xM,o).default,l=s.lineCap,u=s.trackColor,c=s.size,d=K(this.cfg,"size",c),f=this.get("isHorizontal")?{x1:0+d/2,y1:d/2,x2:i-d/2,y2:d/2,lineWidth:d,stroke:u,lineCap:l}:{x1:d/2,y1:0+d/2,x2:d/2,y2:i-d/2,lineWidth:d,stroke:u,lineCap:l};return this.addShape(r,{id:this.getElementId("track"),name:"track",type:"line",attrs:f})},e.prototype.renderThumbShape=function(r){var n=this.cfg,i=n.thumbOffset,a=n.thumbLen,o=n.theme,s=Fe({},xM,o).default,l=s.size,u=s.lineCap,c=s.thumbColor,d=K(this.cfg,"size",l),f=this.get("isHorizontal")?{x1:i+d/2,y1:d/2,x2:i+a-d/2,y2:d/2,lineWidth:d,stroke:c,lineCap:u,cursor:"default"}:{x1:d/2,y1:i+d/2,x2:d/2,y2:i+a-d/2,lineWidth:d,stroke:c,lineCap:u,cursor:"default"};return this.addShape(r,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:f})},e.prototype.bindEvents=function(){var r=this.get("group");r.on("mousedown",this.onStartEvent(!1)),r.on("mouseup",this.onMouseUp),r.on("touchstart",this.onStartEvent(!0)),r.on("touchend",this.onMouseUp);var n=r.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var i=r.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var r=this.get("container"),n=r&&r.get("canvas");return n&&n.get("container")},e.prototype.validateRange=function(r){var n=this.cfg,i=n.thumbLen,a=n.trackLen,o=r;return r+i>a?o=a-i:r+i<i&&(o=0),o},e.prototype.draw=function(){var r=this.get("container"),n=r&&r.get("canvas");n&&n.draw()},e.prototype.updateThumbOffset=function(r){var n=this.cfg,i=n.thumbOffset,a=n.isHorizontal,o=n.thumbLen,s=n.size,l=this.validateRange(r);if(l!==i){var u=this.getElementByLocalId("thumb");a?u.attr({x1:l+s/2,x2:l+o-s/2}):u.attr({y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l)}},e.prototype.emitOffsetChange=function(r){var n=this.cfg,i=n.thumbOffset,a=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=r,this.emit("scrollchange",{thumbOffset:r,ratio:Fr(r/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:r})},e}(Bi),Qot=pot,Jot=vot,Zot=wot,est=bot,SH=Sot,tst=Aot,g_=kot;function rst(t){if(Xa(t))return null;var e=t[0].x,r=t[0].x,n=t[0].y,i=t[0].y;return Y(t,function(a){e=e>a.x?a.x:e,r=r<a.x?a.x:r,n=n>a.y?a.y:n,i=i<a.y?a.y:i}),{minX:e,maxX:r,minY:n,maxY:i,centerX:(e+r)/2,centerY:(n+i)/2}}function EH(t){return Array.from(new Set(t)).length===1}function AH(t){return(us(t)+Ro(t))/2}function In(t,e,r,n){return{x:t+r*Math.cos(n),y:e+r*Math.sin(n)}}function gd(t,e,r,n,i,a){a===void 0&&(a=0);var o=In(t,e,r,n),s=In(t,e,r,i),l=In(t,e,a,n),u=In(t,e,a,i);if(i-n===Math.PI*2){var c=In(t,e,r,n+Math.PI),d=In(t,e,a,n+Math.PI),f=[["M",o.x,o.y],["A",r,r,0,1,1,c.x,c.y],["A",r,r,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(f.push(["A",a,a,0,1,0,d.x,d.y]),f.push(["A",a,a,0,1,0,u.x,u.y])),f.push(["M",o.x,o.y]),f.push(["Z"]),f}var p=i-n<=Math.PI?0:1,v=[["M",o.x,o.y],["A",r,r,0,p,1,s.x,s.y],["L",u.x,u.y]];return a&&v.push(["A",a,a,0,p,0,l.x,l.y]),v.push(["L",o.x,o.y]),v.push(["Z"]),v}function rce(t,e,r,n,i){var a=In(t,e,r,n),o=In(t,e,r,i);if(hi(i-n,Math.PI*2)){var s=In(t,e,r,n+Math.PI);return[["M",a.x,a.y],["A",r,r,0,1,1,s.x,s.y],["A",r,r,0,1,1,a.x,a.y],["A",r,r,0,1,0,s.x,s.y],["A",r,r,0,1,0,a.x,a.y],["Z"]]}var l=i-n<=Math.PI?0:1;return[["M",a.x,a.y],["A",r,r,0,l,1,o.x,o.y]]}function Vx(t,e){var r=t.points,n=rst(r),i,a,o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(i=n.maxY*l,a=n.minY*l):(i=n.maxX*l,a=n.minX*l),i+=o,a+=o,{startAngle:a,endAngle:i}}function nst(t,e){if(lt(t)&&lt(e))return[t,e];if(t=t,e=e,EH(t)||EH(e))return[AH(t),AH(e)];for(var r=-1,n=0,i=0,a,o=t.length-1,s,l=0;++r<t.length;)a=o,o=r,l+=s=t[a]*e[o]-t[o]*e[a],n+=(t[a]+t[o])*s,i+=(e[a]+e[o])*s;return l*=3,[n/l,i/l]}function nce(t,e){var r=t.attr(),n=e.attr();return Y(r,function(i,a){n[a]===void 0&&(n[a]=void 0)}),n}function Sv(t,e,r){var n=Math.min(e,r),i=Math.max(e,r);return t>=n&&t<=i}function ist(t,e,r){if(nt(t))return t.padEnd(e,r);if(xe(t)){var n=t.length;if(n<e)for(var i=e-n,a=0;a<i;a++)t.push(r)}return t}function $a(t,e){return typeof t=="object"&&e.forEach(function(r){delete t[r]}),t}function Yc(t,e,r){var n,i;e===void 0&&(e=[]),r===void 0&&(r=new Map);try{for(var a=Jt(t),o=a.next();!o.done;o=a.next()){var s=o.value;r.has(s)||(e.push(s),r.set(s,!0))}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return e}var Aa=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.height=i,this.width=n}return t.fromRange=function(e,r,n,i){return new t(e,r,n-e,i-r)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},t.prototype.contains=function(e){return e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.clone();return Y(e,function(i){n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y),n.width=Math.max(i.maxX,n.maxX)-n.x,n.height=Math.max(i.maxY,n.maxY)-n.y}),n},t.prototype.merge=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.clone();return Y(e,function(i){n.x=Math.max(i.x,n.x),n.y=Math.max(i.y,n.y),n.width=Math.min(i.maxX,n.maxX)-n.x,n.height=Math.min(i.maxY,n.maxY)-n.y}),n},t.prototype.cut=function(e,r){var n=e.width,i=e.height;switch(r){case ke.TOP:case ke.TOP_LEFT:case ke.TOP_RIGHT:return t.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case ke.RIGHT:case ke.RIGHT_TOP:case ke.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case ke.BOTTOM:case ke.BOTTOM_LEFT:case ke.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case ke.LEFT:case ke.LEFT_TOP:case ke.LEFT_BOTTOM:return t.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var r=We(e,4),n=r[0],i=r[1],a=r[2],o=r[3];return new t(this.x+o,this.y+n,this.width-o-i,this.height-n-a)},t.prototype.expand=function(e){var r=We(e,4),n=r[0],i=r[1],a=r[2],o=r[3];return new t(this.x-o,this.y-n,this.width+o+i,this.height+n+a)},t.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},t.prototype.collide=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY},t}();function ast(t){return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]}function Vw(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),r=t.convert({x:1,y:0});return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function ost(t){if(t.isPolar){var e=t.startAngle,r=t.endAngle;return r-e===Math.PI*2}return!1}function m_(t,e){var r=t.getCenter();return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function sst(t,e){var r=!1;if(t)if(t.type==="theta"){var n=t.start,i=t.end;r=Sv(e.x,n.x,i.x)&&Sv(e.y,n.y,i.y)}else{var a=t.invert(e);r=Sv(a.x,0,1)&&Sv(a.y,0,1)}return r}function yg(t,e){var r=t.getCenter();return Math.atan2(e.y-r.y,e.x-r.x)}function X4(t,e){e===void 0&&(e=0);var r=t.start,n=t.end,i=t.getWidth(),a=t.getHeight();if(t.isPolar){var o=t.startAngle,s=t.endAngle,l=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:gd(l.x,l.y,u+e,o,o)},endState:function(d){var f=(s-o)*d+o,p=gd(l.x,l.y,u+e,o,f);return{path:p}},attrs:{path:gd(l.x,l.y,u+e,o,s)}}}var c;return t.isTransposed?c={height:a+e*2}:c={width:i+e*2},{type:"rect",startState:{x:r.x-e,y:n.y-e,width:t.isTransposed?i+e*2:0,height:t.isTransposed?0:a+e*2},endState:c,attrs:{x:r.x-e,y:n.y-e,width:i+e*2,height:a+e*2}}}function lst(t,e){e===void 0&&(e=0);var r=t.start,n=t.end,i=t.getWidth(),a=t.getHeight(),o=Math.min(r.x,n.x),s=Math.min(r.y,n.y);return Aa.fromRange(o-e,s-e,o+i+e,s+a+e)}var ust=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function cst(t){var e="linear";return ust.test(t)?e="timeCat":nt(t)&&(e="cat"),e}function ice(t,e,r,n){return e===void 0&&(e={}),e.type?e.type:t.type!=="identity"&&xv.includes(r)&&["interval"].includes(n)||t.isCategory?"cat":t.type}function dst(t,e,r){var n=e||[];if(lt(t)||ve(Xet(n,t))&&Xa(r)){var i=Wj("identity");return new i({field:t.toString(),values:[t]})}var a=Hs(n,t),o=K(r,"type",cst(a[0])),s=Wj(o);return new s(F({field:t,values:a},r))}function fst(t,e){if(t.type!=="identity"&&e.type!=="identity"){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);t.change(r)}}function zx(t){return t.alias||t.field}function ace(t,e,r){var n=t.values,i=n.length,a;if(i===1)a=[.5,1];else{var o=1,s=0;ost(e)?e.isTransposed?(o=K(r,"widthRatio.multiplePie",1/1.3),s=1/i*o,a=[s/2,1-s/2]):a=[0,1-1/i]:(s=1/i/2,a=[s,1-s])}return a}function hst(t){var e=t.values.filter(function(r){return!ve(r)&&!isNaN(r)});return Math.max.apply(Math,Je(Je([],We(e),!1),[ve(t.max)?-1/0:t.max],!1))}function pst(t){var e,r;switch(t){case ke.TOP:e={x:0,y:1},r={x:1,y:1};break;case ke.RIGHT:e={x:1,y:0},r={x:1,y:1};break;case ke.BOTTOM:e={x:0,y:0},r={x:1,y:0};break;case ke.LEFT:e={x:0,y:0},r={x:0,y:1};break;default:e=r={x:0,y:0}}return{start:e,end:r}}function vst(t){var e,r;return t.isTransposed?(e={x:0,y:0},r={x:1,y:0}):(e={x:0,y:0},r={x:0,y:1}),{start:e,end:r}}function _S(t,e){var r={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?r=pst(e):t.isPolar&&(r=vst(t));var n=r.start,i=r.end;return{start:t.convert(n),end:t.convert(i)}}function oce(t){var e=t.start,r=t.end;return e.x===r.x}function CH(t,e){var r=t.start,n=t.end,i=oce(t);return i?(r.y-n.y)*(e.x-r.x)>0?1:-1:(n.x-r.x)*(r.y-e.y)>0?-1:1}function OS(t,e){var r=K(t,["components","axis"],{});return Fe({},K(r,["common"],{}),Fe({},K(r,[e],{})))}function TH(t,e,r){var n=K(t,["components","axis"],{});return Fe({},K(n,["common","title"],{}),Fe({},K(n,[e,"title"],{})),r)}function bM(t){var e=t.x,r=t.y,n=t.circleCenter,i=r.start>r.end,a=t.isTransposed?t.convert({x:i?0:1,y:0}):t.convert({x:0,y:i?0:1}),o=[a.x-n.x,a.y-n.y],s=[1,0],l=a.y>n.y?Rj(o,s):Rj(o,s)*-1,u=l+(e.end-e.start),c=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2));return{center:n,radius:c,startAngle:l,endAngle:u}}function PC(t,e){return pg(t)?t===!1?!1:{}:K(t,[e])}function IH(t,e){return K(t,"position",e)}function PH(t,e){return K(e,["title","text"],zx(t))}var jm=function(){function t(e,r){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=Fe({},this.getDefaultCfg(),r)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(e){var r=e.region,n=e.data,i=e.padding,a=i===void 0?this.cfg.padding:i,o=this.view.createView({region:r,padding:a});o.data(n||[]),e.view=o,this.beforeEachView(o,e);var s=this.cfg.eachView;return s&&s(o,e),this.afterEachView(o,e),o},t.prototype.createContainer=function(){var e=this.view.getLayer(gn.FORE);return e.addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(r){return e.facetToView(r)})},t.prototype.clearFacetViews=function(){var e=this;Y(this.facets,function(r){r.view&&(e.view.removeView(r.view),r.view=void 0)})},t.prototype.parseSpacing=function(){var e=this.view.viewBBox,r=e.width,n=e.height,i=this.cfg.spacing;return i.map(function(a,o){return lt(a)?a/(o===0?r:n):parseFloat(a)/100})},t.prototype.getFieldValues=function(e,r){var n=[],i={};return Y(e,function(a){var o=a[r];!ve(o)&&!i[o]&&(n.push(o),i[o]=!0)}),n},t.prototype.getRegion=function(e,r,n,i){var a=We(this.parseSpacing(),2),o=a[0],s=a[1],l=(1+o)/(r===0?1:r)-o,u=(1+s)/(e===0?1:e)-s,c={x:(l+o)*n,y:(u+s)*i},d={x:c.x+l,y:c.y+u};return{start:c,end:d}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},t.prototype.processAxis=function(e,r){var n=e.getOptions(),i=n.coordinate,a=e.geometries,o=K(i,"type","rect");if(o==="rect"&&a.length){ve(n.axes)&&(n.axes={});var s=n.axes,l=We(a[0].getXYFields(),2),u=l[0],c=l[1],d=PC(s,u),f=PC(s,c);d!==!1&&(n.axes[u]=this.getXAxisOption(u,s,d,r)),f!==!1&&(n.axes[c]=this.getYAxisOption(c,s,f,r))}},t.prototype.getFacetDataFilter=function(e){return function(r){return b4(e,function(n){var i=n.field,a=n.value;return!ve(a)&&i?r[i]===a:!0})}},t}(),sce={},gst=function(t){return sce[Dm(t)]},Fm=function(t,e){sce[Dm(t)]=e},kr=function(){function t(e,r){this.context=e,this.cfg=r,e.addAction(this)}return t.prototype.applyCfg=function(e){dr(this,e)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),mst=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(kr),K4={};function yst(t,e){var r=K4[t],n=null;if(r){var i=r.ActionClass,a=r.cfg;n=new i(e,a),n.name=t,n.init()}return n}function y_(t){var e=K4[t];return K(e,"ActionClass")}function Xe(t,e,r){K4[t]={ActionClass:e,cfg:r}}function xst(t,e){var r=new mst(e);return r.callback=t,r.name="callback",r}function bst(t,e){var r=[];if(t.length){r.push(["M",t[0].x,t[0].y]);for(var n=1,i=t.length;n<i;n+=1){var a=t[n];r.push(["L",a.x,a.y])}e&&r.push(["Z"])}return r}function Jj(t,e){for(var r=[t[0]],n=1,i=t.length;n<i;n=n+2){var a=e.convert({x:t[n],y:t[n+1]});r.push(a.x,a.y)}return r}function lce(t,e){var r=e.isTransposed,n=t[1],i=t[6],a=t[7],o=e.convert({x:i,y:a}),s=r?0:1;return["A",n,n,0,0,s,o.x,o.y]}function wst(t,e,r){var n=r.isTransposed,i=r.startAngle,a=r.endAngle,o=t[0].toLowerCase()==="a"?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},s={x:e[1],y:e[2]},l=[],u=n?"y":"x",c=Math.abs(s[u]-o[u])*(a-i),d=s[u]>=o[u]?1:0,f=c>Math.PI?1:0,p=r.convert(s),v=m_(r,p);if(v>=.5)if(c===Math.PI*2){var g={x:(s.x+o.x)/2,y:(s.y+o.y)/2},m=r.convert(g);l.push(["A",v,v,0,f,d,m.x,m.y]),l.push(["A",v,v,0,f,d,p.x,p.y])}else l.push(["A",v,v,0,f,d,p.x,p.y]);return l}function Sst(t){Y(t,function(e,r){var n=e;if(n[0].toLowerCase()==="a"){var i=t[r-1],a=t[r+1];a&&a[0].toLowerCase()==="a"?i&&i[0].toLowerCase()==="l"&&(i[0]="M"):i&&i[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Est=function(t,e,r,n){var i,a=[],o=!!n,s,l,u,c,d,f,p;if(o){i=We(n,2),u=i[0],c=i[1];for(var v=0,g=t.length;v<g;v++){var m=t[v];u=ci([0,0],u,m),c=di([0,0],c,m)}}for(var v=0,y=t.length;v<y;v++){var m=t[v];if(v===0&&!r)p=m;else if(v===y-1&&!r)f=m,a.push(p),a.push(f);else{s=t[r?v?v-1:y-1:v-1],l=t[r?(v+1)%y:v+1];var x=[0,0];x=ch(x,l,s),x=ma(x,x,e);var b=vg(m,s),w=vg(m,l),S=b+w;S!==0&&(b/=S,w/=S);var C=ma([0,0],x,-b),E=ma([0,0],x,w);f=Cl([0,0],m,C),d=Cl([0,0],m,E),d=ci([0,0],d,di([0,0],l,m)),d=di([0,0],d,ci([0,0],l,m)),C=ch([0,0],d,m),C=ma([0,0],C,-b/w),f=Cl([0,0],m,C),f=ci([0,0],f,di([0,0],s,m)),f=di([0,0],f,ci([0,0],s,m)),E=ch([0,0],m,f),E=ma([0,0],E,w/b),d=Cl([0,0],m,E),o&&(f=di([0,0],f,u),f=ci([0,0],f,c),d=di([0,0],d,u),d=ci([0,0],d,c)),a.push(p),a.push(f),p=d}}return r&&a.push(a.shift()),a};function uce(t,e,r){for(var n=!!e,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=Est(i,.4,n,r),l=i.length,u=[],c,d,f,a=0;a<l-1;a++)c=s[a*2],d=s[a*2+1],f=i[a+1],u.push(["C",c[0],c[1],d[0],d[1],f[0],f[1]]);return n&&(c=s[l],d=s[l+1],f=i[0],u.push(["C",c[0],c[1],d[0],d[1],f[0],f[1]])),u}function zw(t,e){return bst(t,e)}function _C(t,e,r){var n=[],i=t[0],a=null;if(t.length<=2)return zw(t,e);for(var o=0,s=t.length;o<s;o++){var l=t[o];(!a||!(a.x===l.x&&a.y===l.y))&&(n.push(l.x),n.push(l.y),a=l)}var u=r||[[0,0],[1,1]],c=uce(n,e,u);return c.unshift(["M",i.x,i.y]),c}function Ast(t,e){var r=[];return Y(e,function(n){var i=n[0];switch(i.toLowerCase()){case"m":case"l":case"c":r.push(Jj(n,t));break;case"a":r.push(lce(n,t));break;case"z":default:r.push(n);break}}),r}function Cst(t,e){var r=[],n,i,a,o;return Y(e,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":r.push(Jj(s,t));break;case"l":n=e[l-1],i=s,a=t.isTransposed,o=a?n[n.length-2]===i[1]:n[n.length-1]===i[2],o?r=r.concat(wst(n,i,t)):r.push(Jj(s,t));break;case"a":r.push(lce(s,t));break;case"z":default:r.push(s);break}}),Sst(r),r}var U0=`	
\v\f\r \u2028\u2029`,Tst=new RegExp("([a-z])["+U0+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+U0+"]*,?["+U0+"]*)+)","ig"),Ist=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+U0+"]*,?["+U0+"]*","ig");function Pst(t){if(!t)return null;if(xe(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(Tst,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(Ist,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(r.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([i,o[0]]),s==="r")r.push([i].concat(o));else for(;o.length>=e[s]&&(r.push([i].concat(o.splice(0,e[s]))),!!e[s]););return""}),r}var _H=function(t,e,r){return t>=e&&t<=r};function _st(t,e,r,n){var i=.001,a={x:r.x-t.x,y:r.y-t.y},o={x:e.x-t.x,y:e.y-t.y},s={x:n.x-r.x,y:n.y-r.y},l=o.x*s.y-o.y*s.x,u=l*l,c=o.x*o.x+o.y*o.y,d=s.x*s.x+s.y*s.y,f=null;if(u>i*c*d){var p=(a.x*s.y-a.y*s.x)/l,v=(a.x*o.y-a.y*o.x)/l;_H(p,0,1)&&_H(v,0,1)&&(f={x:t.x+p*o.x,y:t.y+p*o.y})}return f}var Ost=1e-6;function wM(t){return Math.abs(t)<Ost?0:t<0?-1:1}function kst(t,e,r){return(r[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}function OH(t,e,r){var n=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(kst(o,s,[e,r]))return!0;wM(o[1]-r)>0!=wM(s[1]-r)>0&&wM(e-(r-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function kH(t){for(var e=[],r=t.length,n=0;n<r-1;n++){var i=t[n],a=t[n+1];e.push({from:{x:i[0],y:i[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=t[0],s=t[r-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function Dst(t,e){var r=!1;return Y(t,function(n){if(_st(n.from,n.to,e.from,e.to))return r=!0,!1}),r}function DH(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,r),maxY:Math.max.apply(null,r)}}function Mst(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Rst(t,e){if(t.length<2||e.length<2)return!1;var r=DH(t),n=DH(e);if(!Mst(r,n))return!1;var i=!1;if(Y(e,function(l){if(OH(t,l[0],l[1]))return i=!0,!1}),i||(Y(t,function(l){if(OH(e,l[0],l[1]))return i=!0,!1}),i))return!0;var a=kH(t),o=kH(e),s=!1;return Y(o,function(l){if(Dst(a,l))return s=!0,!1}),s}function cce(t,e){var r=t.event,n=r.target;return fce(n,e)}function dce(t,e){var r=t.getCanvasBBox(),n=r.width,i=r.height;return n>0&&i>0&&(n>=e||i>=e)}function fce(t,e){var r=t.getCanvasBBox();return dce(t,e)?r:null}function hce(t,e){var r=t.event.maskShapes;return r.map(function(n){return fce(n,e)}).filter(function(n){return!!n})}function jst(t,e){var r=t.event,n=r.target;return pce(n,e)}function pce(t,e){return dce(t,e)?t.attr("path"):null}function Fst(t,e){var r=t.event.maskShapes;return r.map(function(n){return pce(n,e)})}function $d(t){var e=t.event,r,n=e.target;return n&&(r=n.get("element")),r}function Bh(t){var e=t.event,r=e.target,n;return r&&(n=r.get("delegateObject")),n}function vce(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Ux(t){return t&&t.component&&t.component.isList()}function gce(t){return t&&t.component&&t.component.isSlider()}function qx(t){var e=t.event,r=e.target;return r&&(r==null?void 0:r.get("name"))==="mask"||x_(t)}function x_(t){var e;return((e=t.event.target)===null||e===void 0?void 0:e.get("name"))==="multi-mask"}function Q4(t,e){var r=t.event.target;if(x_(t))return Lst(t,e);if(r.get("type")==="path"){var n=jst(t,e);return n?bce(t.view,n):void 0}var i=cce(t,e);return i?b_(t.view,i):null}function Lst(t,e){var r=t.event.target;if(r.get("type")==="path"){var n=Fst(t,e);return n.length>0?n.flatMap(function(a){return bce(t.view,a)}):null}var i=hce(t,e);return i.length>0?i.flatMap(function(a){return b_(t.view,a)}):null}function mce(t,e,r){if(x_(t))return $st(t,e,r);var n=cce(t,r);return n?yce(n,t,e):null}function yce(t,e,r){var n=e.view,i=Zj(n,r,{x:t.x,y:t.y}),a=Zj(n,r,{x:t.maxX,y:t.maxY}),o={minX:i.x,minY:i.y,maxX:a.x,maxY:a.y};return b_(r,o)}function $st(t,e,r){var n=hce(t,r);return n.length>0?n.flatMap(function(i){return yce(i,t,e)}):null}function gi(t){var e=t.geometries,r=[];return Y(e,function(n){var i=n.elements;r=r.concat(i)}),t.views&&t.views.length&&Y(t.views,function(n){r=r.concat(gi(n))}),r}function Nst(t,e,r){var n=gi(t);return n.filter(function(i){return Ys(i,e)===r})}function xce(t,e){var r=t.geometries,n=[];return Y(r,function(i){var a=i.getElementsBy(function(o){return o.hasState(e)});n=n.concat(a)}),n}function Ys(t,e){var r=t.getModel(),n=r.data,i;return xe(n)?i=n[0][e]:i=n[e],i}function Bst(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function b_(t,e){var r=gi(t),n=[];return Y(r,function(i){var a=i.shape,o=a.getCanvasBBox();Bst(e,o)&&n.push(i)}),n}function MH(t){var e=[];return Y(t,function(r){var n=r[0];if(n!=="A")for(var i=1;i<r.length;i=i+2)e.push([r[i],r[i+1]]);else{var a=r.length;e.push([r[a-2],r[a-1]])}}),e}function bce(t,e){var r=gi(t),n=MH(e),i=r.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=MH(o.attr("path"));else{var l=o.getCanvasBBox();s=ast(l)}return Rst(n,s)});return i}function wce(t){return t.getComponents().map(function(e){return e.component})}function J4(t,e){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}function Vst(t,e){if(t.length<=2)return zw(t,!1);var r=t[0],n=[];Y(t,function(a){n.push(a.x),n.push(a.y)});var i=uce(n,e,null);return i.unshift(["M",r.x,r.y]),i}function RH(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function Fl(t){var e=t.parent,r=null;return e&&(r=e.views.filter(function(n){return n!==t})),r}function zst(t,e){var r=t.getCoordinate();return r.invert(e)}function Zj(t,e,r){var n=zst(t,r);return e.getCoordinate().convert(n)}function Sce(t,e,r,n){var i=!1;return Y(t,function(a){if(a[r]===e[r]&&a[n]===e[n])return i=!0,!1}),i}function xg(t,e){var r=t.getScaleByField(e);return!r&&t.views&&Y(t.views,function(n){if(r=xg(n,e),r)return!1}),r}var Ust=function(){function t(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return t.prototype.cache=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},t.prototype.getAction=function(e){return this.actions.find(function(r){return r.name===e})},t.prototype.addAction=function(e){this.actions.push(e)},t.prototype.removeAction=function(e){var r=this.actions,n=this.actions.indexOf(e);n>=0&&r.splice(n,1)},t.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var r=this.view.getCanvas(),n=r.getPointByClient(e.clientX,e.clientY);return n}else return{x:e.x,y:e.y};return null},t.prototype.getCurrentShape=function(){return K(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},t.prototype.isInShape=function(e){var r=this.getCurrentShape();return r?r.get("name")===e:!1},t.prototype.isInComponent=function(e){var r=wce(this.view),n=this.getCurrentPoint();return n?!!r.find(function(i){var a=i.getBBox();return e?i.get("name")===e&&RH(a,n):RH(a,n)}):!1},t.prototype.destroy=function(){Y(this.actions.slice(),function(e){e.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}(),qst=function(){function t(e,r){this.view=e,this.cfg=r}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}();function jH(t,e,r){var n=t.split(":"),i=n[0],a=e.getAction(i)||yst(i,e);if(!a)throw new Error("There is no action named ".concat(i));var o=n[1];return{action:a,methodName:o,arg:r}}function FH(t){var e=t.action,r=t.methodName,n=t.arg;if(e[r])e[r](n);else throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(r))}var ao={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Gst=function(t){ae(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var r=this;Y(this.steps,function(n,i){Y(n,function(a){var o=r.getActionCallback(i,a);o&&r.bindEvent(a.trigger,o)})})},e.prototype.clearEvents=function(){var r=this;Y(this.steps,function(n,i){Y(n,function(a){var o=r.getActionCallback(i,a);o&&r.offEvent(a.trigger,o)})})},e.prototype.initContext=function(){var r=this.view,n=new Ust(r);this.context=n;var i=this.steps;Y(i,function(a){Y(a,function(o){if(qe(o.action))o.actionObject={action:xst(o.action,n),methodName:"execute"};else if(nt(o.action))o.actionObject=jH(o.action,n,o.arg);else if(xe(o.action)){var s=o.action,l=xe(o.arg)?o.arg:[o.arg];o.actionObject=[],Y(s,function(u,c){o.actionObject.push(jH(u,n,l[c]))})}})})},e.prototype.isAllowStep=function(r){var n=this.currentStepName,i=this.steps;if(n===r||r===ao.SHOW_ENABLE)return!0;if(r===ao.PROCESSING)return n===ao.START;if(r===ao.START)return n!==ao.PROCESSING;if(r===ao.END)return n===ao.PROCESSING||n===ao.START;if(r===ao.ROLLBACK){if(i[ao.END])return n===ao.END;if(n===ao.START)return!0}return!1},e.prototype.isAllowExecute=function(r,n){if(this.isAllowStep(r)){var i=this.getKey(r,n);return n.once&&this.emitCaches[i]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(r){this.currentStepName=r,this.emitCaches={}},e.prototype.afterExecute=function(r,n){r!==ao.SHOW_ENABLE&&this.currentStepName!==r&&this.enterStep(r);var i=this.getKey(r,n);this.emitCaches[i]=!0},e.prototype.getKey=function(r,n){return r+n.trigger+n.action},e.prototype.getActionCallback=function(r,n){var i=this,a=this.context,o=this.callbackCaches,s=n.actionObject;if(n.action&&s){var l=this.getKey(r,n);if(!o[l]){var u=function(c){a.event=c,i.isAllowExecute(r,n)?(xe(s)?Y(s,function(d){a.event=c,FH(d)}):(a.event=c,FH(s)),i.afterExecute(r,n),n.callback&&(a.event=c,n.callback(a))):a.event=null};n.debounce?o[l]=ble(u,n.debounce.wait,n.debounce.immediate):n.throttle?o[l]=S4(u,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[l]=u}return o[l]}return null},e.prototype.bindEvent=function(r,n){var i=r.split(":");i[0]==="window"?window.addEventListener(i[1],n):i[0]==="document"?document.addEventListener(i[1],n):this.view.on(r,n)},e.prototype.offEvent=function(r,n){var i=r.split(":");i[0]==="window"?window.removeEventListener(i[1],n):i[0]==="document"?document.removeEventListener(i[1],n):this.view.off(r,n)},e}(qst),Ece={};function Wst(t){return Ece[Dm(t)]}function ct(t,e){Ece[Dm(t)]=e}function Hst(t,e,r){var n=Wst(t);if(!n)return null;if(Rl(n)){var i=dr(ga(n),r);return new Gst(e,i)}else{var a=n;return new a(e,r)}}function Yst(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},iconStyle:{fill:t.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}function Xst(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}function Ace(t){var e,r={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},n=Yst(t),i=Xst(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=Vx(a.getModel(),o),l=s.startAngle,u=s.endAngle,c=(l+u)/2,d=7.5,f=d*Math.cos(c),p=d*Math.sin(c);return{matrix:Rn(null,[["t",f,p]])}}return r.interval.selected}}},"hollow-rect":{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},line:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},tick:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},funnel:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:r.interval.selected}},pyramid:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:r.interval.selected}}},line:{line:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},dot:{default:{style:F(F({},r.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:F(F({},r.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:F(F({},r.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:F(F({},r.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:F(F({},r.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:F(F({},r.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:F(F({},r.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:F(F({},r.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},hv:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},vh:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},hvh:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},vhv:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}}},polygon:{polygon:{default:{style:r.interval.default},active:{style:r.interval.active},inactive:{style:r.interval.inactive},selected:{style:r.interval.selected}}},point:{circle:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},square:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},bowtie:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},diamond:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},hexagon:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},triangle:{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},"triangle-down":{default:{style:r.point.default},active:{style:r.point.active},inactive:{style:r.point.inactive},selected:{style:r.point.selected}},"hollow-circle":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-square":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-bowtie":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-diamond":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-hexagon":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-triangle":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},"hollow-triangle-down":{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},cross:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},tick:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},plus:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},hyphen:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}},line:{default:{style:r.hollowPoint.default},active:{style:r.hollowPoint.active},inactive:{style:r.hollowPoint.inactive},selected:{style:r.hollowPoint.selected}}},area:{area:{default:{style:r.area.default},active:{style:r.area.active},inactive:{style:r.area.inactive},selected:{style:r.area.selected}},smooth:{default:{style:r.area.default},active:{style:r.area.active},inactive:{style:r.area.inactive},selected:{style:r.area.selected}},line:{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}},"smooth-line":{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}}},schema:{candle:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}},box:{default:{style:r.hollowInterval.default},active:{style:r.hollowInterval.active},inactive:{style:r.hollowInterval.inactive},selected:{style:r.hollowInterval.selected}}},edge:{line:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},vhv:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},smooth:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},arc:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}}},violin:{violin:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},smooth:{default:{style:r.line.default},active:{style:r.line.active},inactive:{style:r.line.inactive},selected:{style:r.line.selected}},hollow:{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}},"hollow-smooth":{default:{style:r.hollowArea.default},active:{style:r.hollowArea.active},inactive:{style:r.hollowArea.inactive},selected:{style:r.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Fe({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:Fe({},n.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(Zu)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(ec)]={marginBottom:"12px",marginTop:"12px"},e["".concat(Bx)]={margin:0,listStyleType:"none",padding:0},e["".concat(h_)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(p_)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(v_)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var nr={100:"#000",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Gp={100:"#FFFFFF",85:"#D9D9D9"},Kst=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Qst=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Jst=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Cce=function(t){t===void 0&&(t={});var e=t.paletteQualitative10,r=e===void 0?Kst:e,n=t.paletteQualitative20,i=n===void 0?Qst:n,a=t.brandColor,o=a===void 0?r[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:r,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Jst,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:nr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:nr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Gp[85],axisTickLineBorderColor:nr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:nr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:nr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:nr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:nr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:nr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:nr[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:nr[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:nr[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:nr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:nr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:nr[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:nr[25],annotationArcBorderColor:nr[15],annotationArcBorder:1,annotationLineBorderColor:nr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:nr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:nr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:nr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:nr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:nr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Gp[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:nr[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Gp[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:nr[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Gp[100],pointBorderOpacity:1,pointActiveBorderColor:nr[100],pointSelectedBorder:2,pointSelectedBorderColor:nr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:Gp[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:nr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:nr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:nr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:nr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:nr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:nr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Gp[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:nr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:nr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return F(F({},s),t)};Cce();function OC(t){var e=t.styleSheet,r=e===void 0?{}:e,n=Kt(t,["styleSheet"]),i=Cce(r);return Fe({},Ace(i),n)}var Zst=OC({}),eF={default:Zst};function q0(t){return K(eF,Dm(t),eF.default)}function elt(t,e){eF[Dm(t)]=OC(e)}function LH(t,e,r){var n=r.translate(t),i=r.translate(e);return hi(n,i)}function tlt(t,e){var r=e.coordinate,n=e.getXScale(),i=n.range,a=i[i.length-1],o=i[0],s=r.invert(t),l=s.x;return r.isPolar&&l>(1+a)/2&&(l=o),n.translate(n.invert(l))}function $H(t,e,r){var n=r.coordinate,i=r.getYScale(),a=i.field,o=n.invert(e),s=i.invert(o.y),l=Vs(t,function(u){var c=u[xr];return c[a][0]<=s&&c[a][1]>=s});return l||t[t.length-1]}var rlt=Mm(function(t){if(t.isCategory)return 1;for(var e=t.values,r=e.length,n=t.translate(e[0]),i=n,a=0;a<r;a++){var o=e[a],s=t.translate(o);s<n&&(n=s),s>i&&(i=s)}return(i-n)/(r-1)});function nlt(t,e,r){var n=e.getAttribute("position"),i=n.getFields(),a=e.scales,o=qe(r)||!r?i[0]:r,s=a[o],l=s?s.getText(t[o]):t[o]||o;return qe(r)?r(l,t):l}function ilt(t){var e=qP(t.attributes);return wi(e,function(r){return Vf(xv,r.type)})}function Tce(t){var e,r,n=ilt(t),i;try{for(var a=Jt(n),o=a.next();!o.done;o=a.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear){var u=K(t.scaleDefs,l.field),c=ice(l,u,s.type,t.type);if(c!=="cat"){i=l;break}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}var d=t.getXScale(),f=t.getYScale();return i||f||d}function alt(t,e){var r=e.field,n=t[r];if(xe(n)){var i=n.map(function(a){return e.getText(a)});return i.join("-")}return e.getText(n)}function olt(t,e){var r,n=e.getGroupScales();if(n.length&&(r=n[0]),r){var i=r.field;return r.getText(t[i])}var a=Tce(e);return zx(a)}function Ice(t,e,r){if(e.length===0)return null;var n=r.type,i=r.getXScale(),a=r.getYScale(),o=i.field,s=a.field,l=null;if(n==="heatmap"||n==="point"){for(var u=r.coordinate,c=u.invert(t),d=i.invert(c.x),f=a.invert(c.y),p=1/0,v=0;v<e.length;v++){var g=e[v],m=g[xr],y=Math.pow(m[o]-d,2)+Math.pow(m[s]-f,2);y<p&&(p=y,l=g)}return l}var x=e[0],b=e[e.length-1],w=tlt(t,r),S=x[xr][o],C=x[xr][s],E=b[xr][o],A=a.isLinear&&xe(C);if(xe(S)){for(var v=0;v<e.length;v++){var P=e[v],m=P[xr];if(i.translate(m[o][0])<=w&&i.translate(m[o][1])>=w)if(A)xe(l)||(l=[]),l.push(P);else{l=P;break}}xe(l)&&(l=$H(l,t,r))}else{var _=void 0;if(!i.isLinear&&i.type!=="timeCat"){for(var v=0;v<e.length;v++){var P=e[v],m=P[xr];if(LH(m[o],w,i))if(A)xe(l)||(l=[]),l.push(P);else{l=P;break}else i.translate(m[o])<=w&&(b=P,_=e[v+1])}xe(l)&&(l=$H(l,t,r))}else{if((w>i.translate(E)||w<i.translate(S))&&(w>i.max||w<i.min))return null;for(var k=0,O=e.length-1,D=void 0;k<=O;){D=Math.floor((k+O)/2);var B=e[D][xr][o];if(LH(B,w,i))return e[D];i.translate(B)<=i.translate(w)?(k=D+1,b=e[D],_=e[D+1]):(O===0&&(b=e[0]),O=D-1)}}b&&_&&Math.abs(i.translate(b[xr][o])-w)>Math.abs(i.translate(_[xr][o])-w)&&(b=_)}var $=rlt(r.getXScale());return!l&&Math.abs(i.translate(b[xr][o])-w)<=$/2&&(l=b),l}function Z4(t,e,r,n){var i,a;r===void 0&&(r=""),n===void 0&&(n=!1);var o=t[xr],s=nlt(o,e,r),l=e.tooltipOption,u=e.theme.defaultColor,c=[],d,f;function p(P,_){if(n||!ve(_)&&_!==""){var k={title:s,data:o,mappingData:t,name:P,value:_,color:t.color||u,marker:!0};c.push(k)}}if(lr(l)){var v=l.fields,g=l.callback;if(g){var m=v.map(function(P){return t[xr][P]}),y=g.apply(void 0,Je([],We(m),!1)),x=F({data:t[xr],mappingData:t,title:s,color:t.color||u,marker:!0},y);c.push(x)}else{var b=e.scales;try{for(var w=Jt(v),S=w.next();!S.done;S=w.next()){var C=S.value;if(!ve(o[C])){var E=b[C];d=zx(E),f=E.getText(o[C]),p(d,f)}}}catch(P){i={error:P}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}}}else{var A=Tce(e);f=alt(o,A),d=olt(o,e),p(d,f)}return c}function NH(t,e,r,n){var i,a,o=n.showNil,s=[],l=t.dataArray;if(!Xa(l)){t.sort(l);try{for(var u=Jt(l),c=u.next();!c.done;c=u.next()){var d=c.value,f=Ice(e,d,t);if(f){var p=t.getElementId(f),v=t.elementsMap[p];if(t.type==="heatmap"||v.visible){var g=Z4(f,t,r,o);g.length&&s.push(g)}}}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}return s}function BH(t,e,r,n){var i=n.showNil,a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Z4(l,t,r,i);u.length&&a.push(u)}return a}function tF(t,e,r){var n,i,a=[],o=t.geometries,s=r.shared,l=r.title,u=r.reversed;try{for(var c=Jt(o),d=c.next();!d.done;d=c.next()){var f=d.value;if(f.visible&&f.tooltipOption!==!1){var p=f.type,v=void 0;["point","edge","polygon"].includes(p)?v=BH(f,e,l,r):["area","line","path","heatmap"].includes(p)||s!==!1?v=NH(f,e,l,r):v=BH(f,e,l,r),v.length&&(u&&v.reverse(),a.push(v))}}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return a}function slt(t,e,r){var n,i,a=tF(t,e,r);try{for(var o=Jt(t.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(tF(l,e,r))}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function llt(t){return!lt(t)&&!xe(t)}function e5(t){t===void 0&&(t=0);var e=xe(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Je(Je([],We(e),!1),We(e),!1);break;case 3:e=Je(Je([],We(e),!1),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var t5={};function gp(t,e){t5[t]=e}function ult(){return Object.keys(t5)}function clt(t){return t5[t]}var dlt=function(){function t(e){this.option=this.wrapperOption(e)}return t.prototype.update=function(e){return this.option=this.wrapperOption(e),this},t.prototype.hasAction=function(e){var r=this.option.actions;return VP(r,function(n){return n[0]===e})},t.prototype.create=function(e,r){var n=this.option,i=n.type,a=n.cfg,o=i==="theta",s=F({start:e,end:r},a),l=Aat(o?"polar":i);return this.coordinate=new l(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(e,r){return this.coordinate.update({start:e,end:r}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},t.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},t.prototype.scale=function(e,r){return this.option.actions.push(["scale",e,r]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(e){return F({type:"rect",actions:[],cfg:{}},e)},t.prototype.execActions=function(e){var r=this,n=this.option.actions;Y(n,function(i){var a,o=We(i),s=o[0],l=o.slice(1),u=ve(e)?!0:e.includes(s);u&&(a=r.coordinate)[s].apply(a,Je([],We(l),!1))})},t}(),Hr=function(){function t(e,r,n){this.view=e,this.gEvent=r,this.data=n,this.type=r.type}return t.fromData=function(e,r,n){return new t(e,new Lw(r,{}),n)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}();function flt(t){var e=t.getController("axis"),r=t.getController("legend"),n=t.getController("annotation"),i=t.getController("slider"),a=t.getController("scrollbar");[e,i,a,r,n].forEach(function(o){o&&o.layout()})}var hlt=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(e,r,n,i){var a=n,o=this.getScaleMeta(i);if(r.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=Fe(l,o.scaleDef,n)}var u=dst(e,r,a);return this.cacheScale(u,n,i),u},t.prototype.sync=function(e,r){var n=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];Y(i,function(u){var c=n.getScale(u);s=lt(c.max)?Math.max(s,c.max):s,o=lt(c.min)?Math.min(o,c.min):o,Y(c.values,function(d){l.includes(d)||l.push(d)})}),Y(i,function(u){var c=n.getScale(u);if(c.isContinuous)c.change({min:o,max:s,values:l});else if(c.isCategory){var d=c.range,f=n.getScaleMeta(u);l&&!K(f,["scaleDef","range"])&&(d=ace(Fe({},c,{values:l}),e,r)),c.change({values:l,range:d})}})})},t.prototype.cacheScale=function(e,r,n){var i=this.getScaleMeta(n);i&&i.scale.type===e.type?(fst(i.scale,e),i.scaleDef=r):(i={key:n,scale:e,scaleDef:r},this.scales.set(n,i));var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(n),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(n)}},t.prototype.getScale=function(e){var r=this.getScaleMeta(e);if(!r){var n=Fn(e.split("-")),i=this.syncScales.get(n);i&&i.length&&(r=this.getScaleMeta(i[0]))}return r&&r.scale},t.prototype.deleteScale=function(e){var r=this.getScaleMeta(e);if(r){var n=r.syncKey,i=this.syncScales.get(n);if(i&&i.length){var a=i.indexOf(e);a!==-1&&i.splice(a,1)}}this.scales.delete(e)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(e){var r=this;this.syncScales.forEach(function(n,i){var a=n.indexOf(e);if(a!==-1)return n.splice(a,1),n.length===0&&r.syncScales.delete(i),!1})},t.prototype.getSyncKey=function(e){var r=e.scale,n=e.scaleDef,i=r.field,a=K(n,["sync"]);return a===!0?i:a===!1?void 0:a},t.prototype.getScaleMeta=function(e){return this.scales.get(e)},t}(),lA=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.top=e,this.right=r,this.bottom=n,this.left=i}return t.instance=function(e,r,n,i){return e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),new t(e,r,n,i)},t.prototype.max=function(e){var r=We(e,4),n=r[0],i=r[1],a=r[2],o=r[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,i),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,o),this},t.prototype.shrink=function(e){var r=We(e,4),n=r[0],i=r[1],a=r[2],o=r[3];return this.top+=n,this.right+=i,this.bottom+=a,this.left+=o,this},t.prototype.inc=function(e,r){var n=e.width,i=e.height;switch(r){case ke.TOP:case ke.TOP_LEFT:case ke.TOP_RIGHT:this.top+=i;break;case ke.RIGHT:case ke.RIGHT_TOP:case ke.RIGHT_BOTTOM:this.right+=n;break;case ke.BOTTOM:case ke.BOTTOM_LEFT:case ke.BOTTOM_RIGHT:this.bottom+=i;break;case ke.LEFT:case ke.LEFT_TOP:case ke.LEFT_BOTTOM:this.left+=n;break}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,Je([void 0],We(this.getPadding()),!1)))},t}();function plt(t){var e=t.padding;if(!llt(e))return new(lA.bind.apply(lA,Je([void 0],We(e5(e)),!1)));var r=t.viewBBox,n=new lA,i=[],a=[],o=[];return Y(t.getComponents(),function(s){var l=s.type;l===Qn.AXIS?i.push(s):[Qn.LEGEND,Qn.SLIDER,Qn.SCROLLBAR].includes(l)?a.push(s):l!==Qn.GRID&&l!==Qn.TOOLTIP&&o.push(s)}),Y(i,function(s){var l=s.component,u=l.getLayoutBBox(),c=new Aa(u.x,u.y,u.width,u.height),d=c.exceed(r);n.max(d)}),Y(a,function(s){var l=s.component,u=s.direction,c=l.getLayoutBBox(),d=l.get("padding"),f=new Aa(c.x,c.y,c.width,c.height).expand(d);n.inc(f,u)}),Y(o,function(s){var l=s.component,u=s.direction,c=l.getLayoutBBox(),d=new Aa(c.x,c.y,c.width,c.height);n.inc(d,u)}),n}function vlt(t,e,r){var n=r.instance();e.forEach(function(i){i.autoPadding=n.max(i.autoPadding.getPadding())})}var Pce=function(t){ae(e,t);function e(r){var n=t.call(this,{visible:r.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=ult(),n.scalePool=new hlt,n.layoutFunc=flt,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(b){var w=b.name;if(!w.includes(":")){var S=n.createViewEvent(b);n.doPlotEvent(S),n.emit(w,S)}},n.onDelegateEvents=function(b){var w=b.name;if(w.includes(":")){var S=n.createViewEvent(b);n.emit(w,S)}};var i=r.id,a=i===void 0?tf("view"):i,o=r.parent,s=r.canvas,l=r.backgroundGroup,u=r.middleGroup,c=r.foregroundGroup,d=r.region,f=d===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:d,p=r.padding,v=r.appendPadding,g=r.theme,m=r.options,y=r.limitInPlot,x=r.syncViewPadding;return n.parent=o,n.canvas=s,n.backgroundGroup=l,n.middleGroup=u,n.foregroundGroup=c,n.region=f,n.padding=p,n.appendPadding=v,n.options=F(F({},n.options),m),n.limitInPlot=y,n.id=a,n.syncViewPadding=x,n.themeObject=lr(g)?Fe({},q0("default"),OC(g)):q0(g),n.init(),n}return e.prototype.setLayout=function(r){this.layoutFunc=r},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(r,n){r===void 0&&(r=!1),this.emit(St.BEFORE_RENDER,Hr.fromData(this,St.BEFORE_RENDER,n)),this.paint(r),this.emit(St.AFTER_RENDER,Hr.fromData(this,St.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var r=this;this.emit(St.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,i=0;i<n.length;i++)n[i].clear(),n[i].container.remove(!0),n[i].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,i=0;i<a.length;i++)a[i].name==="annotation"?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,l){r.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,i=0;i<o.length;i++)o[i].clear();this.emit(St.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(St.BEFORE_DESTROY);var r=this.interactions;Y(r,function(s){s&&s.destroy()}),this.clear();for(var n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(r){t.prototype.changeVisible.call(this,r);for(var n=this.geometries,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(r)}for(var s=this.controllers,i=0,a=s.length;i<a;i++){var l=s[i];l.changeVisible(r)}return this.foregroundGroup.set("visible",r),this.middleGroup.set("visible",r),this.backgroundGroup.set("visible",r),this.getCanvas().draw(),this},e.prototype.data=function(r){return kn(this.options,"data",r),this.isDataChanged=!0,this},e.prototype.source=function(r){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(r)},e.prototype.filter=function(r,n){return qe(n)?(kn(this.options,["filters",r],n),this):(!n&&K(this.options,["filters",r])&&delete this.options.filters[r],this)},e.prototype.axis=function(r,n){return pg(r)?kn(this.options,["axes"],r):kn(this.options,["axes",r],n),this},e.prototype.legend=function(r,n){return pg(r)?kn(this.options,["legends"],r):nt(r)?(kn(this.options,["legends",r],n),Rl(n)&&(n!=null&&n.selected)&&kn(this.options,["filters",r],function(i){var a;return(a=n==null?void 0:n.selected[i])!==null&&a!==void 0?a:!0})):kn(this.options,["legends"],r),this},e.prototype.scale=function(r,n){var i=this;return nt(r)?kn(this.options,["scales",r],n):lr(r)&&Y(r,function(a,o){kn(i.options,["scales",o],a)}),this},e.prototype.tooltip=function(r){return kn(this.options,"tooltip",r),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(r,n){return nt(r)?kn(this.options,"coordinate",{type:r,cfg:n}):kn(this.options,"coordinate",r),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(r,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(r,n)},e.prototype.facet=function(r,n){this.facetInstance&&this.facetInstance.destroy();var i=gst(r);if(!i)throw new Error("facet '".concat(r,"' is not exist!"));return this.facetInstance=new i(this,F(F({},n),{type:r})),this},e.prototype.animate=function(r){return kn(this.options,"animate",r),this},e.prototype.updateOptions=function(r){return this.clear(),dr(this.options,r),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(r,n){if(e.prototype[r])throw new Error(`Can't use built in variable name "`.concat(r,'", please change another one.'));return kn(this.options,r,n),this},e.prototype.theme=function(r){return this.themeObject=lr(r)?Fe({},this.themeObject,OC(r)):q0(r),this},e.prototype.interaction=function(r,n){var i=this.interactions[r];i&&i.destroy();var a=Hst(r,this,n);return a&&(a.init(),this.interactions[r]=a),this},e.prototype.removeInteraction=function(r){var n=this.interactions[r];n&&(n.destroy(),this.interactions[r]=void 0)},e.prototype.changeData=function(r){this.isDataChanged=!0,this.emit(St.BEFORE_CHANGE_DATA,Hr.fromData(this,St.BEFORE_CHANGE_DATA,null)),this.data(r),this.paint(!0);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.changeData(r)}this.emit(St.AFTER_CHANGE_DATA,Hr.fromData(this,St.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(r){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:ga(this.options.scales),axes:ga(this.options.axes),coordinate:ga(this.coordinateController.getOption()),tooltip:ga(this.options.tooltip),legends:ga(this.options.legends),animate:this.options.animate,visible:this.visible},i=new e(F(F({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Vv.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Vv.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Vv.FORE}),theme:this.themeObject,padding:this.padding},r),{options:F(F({},n),K(r,"options",{}))}));return this.views.push(i),i},e.prototype.view=function(r){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(r)},e.prototype.removeView=function(r){var n=Jet(this.views,function(i){return i===r})[0];return n&&n.destroy(),n},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var r=this.geometries[0];return r?r.getXScale():null},e.prototype.getYScales=function(){var r={},n=[];return this.geometries.forEach(function(i){var a=i.getYScale(),o=a.field;r[o]||(r[o]=!0,n.push(a))}),n},e.prototype.getScalesByDim=function(r){for(var n=this.geometries,i={},a=0,o=n.length;a<o;a++){var s=n[a],l=r==="x"?s.getXScale():s.getYScale();l&&!i[l.field]&&(i[l.field]=l)}return i},e.prototype.getScale=function(r,n){var i=n||this.getScaleKey(r);return this.getRootView().scalePool.getScale(i)},e.prototype.getScaleByField=function(r,n){return this.getScale(r,n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return aa(this.geometries,function(r,n){return r.concat(n.getElements())},[])},e.prototype.getElementsBy=function(r){return this.getElements().filter(function(n){return r(n)})},e.prototype.getLayer=function(r){return r===gn.BG?this.backgroundGroup:r===gn.MID?this.middleGroup:r===gn.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(r){return sst(this.getCoordinate(),r)},e.prototype.getLegendAttributes=function(){return Mo(this.geometries.map(function(r){return r.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var r=this.geometries.map(function(n){return n.getGroupScales()});return Yc(Mo(r))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var r=this;;){if(r.parent){r=r.parent;continue}break}return r},e.prototype.getXY=function(r){var n=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if(Y(r,function(l,u){i[u]&&(o=i[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!ve(o)&&!ve(s))return n.convert({x:o,y:s})},e.prototype.getController=function(r){return Vs(this.controllers,function(n){return n.name===r})},e.prototype.showTooltip=function(r){var n=this.getController("tooltip");return n&&n.showTooltip(r),this},e.prototype.hideTooltip=function(){var r=this.getController("tooltip");return r&&r.hideTooltip(),this},e.prototype.lockTooltip=function(){var r=this.getController("tooltip");return r&&r.lockTooltip(),this},e.prototype.unlockTooltip=function(){var r=this.getController("tooltip");return r&&r.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var r=this.getController("tooltip");return r&&r.isTooltipLocked()},e.prototype.getTooltipItems=function(r){var n=this.getController("tooltip");return n?n.getTooltipItems(r):[]},e.prototype.getSnapRecords=function(r){for(var n=this.geometries,i=[],a=0,o=n.length;a<o;a++){var s=n[a],l=s.dataArray;s.sort(l);for(var u=void 0,c=0,d=l.length;c<d;c++){var f=l[c];u=Ice(r,f,s),u&&i.push(u)}}for(var p=this.views,a=0,o=p.length;a<o;a++){var v=p[a],g=v.getSnapRecords(r);i=i.concat(g)}return i},e.prototype.getComponents=function(){for(var r=[],n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];r=r.concat(o.getComponents())}return r},e.prototype.filterData=function(r){var n=this.options.filters;return Zn(n)===0?r:wi(r,function(i,a){var o=Object.keys(n);return o.every(function(s){var l=n[s];return l(i[s],i,a)})})},e.prototype.filterFieldData=function(r,n){var i=this.options.filters,a=K(i,r);return Kf(a)?n:n.filter(function(o,s){return a(o[r],o,s)})},e.prototype.adjustCoordinate=function(){var r=this.getCoordinate(),n=r.start,i=r.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(on(n,a)&&on(i,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},e.prototype.paint=function(r){this.renderDataRecursive(r),this.syncScale(),this.emit(St.BEFORE_PAINT),this.renderPaddingRecursive(r),this.renderLayoutRecursive(r),this.renderBackgroundStyleShape(),this.renderPaintRecursive(r),this.emit(St.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var r=K(this.themeObject,"background");if(r){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,i=n.x,a=n.y,o=n.width,s=n.height;this.backgroundStyleRectShape.attr({fill:r,x:i,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(r){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(r),this.autoPadding=plt(this).shrink(e5(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(l){return l.name==="tooltip"});n.update();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderPaddingRecursive(r)}},e.prototype.renderLayoutRecursive=function(r){var n=this.syncViewPadding===!0?vlt:qe(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,lA),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderLayoutRecursive(r)}},e.prototype.renderPaintRecursive=function(r){var n=this.middleGroup;if(this.limitInPlot){var i=X4(this.coordinateInstance),a=i.type,o=i.attrs;n.setClip({type:a,attrs:o})}else n.setClip(void 0);this.paintGeometries(r),this.renderComponents(r);for(var s=this.views,l=0,u=s.length;l<u;l++){var c=s[l];c.renderPaintRecursive(r)}},e.prototype.createScale=function(r,n,i,a){var o=K(this.options.scales,[r]),s=F(F({},o),i);return this.parent?this.parent.createScale(r,n,s,a):this.scalePool.createScale(r,n,s,a)},e.prototype.renderDataRecursive=function(r){this.doFilterData(),this.createCoordinate(),this.initGeometries(r),this.renderFacet(r);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderDataRecursive(r)}},e.prototype.calculateViewBBox=function(){var r,n,i,a;if(this.parent){var o=this.parent.coordinateBBox;r=o.x,n=o.y,i=o.width,a=o.height}else r=0,n=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,c=new Aa(r+i*l.x,n+a*l.y,i*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(c))&&(this.viewBBox=new Aa(r+i*l.x,n+a*l.y,i*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var r=this.usedControllers,n=0,i=r.length;n<i;n++){var a=r[n],o=clt(a);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(r){var n=r.shape,i=r.name,a=n?n.get("origin"):null,o=new Hr(this,r,a);return o.type=i,o},e.prototype.doPlotEvent=function(r){var n=r.type,i=r.x,a=r.y,o={x:i,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(n)){var l=this.isPointInPlot(o),u=r.clone();if(l){var c="plot:".concat(n);u.type=c,this.emit(c,u),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!l?(n==="mousemove"&&(u.type=Ma.MOUSE_LEAVE,this.emit(Ma.MOUSE_LEAVE,u)),u.type=Ma.LEAVE,this.emit(Ma.LEAVE,u)):!this.isPreMouseInPlot&&l&&(n==="mousemove"&&(u.type=Ma.MOUSE_ENTER,this.emit(Ma.MOUSE_ENTER,u)),u.type=Ma.ENTER,this.emit(Ma.ENTER,u)),this.isPreMouseInPlot=l):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(u.type=Ma.MOUSE_LEAVE,this.emit(Ma.MOUSE_LEAVE,u)),u.type=Ma.LEAVE,this.emit(Ma.LEAVE,u),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var r=this.options.data;this.filteredData=this.filterData(r)},e.prototype.initGeometries=function(r){this.createOrUpdateScales();for(var n=this.getCoordinate(),i=K(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:n,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};r?l.update(u):l.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var r=this.getScaleFields(),n=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,c=r.length;u<c;u++){var d=r[u],f=s[d],p=this.getScaleKey(d);this.createScale(d,n.includes(d)?a:l,f,p),this.createdScaleKeys.set(p,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var r=this.getScaleFields(),n={},i=0;i<r.length;i++){var a=r[i];n[a]=this.getScaleByField(a)}return n},e.prototype.getScaleFields=function(){for(var r=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getScaleFields();Yc(s,r,n)}return r},e.prototype.getGroupedFields=function(){for(var r=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getGroupFields();Yc(s,r,n)}return r},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var r=this,n=Je([this.getXScale()],We(this.getYScales()),!1).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;Y(n,function(o){var s=o.field,l=o.values,u=o.isCategory,c=o.isIdentity;(u||c)&&l&&!K(a,[s,"range"])&&(o.range=ace(o,i,r.theme))})},e.prototype.initComponents=function(r){for(var n=this.controllers,i=0;i<n.length;i++){var a=n[i];r?a.update():(a.clear(),a.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var r=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(r,n)},e.prototype.paintGeometries=function(r){for(var n=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=i,l.canvasRegion=a,n||l.animate(!1),l.paint(r)}},e.prototype.renderComponents=function(r){for(var n=this.getComponents(),i=0;i<n.length;i++){var a=n[i];a.component.render()}},e.prototype.renderFacet=function(r){this.facetInstance&&(r?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var r=this,n=this.options,i=n.geometries,a=i===void 0?[]:i,o=n.interactions,s=o===void 0?[]:o,l=n.views,u=l===void 0?[]:l,c=n.annotations,d=c===void 0?[]:c,f=n.coordinate,p=n.events,v=n.facets;this.coordinateController?f&&this.coordinateController.update(f):this.coordinateController=new dlt(f);for(var g=0;g<a.length;g++){var m=a[g];this.createGeometry(m)}for(var y=0;y<s.length;y++){var x=s[y],b=x.type,w=x.cfg;this.interaction(b,w)}for(var S=0;S<u.length;S++){var C=u[S];this.createView(C)}for(var E=this.getController("annotation"),A=0;A<d.length;A++){var P=d[A];E.annotation(P)}p&&Y(p,function(_,k){r.on(k,_)}),v&&Y(v,function(_){var k=_.type,O=Kt(_,["type"]);r.facet(k,O)})},e.prototype.createGeometry=function(r){var n=r.type,i=r.cfg,a=i===void 0?{}:i;if(this[n]){var o=this[n](a);Y(r,function(s,l){qe(o[l])&&o[l](s)})}},e.prototype.getScaleKey=function(r){return"".concat(this.id,"-").concat(r)},e}(A4);function su(t,e){Pce.prototype[t.toLowerCase()]=function(r){r===void 0&&(r={});var n=F({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},r),i=new e(n);return this.geometries.push(i),i}}var glt=function(t){ae(e,t);function e(r){var n=this,i=r.container,a=r.width,o=r.height,s=r.autoFit,l=s===void 0?!1:s,u=r.padding,c=r.appendPadding,d=r.renderer,f=d===void 0?"canvas":d,p=r.pixelRatio,v=r.localRefresh,g=v===void 0?!0:v,m=r.visible,y=m===void 0?!0:m,x=r.supportCSSTransform,b=x===void 0?!1:x,w=r.defaultInteractions,S=w===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:w,C=r.options,E=r.limitInPlot,A=r.theme,P=r.syncViewPadding,_=nt(i)?document.getElementById(i):i,k=pd('<div style="position:relative;"></div>');_.appendChild(k);var O=uW(_,l,a,o),D=btt(f),B=new D.Canvas(F({container:k,pixelRatio:p,localRefresh:g,supportCSSTransform:b},O));return n=t.call(this,{parent:null,canvas:B,backgroundGroup:B.addGroup({zIndex:Vv.BG}),middleGroup:B.addGroup({zIndex:Vv.MID}),foregroundGroup:B.addGroup({zIndex:Vv.FORE}),padding:u,appendPadding:c,visible:y,options:C,limitInPlot:E,theme:A,syncViewPadding:P})||this,n.onResize=ble(function(){n.forceFit()},300),n.ele=_,n.canvas=B,n.width=O.width,n.height=O.height,n.autoFit=l,n.localRefresh=g,n.renderer=f,n.wrapperElement=k,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(S),n}return e.prototype.initDefaultInteractions=function(r){var n=this;Y(r,function(i){n.interaction(i)})},e.prototype.aria=function(r){var n="aria-label";r===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,r.label)},e.prototype.changeSize=function(r,n){return this.width===r&&this.height===n?this:(this.emit(St.BEFORE_CHANGE_SIZE),this.width=r,this.height=n,this.canvas.changeSize(r,n),this.render(!0),this.emit(St.AFTER_CHANGE_SIZE),this)},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Itt(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(r){return t.prototype.changeVisible.call(this,r),this.wrapperElement.style.display=r?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var r=uW(this.ele,!0,this.width,this.height),n=r.width,i=r.height;this.changeSize(n,i)}},e.prototype.updateCanvasStyle=function(){Ji(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(Pce),Lm=function(){function t(e){this.visible=!0,this.components=[],this.view=e}return t.prototype.clear=function(e){Y(this.components,function(r){r.component.destroy()}),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(r){e?r.component.show():r.component.hide()}),this.visible=e)},t}();function mlt(t){for(var e=[],r=function(i){var a=t[i],o=Vs(e,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||e.push(a)},n=0;n<t.length;n++)r(n);return e}var _ce=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isLocked=!1,r}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var r=this.view.getOptions().tooltip;return r!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(r){if(this.point=r,!!this.isVisible()){var n=this.view,i=this.getTooltipItems(r);if(!i.length){this.hideTooltip();return}var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};n.emit("tooltip:show",Hr.fromData(n,"tooltip:show",F({items:i,title:a},r)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,c=s.showCrosshairs,d=s.showContent,f=s.marker,p=this.items,v=this.title;if(!on(v,a)||!on(p,i)?(n.emit("tooltip:change",Hr.fromData(n,"tooltip:change",F({items:i,title:a},r))),(qe(d)?d(i):d)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(dr({},s,{items:this.getItemsAfterProcess(i),title:a},l?r:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(i,f)):(this.tooltip&&l&&(this.tooltip.update(r),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=i,this.title=a,c){var g=K(s,["crosshairs","follow"],!1);this.renderCrosshairs(g?r:o,s)}}},e.prototype.hideTooltip=function(){var r=this.getTooltipCfg().follow;if(!r){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",Hr.fromData(this.view,"tooltip:hide",{})),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var r=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(r.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var r=this,n=r.tooltip,i=r.xCrosshair,a=r.yCrosshair,o=r.tooltipMarkersGroup;n&&(n.hide(),n.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(r){if(this.visible!==r){var n=this,i=n.tooltip,a=n.tooltipMarkersGroup,o=n.xCrosshair,s=n.yCrosshair;r?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=r}},e.prototype.getTooltipItems=function(r){var n,i,a,o,s,l,u=this.findItemsFromView(this.view,r);if(u.length){u=Mo(u);try{for(var c=Jt(u),d=c.next();!d.done;d=c.next()){var f=d.value;try{for(var p=(a=void 0,Jt(f)),v=p.next();!v.done;v=p.next()){var g=v.value,m=g.mappingData,y=m.x,x=m.y;g.x=xe(y)?y[y.length-1]:y,g.y=xe(x)?x[x.length-1]:x}}catch(_){a={error:_}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var b=this.getTooltipCfg().shared;if(b===!1&&u.length>1){var w=u[0],S=Math.abs(r.y-w[0].y);try{for(var C=Jt(u),E=C.next();!E.done;E=C.next()){var A=E.value,P=Math.abs(r.y-A[0].y);P<=S&&(w=A,S=P)}}catch(_){s={error:_}}finally{try{E&&!E.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}u=[w]}return mlt(Mo(u))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var r=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:r.get("width"),y:r.get("height")}})}},e.prototype.isCursorEntered=function(r){if(this.tooltip){var n=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(n&&i){var a=n.getBoundingClientRect(),o=a.x,s=a.y,l=a.width,u=a.height;return new Aa(o,s,l,u).isPointIn(r)}}return!1},e.prototype.getTooltipCfg=function(){var r=this.view,n=r.getOptions().tooltip,i=this.processCustomContent(n),a=r.getTheme(),o=K(a,["components","tooltip"],{}),s=K(i,"enterable",o.enterable);return Fe({},o,i,{capture:!!(s||this.isLocked)})},e.prototype.processCustomContent=function(r){if(pg(r)||!K(r,"customContent"))return r;var n=r.customContent,i=function(a,o){var s=n(a,o)||"";return nt(s)?'<div class="g2-tooltip">'+s+"</div>":s};return F(F({},r),{customContent:i})},e.prototype.getTitle=function(r){var n=r[0].title||r[0].name;return this.title=n,n},e.prototype.renderTooltip=function(){var r=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:r.get("width"),y:r.get("height")}},i=this.getTooltipCfg(),a=new g_(F(F({parent:r.get("el").parentNode,region:n},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},e.prototype.renderTooltipMarkers=function(r,n){var i,a,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),l=s.limitInPlot;try{for(var u=Jt(r),c=u.next();!c.done;c=u.next()){var d=c.value,f=d.x,p=d.y;if(l||o!=null&&o.getClip()){var v=X4(s.getCoordinate()),g=v.type,m=v.attrs;o==null||o.setClip({type:g,attrs:m})}else o==null||o.setClip(void 0);var y=this.view.getTheme(),x=K(y,["components","tooltip","marker"],{}),b=F(F({fill:d.color,symbol:"circle",shadowColor:d.color},qe(n)?F(F({},x),n(d)):n),{x:f,y:p});o.addShape("marker",{attrs:b})}}catch(w){i={error:w}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}},e.prototype.renderCrosshairs=function(r,n){var i=K(n,["crosshairs","type"],"x");i==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(r,n)):i==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(r,n)):i==="xy"&&(this.renderXCrosshairs(r,n),this.renderYCrosshairs(r,n))},e.prototype.renderXCrosshairs=function(r,n){var i=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:r.y},o={x:i.end.x,y:r.y}):(a={x:r.x,y:i.end.y},o={x:r.x,y:i.start.y});else{var s=yg(i,r),l=i.getCenter(),u=i.getRadius();o=In(l.x,l.y,u,s),a=l}var c=Fe({start:a,end:o,container:this.getTooltipCrosshairsGroup()},K(n,"crosshairs",{}),this.getCrosshairsText("x",r,n));delete c.type;var d=this.xCrosshair;d?d.update(c):(d=new Kue(c),d.init()),d.render(),d.show(),this.xCrosshair=d},e.prototype.renderYCrosshairs=function(r,n){var i=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(i.isRect){var s=void 0,l=void 0;i.isTransposed?(s={x:r.x,y:i.end.y},l={x:r.x,y:i.start.y}):(s={x:i.start.x,y:r.y},l={x:i.end.x,y:r.y}),a={start:s,end:l},o="Line"}else a={center:i.getCenter(),radius:m_(i,r),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";a=Fe({container:this.getTooltipCrosshairsGroup()},a,K(n,"crosshairs",{}),this.getCrosshairsText("y",r,n)),delete a.type;var u=this.yCrosshair;u?i.isRect&&u.get("type")==="circle"||!i.isRect&&u.get("type")==="line"?(u=new yH[o](a),u.init()):u.update(a):(u=new yH[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u},e.prototype.getCrosshairsText=function(r,n,i){var a=K(i,["crosshairs","text"]),o=K(i,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],c=l.getXScale(),d=l.getYScales()[0],f=void 0,p=void 0;if(o){var v=this.view.getCoordinate().invert(n);f=c.invert(v.x),p=d.invert(v.y)}else f=u.data[c.field],p=u.data[d.field];var g=r==="x"?f:p;return qe(a)?a=a(r,g,s,n):a.content=g,{text:a}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var r=this.view.foregroundGroup;this.guideGroup=r.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var r=this.tooltipMarkersGroup;return r&&!r.destroyed?(r.clear(),r.show()):(r=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),r.toFront(),this.tooltipMarkersGroup=r),r},e.prototype.getTooltipCrosshairsGroup=function(){var r=this.tooltipCrosshairsGroup;return r||(r=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),r.toBack(),this.tooltipCrosshairsGroup=r),r},e.prototype.findItemsFromView=function(r,n){var i,a;if(r.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=tF(r,n,o);try{for(var l=Jt(r.views),u=l.next();!u.done;u=l.next()){var c=u.value;s=s.concat(this.findItemsFromView(c,n))}}catch(d){i={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return s},e.prototype.getViewWithGeometry=function(r){var n=this;return r.geometries.length?r:Vs(r.views,function(i){return n.getViewWithGeometry(i)})},e.prototype.getItemsAfterProcess=function(r){var n=this.getTooltipCfg().customItems,i=n||function(a){return a};return i(r)},e}(Lm),Oce={};function kce(t){return Oce[t.toLowerCase()]}function jo(t,e){Oce[t.toLowerCase()]=e}var bg={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},ylt={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},VH={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function xlt(t,e){return{delay:qe(t.delay)?t.delay(e):t.delay,easing:qe(t.easing)?t.easing(e):t.easing,duration:qe(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}function Dce(t,e,r){var n=ylt[t];return n&&(qe(n)&&(n=n(e)),n=Fe({},bg,n)),n}function qv(t,e,r){var n=K(t.get("origin"),"data",xr),i=e.animation,a=xlt(e,n);if(i){var o=kce(i);o&&o(t,a,r)}else t.animate(r.toAttrs,a)}function blt(t,e,r,n,i){if(VH[r]){var a=VH[r](n),o=kce(K(a,"animation",""));if(o){var s=F(F(F({},bg.appear),a),e);t.stopAnimate(),o(t,s,{coordinate:n,minYPoint:i,toAttrs:null})}}}var r5="element-background",Mce=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.labelShape=[],n.states=[];var i=r.shapeFactory,a=r.container,o=r.offscreenGroup,s=r.elementIndex,l=r.visible,u=l===void 0?!0:l;return n.shapeFactory=i,n.container=a,n.offscreenGroup=o,n.visible=u,n.elementIndex=s,n}return e.prototype.draw=function(r,n){n===void 0&&(n=!1),this.model=r,this.data=r.data,this.shapeType=this.getShapeType(r),this.drawShape(r,n),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(r){var n=this,i=n.shapeFactory,a=n.shape;if(a){this.model=r,this.data=r.data,this.shapeType=this.getShapeType(r),this.setShapeInfo(a,r);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,r,o);s.cfg.data=this.data,s.cfg.origin=r,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var r=this,n=r.shapeFactory,i=r.shape;if(i){var a=this.getAnimateCfg("leave");a?qv(i,a,{coordinate:n.coordinate,toAttrs:F({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(r){t.prototype.changeVisible.call(this,r),r?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},e.prototype.setState=function(r,n){var i=this,a=i.states,o=i.shapeFactory,s=i.model,l=i.shape,u=i.shapeType,c=a.indexOf(r);if(n){if(c>-1)return;a.push(r),(r==="active"||r==="selected")&&(l==null||l.toFront())}else{if(c===-1)return;if(a.splice(c,1),r==="active"||r==="selected"){var d=this.geometry,f=d.sortZIndex,p=d.zIndexReversed,v=p?this.geometry.elements.length-this.elementIndex:this.elementIndex;f?l.setZIndex(v):l.set("zIndex",v)}}var g=o.drawShape(u,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(l,g,a,null):this.syncShapeStyle(l,g,["reset"],null),g.remove(!0);var m={state:r,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",m),Fue(this.shape,"statechange",m)},e.prototype.clearStates=function(){var r=this,n=this.states;Y(n,function(i){r.setState(i,!1)}),this.states=[]},e.prototype.hasState=function(r){return this.states.includes(r)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var r=this,n=r.shape,i=r.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(a=n.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var r=this,n=r.shapeType,i=r.geometry,a=r.shapeFactory,o=i.stateOption,s=a.defaultShapeType,l=a.theme[n]||a.theme[s];this.statesStyle=Fe({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(r,n){var i=this.getStatesStyle(),a=K(i,[r,"style"],{}),o=a[n]||a;return qe(o)?o(this):o},e.prototype.getAnimateCfg=function(r){var n=this,i=this.animate;if(i){var a=i[r];return a&&F(F({},a),{callback:function(){var o;qe(a.callback)&&a.callback(),(o=n.geometry)===null||o===void 0||o.emit(hd.AFTER_DRAW_ANIMATE)}})}return null},e.prototype.drawShape=function(r,n){var i;n===void 0&&(n=!1);var a=this,o=a.shapeFactory,s=a.container,l=a.shapeType;if(this.shape=o.drawShape(l,r,s),this.shape){this.setShapeInfo(this.shape,r);var u=this.shape.cfg.name;u?nt(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=n?"enter":"appear",d=this.getAnimateCfg(c);d&&((i=this.geometry)===null||i===void 0||i.emit(hd.BEFORE_DRAW_ANIMATE),qv(this.shape,d,{coordinate:o.coordinate,toAttrs:F({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var r=this.container.getGroupBase();this.offscreenGroup=new r({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(r,n){var i=this;if(r.cfg.origin=n,r.cfg.element=this,r.isGroup()){var a=r.get("children");a.forEach(function(o){i.setShapeInfo(o,n)})}},e.prototype.syncShapeStyle=function(r,n,i,a,o){var s=this,l;if(i===void 0&&(i=[]),o===void 0&&(o=0),!(!r||!n)){var u=r.get("clipShape"),c=n.get("clipShape");if(this.syncShapeStyle(u,c,i,a),r.isGroup())for(var d=r.get("children"),f=n.get("children"),p=0;p<d.length;p++)this.syncShapeStyle(d[p],f[p],i,a,o+p);else{if(!Xa(i)&&!on(i,["reset"])){var v=r.get("name");xe(v)&&(v=v[1]),Y(i,function(m){if(n.get("name")!==r5){var y=s.getStateStyle(m,v||o);n.attr(y)}})}var g=nce(r,n);this.animate?a?((l=this.geometry)===null||l===void 0||l.emit(hd.BEFORE_DRAW_ANIMATE),qv(r,a,{coordinate:this.shapeFactory.coordinate,toAttrs:g,shapeModel:this.model})):Xa(i)?r.attr(g):(r.stopAnimate(),r.animate(g,{duration:300})):r.attr(g)}}},e.prototype.getShapeType=function(r){var n=K(r,"shape");return xe(n)?n[0]:n},e}(A4),Rce={},jce={};function wlt(t){return Rce[t.toLowerCase()]}function Uw(t,e){Rce[t.toLowerCase()]=e}function Slt(t){return jce[t.toLowerCase()]}function to(t,e){jce[t.toLowerCase()]=e}var Elt={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var r=this.getShape(t);return r.getPoints?r.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return K(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var r=this.getShape(t);if(!r.getMarker){var n=this.defaultShapeType;r=this.getShape(n)}var i=this.theme,a=K(i,[t,"default"],{}),o=r.getMarker(e);return Fe({},a,o)},drawShape:function(t,e,r){var n=this.getShape(t);return n.draw(e,r)}},Alt={coordinate:null,parsePath:function(t){var e=this.coordinate,r=Pst(t);return e.isPolar?r=Cst(e,r):r=Ast(e,r),r},parsePoint:function(t){var e=this.coordinate;return e.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map(function(r){return e.convert(r)})},draw:function(t,e){}},n5={};function rf(t,e){var r=vp(t),n=F(F(F({},Elt),e),{geometryType:t});return n5[r]=n,n}function tr(t,e,r){var n=vp(t),i=n5[n],a=F(F({},Alt),r);return i[e]=a,a}function zH(t){var e=vp(t);return n5[e]}function Clt(t,e,r){var n,i;if(r===void 0&&(r={}),!e)return[t];var a=vle(t,e),o=[];if(e.length===1&&r[e[0]]){var s=r[e[0]];try{for(var l=Jt(s),u=l.next();!u.done;u=l.next()){var c=u.value,d=a["_".concat(c)];d&&o.push(d)}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}else for(var f in a)if(a.hasOwnProperty(f)){var p=a[f];o.push(p)}return o}function Fce(t,e){return VP(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(r){return!on(t[r],e[r])})}function Dy(t){return xe(t)?t:t.split("*")}function Lce(t,e){for(var r=[],n=[],i=[],a=new Map,o=0;o<e.length;o++){var s=e[o];t[s]?n.push(s):r.push(s),a.set(s,!0)}return Object.keys(t).forEach(function(l){a.has(l)||i.push(l)}),{added:r,updated:n,removed:i}}var nf=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=r.container,a=r.labelsContainer,o=r.coordinate,s=r.data,l=r.sortable,u=l===void 0?!1:l,c=r.visible,d=c===void 0?!0:c,f=r.theme,p=r.scales,v=p===void 0?{}:p,g=r.scaleDefs,m=g===void 0?{}:g,y=r.intervalPadding,x=r.dodgePadding,b=r.maxColumnWidth,w=r.minColumnWidth,S=r.columnWidthRatio,C=r.roseWidthRatio,E=r.multiplePieWidthRatio,A=r.zIndexReversed,P=r.sortZIndex,_=r.useDeferredLabel;return n.container=i,n.labelsContainer=a,n.coordinate=o,n.data=s,n.sortable=u,n.visible=d,n.userTheme=f,n.scales=v,n.scaleDefs=m,n.intervalPadding=y,n.dodgePadding=x,n.maxColumnWidth=b,n.minColumnWidth=w,n.columnWidthRatio=S,n.roseWidthRatio=C,n.multiplePieWidthRatio=E,n.zIndexReversed=A,n.sortZIndex=P,n.useDeferredLabel=_?typeof _=="number"?_:1/0:null,n}return e.prototype.position=function(r){var n=r;Rl(r)||(n={fields:Dy(r)});var i=K(n,"fields");return i.length===1&&(i.unshift("1"),kn(n,"fields",i)),kn(this.attributeOption,"position",n),this},e.prototype.color=function(r,n){return this.createAttrOption("color",r,n),this},e.prototype.shape=function(r,n){return this.createAttrOption("shape",r,n),this},e.prototype.size=function(r,n){return this.createAttrOption("size",r,n),this},e.prototype.adjust=function(r){var n=r;return(nt(r)||Rl(r))&&(n=[r]),Y(n,function(i,a){lr(i)||(n[a]={type:i})}),this.adjustOption=n,this},e.prototype.style=function(r,n){if(nt(r)){var i=Dy(r);this.styleOption={fields:i,callback:n}}else{var a=r,i=a.fields,o=a.callback,s=a.cfg;i||o||s?this.styleOption=r:this.styleOption={cfg:r}}return this},e.prototype.tooltip=function(r,n){if(nt(r)){var i=Dy(r);this.tooltipOption={fields:i,callback:n}}else this.tooltipOption=r;return this},e.prototype.animate=function(r){return this.animateOption=r,this},e.prototype.label=function(r,n,i){if(nt(r)){var a={},o=Dy(r);a.fields=o,qe(n)?a.callback=n:Rl(n)&&(a.cfg=n),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=r;return this},e.prototype.state=function(r){return this.stateOption=r,this},e.prototype.customInfo=function(r){return this.customOption=r,this},e.prototype.init=function(r){r===void 0&&(r={}),this.setCfg(r),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(r){r===void 0&&(r={});var n=r.data,i=r.isDataChanged,a=r.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;on(s,l)?n&&(i||!on(n,this.data))?(this.setCfg(r),this.initAttributes(),this.processData(n)):this.setCfg(r):this.init(r),this.adjustScale(),this.isCoordinateChanged=a},e.prototype.paint=function(r){var n=this;r===void 0&&(r=!1),this.animateOption&&(this.animateOption=Fe({},Dce(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var i=this.getOffscreenGroup();i.clear();var a=this.beforeMappingData,o=this.beforeMapping(a);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var l=o[s];this.dataArray[s]=this.mapping(l)}if(this.updateElements(this.dataArray,r),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(r)){var u=this.container,c=this.type,d=this.coordinate,f=K(this.animateOption,"appear"),p=this.getYScale(),v=d.convert({x:0,y:p.scale(this.getYMinValue())});blt(u,f,c,d,v)}if(this.labelOption){var g=this.useDeferredLabel,m=(function(){return n.renderLabels(Mo(n.dataArray),r)}).bind(this);if(typeof g=="number"){var y=typeof g=="number"&&g!==1/0?g:0;if(!window.requestIdleCallback)setTimeout(m,y);else{var x=y&&y!==1/0?{timeout:y}:void 0;window.requestIdleCallback(m,x)}}else m()}this.lastAttributeOption=F({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var r=this,n=r.container,i=r.geometryLabel,a=r.offscreenGroup;n&&n.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var r=this.container;r.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(r){return this.attributes[r]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var r=[];return Y(this.attributes,function(n){xv.includes(n.type)&&r.push(n)}),r},e.prototype.getDefaultValue=function(r){var n,i=this.getAttribute(r);return i&&Xa(i.scales)&&(n=i.values[0]),n},e.prototype.getAttributeValues=function(r,n){for(var i=[],a=r.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?i.push(l.values):i.push(n[u])}return r.mapping.apply(r,Je([],We(i),!1))},e.prototype.getAdjust=function(r){return this.adjusts[r]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(r,n){var i=this.getShapeFactory();return i.getMarker(r,n)},e.prototype.getElementsBy=function(r){return this.elements.filter(function(n){return r(n)})},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(r){r=xe(r)?r[0]:r;var n=r[xr];if(this.idFields.length){for(var i=n[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+n[this.idFields[a]];return i}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",c=l.field||"y",d=n[c],f;s.type==="identity"?f=s.values[0]:f=n[u];var p;o==="interval"||o==="schema"?p="".concat(f):o==="line"||o==="area"||o==="path"?p=o:p="".concat(f,"-").concat(d);for(var v=this.groupScales,a=0,g=v.length;a<g;a++){var m=v[a],y=m.field;p="".concat(p,"-").concat(n[y])}var x=this.getAdjust("dodge");if(x){var b=x.dodgeBy;b&&(p="".concat(p,"-").concat(n[b]))}return this.getAdjust("jitter")&&(p="".concat(p,"-").concat(r.x,"-").concat(r.y)),p},e.prototype.getScaleFields=function(){var r=[],n=new Map,i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Yc(u.fields,r,n):u.values&&Yc(u.values,r,n)}return o&&o.fields&&Yc(o.fields,r,n),lr(s)&&s.fields&&Yc(s.fields,r,n),r},e.prototype.changeVisible=function(r){t.prototype.changeVisible.call(this,r);for(var n=this.elements,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(r)}r?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var r=new Map,n=[];return Object.values(this.attributeOption).forEach(function(i){var a=(i==null?void 0:i.fields)||[];a.forEach(function(o){r.has(o)||n.push(o),r.set(o,!0)})},[]),n},e.prototype.getGroupFields=function(){for(var r=[],n=new Map,i=0,a=xv.length;i<a;i++){var o=xv[i],s=this.attributeOption[o];s&&s.fields&&Yc(s.fields,r,n)}return r},e.prototype.getXYFields=function(){var r=We(this.attributeOption.position.fields,2),n=r[0],i=r[1];return[n,i]},e.prototype.getXField=function(){return K(this.getXYFields(),[0])},e.prototype.getYField=function(){return K(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map(function(r){return r.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var r=this.container.getGroupBase();this.offscreenGroup=new r({})}return this.offscreenGroup},e.prototype.sort=function(r){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,a=0;a<r.length;a++){var o=r[a];o.sort(function(s,l){return n.translate(s[xr][i])-n.translate(l[xr][i])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var r=this.getYScale();r&&this.getAdjust("stack")&&this.updateStackRange(r,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var r=this.shapeType;if(zH(r))return this.shapeFactory||(this.shapeFactory=ga(zH(r))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[r]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(r){var n=this.getXScale(),i=this.getYScale(),a=this.normalizeValues(r[n.field],n),o;return i?o=this.normalizeValues(r[i.field],i):o=r.y?r.y:.1,{x:a,y:o,y0:i?i.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(r,n,i){i===void 0&&(i=!1);var a=this.container,o=this.getDrawCfg(r),s=this.getShapeFactory(),l=new Mce({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return l.animate=this.animateOption,l.geometry=this,l.draw(o,i),l},e.prototype.getDrawCfg=function(r){var n=r[xr],i={mappingData:r,data:n,x:r.x,y:r.y,color:r.color,size:r.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=r.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=K(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,n)),this.generatePoints&&(i.points=r.points,i.nextPoints=r.nextPoints),i},e.prototype.updateElements=function(r,n){var i,a,o,s,l,u;n===void 0&&(n=!1);for(var c=new Map,d=[],f=new Map,p=0,v=0;v<r.length;v++)for(var g=r[v],m=0;m<g.length;m++){var y=g[m],x=this.getElementId(y),b=c.has(x)?"".concat(x,"-").concat(v,"-").concat(m):x;d.push(b),c.set(b,y),f.set(b,p),p++}this.elements=new Array(p);var w=Lce(this.lastElementsMap,d),S=w.added,C=w.updated,E=w.removed;try{for(var A=Jt(S),P=A.next();!P.done;P=A.next()){var x=P.value,y=c.get(x),v=f.get(x),_=this.createElement(y,v,n);this.elements[v]=_,this.elementsMap[x]=_,_.shape&&_.shape.set("zIndex",this.zIndexReversed?this.elements.length-v:v)}}catch(R){i={error:R}}finally{try{P&&!P.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var k=Jt(C),O=k.next();!O.done;O=k.next()){var x=O.value,_=this.lastElementsMap[x],y=c.get(x),D=this.getDrawCfg(y),B=_.getModel(),v=f.get(x);(this.isCoordinateChanged||Fce(D,B))&&(_.animate=this.animateOption,_.update(D)),this.elements[v]=_,this.elementsMap[x]=_,_.shape&&_.shape.set("zIndex",this.zIndexReversed?this.elements.length-v:v)}}catch(R){o={error:R}}finally{try{O&&!O.done&&(s=k.return)&&s.call(k)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var $=Jt(E),L=$.next();!L.done;L=$.next()){var x=L.value,_=this.lastElementsMap[x];_.animate=this.animateOption,_.destroy()}}catch(R){l={error:R}}finally{try{L&&!L.done&&(u=$.return)&&u.call($)}finally{if(l)throw l.error}}},e.prototype.getLabelType=function(){var r=this,n=r.labelOption,i=r.coordinate,a=r.type,o=i.type,s=i.isTransposed,l=K(n,["cfg","type"]);return l||(o==="polar"?l=s?"pie":"polar":o==="theta"?l="pie":a==="interval"||a==="polygon"?l="interval":l="base"),l},e.prototype.getYMinValue=function(){var r=this.getYScale(),n=r.min,i=r.max,a;return n>=0?a=n:i<=0?a=i:a=0,a},e.prototype.createAttrOption=function(r,n,i){if(ve(n)||lr(n))lr(n)&&on(Object.keys(n),["values"])?kn(this.attributeOption,r,{fields:n.values}):kn(this.attributeOption,r,n);else{var a={};lt(n)?a.values=[n]:a.fields=Dy(n),i&&(qe(i)?a.callback=i:a.values=i),kn(this.attributeOption,r,a)}},e.prototype.initAttributes=function(){var r=this,n=this,i=n.attributes,a=n.attributeOption,o=n.theme,s=n.shapeType;this.groupScales=[];var l={},u=function(f){if(a.hasOwnProperty(f)){var p=a[f];if(!p)return{value:void 0};var v=F({},p),g=v.callback,m=v.values,y=v.fields,x=y===void 0?[]:y,b=x.map(function(S){var C=r.scales[S];if(!l[S]&&xv.includes(f)){var E=ice(C,K(r.scaleDefs,S),f,r.type);E==="cat"&&(r.groupScales.push(C),l[S]=!0)}return C});v.scales=b,f!=="position"&&b.length===1&&b[0].type==="identity"?v.values=b[0].values:!g&&!m&&(f==="size"?v.values=o.sizes:f==="shape"?v.values=o.shapes[s]||[]:f==="color"&&(b.length?v.values=b[0].values.length<=10?o.colors10:o.colors20:v.values=o.colors10));var w=Mue(f);i[f]=new w(v)}};for(var c in a){var d=u(c);if(typeof d=="object")return d.value}},e.prototype.processData=function(r){var n,i;this.hasSorted=!1;for(var a=this.getAttribute("position").scales,o=a.filter(function(E){return E.isCategory}),s=this.groupData(r),l=[],u=0,c=s.length;u<c;u++){for(var d=s[u],f=[],p=0,v=d.length;p<v;p++){var g=d[p],m={};for(var y in g)m[y]=g[y];m[xr]=g;try{for(var x=(n=void 0,Jt(o)),b=x.next();!b.done;b=x.next()){var w=b.value,S=w.field;m[S]=w.translate(m[S])}}catch(E){n={error:E}}finally{try{b&&!b.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}f.push(m)}l.push(f)}var C=this.adjustData(l);return this.beforeMappingData=C,C},e.prototype.adjustData=function(r){var n=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,c=this.columnWidthRatio||s.columnWidthRatio,d=r;if(n){var f=this.getXScale(),p=this.getYScale(),v=f.field,g=p?p.field:null,m=Vw(this.coordinate),y=f.values.length,x=this.getAttribute("size"),b=void 0;x&&(b=x.values[0]);for(var w=0,S=n.length;w<S;w++){var C=n[w],E=F({xField:v,yField:g,intervalPadding:a,dodgePadding:o,xDimensionLength:m,groupNum:y,defaultSize:b,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:c},C),A=C.type;if(A==="dodge"){var P=[];if(f.isCategory||f.type==="identity")P.push("x");else if(!p)P.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");E.adjustNames=P,E.dodgeRatio=c}else if(A==="stack"){var _=this.coordinate;if(!p){E.height=_.getHeight();var k=this.getDefaultValue("size")||3;E.size=k}!_.isTransposed&&ve(E.reverseOrder)&&(E.reverseOrder=!0)}var O=due(A);E.dimValuesMap={},f&&f.values&&(E.dimValuesMap[f.field]=f.values.map(function(B){return f.translate(B)}));var D=new O(E);d=D.process(d),this.adjusts[A]=D}}return d},e.prototype.groupData=function(r){for(var n=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<n.length;s++){var l=n[s],u=l.field;o.push(u),K(i,[u,"values"])&&(a[u]=i[u].values)}return Clt(r,o,a)},e.prototype.updateStackRange=function(r,n){for(var i=Mo(n),a=r.field,o=r.min,s=r.max,l=0;l<i.length;l++){var u=i[l],c=Math.min.apply(null,u[a]),d=Math.max.apply(null,u[a]);c<o&&(o=c),d>s&&(s=d)}var f=this.scaleDefs,p={};o<r.min&&!K(f,[a,"min"])&&(p.min=o),s>r.max&&!K(f,[a,"max"])&&(p.max=s),r.change(p)},e.prototype.beforeMapping=function(r){var n=r;if(this.sortable&&this.sort(n),this.generatePoints)for(var i=0,a=n.length;i<a;i++){var o=n[i];this.generateShapePoints(o);var s=n[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return n},e.prototype.generateShapePoints=function(r){for(var n=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<r.length;a++){var o=r[a],s=this.createShapePointsCfg(o),l=i?this.getAttributeValues(i,o):null,u=n.getShapePoints(l,s);o.points=u}},e.prototype.normalizeValues=function(r,n){var i=[];if(xe(r))for(var a=0;a<r.length;a++){var o=r[a];i.push(n.scale(o))}else i=n.scale(r);return i},e.prototype.mapping=function(r){for(var n=this.attributes,i=[],a=0;a<r.length;a++){var o=r[a],s={_origin:o[xr],points:o.points,nextPoints:o.nextPoints};for(var l in n)if(n.hasOwnProperty(l)){var u=n[l],c=u.names,d=this.getAttributeValues(u,o);if(c.length>1)for(var f=0;f<d.length;f+=1){var p=d[f],v=c[f];s[v]=xe(p)&&p.length===1?p[0]:p}else s[c[0]]=d.length===1?d[0]:d}this.convertPoint(s),i.push(s)}return i},e.prototype.convertPoint=function(r){var n=r.x,i=r.y,a,o,s,l=this.coordinate;if(xe(n)&&xe(i)){a=[],o=[];for(var u=0,c=0,d=n.length,f=i.length;u<d&&c<f;u+=1,c+=1)s=l.convert({x:n[u],y:i[c]}),a.push(s.x),o.push(s.y)}else if(xe(i)){o=[];for(var p=0;p<i.length;p++){var v=i[p];s=l.convert({x:n,y:v}),a&&a!==s.x?(xe(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if(xe(n)){a=[];for(var p=0;p<n.length;p++){var g=n[p];s=l.convert({x:g,y:i}),o&&o!==s.y?(xe(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var m=l.convert({x:n,y:i});a=m.x,o=m.y}r.x=a,r.y=o},e.prototype.getStyleCfg=function(r,n){var i=r.fields,a=i===void 0?[]:i,o=r.callback,s=r.cfg;if(s)return s;var l=a.map(function(u){return n[u]});return o.apply(void 0,Je([],We(l),!1))},e.prototype.setCfg=function(r){var n=this,i=r.coordinate,a=r.data,o=r.theme,s=r.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],Y(s,function(l,u){l&&l.key&&n.idFields.push(u)})),o&&(this.theme=this.userTheme?Fe({},o,this.userTheme):o)},e.prototype.renderLabels=function(r,n){return n===void 0&&(n=!1),cx(this,void 0,void 0,function(){var i,a,o,s,l,u,c,d,f,p,v,g,m=this;return dx(this,function(y){switch(y.label){case 0:return i=this.geometryLabel,this.emit(hd.BEFORE_RENDER_LABEL),i||(a=this.getLabelType(),o=wlt(a),i=new o(this),this.geometryLabel=i),[4,i.render(r,n)];case 1:y.sent(),s=i.labelsRenderer.shapesMap,l=new Map,Y(s,function(x,b){for(var w=x.getChildren()||[],S=0;S<w.length;S++){var C=w[S],E=m.elementsMap[C.get("elementId")||b.split(" ")[0]];if(E){C.cfg.name=["element","label"],C.cfg.element=E;var A=l.get(E)||new Set;A.add(x),l.set(E,A)}}});try{for(u=Jt(l.entries()),c=u.next();!c.done;c=u.next())d=We(c.value,2),f=d[0],p=d[1],f.labelShape=Je([],We(p),!1)}catch(x){v={error:x}}finally{try{c&&!c.done&&(g=u.return)&&g.call(u)}finally{if(v)throw v.error}}return this.emit(hd.AFTER_RENDER_LABEL),[2]}})})},e.prototype.canDoGroupAnimation=function(r){return!r&&this.animateOption&&(K(this.animateOption,"appear")===void 0||K(this.animateOption,"appear")&&K(this.animateOption,["appear","animation"])===void 0)},e}(A4),w_=Rn;function qw(t,e,r){var n=w_(t.getMatrix(),[["t",e,r]]);t.setMatrix(n)}function Tlt(t,e){var r=t.attr(),n=r.x,i=r.y,a=w_(t.getMatrix(),[["t",-n,-i],["r",e],["t",n,i]]);return a}function i5(t,e){var r=Tlt(t,e);t.setMatrix(r)}function Ilt(t,e){var r=t.getBBox(),n=(r.minX+r.maxX)/2,i=(r.minY+r.maxY)/2;t.applyToMatrix([n,i,1]);var a=w_(t.getMatrix(),[["t",-n,-i],["s",e,e],["t",n,i]]);t.setMatrix(a)}function Nd(t){return t.find(function(e){return e.get("type")==="text"})}function $ce(t,e,r){r===void 0&&(r=[0,0,0,0]);var n=t&&t.getChildren()[0];if(n){var i=n.clone();e!=null&&e.rotate&&i5(i,-e.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;i.destroy();var c=r;return ve(c)?c=[2,2,2,2]:lt(c)&&(c=new Array(4).fill(c)),{x:o-c[3],y:s-c[0],width:l+c[1]+c[3],height:u+c[0]+c[2],rotation:(e==null?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Plt(t,e,r){var n=Math.max(0,Math.min(t.x+t.width+r,e.x+e.width+r)-Math.max(t.x-r,e.x-r)),i=Math.max(0,Math.min(t.y+t.height+r,e.y+e.height+r)-Math.max(t.y-r,e.y-r));return n*i}function _lt(t,e){var r=t.getBBox();return VP(e,function(n){var i=n.getBBox();return Plt(r,i,2)>0})}function Nce(t,e,r){var n=r.data,i=r.origin,a=r.animateCfg,o=r.coordinate,s=K(a,"update");t.set("data",n),t.set("origin",i),t.set("animateCfg",a),t.set("coordinate",o),t.set("visible",e.get("visible")),(t.getChildren()||[]).forEach(function(l,u){var c=e.getChildByIndex(u);if(!c)t.removeChild(l),l.remove(!0);else{l.set("data",n),l.set("origin",i),l.set("animateCfg",a),l.set("coordinate",o);var d=nce(l,c);s?qv(l,s,{toAttrs:d,coordinate:o}):l.attr(d),c.isGroup()&&Nce(l,c,r)}}),Y(e.getChildren(),function(l,u){xe(t.getChildren())&&u>=t.getCount()&&(l.destroyed||t.add(l))})}var Olt=function(){function t(e){this.shapesMap={};var r=e.layout,n=e.container;this.layout=r,this.container=n}return t.prototype.render=function(e,r,n){return n===void 0&&(n=!1),cx(this,void 0,void 0,function(){var i,a,o,s,l,u,c,d,f=this;return dx(this,function(p){switch(p.label){case 0:if(i={},a=this.createOffscreenGroup(),!e.length)return[3,2];try{for(o=Jt(e),s=o.next();!s.done;s=o.next())l=s.value,l&&(i[l.id]=this.renderLabel(l,a))}catch(v){c={error:v}}finally{try{s&&!s.done&&(d=o.return)&&d.call(o)}finally{if(c)throw c.error}}return[4,this.doLayout(e,r,i)];case 1:p.sent(),this.renderLabelLine(e,i),this.renderLabelBackground(e,i),this.adjustLabel(e,i),p.label=2;case 2:return u=this.shapesMap,Y(i,function(v,g){if(v.destroyed)delete i[g];else{if(u[g]){var m=v.get("data"),y=v.get("origin"),x=v.get("coordinate"),b=v.get("animateCfg"),w=u[g];Nce(w,i[g],{data:m,origin:y,animateCfg:b,coordinate:x}),i[g]=w}else{if(f.container.destroyed)return;f.container.add(v);var S=K(v.get("animateCfg"),n?"enter":"appear");S&&qv(v,S,{toAttrs:F({},v.attr()),coordinate:v.get("coordinate")})}delete u[g]}}),Y(u,function(v){var g=K(v.get("animateCfg"),"leave");g?qv(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.shapesMap=i,a.destroy(),[2]}})})},t.prototype.clear=function(){this.container.clear(),this.shapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},t.prototype.renderLabel=function(e,r){var n=e.id,i=e.elementId,a=e.data,o=e.mappingData,s=e.coordinate,l=e.animate,u=e.content,c=e.capture,d={id:n,elementId:i,capture:c,data:a,origin:F(F({},o),{data:o[xr]}),coordinate:s},f=r.addGroup(F({name:"label",animateCfg:this.animate===!1||l===null||l===!1?!1:Fe({},this.animate,l)},d)),p;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var v=u.getCanvasBBox(),g=v.width,m=v.height,y=K(e,"textAlign","left"),x=e.x,b=e.y-m/2;y==="center"?x=x-g/2:(y==="right"||y==="end")&&(x=x-g),qw(u,x,b),p=u,f.add(u)}else{var w=K(e,["style","fill"]);p=f.addShape("text",F({attrs:F(F({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:K(e,"textBaseline","middle"),text:e.content},e.style),{fill:stt(w)?e.color:w})},d))}return e.rotate&&i5(p,e.rotate),f},t.prototype.doLayout=function(e,r,n){return cx(this,void 0,void 0,function(){var i,a=this;return dx(this,function(o){switch(o.label){case 0:return this.layout?(i=xe(this.layout)?this.layout:[this.layout],[4,Promise.all(i.map(function(s){var l=Slt(K(s,"type",""));if(l){var u=[],c=[];return Y(n,function(d,f){u.push(d),c.push(r[d.get("elementId")])}),l(e,u,c,a.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.renderLabelLine=function(e,r){Y(e,function(n){var i=K(n,"coordinate");if(!(!n||!i)){var a=i.getCenter(),o=i.getRadius();if(n.labelLine){var s=K(n,"labelLine",{}),l=n.id,u=s.path;if(!u){var c=In(a.x,a.y,o,n.angle);u=[["M",c.x,c.y],["L",n.x,n.y]]}var d=r[l];d.destroyed||d.addShape("path",{capture:!1,attrs:F({path:u,stroke:n.color?n.color:K(n,["style","fill"],"#000"),fill:null},s.style),id:l,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},t.prototype.renderLabelBackground=function(e,r){Y(e,function(n){var i=K(n,"coordinate"),a=K(n,"background");if(!(!a||!i)){var o=n.id,s=r[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=$ce(s,n,a.padding),c=u.rotation,d=Kt(u,["rotation"]),f=s.addShape("rect",{attrs:F(F({},d),a.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(f.setZIndex(-1),c){var p=l.getMatrix();f.setMatrix(p)}}}}})},t.prototype.createOffscreenGroup=function(){var e=this.container,r=e.getGroupBase(),n=new r({});return n},t.prototype.adjustLabel=function(e,r){Y(e,function(n){if(n){var i=n.id,a=r[i];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});Y(o,function(s){s&&(n.offsetX&&s.attr("x",s.attr("x")+n.offsetX),n.offsetY&&s.attr("y",s.attr("y")+n.offsetY))})}}})},t}();function UH(t){var e=0;return Y(t,function(r){e+=r}),e/t.length}var S_=function(){function t(e){this.geometry=e}return t.prototype.getLabelItems=function(e){var r=this,n=[],i=this.getLabelCfgs(e);return Y(e,function(a,o){var s=i[o];if(!s||ve(a.x)||ve(a.y)){n.push(null);return}var l=xe(s.content)?s.content:[s.content];s.content=l;var u=l.length;Y(l,function(c,d){if(ve(c)||c===""){n.push(null);return}var f=F(F({},s),r.getLabelPoint(s,a,d));f.textAlign||(f.textAlign=r.getLabelAlign(f,d,u)),f.offset<=0&&(f.labelLine=null),n.push(f)})}),n},t.prototype.render=function(e,r){return r===void 0&&(r=!1),cx(this,void 0,void 0,function(){var n,i,a;return dx(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(e),i=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,i.render(n,a,r)];case 1:return o.sent(),[2]}})})},t.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},t.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(e,r){var n=this.geometry,i=n.type,a=n.theme;return i==="polygon"||i==="interval"&&r==="middle"||e<0&&!["line","point","path"].includes(i)?K(a,"innerLabels",{}):K(a,"labels",{})},t.prototype.getThemedLabelCfg=function(e){var r=this.geometry,n=this.getDefaultLabelCfg(),i=r.type,a=r.theme,o;return i==="polygon"||e.offset<0&&!["line","point","path"].includes(i)?o=Fe({},n,a.innerLabels,e):o=Fe({},n,a.labels,e),o},t.prototype.setLabelPosition=function(e,r,n,i){},t.prototype.getLabelOffset=function(e){var r=this.getCoordinate(),n=this.getOffsetVector(e);return r.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(e,r,n){var i=e.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return r>0||n===1?u[s]=i*l:u[s]=i*l*-1,u},t.prototype.getLabelPoint=function(e,r,n){var i=this.getCoordinate(),a=e.content.length;function o(m,y,x){x===void 0&&(x=!1);var b=m;return xe(b)&&(e.content.length===1?x?b=UH(b):b.length<=2?b=b[m.length-1]:b=UH(b):b=b[y]),b}var s={content:e.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=xe(r.shape)?r.shape[0]:r.shape,u=l==="funnel"||l==="pyramid";if(this.geometry.type==="polygon"){var c=nst(r.x,r.y);s.x=c[0],s.y=c[1]}else this.geometry.type==="interval"&&!u?(s.x=o(r.x,n,!0),s.y=o(r.y,n)):(s.x=o(r.x,n),s.y=o(r.y,n));if(u){var d=K(r,"nextPoints"),f=K(r,"points");if(d){var p=i.convert(f[1]),v=i.convert(d[1]);s.x=(p.x+v.x)/2,s.y=(p.y+v.y)/2}else if(l==="pyramid"){var p=i.convert(f[1]),v=i.convert(f[2]);s.x=(p.x+v.x)/2,s.y=(p.y+v.y)/2}}e.position&&this.setLabelPosition(s,r,n,e.position);var g=this.getLabelOffsetPoint(e,n,a);return s.start={x:s.x,y:s.y},s.x+=g.x,s.y+=g.y,s.color=r.color,s},t.prototype.getLabelAlign=function(e,r,n){var i="center",a=this.getCoordinate();if(a.isTransposed){var o=e.offset;o<0?i="right":o===0?i="center":i="left",n>1&&r===0&&(i==="right"?i="left":i==="left"&&(i="right"))}return i},t.prototype.getLabelId=function(e){var r=this.geometry,n=r.type,i=r.getXScale(),a=r.getYScale(),o=e[xr],s=r.getElementId(e);return n==="line"||n==="area"?s+=" ".concat(o[i.field]):n==="path"&&(s+=" ".concat(o[i.field],"-").concat(o[a.field])),s},t.prototype.getLabelsRenderer=function(){var e=this.geometry,r=e.labelsContainer,n=e.labelOption,i=e.canvasRegion,a=e.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Olt({container:r,layout:K(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=a?Dce("label",o):!1,s},t.prototype.getLabelCfgs=function(e){var r=this,n=this.geometry,i=n.labelOption,a=n.scales,o=n.coordinate,s=i,l=s.fields,u=s.callback,c=s.cfg,d=l.map(function(p){return a[p]}),f=[];return Y(e,function(p,v){var g=p[xr],m=r.getLabelText(g,d),y;if(u){var x=l.map(function(E){return g[E]});if(y=u.apply(void 0,Je([],We(x),!1)),ve(y)){f.push(null);return}}var b=F(F({id:r.getLabelId(p),elementId:r.geometry.getElementId(p),data:g,mappingData:p,coordinate:o},c),y);qe(b.position)&&(b.position=b.position(g,p,v));var w=r.getLabelOffset(b.offset||0),S=r.getDefaultLabelCfg(w,b.position);b=Fe({},S,b),b.offset=r.getLabelOffset(b.offset||0);var C=b.content;qe(C)?b.content=C(g,p,v):Kf(C)&&(b.content=m[0]),f.push(b)}),f},t.prototype.getLabelText=function(e,r){var n=[];return Y(r,function(i){var a=e[i.field];xe(a)?a=a.map(function(o){return i.getText(o)}):a=i.getText(a),ve(a)||a===""?n.push(null):n.push(a)}),n},t.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var r=this.getCoordinate(),n=0;return lt(e)&&(n=e),r.isTransposed?r.applyMatrix(n,0):r.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var e=this.geometry,r={};return Y(e.elementsMap,function(n,i){r[i]=n.shape}),Y(e.getOffscreenGroup().getChildren(),function(n){var i=e.getElementId(n.get("origin").mappingData);r[i]=n}),r},t}();function rF(t,e,r){if(!t)return r;var n;if(t.callback&&t.callback.length>1){var i=Array(t.callback.length-1).fill("");n=t.mapping.apply(t,Je([e],We(i),!1)).join("")}else n=t.mapping(e).join("");return n||r}var Vh={hexagon:function(t,e,r){var n=r/2*Math.sqrt(3);return[["M",t,e-r],["L",t+n,e-r/2],["L",t+n,e+r/2],["L",t,e+r],["L",t-n,e+r/2],["L",t-n,e-r/2],["Z"]]},bowtie:function(t,e,r){var n=r-1.5;return[["M",t-r,e-n],["L",t+r,e+n],["L",t+r,e-n],["L",t-r,e+n],["Z"]]},cross:function(t,e,r){return[["M",t-r,e-r],["L",t+r,e+r],["M",t+r,e-r],["L",t-r,e+r]]},tick:function(t,e,r){return[["M",t-r/2,e-r],["L",t+r/2,e-r],["M",t,e-r],["L",t,e+r],["M",t-r/2,e+r],["L",t+r/2,e+r]]},plus:function(t,e,r){return[["M",t-r,e],["L",t+r,e],["M",t,e-r],["L",t,e+r]]},hyphen:function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},line:function(t,e,r){return[["M",t,e-r],["L",t,e+r]]}},klt=["line","cross","tick","plus","hyphen"];function Dlt(t,e){return qe(e)?e(t):Fe({},t,e)}function Mlt(t,e){var r=t.symbol;if(nt(r)&&klt.indexOf(r)!==-1){var n=K(t,"style",{}),i=K(n,"lineWidth",1),a=n.stroke||n.fill||e;t.style=Fe({},t.style,{lineWidth:i,stroke:a,fill:null})}}function Bce(t){var e=t.symbol;nt(e)&&Vh[e]&&(t.symbol=Vh[e])}function SM(t){return t.startsWith(ke.LEFT)||t.startsWith(ke.RIGHT)?"vertical":"horizontal"}function Vce(t,e,r,n,i){var a=r.getScale(r.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),u=t.getTheme().defaultColor,c=e.coordinate.isPolar;return a.getTicks().map(function(d,f){var p,v=d.text,g=d.value,m=v,y=a.invert(g),x=t.filterFieldData(o,[(p={},p[o]=y,p)]).length===0;Y(t.views,function(E){var A;E.filterFieldData(o,[(A={},A[o]=y,A)]).length||(x=!0)});var b=rF(s,y,u),w=rF(l,y,"point"),S=e.getShapeMarker(w,{color:b,isInPolar:c}),C=i;return qe(C)&&(C=C(m,f,F({name:m,value:y},Fe({},n,S)))),S=Fe({},n,S,$a(F({},C),["style"])),Mlt(S,b),C&&C.style&&(S.style=Dlt(S.style,C.style)),Bce(S),{id:y,name:m,value:y,marker:S,unchecked:x}})}return[]}function Rlt(t,e,r){return r.map(function(n,i){var a=e;qe(a)&&(a=a(n.name,i,Fe({},t,n)));var o=qe(n.marker)?n.marker(n.name,i,Fe({},t,n)):n.marker,s=Fe({},t,a,o);return Bce(s),n.marker=s,n})}function qH(t,e){var r=K(t,["components","legend"],{});return Fe({},K(r,["common"],{}),Fe({},K(r,[e],{})))}function EM(t){return t?!1:t==null||isNaN(t)}function GH(t){if(xe(t))return EM(t[1].y);var e=t.y;return xe(e)?EM(e[0]):EM(e)}function E_(t,e,r){if(e===void 0&&(e=!1),r===void 0&&(r=!0),!t.length||t.length===1&&!r)return[];if(e){for(var n=[],i=0,a=t.length;i<a;i++){var o=t[i];GH(o)||n.push(o)}return[n]}for(var s=[],l=[],i=0,a=t.length;i<a;i++){var o=t[i];GH(o)?l.length&&(l.length===1&&!r||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function zce(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n){var i=r===0?"M":"L";e.push([i,n.x,n.y])}}var a=t[0];return a&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function Uce(t){for(var e=t.length/2,r=[],n=[],i=0;i<t.length;i++)i<e?r.push(t[i]):n.push(t[i]);var a=_C(r,!1),o=_C(n,!1);n.length&&a.push(["L",n[0].x,n[0].y]),o.shift();var s=a.concat(o);return r.length&&s.push(["L",r[0].x,r[0].y]),s.push(["z"]),s}function xn(t,e,r,n){n===void 0&&(n="");var i=t.style,a=i===void 0?{}:i,o=t.defaultStyle,s=t.color,l=t.size,u=F(F({},o),a);return s&&(e&&(a.stroke||(u.stroke=s)),r&&(a.fill||(u.fill=s))),n&&ve(a[n])&&!ve(l)&&(u[n]=l),u}function qce(t){return Fe({},{fill:"#CCD6EC",fillOpacity:.3},K(t,["background","style"]))}function a5(t){var e=t.x,r=xe(t.y)?t.y:[t.y];return r.map(function(n,i){return{x:xe(e)?e[i]:e,y:n}})}var jlt={line:function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},dot:function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},dash:function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},smooth:function(t,e,r){return[["M",t-r,e],["A",r/2,r/2,0,1,1,t,e],["A",r/2,r/2,0,1,0,t+r,e]]},hv:function(t,e,r){return[["M",t-r-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+r+1,e+2.5]]},vh:function(t,e,r){return[["M",t-r-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+r+1,e-2.5]]},hvh:function(t,e,r){return[["M",t-(r+1),e+2.5],["L",t-r/2,e+2.5],["L",t-r/2,e-2.5],["L",t+r/2,e-2.5],["L",t+r/2,e+2.5],["L",t+r+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function Gce(t,e){var r=t.color;return{symbol:jlt[e],style:{lineWidth:2,r:6,stroke:r}}}function Flt(t,e,r){for(var n=t.isStack,i=t.connectNulls,a=t.isInCircle,o=t.showSinglePoint,s=xn(t,!0,!1,"lineWidth"),l=E_(t.points,i,o),u=[],c=0,d=l.length;c<d;c++){var f=l[c];u=u.concat(Wce(f,a,n,e,r,s))}return s.path=u,s}function nF(t,e,r,n,i){if(t.length===1)return[["M",t[0].x,t[0].y-i.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+i.lineWidth/2]];var a;return r?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),a=_C(t,!1,n)):(a=zw(t,!1),e&&a.push(["Z"])),a}function Llt(t,e,r,n,i,a){var o=[],s=[];Y(t,function(c){var d=a5(c);o.push(d[1]),s.push(d[0])});var l=nF(o,e,n,i,a),u=nF(s,e,n,i,a);return r?l:l.concat(u)}function Wce(t,e,r,n,i,a){if(t.length){var o=t[0];return xe(o.y)?Llt(t,e,r,n,i,a):nF(t,e,n,i,a)}return[]}rf("line",{defaultShapeType:"line"});Y(["line","dot","dash","smooth"],function(t){tr("line",t,{draw:function(e,r){var n=t==="smooth",i;if(n){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var l=Flt(e,n,i),u=r.addShape({type:"path",attrs:l,name:"line",capture:!n});return u},getMarker:function(e){return Gce(e,t)}})});var Ka={getLegendItems:Vce,translate:qw,rotate:i5,zoom:Ilt,transform:w_,getAngle:Vx,getSectorPath:gd,polarToCartesian:In,getDelegationObject:Bh,getTooltipItems:Z4,getMappingValue:rF,getPath:Wce,getPathPoints:E_},kc={100:"#000",85:"#262626",25:"#BFBFBF",6:"#F0F0F0"},gr={100:"#FFFFFF",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626"},_s=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],$lt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Nlt=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Blt=function(t){t===void 0&&(t={});var e=t.paletteQualitative10,r=e===void 0?_s:e,n=t.paletteQualitative20,i=n===void 0?$lt:n,a=t.brandColor,o=a===void 0?r[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:r,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Nlt,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:gr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:gr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:kc[85],axisTickLineBorderColor:gr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:gr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:gr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:gr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:gr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:_s[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:gr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:gr[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:gr[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:gr[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:gr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:gr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:kc[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:kc[25],annotationArcBorderColor:gr[15],annotationArcBorder:1,annotationLineBorderColor:gr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:gr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:gr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:gr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:gr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:gr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:kc[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:gr[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:kc[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:gr[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:_s[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:kc[100],pointBorderOpacity:1,pointActiveBorderColor:gr[100],pointSelectedBorder:2,pointSelectedBorderColor:gr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:_s[0],hollowPointBorderOpacity:.95,hollowPointFillColor:kc[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:gr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:gr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:_s[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:_s[0],areaFillOpacity:.25,areaActiveFillColor:_s[0],areaActiveFillOpacity:.5,areaSelectedFillColor:_s[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:_s[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:gr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:gr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:_s[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:gr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:gr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:_s[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:kc[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:gr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:gr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return F(F({},s),t)},Vlt=Blt();function zlt(){return window?window.devicePixelRatio:1}function Hce(t,e,r,n){var i=t-r,a=e-n;return Math.sqrt(i*i+a*a)}function Jf(t,e,r,n,i,a){return i>=t&&i<=t+r&&a>=e&&a<=e+n}function Gx(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Ult(t,e){return!t||!e?t||e:{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}function WH(t,e){return t[0]===e[0]&&t[1]===e[1]}var qlt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Glt=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Wlt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Yce=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Xce(t,e){var r=t.match(Yce);Y(r,function(n){var i=n.split(":");e.addColorStop(i[0],i[1])})}function Hlt(t,e,r){var n=qlt.exec(r),i=parseFloat(n[1])%360*(Math.PI/180),a=n[2],o=e.getBBox(),s,l;i>=0&&i<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(i),c=u*u,d=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,f=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,p=t.createLinearGradient(s.x,s.y,d,f);return Xce(a,p),p}function Ylt(t,e,r){var n=Glt.exec(r),i=parseFloat(n[1]),a=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var l=s.match(Yce);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,d=u.maxY-u.minY,f=Math.sqrt(c*c+d*d)/2,p=t.createRadialGradient(u.minX+c*i,u.minY+d*a,0,u.minX+c/2,u.minY+d/2,o*f);return Xce(s,p),p}function Xlt(t,e,r){if(e.get("patternSource")&&e.get("patternSource")===r)return e.get("pattern");var n,i,a=Wlt.exec(r),o=a[1],s=a[2];function l(){n=t.createPattern(i,o),e.set("pattern",n),e.set("patternSource",r)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),n}function Klt(t,e,r){var n=e.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return r;if(nt(r)){if(r[1]==="("||r[2]==="("){if(r[0]==="l")return Hlt(t,e,r);if(r[0]==="r")return Ylt(t,e,r);if(r[0]==="p")return Xlt(t,e,r)}return r}if(r instanceof CanvasPattern)return r}function Qlt(t){var e=0,r=0,n=0,i=0;return xe(t)?t.length===1?e=r=n=i=t[0]:t.length===2?(e=n=t[0],r=i=t[1]):t.length===3?(e=t[0],r=i=t[1],n=t[2]):(e=t[0],r=t[1],n=t[2],i=t[3]):e=r=n=i=t,[e,r,n,i]}function kS(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function iF(t,e){return kS(t)*kS(e)?(t[0]*e[0]+t[1]*e[1])/(kS(t)*kS(e)):1}function HH(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(iF(t,e))}function kC(t,e){var r=e[1],n=e[2],i=zP(UP(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],l=t[1],u=e[6],c=e[7],d=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,f=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,p=d*d/(r*r)+f*f/(n*n);p>1&&(r*=Math.sqrt(p),n*=Math.sqrt(p));var v=r*r*(f*f)+n*n*(d*d),g=v?Math.sqrt((r*r*(n*n)-v)/v):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var m=n?g*r*f/n:0,y=r?g*-n*d/r:0,x=(s+u)/2+Math.cos(i)*m-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*m+Math.cos(i)*y,w=[(d-m)/r,(f-y)/n],S=[(-1*d-m)/r,(-1*f-y)/n],C=HH([1,0],w),E=HH(w,S);return iF(w,S)<=-1&&(E=Math.PI),iF(w,S)>=1&&(E=0),o===0&&E>0&&(E=E-2*Math.PI),o===1&&E<0&&(E=E+2*Math.PI),{cx:x,cy:b,rx:WH(t,[u,c])?0:r,ry:WH(t,[u,c])?0:n,startAngle:C,endAngle:C+E,xRotation:i,arcFlag:a,sweepFlag:o}}var DC=Math.sin,MC=Math.cos,o5=Math.atan2,DS=Math.PI;function Kce(t,e,r,n,i,a,o){var s=e.stroke,l=e.lineWidth,u=r-i,c=n-a,d=o5(c,u),f=new d5({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*MC(DS/6)+","+10*DC(DS/6)+" L0,0 L"+10*MC(DS/6)+",-"+10*DC(DS/6),stroke:s,lineWidth:l}});f.translate(i,a),f.rotateAtPoint(i,a,d),t.set(o?"startArrowShape":"endArrowShape",f)}function Qce(t,e,r,n,i,a,o){var s=e.startArrow,l=e.endArrow,u=e.stroke,c=e.lineWidth,d=o?s:l,f=d.d,p=d.fill,v=d.stroke,g=d.lineWidth,m=Kt(d,["d","fill","stroke","lineWidth"]),y=r-i,x=n-a,b=o5(x,y);f&&(i=i-MC(b)*f,a=a-DC(b)*f);var w=new d5({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:F(F({},m),{stroke:v||u,lineWidth:g||c,fill:p})});w.translate(i,a),w.rotateAtPoint(i,a,b),t.set(o?"startArrowShape":"endArrowShape",w)}function vh(t,e,r,n,i){var a=o5(n-e,r-t);return{dx:MC(a)*i,dy:DC(a)*i}}function s5(t,e,r,n,i,a){typeof e.startArrow=="object"?Qce(t,e,r,n,i,a,!0):e.startArrow?Kce(t,e,r,n,i,a,!0):t.set("startArrowShape",null)}function l5(t,e,r,n,i,a){typeof e.endArrow=="object"?Qce(t,e,r,n,i,a,!1):e.endArrow?Kce(t,e,r,n,i,a,!1):t.set("startArrowShape",null)}var YH={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function wg(t,e){var r=e.attr();for(var n in r){var i=r[n],a=YH[n]?YH[n]:n;a==="matrix"&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):a==="lineDash"&&t.setLineDash?xe(i)&&t.setLineDash(i):(a==="strokeStyle"||a==="fillStyle"?i=Klt(t,e,i):a==="globalAlpha"&&(i=i*t.globalAlpha),t[a]=i)}}function aF(t,e,r){for(var n=0;n<e.length;n++){var i=e[n];i.cfg.visible?i.draw(t,r):i.skipDraw()}}function Jlt(t,e,r){var n=t.get("refreshElements");Y(n,function(i){if(i!==t)for(var a=i.cfg.parent;a&&a!==t&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),n[0]===t?u5(e):oF(e,r)}function oF(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&u5(n.cfg.children);else if(n.cfg.refresh)n.isGroup()&&oF(n.cfg.children,e);else{var i=Zlt(n,e);n.cfg.refresh=i,i&&n.isGroup()&&oF(n.cfg.children,e)}}}function Jce(t){for(var e=0;e<t.length;e++){var r=t[e];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&Jce(r.cfg.children)}}function u5(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&u5(n.get("children")))}}function Zlt(t,e){var r=t.cfg.cacheCanvasBBox,n=t.cfg.isInView&&r&&Gx(r,e);return n}function Zce(t,e,r,n){var i=r.path,a=r.startArrow,o=r.endArrow;if(i){var s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<i.length;c++){var d=i[c],f=d[0];if(c===0&&a&&a.d){var p=t.getStartTangent();u=vh(p[0][0],p[0][1],p[1][0],p[1][1],a.d)}else if(c===i.length-2&&i[c+1][0]==="Z"&&o&&o.d){var v=i[c+1];if(v[0]==="Z"){var p=t.getEndTangent();u=vh(p[0][0],p[0][1],p[1][0],p[1][1],o.d)}}else if(c===i.length-1&&o&&o.d&&i[0]!=="Z"){var p=t.getEndTangent();u=vh(p[0][0],p[0][1],p[1][0],p[1][1],o.d)}var g=u.dx,m=u.dy;switch(f){case"M":e.moveTo(d[1]-g,d[2]-m),l=[d[1],d[2]];break;case"L":e.lineTo(d[1]-g,d[2]-m);break;case"Q":e.quadraticCurveTo(d[1],d[2],d[3]-g,d[4]-m);break;case"C":e.bezierCurveTo(d[1],d[2],d[3],d[4],d[5]-g,d[6]-m);break;case"A":{var y=void 0;n?(y=n[c],y||(y=kC(s,d),n[c]=y)):y=kC(s,d);var x=y.cx,b=y.cy,w=y.rx,S=y.ry,C=y.startAngle,E=y.endAngle,A=y.xRotation,P=y.sweepFlag;if(e.ellipse)e.ellipse(x,b,w,S,A,C,E,1-P);else{var _=w>S?w:S,k=w>S?1:w/S,O=w>S?S/w:1;e.translate(x,b),e.rotate(A),e.scale(k,O),e.arc(0,0,_,C,E,1-P),e.scale(1/k,1/O),e.rotate(-A),e.translate(-x,-b)}break}case"Z":e.closePath();break}if(f==="Z")s=l;else{var D=d.length;s=[d[D-2],d[D-1]]}}}}function ede(t,e){var r=t.get("canvas");r&&(e==="remove"&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(r.refreshElement(t,e,r),r.get("autoDraw")&&r.draw())))}function eut(t){var e;if(t.destroyed)e=t._cacheCanvasBBox;else{var r=t.get("cacheCanvasBBox"),n=r&&!!(r.width&&r.height),i=t.getCanvasBBox(),a=i&&!!(i.width&&i.height);n&&a?e=Ult(r,i):n?e=r:a&&(e=i)}return e}function tut(t){if(!t.length)return null;var e=[],r=[],n=[],i=[];return Y(t,function(a){var o=eut(a);o&&(e.push(o.minX),r.push(o.minY),n.push(o.maxX),i.push(o.maxY))}),{minX:us(e),minY:us(r),maxX:Ro(n),maxY:Ro(i)}}function rut(t,e){return!t||!e||!Gx(t,e)?null:{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}}var c5=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(r){ede(this,r)},e.prototype.getShapeBase=function(){return eI},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(r,n){n&&(r.save(),wg(r,n),n.createPath(r),r.restore(),r.clip(),n._afterDraw())},e.prototype.cacheCanvasBBox=function(){var r=this.cfg.children,n=[],i=[];Y(r,function(f){var p=f.cfg.cacheCanvasBBox;p&&f.cfg.isInView&&(n.push(p.minX,p.maxX),i.push(p.minY,p.maxY))});var a=null;if(n.length){var o=us(n),s=Ro(n),l=us(i),u=Ro(i);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var c=this.cfg.canvas;if(c){var d=c.getViewRange();this.set("isInView",Gx(a,d))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},e.prototype.draw=function(r,n){var i=this.cfg.children,a=n?this.cfg.refresh:!0;i.length&&a&&(r.save(),wg(r,this),this._applyClip(r,this.getClip()),aF(r,i,n),r.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(QP),tl=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return eI},e.prototype.getGroupBase=function(){return c5},e.prototype.onCanvasChange=function(r){ede(this,r)},e.prototype.calculateBBox=function(){var r=this.get("type"),n=this.getHitLineWidth(),i=ZP(r),a=i(this),o=n/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+n,height:a.height+n,maxX:u,maxY:c}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(r,n){n&&(r.save(),wg(r,n),n.createPath(r),r.restore(),r.clip(),n._afterDraw())},e.prototype.draw=function(r,n){var i=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!Gx(n,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}r.save(),wg(r,this),this._applyClip(r,i),this.drawPath(r),r.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var r=this.cfg.canvas;return r?r.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var r=this.getCanvasViewBox();if(r){var n=this.getCanvasBBox(),i=Gx(n,r);this.set("isInView",i),i?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(r){this.createPath(r),this.strokeAndFill(r),this.afterDrawPath(r)},e.prototype.fill=function(r){r.fill()},e.prototype.stroke=function(r){r.stroke()},e.prototype.strokeAndFill=function(r){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!ve(s)&&s!==1?(r.globalAlpha=s,this.fill(r),r.globalAlpha=a):this.fill(r)),this.isStroke()&&i>0&&(!ve(o)&&o!==1&&(r.globalAlpha=o),this.stroke(r)),this.afterDrawPath(r)},e.prototype.createPath=function(r){},e.prototype.afterDrawPath=function(r){},e.prototype.isInShape=function(r,n){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(r,n,i,a,o)},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var r=this.attrs;return r.lineWidth+r.lineAppendWidth},e}(JP),nut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){var s=this.attr(),l=s.x,u=s.y,c=s.r,d=o/2,f=Hce(l,u,r,n);return a&&i?f<=c+d:a?f<=c:i?f>=c-d&&f<=c+d:!1},e.prototype.createPath=function(r){var n=this.attr(),i=n.x,a=n.y,o=n.r;r.beginPath(),r.arc(i,a,o,0,Math.PI*2,!1),r.closePath()},e}(tl);function MS(t,e,r,n){return t/(r*r)+e/(n*n)}var iut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){var s=this.attr(),l=o/2,u=s.x,c=s.y,d=s.rx,f=s.ry,p=(r-u)*(r-u),v=(n-c)*(n-c);return a&&i?MS(p,v,d+l,f+l)<=1:a?MS(p,v,d,f)<=1:i?MS(p,v,d-l,f-l)>=1&&MS(p,v,d+l,f+l)<=1:!1},e.prototype.createPath=function(r){var n=this.attr(),i=n.x,a=n.y,o=n.rx,s=n.ry;if(r.beginPath(),r.ellipse)r.ellipse(i,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,c=o>s?s/o:1;r.save(),r.translate(i,a),r.scale(u,c),r.arc(0,0,l,0,Math.PI*2),r.restore(),r.closePath()}},e}(tl);function XH(t){return t instanceof HTMLElement&&nt(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS"}var aut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(r){this._setImage(r.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var r=this.get("canvas");r?r.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(r){var n=this,i=this.attrs;if(nt(r)){var a=new Image;a.onload=function(){if(n.destroyed)return!1;n.attr("img",a),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},a.crossOrigin="Anonymous",a.src=r,this.set("loading",!0)}else r instanceof Image?(i.width||(i.width=r.width),i.height||(i.height=r.height)):XH(r)&&(i.width||(i.width=Number(r.getAttribute("width"))),i.height||(i.height,Number(r.getAttribute("height"))))},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),r==="img"&&this._setImage(n)},e.prototype.createPath=function(r){if(this.get("loading")){this.set("toDraw",!0),this.set("context",r);return}var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,l=n.sx,u=n.sy,c=n.swidth,d=n.sheight,f=n.img;(f instanceof Image||XH(f))&&(!ve(l)&&!ve(u)&&!ve(c)&&!ve(d)?r.drawImage(f,l,u,c,d,i,a,o,s):r.drawImage(f,i,a,o,s))},e}(tl);function td(t,e,r,n,i,a,o){var s=Math.min(t,r),l=Math.max(t,r),u=Math.min(e,n),c=Math.max(e,n),d=i/2;return a>=s-d&&a<=l+d&&o>=u-d&&o<=c+d?pi.pointToLine(t,e,r,n,a,o)<=i/2:!1}var out=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(r){this.setArrow()},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),this.setArrow()},e.prototype.setArrow=function(){var r=this.attr(),n=r.x1,i=r.y1,a=r.x2,o=r.y2,s=r.startArrow,l=r.endArrow;s&&s5(this,r,a,o,n,i),l&&l5(this,r,n,i,a,o)},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){if(!i||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,c=s.x2,d=s.y2;return td(l,u,c,d,o,r,n)},e.prototype.createPath=function(r){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.startArrow,u=n.endArrow,c={dx:0,dy:0},d={dx:0,dy:0};l&&l.d&&(c=vh(i,a,o,s,n.startArrow.d)),u&&u.d&&(d=vh(i,a,o,s,n.endArrow.d)),r.beginPath(),r.moveTo(i+c.dx,a+c.dy),r.lineTo(o-d.dx,s-d.dy)},e.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(r),i&&i.draw(r)},e.prototype.getTotalLength=function(){var r=this.attr(),n=r.x1,i=r.y1,a=r.x2,o=r.y2;return pi.length(n,i,a,o)},e.prototype.getPoint=function(r){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return pi.pointAt(i,a,o,s,r)},e}(tl),sut=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,lut=/[^\s\,]+/ig;function uut(t){var e=t||[];if(xe(e))return e;if(nt(e))return e=e.match(sut),Y(e,function(r,n){if(r=r.match(lut),r[0].length>1){var i=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=i}Y(r,function(a,o){isNaN(a)||(r[o]=+a)}),e[n]=r}),e}var G0=`	
\v\f\r \u2028\u2029`,cut=new RegExp("([a-z])["+G0+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+G0+"]*,?["+G0+"]*)+)","ig"),dut=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+G0+"]*,?["+G0+"]*","ig");function fut(t){if(!t)return null;if(xe(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(cut,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(dut,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(r.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([i,o[0]]),s==="r")r.push([i].concat(o));else for(;o.length>=e[s]&&(r.push([i].concat(o.splice(0,e[s]))),!!e[s]););return""}),r}var hut=/[a-z]/;function KH(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function tde(t){var e=fut(t);if(!e||!e.length)return[["M",0,0]];for(var r=!1,n=0;n<e.length;n++){var i=e[n][0];if(hut.test(i)||["V","H","T","S"].indexOf(i)>=0){r=!0;break}}if(!r)return e;var a=[],o=0,s=0,l=0,u=0,c=0,d=e[0];(d[0]==="M"||d[0]==="m")&&(o=+d[1],s=+d[2],l=o,u=s,c++,a[0]=["M",o,s]);for(var n=c,f=e.length;n<f;n++){var p=e[n],v=a[n-1],g=[],i=p[0],m=i.toUpperCase();if(i!==m)switch(g[0]=m,m){case"A":g[1]=p[1],g[2]=p[2],g[3]=p[3],g[4]=p[4],g[5]=p[5],g[6]=+p[6]+o,g[7]=+p[7]+s;break;case"V":g[1]=+p[1]+s;break;case"H":g[1]=+p[1]+o;break;case"M":l=+p[1]+o,u=+p[2]+s,g[1]=l,g[2]=u;break;default:for(var y=1,x=p.length;y<x;y++)g[y]=+p[y]+(y%2?o:s)}else g=e[n];switch(m){case"Z":o=+l,s=+u;break;case"H":o=g[1],g=["L",o,s];break;case"V":s=g[1],g=["L",o,s];break;case"T":o=g[1],s=g[2];var b=KH([v[1],v[2]],[v[3],v[4]]);g=["Q",b[0],b[1],o,s];break;case"S":o=g[g.length-2],s=g[g.length-1];var w=v.length,S=KH([v[w-4],v[w-3]],[v[w-2],v[w-1]]);g=["C",S[0],S[1],g[1],g[2],o,s];break;case"M":l=g[g.length-2],u=g[g.length-1];break;default:o=g[g.length-2],s=g[g.length-1]}a.push(g)}return a}function RS(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function sF(t,e){return RS(t)*RS(e)?(t[0]*e[0]+t[1]*e[1])/(RS(t)*RS(e)):1}function QH(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(sF(t,e))}function lF(t,e){return t[0]===e[0]&&t[1]===e[1]}function put(t,e){var r=e[1],n=e[2],i=zP(UP(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],l=t[1],u=e[6],c=e[7],d=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,f=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,p=d*d/(r*r)+f*f/(n*n);p>1&&(r*=Math.sqrt(p),n*=Math.sqrt(p));var v=r*r*(f*f)+n*n*(d*d),g=v?Math.sqrt((r*r*(n*n)-v)/v):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var m=n?g*r*f/n:0,y=r?g*-n*d/r:0,x=(s+u)/2+Math.cos(i)*m-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*m+Math.cos(i)*y,w=[(d-m)/r,(f-y)/n],S=[(-1*d-m)/r,(-1*f-y)/n],C=QH([1,0],w),E=QH(w,S);return sF(w,S)<=-1&&(E=Math.PI),sF(w,S)>=1&&(E=0),o===0&&E>0&&(E=E-2*Math.PI),o===1&&E<0&&(E=E+2*Math.PI),{cx:x,cy:b,rx:lF(t,[u,c])?0:r,ry:lF(t,[u,c])?0:n,startAngle:C,endAngle:C+E,xRotation:i,arcFlag:a,sweepFlag:o}}function JH(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function vut(t){t=uut(t);for(var e=[],r=null,n=null,i=null,a=0,o=t.length,s=0;s<o;s++){var l=t[s];n=t[s+1];var u=l[0],c={command:u,prePoint:r,params:l,startTangent:null,endTangent:null};switch(u){case"M":i=[l[1],l[2]],a=s;break;case"A":var d=put(r,l);c.arcParams=d;break}if(u==="Z")r=i,n=t[a+1];else{var f=l.length;r=[l[f-2],l[f-1]]}n&&n[0]==="Z"&&(n=t[a],e[a]&&(e[a].prePoint=r)),c.currentPoint=r,e[a]&&lF(r,e[a].currentPoint)&&(e[a].prePoint=c.prePoint);var p=n?[n[n.length-2],n[n.length-1]]:null;c.nextPoint=p;var v=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]];else if(u==="Q"){var g=[l[1],l[2]];c.startTangent=[v[0]-g[0],v[1]-g[1]],c.endTangent=[r[0]-g[0],r[1]-g[1]]}else if(u==="T"){var m=e[s-1],g=JH(m.currentPoint,v);m.command==="Q"?(c.command="Q",c.startTangent=[v[0]-g[0],v[1]-g[1]],c.endTangent=[r[0]-g[0],r[1]-g[1]]):(c.command="TL",c.startTangent=[v[0]-r[0],v[1]-r[1]],c.endTangent=[r[0]-v[0],r[1]-v[1]])}else if(u==="C"){var y=[l[1],l[2]],x=[l[3],l[4]];c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[r[0]-x[0],r[1]-x[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[y[0]-x[0],y[1]-x[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[x[0]-y[0],x[1]-y[1]])}else if(u==="S"){var m=e[s-1],y=JH(m.currentPoint,v),x=[l[1],l[2]];m.command==="C"?(c.command="C",c.startTangent=[v[0]-y[0],v[1]-y[1]],c.endTangent=[r[0]-x[0],r[1]-x[1]]):(c.command="SQ",c.startTangent=[v[0]-x[0],v[1]-x[1]],c.endTangent=[r[0]-x[0],r[1]-x[1]])}else if(u==="A"){var b=.001,w=c.arcParams||{},S=w.cx,C=S===void 0?0:S,E=w.cy,A=E===void 0?0:E,P=w.rx,_=P===void 0?0:P,k=w.ry,O=k===void 0?0:k,D=w.sweepFlag,B=D===void 0?0:D,$=w.startAngle,L=$===void 0?0:$,R=w.endAngle,V=R===void 0?0:R;B===0&&(b*=-1);var U=_*Math.cos(L-b)+C,q=O*Math.sin(L-b)+A;c.startTangent=[U-i[0],q-i[1]];var M=_*Math.cos(L+V+b)+C,G=O*Math.sin(L+V-b)+A;c.endTangent=[v[0]-M,v[1]-G]}e.push(c)}return e}var gut={circle:function(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e]]},square:function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},diamond:function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},triangle:function(t,e,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["Z"]]},"triangle-down":function(t,e,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]}},mut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.initAttrs=function(r){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),["symbol","x","y","r","radius"].indexOf(r)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(r){return ve(r.r)?r.radius:r.r},e.prototype._getPath=function(){var r=this.attr(),n=r.x,i=r.y,a=r.symbol||"circle",o=this._getR(r),s,l;if(qe(a))s=a,l=s(n,i,o),l=tde(l);else{if(s=e.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;l=s(n,i,o)}return l},e.prototype.createPath=function(r){var n=this._getPath(),i=this.get("paramsCache");Zce(this,r,{path:n},i)},e.Symbols=gut,e}(tl);function rde(t,e,r){var n=t_();return t.createPath(n),n.isPointInPath(e,r)}var yut=1e-6;function AM(t){return Math.abs(t)<yut?0:t<0?-1:1}function xut(t,e,r){return(r[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}function nde(t,e,r){var n=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(xut(o,s,[e,r]))return!0;AM(o[1]-r)>0!=AM(s[1]-r)>0&&AM(e-(r-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function p0(t,e,r,n,i,a,o,s){var l=(Math.atan2(s-e,o-t)+Math.PI*2)%(Math.PI*2);if(l<n||l>i)return!1;var u={x:t+r*Math.cos(l),y:e+r*Math.sin(l)};return Hce(u.x,u.y,o,s)<=a/2}var but=Rn;function wut(t){for(var e=!1,r=t.length,n=0;n<r;n++){var i=t[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function Sut(t,e,r,n,i){for(var a=!1,o=e/2,s=0;s<t.length;s++){var l=t[s],u=l.currentPoint,c=l.params,d=l.prePoint,f=l.box;if(!(f&&!Jf(f.x-o,f.y-o,f.width+e,f.height+e,r,n))){switch(l.command){case"L":case"Z":a=td(d[0],d[1],u[0],u[1],e,r,n);break;case"Q":var p=oue.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],r,n);a=p<=e/2;break;case"C":var v=N0.pointDistance(d[0],d[1],c[1],c[2],c[3],c[4],c[5],c[6],r,n,i);a=v<=e/2;break;case"A":var g=l.arcParams,m=g.cx,y=g.cy,x=g.rx,b=g.ry,w=g.startAngle,S=g.endAngle,C=g.xRotation,E=[r,n,1],A=x>b?x:b,P=x>b?1:x/b,_=x>b?b/x:1,k=but(null,[["t",-m,-y],["r",-C],["s",1/P,1/_]]);kx(E,E,k),a=p0(0,0,A,w,S,e,E[0],E[1]);break}if(a)break}}return a}function Eut(t){for(var e=t.length,r=[],n=[],i=[],a=0;a<e;a++){var o=t[a],s=o[0];s==="M"?(i.length&&(n.push(i),i=[]),i.push([o[1],o[2]])):s==="Z"?i.length&&(r.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&n.push(i),{polygons:r,polylines:n}}const jS=F({hasArc:wut,extractPolygons:Eut,isPointInStroke:Sut},C4);function ZH(t,e,r){for(var n=!1,i=0;i<t.length;i++){var a=t[i];if(n=nde(a,e,r),n)break}return n}var d5=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(r){this._setPathArr(r.path),this.setArrow()},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),r==="path"&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(r){this.attrs.path=tde(r);var n=jS.hasArc(r);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var r=this.get("segements");return r||(r=vut(this.attr("path")),this.set("segments",r)),r},e.prototype.setArrow=function(){var r=this.attr(),n=r.startArrow,i=r.endArrow;if(n){var a=this.getStartTangent();s5(this,r,a[0][0],a[0][1],a[1][0],a[1][1])}if(i){var a=this.getEndTangent();l5(this,r,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(i){var c=this.getTotalLength();u=jS.isPointInStroke(s,o,r,n,c)}if(!u&&a)if(l)u=rde(this,r,n);else{var d=this.attr("path"),f=jS.extractPolygons(d);u=ZH(f.polygons,r,n)||ZH(f.polylines,r,n)}return u},e.prototype.createPath=function(r){var n=this.attr(),i=this.get("paramsCache");Zce(this,r,n,i)},e.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(r),i&&i.draw(r)},e.prototype.getTotalLength=function(){var r=this.get("totalLength");return ve(r)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):r},e.prototype.getPoint=function(r){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,a,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;Y(n,function(c,d){r>=c[0]&&r<=c[1]&&(i=(r-c[0])/(c[1]-c[0]),a=d)});var s=o[a];if(ve(s)||ve(a))return null;var l=s.length,u=o[a+1];return N0.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],i)},e.prototype._calculateCurve=function(){var r=this.attr().path;this.set("curve",jS.pathToCurve(r))},e.prototype._setTcache=function(){var r=0,n=0,i=[],a,o,s,l,u=this.get("curve");if(u){if(Y(u,function(c,d){s=u[d+1],l=c.length,s&&(r+=N0.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",r),r===0){this.set("tCache",[]);return}Y(u,function(c,d){s=u[d+1],l=c.length,s&&(a=[],a[0]=n/r,o=N0.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,a[1]=n/r,i.push(a))}),this.set("tCache",i)}},e.prototype.getStartTangent=function(){var r=this.getSegments(),n;if(r.length>1){var i=r[0].currentPoint,a=r[1].currentPoint,o=r[1].startTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([a[0],a[1]]),n.push([i[0],i[1]]))}return n},e.prototype.getEndTangent=function(){var r=this.getSegments(),n=r.length,i;if(n>1){var a=r[n-2].currentPoint,o=r[n-1].currentPoint,s=r[n-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},e}(tl);function ide(t,e,r,n,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],l=t[o][1],u=t[o+1][0],c=t[o+1][1];if(td(s,l,u,c,e,r,n))return!0}if(i){var d=t[0],f=t[a-1];if(td(d[0],d[1],f[0],f[1],e,r,n))return!0}return!1}var Aut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(r,n,i,a,o){var s=this.attr().points,l=!1;return i&&(l=ide(s,o,r,n,!0)),!l&&a&&(l=nde(s,r,n)),l},e.prototype.createPath=function(r){var n=this.attr(),i=n.points;if(!(i.length<2)){r.beginPath();for(var a=0;a<i.length;a++){var o=i[a];a===0?r.moveTo(o[0],o[1]):r.lineTo(o[0],o[1])}r.closePath()}},e}(tl),Cut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(r){this.setArrow()},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),this.setArrow(),["points"].indexOf(r)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var r=this.attr(),n=this.attrs,i=n.points,a=n.startArrow,o=n.endArrow,s=i.length,l=i[0][0],u=i[0][1],c=i[s-1][0],d=i[s-1][1];a&&s5(this,r,i[1][0],i[1][1],l,u),o&&l5(this,r,i[s-2][0],i[s-2][1],c,d)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){if(!i||!o)return!1;var s=this.attr().points;return ide(s,o,r,n,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(r){var n=this.attr(),i=n.points,a=n.startArrow,o=n.endArrow,s=i.length;if(!(i.length<2)){var l=i[0][0],u=i[0][1],c=i[s-1][0],d=i[s-1][1];if(a&&a.d){var f=vh(l,u,i[1][0],i[1][1],a.d);l+=f.dx,u+=f.dy}if(o&&o.d){var f=vh(i[s-2][0],i[s-2][1],c,d,o.d);c-=f.dx,d-=f.dy}r.beginPath(),r.moveTo(l,u);for(var p=0;p<s-1;p++){var v=i[p];r.lineTo(v[0],v[1])}r.lineTo(c,d)}},e.prototype.afterDrawPath=function(r){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(r),i&&i.draw(r)},e.prototype.getTotalLength=function(){var r=this.attr().points,n=this.get("totalLength");return ve(n)?(this.set("totalLength",uue.length(r)),this.get("totalLength")):n},e.prototype.getPoint=function(r){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return Y(i,function(s,l){r>=s[0]&&r<=s[1]&&(a=(r-s[0])/(s[1]-s[0]),o=l)}),pi.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},e.prototype._setTcache=function(){var r=this.attr().points;if(!(!r||r.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;Y(r,function(l,u){r[u+1]&&(o=[],o[0]=i/n,s=pi.length(l[0],l[1],r[u+1][0],r[u+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var r=this.attr().points,n=[];return n.push([r[1][0],r[1][1]]),n.push([r[0][0],r[0][1]]),n},e.prototype.getEndTangent=function(){var r=this.attr().points,n=r.length-1,i=[];return i.push([r[n-1][0],r[n-1][1]]),i.push([r[n][0],r[n][1]]),i},e}(tl);function Tut(t,e,r,n,i,a,o){var s=i/2;return Jf(t-s,e-s,r,i,a,o)||Jf(t+r-s,e-s,i,n,a,o)||Jf(t+s,e+n-s,r,i,a,o)||Jf(t-s,e+s,i,n,a,o)}function Iut(t,e,r,n,i,a,o,s){return td(t+i,e,t+r-i,e,a,o,s)||td(t+r,e+i,t+r,e+n-i,a,o,s)||td(t+r-i,e+n,t+i,e+n,a,o,s)||td(t,e+n-i,t,e+i,a,o,s)||p0(t+r-i,e+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||p0(t+r-i,e+n-i,i,0,.5*Math.PI,a,o,s)||p0(t+i,e+n-i,i,.5*Math.PI,Math.PI,a,o,s)||p0(t+i,e+i,i,Math.PI,1.5*Math.PI,a,o,s)}var Put=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(r,n,i,a,o){var s=this.attr(),l=s.x,u=s.y,c=s.width,d=s.height,f=s.radius;if(f){var v=!1;return i&&(v=Iut(l,u,c,d,f,o,r,n)),!v&&a&&(v=rde(this,r,n)),v}else{var p=o/2;if(a&&i)return Jf(l-p,u-p,c+p,d+p,r,n);if(a)return Jf(l,u,c,d,r,n);if(i)return Tut(l,u,c,d,o,r,n)}},e.prototype.createPath=function(r){var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,l=n.radius;if(r.beginPath(),l===0)r.rect(i,a,o,s);else{var u=Qlt(l),c=u[0],d=u[1],f=u[2],p=u[3];r.moveTo(i+c,a),r.lineTo(i+o-d,a),d!==0&&r.arc(i+o-d,a+d,d,-Math.PI/2,0),r.lineTo(i+o,a+s-f),f!==0&&r.arc(i+o-f,a+s-f,f,0,Math.PI/2),r.lineTo(i+p,a+s),p!==0&&r.arc(i+p,a+s-p,p,Math.PI/2,Math.PI),r.lineTo(i,a+c),c!==0&&r.arc(i+c,a+c,c,Math.PI,Math.PI*1.5),r.closePath()}},e}(tl),_ut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(r){this._assembleFont(),r.text&&this._setText(r.text)},e.prototype._assembleFont=function(){var r=this.attrs;r.font=n_(r)},e.prototype._setText=function(r){var n=null;nt(r)&&r.indexOf(`
`)!==-1&&(n=r.split(`
`)),this.set("textArr",n)},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),r.startsWith("font")&&this._assembleFont(),r==="text"&&this._setText(n)},e.prototype._getSpaceingY=function(){var r=this.attrs,n=r.lineHeight,i=r.fontSize*1;return n?n-i:i*.14},e.prototype._drawTextArr=function(r,n,i){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,c=this._getSpaceingY(),d=r_(a.text,a.fontSize,a.lineHeight),f;Y(n,function(p,v){f=l+v*(c+u)-d+u,o==="middle"&&(f+=d-u-(d-u)/2),o==="top"&&(f+=d-u),ve(p)||(i?r.fillText(p,s,f):r.strokeText(p,s,f))})},e.prototype._drawText=function(r,n){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(r,s,n);else{var l=i.text;ve(l)||(n?r.fillText(l,a,o):r.strokeText(l,a,o))}},e.prototype.strokeAndFill=function(r){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&i>0&&(!ve(o)&&o!==1&&(r.globalAlpha=a),this.stroke(r)),this.isFill()&&(!ve(s)&&s!==1?(r.globalAlpha=s,this.fill(r),r.globalAlpha=a):this.fill(r)),this.afterDrawPath(r)},e.prototype.fill=function(r){this._drawText(r,!0)},e.prototype.stroke=function(r){this._drawText(r,!1)},e}(tl);function Out(t,e){if(e){var r=YP(e);return Pu(r,t)}return t}function ade(t,e,r){var n=t.getTotalMatrix();if(n){var i=Out([e,r,1],n),a=i[0],o=i[1];return[a,o]}return[e,r]}function e9(t,e,r){if(t.isCanvas&&t.isCanvas())return!0;if(!Ox(t)||t.cfg.isInView===!1)return!1;if(t.cfg.clipShape){var n=ade(t,e,r),i=n[0],a=n[1];if(t.isClipped(i,a))return!1}var o=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&r>=o.minY&&r<=o.maxY}function ode(t,e,r){if(!e9(t,e,r))return null;for(var n=null,i=t.getChildren(),a=i.length,o=a-1;o>=0;o--){var s=i[o];if(s.isGroup())n=ode(s,e,r);else if(e9(s,e,r)){var l=s,u=ade(s,e,r),c=u[0],d=u[1];l.isInShape(c,d)&&(n=s)}if(n)break}return n}var kut=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var r=t.prototype.getDefaultCfg.call(this);return r.renderer="canvas",r.autoDraw=!0,r.localRefresh=!0,r.refreshElements=[],r.clipView=!0,r.quickHit=!1,r},e.prototype.onCanvasChange=function(r){(r==="attr"||r==="sort"||r==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return eI},e.prototype.getGroupBase=function(){return c5},e.prototype.getPixelRatio=function(){var r=this.get("pixelRatio")||zlt();return r>=1?Math.ceil(r):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var r=document.createElement("canvas"),n=r.getContext("2d");return this.set("context",n),r},e.prototype.setDOMSize=function(r,n){t.prototype.setDOMSize.call(this,r,n);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*r,a.height=o*n,o>1&&i.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var r=this.get("context"),n=this.get("el");r.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(r,n){var i;return this.get("quickHit")?i=ode(this,r,n):i=t.prototype.getShape.call(this,r,n,null),i},e.prototype._getRefreshRegion=function(){var r=this.get("refreshElements"),n=this.getViewRange(),i;if(r.length&&r[0]===this)i=n;else if(i=tut(r),i){i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1;var a=this.get("clipView");a&&(i=rut(i,n))}return i},e.prototype.refreshElement=function(r){var n=this.get("refreshElements");n.push(r)},e.prototype._clearFrame=function(){var r=this.get("drawFrame");r&&(dtt(r),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var r=this.get("drawFrame");this.get("autoDraw")&&r||this._startDraw()},e.prototype._drawAll=function(){var r=this.get("context"),n=this.get("el"),i=this.getChildren();r.clearRect(0,0,n.width,n.height),wg(r,this),aF(r,i),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var r=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(r.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),r.save(),r.beginPath(),r.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),r.clip(),wg(r,this),Jlt(this,i,a),aF(r,i,a),r.restore()):n.length&&Jce(n),Y(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var r=this,n=this.get("drawFrame"),i=this.get("drawFrameCallback");n||(n=ctt(function(){r.get("localRefresh")?r._drawRegion():r._drawAll(),r.set("drawFrame",null),i&&i()}),this.set("drawFrame",n))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var r=this.get("el");r.width=0,r.height=0,r.parentNode.removeChild(r)},e}(KP),Dut="0.5.12";const Mut=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:KP,AbstractGroup:QP,AbstractShape:JP,Base:WP,Canvas:kut,Event:Lw,Group:c5,PathUtil:C4,Shape:eI,assembleFont:n_,getArcParams:kC,getBBoxMethod:ZP,getOffScreenContext:t_,getTextHeight:r_,invert:YP,isAllowCapture:Ox,multiplyVec2:Pu,registerBBox:bs,registerEasing:eue,version:Dut},Symbol.toStringTag,{value:"Module"}));var uF={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},qt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function cs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function sde(t){var e=uF[t.type],r=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var n=cs(e);if(t.get("id")&&(n.id=t.get("id")),t.set("el",n),t.set("attrs",{}),r){var i=r.get("el");i||(i=r.createDom(),r.set("el",i)),i.appendChild(n)}return n}function lde(t,e){var r=t.get("el"),n=mtt(r.children).sort(e),i=document.createDocumentFragment();n.forEach(function(a){i.appendChild(a)}),r.appendChild(i)}function Rut(t,e){var r=t.parentNode,n=Array.from(r.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),i=n[e],a=n.indexOf(t);if(i){if(a>e)r.insertBefore(t,i);else if(a<e){var o=n[e+1];o?r.insertBefore(t,o):r.appendChild(t)}}else r.appendChild(t)}function jut(t,e){var r=t.cfg.el,n=t.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!i.dx&&!i.dy&&!i.blur&&!i.color)r.removeAttribute("filter");else{var a=e.find("filter",i);a||(a=e.addShadow(i)),r.setAttribute("filter","url(#"+a+")")}}function Gw(t){var e=t.attr().matrix;if(e){for(var r=t.cfg.el,n=[],i=0;i<9;i+=3)n.push(e[i]+","+e[i+1]);n=n.join(","),n.indexOf("NaN")===-1?r.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function Wx(t,e){var r=t.getClip(),n=t.get("el");if(!r)n.removeAttribute("clip-path");else if(r&&!n.hasAttribute("clip-path")){sde(r),r.createPath(e);var i=e.addClip(r);n.setAttribute("clip-path","url(#"+i+")")}}function ude(t,e){e.forEach(function(r){r.draw(t)})}function cde(t,e){var r=t.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context"),i=t.getParent(),a=i?i.getChildren():[r],o=t.get("el");if(e==="remove"){var s=t.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")Rut(o,a.indexOf(t));else if(e==="sort"){var c=t.get("children");c&&c.length&&lde(t,function(d,f){return c.indexOf(d)-c.indexOf(f)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?Gw(t):e==="clip"?Wx(t,n):e==="attr"||e==="add"&&t.draw(n)}}var f5=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var r=cs("g");this.set("el",r);var n=this.getParent();if(n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(r)}return r},e.prototype.afterAttrsChange=function(r){t.prototype.afterAttrsChange.call(this,r);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,r)}},e.prototype.onCanvasChange=function(r){cde(this,r)},e.prototype.getShapeBase=function(){return tI},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(r){var n=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),Wx(this,r),this.createPath(r),n.length&&ude(r,n))},e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");Y(n||i,function(o,s){qt[s]&&a.setAttribute(qt[s],o)}),Gw(this)},e}(QP),ws=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="svg",r.canFill=!1,r.canStroke=!1,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(r){t.prototype.afterAttrsChange.call(this,r);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,r)}},e.prototype.getShapeBase=function(){return tI},e.prototype.getGroupBase=function(){return f5},e.prototype.onCanvasChange=function(r){cde(this,r)},e.prototype.calculateBBox=function(){var r=this.get("el"),n=null;if(r)n=r.getBBox();else{var i=ZP(this.get("type"));i&&(n=i(this))}if(n){var a=n.x,o=n.y,s=n.width,l=n.height,u=this.getHitLineWidth(),c=u/2,d=a-c,f=o-c,p=a+s+c,v=o+l+c;return{x:d,y:f,minX:d,minY:f,maxX:p,maxY:v,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var r=this.attr(),n=r.fill,i=r.fillStyle;return(n||i||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var r=this.attr(),n=r.stroke,i=r.strokeStyle;return(n||i)&&this.canStroke},e.prototype.draw=function(r,n){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||sde(this),Wx(this,r),this.createPath(r,n),this.shadow(r,n),this.strokeAndFill(r,n),this.transform(n))},e.prototype.createPath=function(r,n){},e.prototype.strokeAndFill=function(r,n){var i=n||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,l=i.strokeStyle,u=i.fillOpacity,c=i.strokeOpacity,d=i.lineWidth,f=this.get("el");this.canFill&&(n?"fill"in i?this._setColor(r,"fill",a):"fillStyle"in i&&this._setColor(r,"fill",o):this._setColor(r,"fill",a||o),u&&f.setAttribute(qt.fillOpacity,u)),this.canStroke&&d>0&&(n?"stroke"in i?this._setColor(r,"stroke",s):"strokeStyle"in i&&this._setColor(r,"stroke",l):this._setColor(r,"stroke",s||l),c&&f.setAttribute(qt.strokeOpacity,c),d&&f.setAttribute(qt.lineWidth,d))},e.prototype._setColor=function(r,n,i){var a=this.get("el");if(!i){a.setAttribute(qt[n],"none");return}if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)){var o=r.find("gradient",i);o||(o=r.addGradient(i)),a.setAttribute(qt[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(i)){var o=r.find("pattern",i);o||(o=r.addPattern(i)),a.setAttribute(qt[n],"url(#"+o+")")}else a.setAttribute(qt[n],i)},e.prototype.shadow=function(r,n){var i=this.attr(),a=n||i,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&jut(this,r)},e.prototype.transform=function(r){var n=this.attr(),i=(r||n).matrix;i&&Gw(this)},e.prototype.isInShape=function(r,n){return this.isPointInPath(r,n)},e.prototype.isPointInPath=function(r,n){var i=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=r+o.left,l=n+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(i))},e.prototype.getHitLineWidth=function(){var r=this.attrs,n=r.lineWidth,i=r.lineAppendWidth;return this.isStroke()?n+i:0},e}(JP),Fut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="circle",r.canFill=!0,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,r:0})},e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");Y(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):qt[s]&&a.setAttribute(qt[s],o)})},e}(ws),Lut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dom",r.canFill=!1,r.canStroke=!1,r}return e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");if(Y(n||i,function(u,c){qt[c]&&a.setAttribute(qt[c],u)}),typeof i.html=="function"){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},e}(ws),$ut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="ellipse",r.canFill=!0,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");Y(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):qt[s]&&a.setAttribute(qt[s],o)})},e}(ws),Nut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="image",r.canFill=!1,r.canStroke=!1,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(r,n){var i=this,a=this.attr(),o=this.get("el");Y(n||a,function(s,l){l==="img"?i._setImage(a.img):qt[l]&&o.setAttribute(qt[l],s)})},e.prototype.setAttr=function(r,n){this.attrs[r]=n,r==="img"&&this._setImage(n)},e.prototype._setImage=function(r){var n=this.attr(),i=this.get("el");if(nt(r))i.setAttribute("href",r);else if(r instanceof window.Image)n.width||(i.setAttribute("width",r.width),this.attr("width",r.width)),n.height||(i.setAttribute("height",r.height),this.attr("height",r.height)),i.setAttribute("href",r.src);else if(r instanceof HTMLElement&&nt(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS")i.setAttribute("href",r.toDataURL());else if(r instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+r.width),a.setAttribute("height",""+r.height),a.getContext("2d").putImageData(r,0,0),n.width||(i.setAttribute("width",""+r.width),this.attr("width",r.width)),n.height||(i.setAttribute("height",""+r.height),this.attr("height",r.height)),i.setAttribute("href",a.toDataURL())}},e}(ws),But=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="line",r.canFill=!1,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");Y(n||i,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=lr(o)?r.addArrow(i,qt[s]):r.getDefaultArrow(i,qt[s]);a.setAttribute(qt[s],"url(#"+l+")")}else a.removeAttribute(qt[s]);else qt[s]&&a.setAttribute(qt[s],o)})},e.prototype.getTotalLength=function(){var r=this.attr(),n=r.x1,i=r.y1,a=r.x2,o=r.y2;return pi.length(n,i,a,o)},e.prototype.getPoint=function(r){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return pi.pointAt(i,a,o,s,r)},e}(ws),FS={circle:function(t,e,r){return[["M",t,e],["m",-r,0],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0]]},square:function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},diamond:function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},triangle:function(t,e,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["z"]]},triangleDown:function(t,e,r){var n=r*Math.sin(.3333333333333333*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]}};const t9={get:function(t){return FS[t]},register:function(t,e){FS[t]=e},remove:function(t){delete FS[t]},getAll:function(){return FS}};var Vut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="marker",r.canFill=!0,r.canStroke=!0,r}return e.prototype.createPath=function(r){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var r=this._getPath();return xe(r)?r.map(function(n){return n.join(" ")}).join(""):r},e.prototype._getPath=function(){var r=this.attr(),n=r.x,i=r.y,a=r.r||r.radius,o=r.symbol||"circle",s;return qe(o)?s=o:s=t9.get(o),s?s(n,i,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=t9,e}(ws),zut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="path",r.canFill=!0,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(r,n){var i=this,a=this.attr(),o=this.get("el");Y(n||a,function(s,l){if(l==="path"&&xe(s))o.setAttribute("d",i._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=lr(s)?r.addArrow(a,qt[l]):r.getDefaultArrow(a,qt[l]);o.setAttribute(qt[l],"url(#"+u+")")}else o.removeAttribute(qt[l]);else qt[l]&&o.setAttribute(qt[l],s)})},e.prototype._formatPath=function(r){var n=r.map(function(i){return i.join(" ")}).join("");return~n.indexOf("NaN")?"":n},e.prototype.getTotalLength=function(){var r=this.get("el");return r?r.getTotalLength():null},e.prototype.getPoint=function(r){var n=this.get("el"),i=this.getTotalLength();if(i===0)return null;var a=n?n.getPointAtLength(r*i):null;return a?{x:a.x,y:a.y}:null},e}(ws),Uut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="polygon",r.canFill=!0,r.canStroke=!0,r}return e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");Y(n||i,function(o,s){s==="points"&&xe(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):qt[s]&&a.setAttribute(qt[s],o)})},e}(ws),qut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="polyline",r.canFill=!0,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(r,n,i){t.prototype.onAttrChange.call(this,r,n,i),["points"].indexOf(r)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(r,n){var i=this.attr(),a=this.get("el");Y(n||i,function(o,s){s==="points"&&xe(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):qt[s]&&a.setAttribute(qt[s],o)})},e.prototype.getTotalLength=function(){var r=this.attr().points,n=this.get("totalLength");return ve(n)?(this.set("totalLength",uue.length(r)),this.get("totalLength")):n},e.prototype.getPoint=function(r){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return Y(i,function(s,l){r>=s[0]&&r<=s[1]&&(a=(r-s[0])/(s[1]-s[0]),o=l)}),pi.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},e.prototype._setTcache=function(){var r=this.attr().points;if(!(!r||r.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;Y(r,function(l,u){r[u+1]&&(o=[],o[0]=i/n,s=pi.length(l[0],l[1],r[u+1][0],r[u+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var r=this.attr().points,n=[];return n.push([r[1][0],r[1][1]]),n.push([r[0][0],r[0][1]]),n},e.prototype.getEndTangent=function(){var r=this.attr().points,n=r.length-1,i=[];return i.push([r[n-1][0],r[n-1][1]]),i.push([r[n][0],r[n][1]]),i},e}(ws);function Gut(t){var e=0,r=0,n=0,i=0;return xe(t)?t.length===1?e=r=n=i=t[0]:t.length===2?(e=n=t[0],r=i=t[1]):t.length===3?(e=t[0],r=i=t[1],n=t[2]):(e=t[0],r=t[1],n=t[2],i=t[3]):e=r=n=i=t,{r1:e,r2:r,r3:n,r4:i}}var Wut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="rect",r.canFill=!0,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(r,n){var i=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];Y(n||a,function(u,c){l.indexOf(c)!==-1&&!s?(o.setAttribute("d",i._assembleRect(a)),s=!0):l.indexOf(c)===-1&&qt[c]&&o.setAttribute(qt[c],u)})},e.prototype._assembleRect=function(r){var n=r.x,i=r.y,a=r.width,o=r.height,s=r.radius;if(!s)return"M "+n+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Gut(s);xe(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(n+l.r1)+","+i],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},e}(ws),r9=.3,Hut={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Yut={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Xut={left:"left",start:"left",center:"middle",right:"end",end:"end"},Kut=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="text",r.canFill=!0,r.canStroke=!0,r}return e.prototype.getDefaultAttrs=function(){var r=t.prototype.getDefaultAttrs.call(this);return F(F({},r),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(r,n){var i=this,a=this.attr(),o=this.get("el");this._setFont(),Y(n||a,function(s,l){l==="text"?i._setText(""+s):l==="matrix"&&s?Gw(i):qt[l]&&o.setAttribute(qt[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var r=this.get("el"),n=this.attr(),i=n.textBaseline,a=n.textAlign,o=Mle();o&&o.name==="firefox"?r.setAttribute("dominant-baseline",Yut[i]||"alphabetic"):r.setAttribute("alignment-baseline",Hut[i]||"baseline"),r.setAttribute("text-anchor",Xut[a]||"left")},e.prototype._setText=function(r){var n=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=o===void 0?"bottom":o;if(!r)n.innerHTML="";else if(~r.indexOf(`
`)){var l=r.split(`
`),u=l.length-1,c="";Y(l,function(d,f){f===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-u+'em">'+d+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+d+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+d+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(u+r9)+'em">'+d+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(u-1)-r9)+'em">'+d+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+d+"</tspan>"}),n.innerHTML=c}else n.innerHTML=r},e}(ws),Qut=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Jut=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Zut=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function dde(t){var e=t.match(Zut);if(!e)return"";var r="";return e.sort(function(n,i){return n=n.split(":"),i=i.split(":"),Number(n[0])-Number(i[0])}),Y(e,function(n){n=n.split(":"),r+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),r}function ect(t,e){var r=Qut.exec(t),n=zP(UP(parseFloat(r[1])),Math.PI*2),i=r[2],a,o;n>=0&&n<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",u),e.setAttribute("y2",c),e.innerHTML=dde(i)}function tct(t,e){var r=Jut.exec(t),n=parseFloat(r[1]),i=parseFloat(r[2]),a=parseFloat(r[3]),o=r[4];e.setAttribute("cx",n),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=dde(o)}var rct=function(){function t(e){this.cfg={};var r=null,n=tf("gradient_");return e.toLowerCase()[0]==="l"?(r=cs("linearGradient"),ect(e,r)):(r=cs("radialGradient"),tct(e,r)),r.setAttribute("id",n),this.el=r,this.id=n,this.cfg=e,this}return t.prototype.match=function(e,r){return this.cfg===r},t}(),nct={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},ict={x:"-40%",y:"-40%",width:"200%",height:"200%"},act=function(){function t(e){this.type="filter",this.cfg={},this.type="filter";var r=cs("filter");return Y(ict,function(n,i){r.setAttribute(i,n)}),this.el=r,this.id=tf("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,r),this}return t.prototype.match=function(e,r){if(this.type!==e)return!1;var n=!0,i=this.cfg;return Y(Object.keys(i),function(a){if(i[a]!==r[a])return n=!1,!1}),n},t.prototype.update=function(e,r){var n=this.cfg;return n[nct[e]]=r,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(e,r){var n=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;r.innerHTML=n},t}(),n9=function(){function t(e,r){this.cfg={};var n=cs("marker"),i=tf("marker_");n.setAttribute("id",i);var a=cs("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i;var o=e[r==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(r,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(e,r){var n=this.el;r.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(e,r){var n=this.el,i=this.cfg.path,a=this.cfg.d;xe(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),r.setAttribute("d",i),n.appendChild(r),a&&n.setAttribute("refX",""+a/e)},t.prototype.update=function(e){var r=this.child;r.attr?r.attr("fill",e):r.setAttribute("fill",e)},t}(),oct=function(){function t(e){this.type="clip",this.cfg={};var r=cs("clipPath");this.el=r,this.id=tf("clip_"),r.id=this.id;var n=e.cfg.el;return r.appendChild(n),this.cfg=e,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},t}(),sct=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,lct=function(){function t(e){this.cfg={};var r=cs("pattern");r.setAttribute("patternUnits","userSpaceOnUse");var n=cs("image");r.appendChild(n);var i=tf("pattern_");r.id=i,this.el=r,this.id=i,this.cfg=e;var a=sct.exec(e),o=a[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){r.setAttribute("width",""+s.width),r.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return t.prototype.match=function(e,r){return this.cfg===r},t}(),uct=function(){function t(e){var r=cs("defs"),n=tf("defs_");r.id=n,e.appendChild(r),this.children=[],this.defaultArrow={},this.el=r,this.canvas=e}return t.prototype.find=function(e,r){for(var n=this.children,i=null,a=0;a<n.length;a++)if(n[a].match(e,r)){i=n[a].id;break}return i},t.prototype.findById=function(e){for(var r=this.children,n=null,i=0;i<r.length;i++)if(r[i].id===e){n=r[i];break}return n},t.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},t.prototype.getDefaultArrow=function(e,r){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new n9(e,r);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},t.prototype.addGradient=function(e){var r=new rct(e);return this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addArrow=function(e,r){var n=new n9(e,r);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(e){var r=new act(e);return this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addPattern=function(e){var r=new lct(e);return this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addClip=function(e){var r=new oct(e);return this.el.appendChild(r.el),this.add(r),r.id},t}(),cct=function(t){ae(e,t);function e(r){return t.call(this,F(F({},r),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return tI},e.prototype.getGroupBase=function(){return f5},e.prototype.getShape=function(r,n,i){var a=i.target||i.srcElement;if(!uF[a.tagName]){for(var o=a.parentNode;o&&!uF[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var r=cs("svg"),n=new uct(r);return r.setAttribute("width",""+this.get("width")),r.setAttribute("height",""+this.get("height")),this.set("context",n),r},e.prototype.onCanvasChange=function(r){var n=this.get("context"),i=this.get("el");if(r==="sort"){var a=this.get("children");a&&a.length&&lde(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(r==="clear"){if(i){i.innerHTML="";var o=n.el;o.innerHTML="",i.appendChild(o)}}else r==="matrix"?Gw(this):r==="clip"?Wx(this,n):r==="changeSize"&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var r=this.get("context"),n=this.getChildren();Wx(this,r),n.length&&ude(r,n)},e}(KP),dct="0.5.6";const fct=Object.freeze(Object.defineProperty({__proto__:null,AbstractCanvas:KP,AbstractGroup:QP,AbstractShape:JP,Base:WP,Canvas:cct,Event:Lw,Group:f5,PathUtil:C4,Shape:tI,assembleFont:n_,getBBoxMethod:ZP,getOffScreenContext:t_,getTextHeight:r_,invert:YP,isAllowCapture:Ox,multiplyVec2:Pu,registerBBox:bs,registerEasing:eue,version:dct},Symbol.toStringTag,{value:"Module"}));var h5=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.type="path",n.shapeType="line";var i=r.connectNulls,a=i===void 0?!1:i,o=r.showSinglePoint,s=o===void 0?!0:o;return n.connectNulls=a,n.showSinglePoint=s,n}return e.prototype.updateElements=function(r,n){var i,a,o,s,l,u;n===void 0&&(n=!1);for(var c=new Map,d=new Map,f=[],p=0,v=0;v<r.length;v++){var g=r[v],m=this.getElementId(g);f.push(m),c.set(m,g),d.set(m,p),p++}this.elements=new Array(p);var y=Lce(this.lastElementsMap,f),x=y.added,b=y.updated,w=y.removed;try{for(var S=Jt(x),C=S.next();!C.done;C=S.next()){var m=C.value,g=c.get(m),E=this.getShapeFactory(),A=this.getShapeInfo(g),v=d.get(m),P=new Mce({shapeFactory:E,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:v});P.geometry=this,P.animate=this.animateOption,P.draw(A,n),this.elementsMap[m]=P,this.elements[v]=P}}catch($){i={error:$}}finally{try{C&&!C.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}try{for(var _=Jt(b),k=_.next();!k.done;k=_.next()){var m=k.value,g=c.get(m),P=this.lastElementsMap[m],v=d.get(m),A=this.getShapeInfo(g),O=P.getModel();(this.isCoordinateChanged||Fce(O,A))&&(P.animate=this.animateOption,P.update(A)),this.elementsMap[m]=P,this.elements[v]=P}}catch($){o={error:$}}finally{try{k&&!k.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}try{for(var D=Jt(w),B=D.next();!B.done;B=D.next()){var m=B.value,P=this.lastElementsMap[m];P.animate=this.animateOption,P.destroy()}}catch($){l={error:$}}finally{try{B&&!B.done&&(u=D.return)&&u.call(D)}finally{if(l)throw l.error}}},e.prototype.getPointsAndData=function(r){for(var n=[],i=[],a=0,o=r.length;a<o;a++){var s=r[a];n.push({x:s.x,y:s.y}),i.push(s[xr])}return{points:n,data:i}},e.prototype.getShapeInfo=function(r){var n=this.getDrawCfg(r[0]),i=this.getPointsAndData(r),a=i.points,o=i.data;return n.mappingData=r,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=a,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},e}(nf);function hct(t,e,r,n,i){var a=[];if(t.length){for(var o=[],s=[],l=0,u=t.length;l<u;l++){var c=t[l];o.push(c[1]),s.push(c[0])}s=s.reverse(),Y([o,s],function(d,f){var p=[],v=n.parsePoints(d),g=v[0];o.length===1&&s.length===1?p=f===0?[["M",g.x-.5,g.y],["L",g.x+.5,g.y]]:[["L",g.x+.5,g.y],["L",g.x-.5,g.y]]:(e&&v.push({x:g.x,y:g.y}),r?p=_C(v,!1,i):p=zw(v,!1),f>0&&(p[0][0]="L")),a=a.concat(p)}),a.push(["Z"])}return a}function A_(t,e,r,n,i){for(var a=xn(t,e,!e,"lineWidth"),o=t.connectNulls,s=t.isInCircle,l=t.points,u=t.showSinglePoint,c=E_(l,o,u),d=[],f=0,p=c.length;f<p;f++){var v=c[f];d=d.concat(hct(v,s,r,n,i))}return a.path=d,a}function fde(t){var e=t.start,r=t.end;return[[e.x,r.y],[r.x,e.y]]}rf("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,r=t.y0,n=xe(t.y)?t.y:[r,t.y];return n.map(function(i){return{x:e,y:i}})}});tr("area","area",{draw:function(t,e){var r=A_(t,!1,!1,this),n=e.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){return i===void 0&&(i=5.5),[["M",r-i,n-4],["L",r+i,n-4],["L",r+i,n+4],["L",r-i,n+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});var pct=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=r.startOnZero,a=i===void 0?!0:i,o=r.sortable,s=o===void 0?!1:o,l=r.showSinglePoint,u=l===void 0?!1:l;return n.startOnZero=a,n.sortable=s,n.showSinglePoint=u,n}return e.prototype.getPointsAndData=function(r){for(var n=[],i=[],a=0,o=r.length;a<o;a++){var s=r[a];n.push(s.points),i.push(s[xr])}return{points:n,data:i}},e.prototype.getYMinValue=function(){if(this.startOnZero)return t.prototype.getYMinValue.call(this);var r=this.getYScale();return r.min},e}(h5);rf("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return a5(t)}});tr("edge","line",{draw:function(t,e){var r=xn(t,!0,!1,"lineWidth"),n=zw(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:F(F({},r),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var vct=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="edge",r.shapeType="edge",r.generatePoints=!0,r}return e}(nf),gct=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="heatmap",r.paletteCache={},r}return e.prototype.updateElements=function(r,n){for(var i=0;i<r.length;i++){var a=r[i],o=this.prepareRange(a),s=this.prepareSize(),l=K(this.styleOption,["cfg","shadowBlur"]);lt(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(a,o,s,l)}},e.prototype.color=function(r,n){return this.createAttrOption("color",r,typeof n!="function"?n:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(r){var n=this.getAttribute("color"),i=n.getFields()[0],a=1/0,o=-1/0;return r.forEach(function(s){var l=s[xr][i];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var r=this.getDefaultValue("size");return lt(r)||(r=this.getDefaultSize()),r},e.prototype.prepareGreyScaleBlurredCircle=function(r,n){var i=this.getGrayScaleBlurredCanvas(),a=r+n,o=i.getContext("2d");i.width=i.height=a*2,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,r,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(r,n,i,a){var o,s,l=this.coordinate,u=l.start,c=l.end,d=this.coordinate.getWidth(),f=this.coordinate.getHeight(),p=this.getAttribute("color"),v=p.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();n&&(r=r.filter(function(_){return _[xr][v]<=n[1]&&_[xr][v]>=n[0]}));var m=this.scales[v];try{for(var y=Jt(r),x=y.next();!x.done;x=y.next()){var b=x.value,w=this.getDrawCfg(b),S=w.x,C=w.y,E=m.scale(b[xr][v]);this.drawGrayScaleBlurredCircle(S-u.x,C-c.y,i+a,E,g)}}catch(_){o={error:_}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}var A=g.getImageData(0,0,d,f);this.clearShadowCanvasCtx(),this.colorize(A),g.putImageData(A,0,0);var P=this.getImageShape();P.attr("x",u.x),P.attr("y",c.y),P.attr("width",d),P.attr("height",f),P.attr("img",g.canvas),P.set("origin",this.getShapeInfo(r))},e.prototype.getDefaultSize=function(){var r=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(r.scales[0].ticks.length*4),n.getHeight()/(r.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var r=this.getShadowCanvasCtx();r.clearRect(0,0,r.canvas.width,r.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var r=this.shadowCanvas;return r||(r=document.createElement("canvas"),this.shadowCanvas=r),r.width=this.coordinate.getWidth(),r.height=this.coordinate.getHeight(),r.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(r,n,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,r-i,n-i)},e.prototype.colorize=function(r){for(var n=this.getAttribute("color"),i=r.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if(lt(s)){var l=a[s]?a[s]:vd.rgb2arr(n.gradient(s/256));i[o-3]=l[0],i[o-2]=l[1],i[o-1]=l[2],i[o]=s}}},e.prototype.getImageShape=function(){var r=this.imageShape;if(r)return r;var n=this.container;return r=n.addShape({type:"image",attrs:{}}),this.imageShape=r,r},e.prototype.getShapeInfo=function(r){var n=this.getDrawCfg(r[0]),i=r.map(function(a){return a[xr]});return F(F({},n),{mappingData:r,data:i})},e}(nf);function p5(t){var e,r,n=t.x,i=t.y,a=t.y0,o=t.size,s,l;xe(i)?(e=We(i,2),s=e[0],l=e[1]):(s=a,l=i);var u,c;xe(n)?(r=We(n,2),u=r[0],c=r[1]):(u=n-o/2,c=n+o/2);var d=[{x:u,y:s},{x:u,y:l}];return d.push({x:c,y:l},{x:c,y:s}),d}function v5(t,e){e===void 0&&(e=!0);var r=[],n=t[0];r.push(["M",n.x,n.y]);for(var i=1,a=t.length;i<a;i++)r.push(["L",t[i].x,t[i].y]);return e&&(r.push(["L",n.x,n.y]),r.push(["z"])),r}function hde(t,e){var r=0,n=0,i=0,a=0;return xe(t)?t.length===1?r=n=i=a=t[0]:t.length===2?(r=i=t[0],n=a=t[1]):t.length===3?(r=t[0],n=a=t[1],i=t[2]):(r=t[0],n=t[1],i=t[2],a=t[3]):r=n=i=a=t,r+n>e&&(r=r?e/(1+n/r):0,n=e-r),i+a>e&&(i=i?e/(1+a/i):0,a=e-i),[r||0,n||0,i||0,a||0]}function pde(t,e,r){var n=[];if(r.isRect){var i=r.isTransposed?{x:r.start.x,y:e[0].y}:{x:e[0].x,y:r.start.y},a=r.isTransposed?{x:r.end.x,y:e[2].y}:{x:e[3].x,y:r.end.y},o=K(t,["background","style","radius"]);if(o){var s=r.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=r.isTransposed?r.getWidth():r.getHeight(),u=We(hde(o,Math.min(s,l)),4),c=u[0],d=u[1],f=u[2],p=u[3],v=r.isTransposed&&r.isReflect("y"),g=v?0:1,m=function(C){return v?-C:C};n.push(["M",i.x,a.y+m(c)]),c!==0&&n.push(["A",c,c,0,0,g,i.x+c,a.y]),n.push(["L",a.x-d,a.y]),d!==0&&n.push(["A",d,d,0,0,g,a.x,a.y+m(d)]),n.push(["L",a.x,i.y-m(f)]),f!==0&&n.push(["A",f,f,0,0,g,a.x-f,i.y]),n.push(["L",i.x+p,i.y]),p!==0&&n.push(["A",p,p,0,0,g,i.x,i.y-m(p)])}else n.push(["M",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]);n.push(["z"])}if(r.isPolar){var y=r.getCenter(),x=Vx(t,r),b=x.startAngle,w=x.endAngle;if(r.type!=="theta"&&!r.isTransposed)n=gd(y.x,y.y,r.getRadius(),b,w);else{var S=function(A){return Math.pow(A,2)},c=Math.sqrt(S(y.x-e[0].x)+S(y.y-e[0].y)),d=Math.sqrt(S(y.x-e[2].x)+S(y.y-e[2].y));n=gd(y.x,y.y,c,r.startAngle,r.endAngle,d)}}return n}function mct(t,e,r){var n=r.getWidth(),i=r.getHeight(),a=r.type==="rect",o=[],s=(t[2].x-t[1].x)/2,l=r.isTransposed?s*i/n:s*n/i;return e==="round"?(a?(o.push(["M",t[0].x,t[0].y+l]),o.push(["L",t[1].x,t[1].y-l]),o.push(["A",s,s,0,0,1,t[2].x,t[2].y-l]),o.push(["L",t[3].x,t[3].y+l]),o.push(["A",s,s,0,0,1,t[0].x,t[0].y+l])):(o.push(["M",t[0].x,t[0].y]),o.push(["L",t[1].x,t[1].y]),o.push(["A",s,s,0,0,1,t[2].x,t[2].y]),o.push(["L",t[3].x,t[3].y]),o.push(["A",s,s,0,0,1,t[0].x,t[0].y])),o.push(["z"])):o=v5(t),o}function vde(t,e,r){var n=[];return ve(e)?r?n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):n.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function My(t,e){return[e,t]}function yct(t,e,r){var n,i,a,o,s,l,u,c=We(Je([],We(t),!1),4),d=c[0],f=c[1],p=c[2],v=c[3],g=We(typeof r=="number"?Array(4).fill(r):r,4),m=g[0],y=g[1],x=g[2],b=g[3];e.isTransposed&&(n=We(My(f,v),2),f=n[0],v=n[1]),e.isReflect("y")&&(i=We(My(d,f),2),d=i[0],f=i[1],a=We(My(p,v),2),p=a[0],v=a[1]),e.isReflect("x")&&(o=We(My(d,v),2),d=o[0],v=o[1],s=We(My(f,p),2),f=s[0],p=s[1]);var w=[],S=function(C){return Math.abs(C)};return l=We(hde([m,y,x,b],Math.min(S(v.x-d.x),S(f.y-d.y))).map(function(C){return S(C)}),4),m=l[0],y=l[1],x=l[2],b=l[3],e.isTransposed&&(u=We([b,m,y,x],4),m=u[0],y=u[1],x=u[2],b=u[3]),d.y<f.y?(w.push(["M",v.x,v.y+x]),x!==0&&w.push(["A",x,x,0,0,0,v.x-x,v.y]),w.push(["L",d.x+b,d.y]),b!==0&&w.push(["A",b,b,0,0,0,d.x,d.y+b]),w.push(["L",f.x,f.y-m]),m!==0&&w.push(["A",m,m,0,0,0,f.x+m,f.y]),w.push(["L",p.x-y,p.y]),y!==0&&w.push(["A",y,y,0,0,0,p.x,p.y-y]),w.push(["L",v.x,v.y+x]),w.push(["z"])):v.x<d.x?(w.push(["M",p.x+y,p.y]),y!==0&&w.push(["A",y,y,0,0,0,p.x,p.y+y]),w.push(["L",v.x,v.y-x]),x!==0&&w.push(["A",x,x,0,0,0,v.x+x,v.y]),w.push(["L",d.x-b,d.y]),b!==0&&w.push(["A",b,b,0,0,0,d.x,d.y-b]),w.push(["L",f.x,f.y+m]),m!==0&&w.push(["A",m,m,0,0,0,f.x-m,f.y]),w.push(["L",p.x+y,p.y]),w.push(["z"])):(w.push(["M",f.x,f.y+m]),m!==0&&w.push(["A",m,m,0,0,1,f.x+m,f.y]),w.push(["L",p.x-y,p.y]),y!==0&&w.push(["A",y,y,0,0,1,p.x,p.y+y]),w.push(["L",v.x,v.y-x]),x!==0&&w.push(["A",x,x,0,0,1,v.x-x,v.y]),w.push(["L",d.x+b,d.y]),b!==0&&w.push(["A",b,b,0,0,1,d.x,d.y-b]),w.push(["L",f.x,f.y+m]),w.push(["z"])),w}rf("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return p5(t)}});tr("interval","rect",{draw:function(t,e){var r=xn(t,!1,!0),n=e,i=t==null?void 0:t.background;if(i){n=e.addGroup({name:"interval-group"});var a=qce(t),o=pde(t,this.parsePoints(t.points),this.coordinate);n.addShape("path",{attrs:F(F({},a),{path:o}),capture:!1,zIndex:-1,name:r5})}var s;r.radius&&this.coordinate.isRect?s=yct(this.parsePoints(t.points),this.coordinate,r.radius):s=this.parsePath(mct(t.points,r.lineCap,this.coordinate));var l=n.addShape("path",{attrs:F(F({},r),{path:s}),name:"interval"});return i?n:l},getMarker:function(t){var e=t.color,r=t.isInPolar;return r?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function xct(t,e){var r=t.length,n=t;nt(n[0])&&(n=t.map(function(s){return e.translate(s)}));for(var i=n[1]-n[0],a=2;a<r;a++){var o=n[a]-n[a-1];i>o&&(i=o)}return i}function bct(t,e){if(e){var r=Mo(t),n=Hs(r,e);return n.length}return t.length}function g5(t){var e=t.theme,r=t.coordinate,n=t.getXScale(),i=n.values,a=t.beforeMappingData,o=i.length,s=Vw(t.coordinate),l=t.intervalPadding,u=t.dodgePadding,c=t.maxColumnWidth||e.maxColumnWidth,d=t.minColumnWidth||e.minColumnWidth,f=t.columnWidthRatio||e.columnWidthRatio,p=t.multiplePieWidthRatio||e.multiplePieWidthRatio,v=t.roseWidthRatio||e.roseWidthRatio;if(n.isLinear&&i.length>1){i.sort();var g=xct(i,n);o=(n.max-n.min)/g,i.length>o&&(o=i.length)}var m=n.range,y=1/o,x=1;if(r.isPolar?r.isTransposed&&o>1?x=p:x=v:(n.isLinear&&(y*=m[1]-m[0]),x=f),!ve(l)&&l>=0){var b=l/s;y=(1-(o-1)*b)/o}else y*=x;if(t.getAdjust("dodge")){var w=t.getAdjust("dodge"),S=w.dodgeBy,C=bct(a,S);if(!ve(u)&&u>=0){var E=u/s;y=(y-E*(C-1))/C}else!ve(l)&&l>=0&&(y*=x),y=y/C;y=y>=0?y:0}if(!ve(c)&&c>=0){var A=c/s;y>A&&(y=A)}if(!ve(d)&&d>=0){var P=d/s;y<P&&(y=P)}return y}var wct=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var i=r.background;return n.background=i,n}return e.prototype.createShapePointsCfg=function(r){var n=t.prototype.createShapePointsCfg.call(this,r),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,r)[0];var o=this.coordinate,s=Vw(o);i=i/s}else this.defaultSize||(this.defaultSize=g5(this)),i=this.defaultSize;return n.size=i,n},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var r=this.getYScale();if(this.coordinate.type==="theta")r.change({nice:!1,min:0,max:hst(r)});else{var n=this.scaleDefs,i=r.field,a=r.min,o=r.max,s=r.type;s!=="time"&&(a>0&&!K(n,[i,"min"])&&r.change({min:0}),o<=0&&!K(n,[i,"max"])&&r.change({max:0}))}},e.prototype.getDrawCfg=function(r){var n=t.prototype.getDrawCfg.call(this,r);return n.background=this.background,n},e}(nf),Sct=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;n.type="line";var i=r.sortable,a=i===void 0?!1:i;return n.sortable=a,n}return e}(h5),gde=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Ect=["cross","tick","plus","hyphen","line"];function m5(t,e,r,n,i){var a,o,s=xn(e,i,!i,"r"),l=t.parsePoints(e.points),u=l[0];if(e.isStack)u=l[1];else if(l.length>1){var c=r.addGroup();try{for(var d=Jt(l),f=d.next();!f.done;f=d.next()){var p=f.value;c.addShape({type:"marker",attrs:F(F(F({},s),{symbol:Vh[n]||n}),p)})}}catch(v){a={error:v}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}return c}return r.addShape({type:"marker",attrs:F(F(F({},s),{symbol:Vh[n]||n}),u)})}rf("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return a5(t)}});Y(gde,function(t){tr("point","hollow-".concat(t),{draw:function(e,r){return m5(this,e,r,t,!0)},getMarker:function(e){var r=e.color;return{symbol:Vh[t]||t,style:{r:4.5,stroke:r,fill:null}}}})});var Act=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="point",r.shapeType="point",r.generatePoints=!0,r}return e.prototype.getDrawCfg=function(r){var n=t.prototype.getDrawCfg.call(this,r);return F(F({},n),{isStack:!!this.getAdjust("stack")})},e}(nf);function Cct(t){for(var e=t[0],r=1,n=[["M",e.x,e.y]];r<t.length;){var i=t[r];(i.x!==t[r-1].x||i.y!==t[r-1].y)&&(n.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&r<t.length-1&&(e=t[r+1],n.push(["Z"]),n.push(["M",e.x,e.y]),r++)),r++}return on(Fn(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}rf("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return Y(t.x,function(r,n){var i=t.y[n];e.push({x:r,y:i})}),e}});tr("polygon","polygon",{draw:function(t,e){if(!Xa(t.points)){var r=xn(t,!0,!0),n=this.parsePath(Cct(t.points));return e.addShape("path",{attrs:F(F({},r),{path:n}),name:"polygon"})}},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}});var Tct=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="polygon",r.shapeType="polygon",r.generatePoints=!0,r}return e.prototype.createShapePointsCfg=function(r){var n=t.prototype.createShapePointsCfg.call(this,r),i=n.x,a=n.y,o;if(!(xe(i)&&xe(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,c=l.values.length,d=.5*1/u,f=.5*1/c;s.isCategory&&l.isCategory?(i=[i-d,i-d,i+d,i+d],a=[a-f,a+f,a+f,a-f]):xe(i)?(o=i,i=[o[0],o[0],o[1],o[1]],a=[a-f/2,a+f/2,a+f/2,a-f/2]):xe(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],i=[i-d/2,i-d/2,i+d/2,i+d/2]),n.x=i,n.y=a}return n},e}(nf);rf("schema",{defaultShapeType:""});var Ict=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="schema",r.shapeType="schema",r.generatePoints=!0,r}return e.prototype.createShapePointsCfg=function(r){var n=t.prototype.createShapePointsCfg.call(this,r),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,r)[0];var o=this.coordinate,s=Vw(o);i=i/s}else this.defaultSize||(this.defaultSize=g5(this)),i=this.defaultSize;return n.size=i,n},e}(nf);function Pct(t){if(!xe(t))return[];var e=Ro(t);return $r(t,function(r){return r/e})}rf("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,r=[],n=Pct(t._size);return Y(t.y,function(i,a){var o=n[a]*e,s=a===0,l=a===t.y.length-1;r.push({isMin:s,isMax:l,x:t.x-o,y:i}),r.unshift({isMin:s,isMax:l,x:t.x+o,y:i})}),r}});tr("violin","violin",{draw:function(t,e){var r=xn(t,!0,!0),n=this.parsePath(zce(t.points));return e.addShape("path",{attrs:F(F({},r),{path:n}),name:"violin"})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4,fill:e}}}});var _ct=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="violin",r.shapeType="violin",r.generatePoints=!0,r}return e.prototype.createShapePointsCfg=function(r){var n=t.prototype.createShapePointsCfg.call(this,r),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,r)[0];var o=this.coordinate,s=Vw(o);i=i/s}else this.defaultSize||(this.defaultSize=g5(this)),i=this.defaultSize;return n.size=i,n._size=K(r[xr],[this._sizeField]),n},e.prototype.initAttributes=function(){var r=this.attributeOption,n=r.size?r.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete r.size,t.prototype.initAttributes.call(this)},e}(nf);tr("area","line",{draw:function(t,e){var r=A_(t,!0,!1,this),n=e.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){return i===void 0&&(i=5.5),[["M",r-i,n-4],["L",r+i,n-4],["L",r+i,n+4],["L",r-i,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});tr("area","smooth",{draw:function(t,e){var r=this.coordinate,n=A_(t,!1,!0,this,fde(r)),i=e.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){return i===void 0&&(i=5.5),[["M",r-i,n-4],["L",r+i,n-4],["L",r+i,n+4],["L",r-i,n+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});tr("area","smooth-line",{draw:function(t,e){var r=this.coordinate,n=A_(t,!0,!0,this,fde(r)),i=e.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){return i===void 0&&(i=5.5),[["M",r-i,n-4],["L",r+i,n-4],["L",r+i,n+4],["L",r-i,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function cF(t,e){return["C",t.x*1/2+e.x*1/2,t.y,t.x*1/2+e.x*1/2,e.y,e.x,e.y]}function dF(t,e){var r=[];r.push({x:e.x,y:e.y}),r.push(t);var n=["Q"];return Y(r,function(i){n.push(i.x,i.y)}),n}function Oct(t,e,r){var n=dF(e,r),i=[["M",t.x,t.y]];return i.push(n),i}function kct(t,e){var r=dF(t[1],e),n=dF(t[3],e),i=[["M",t[0].x,t[0].y]];return i.push(n),i.push(["L",t[3].x,t[3].y]),i.push(["L",t[2].x,t[2].y]),i.push(r),i.push(["L",t[1].x,t[1].y]),i.push(["L",t[0].x,t[0].y]),i.push(["Z"]),i}tr("edge","arc",{draw:function(t,e){var r=xn(t,!0,!1,"lineWidth"),n=t.points,i=n.length>2?"weight":"normal",a;if(t.isInCircle){var o={x:0,y:1};return i==="normal"?a=Oct(n[0],n[1],o):(r.fill=r.stroke,a=kct(n,o)),a=this.parsePath(a),e.addShape("path",{attrs:F(F({},r),{path:a})})}else{if(i==="normal")return n=this.parsePoints(n),a=rce((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:F(F({},r),{path:a})});var s=cF(n[1],n[3]),l=cF(n[2],n[0]);return a=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],s,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],l,["Z"]],a=this.parsePath(a),r.fill=r.stroke,e.addShape("path",{attrs:F(F({},r),{path:a})})}},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});function Dct(t,e){var r=cF(t,e),n=[["M",t.x,t.y]];return n.push(r),n}tr("edge","smooth",{draw:function(t,e){var r=xn(t,!0,!1,"lineWidth"),n=t.points,i=this.parsePath(Dct(n[0],n[1]));return e.addShape("path",{attrs:F(F({},r),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var LS=1/3;function Mct(t,e){var r=[];r.push({x:t.x,y:t.y*(1-LS)+e.y*LS}),r.push({x:e.x,y:t.y*(1-LS)+e.y*LS}),r.push(e);var n=[["M",t.x,t.y]];return Y(r,function(i){n.push(["L",i.x,i.y])}),n}tr("edge","vhv",{draw:function(t,e){var r=xn(t,!0,!1,"lineWidth"),n=t.points,i=this.parsePath(Mct(n[0],n[1]));return e.addShape("path",{attrs:F(F({},r),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});tr("interval","funnel",{getPoints:function(t){return t.size=t.size*2,p5(t)},draw:function(t,e){var r=xn(t,!1,!0),n=this.parsePath(vde(t.points,t.nextPoints,!1)),i=e.addShape("path",{attrs:F(F({},r),{path:n}),name:"interval"});return i},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}});tr("interval","hollow-rect",{draw:function(t,e){var r=xn(t,!0,!1),n=e,i=t==null?void 0:t.background;if(i){n=e.addGroup();var a=qce(t),o=pde(t,this.parsePoints(t.points),this.coordinate);n.addShape("path",{attrs:F(F({},a),{path:o}),capture:!1,zIndex:-1,name:r5})}var s=this.parsePath(v5(t.points)),l=n.addShape("path",{attrs:F(F({},r),{path:s}),name:"interval"});return i?n:l},getMarker:function(t){var e=t.color,r=t.isInPolar;return r?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function Rct(t){var e=t.x,r=t.y,n=t.y0;return xe(r)?r.map(function(i,a){return{x:xe(e)?e[a]:e,y:i}}):[{x:e,y:n},{x:e,y:r}]}tr("interval","line",{getPoints:function(t){return Rct(t)},draw:function(t,e){var r=xn(t,!0,!1,"lineWidth"),n=$a(F({},r),["fill"]),i=this.parsePath(v5(t.points,!1)),a=e.addShape("path",{attrs:F(F({},n),{path:i}),name:"interval"});return a},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){return[["M",r,n-i],["L",r,n+i]]},style:{r:5,stroke:e}}}});tr("interval","pyramid",{getPoints:function(t){return t.size=t.size*2,p5(t)},draw:function(t,e){var r=xn(t,!1,!0),n=this.parsePath(vde(t.points,t.nextPoints,!0)),i=e.addShape("path",{attrs:F(F({},r),{path:n}),name:"interval"});return i},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}});function jct(t){var e,r=t.x,n=t.y,i=t.y0,a=t.size,o,s;xe(n)?(e=We(n,2),o=e[0],s=e[1]):(o=i,s=n);var l=r+a/2,u=r-a/2;return[{x:r,y:o},{x:r,y:s},{x:u,y:o},{x:l,y:o},{x:u,y:s},{x:l,y:s}]}function Fct(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]]}tr("interval","tick",{getPoints:function(t){return jct(t)},draw:function(t,e){var r=xn(t,!0,!1),n=this.parsePath(Fct(t.points)),i=e.addShape("path",{attrs:F(F({},r),{path:n}),name:"interval"});return i},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){return[["M",r-i/2,n-i],["L",r+i/2,n-i],["M",r,n-i],["L",r,n+i],["M",r-i/2,n+i],["L",r+i/2,n+i]]},style:{r:5,stroke:e}}}});var Lct=function(t,e,r){var n=t.x,i=t.y,a=e.x,o=e.y,s;switch(r){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:n,y:o}];break;case"hvh":var l=(a+n)/2;s=[{x:l,y:i},{x:l,y:o}];break;case"vhv":var u=(i+o)/2;s=[{x:n,y:u},{x:a,y:u}];break}return s};function $ct(t,e){var r=[];return Y(t,function(n,i){var a=t[i+1];if(r.push(n),a){var o=Lct(n,a,e);r=r.concat(o)}}),r}function Nct(t){return t.map(function(e,r){return r===0?["M",e.x,e.y]:["L",e.x,e.y]})}function Bct(t,e){var r=E_(t.points,t.connectNulls,t.showSinglePoint),n=[];return Y(r,function(i){var a=$ct(i,e);n=n.concat(Nct(a))}),F(F({},xn(t,!0,!1,"lineWidth")),{path:n})}Y(["hv","vh","hvh","vhv"],function(t){tr("line",t,{draw:function(e,r){var n=Bct(e,t),i=r.addShape({type:"path",attrs:n,name:"line"});return i},getMarker:function(e){return Gce(e,t)}})});Y(Ect,function(t){tr("point",t,{draw:function(e,r){return m5(this,e,r,t,!0)},getMarker:function(e){var r=e.color;return{symbol:Vh[t],style:{r:4.5,stroke:r,fill:null}}}})});tr("point","image",{draw:function(t,e){var r,n,i=xn(t,!1,!1,"r").r,a=this.parsePoints(t.points),o=a[0];if(t.isStack)o=a[1];else if(a.length>1){var s=e.addGroup();try{for(var l=Jt(a),u=l.next();!u.done;u=l.next()){var c=u.value;s.addShape("image",{attrs:{x:c.x-i/2,y:c.y-i,width:i,height:i,img:t.shape[1]}})}}catch(d){r={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s}return e.addShape("image",{attrs:{x:o.x-i/2,y:o.y-i,width:i,height:i,img:t.shape[1]}})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});Y(gde,function(t){tr("point",t,{draw:function(e,r){return m5(this,e,r,t,!1)},getMarker:function(e){var r=e.color;return{symbol:Vh[t]||t,style:{r:4.5,fill:r}}}})});function i9(t){var e=xe(t)?t:[t],r=e[0],n=e[e.length-1],i=e.length>1?e[1]:r,a=e.length>3?e[3]:n,o=e.length>2?e[2]:i;return{min:r,max:n,min1:i,max1:a,median:o}}function a9(t,e,r){var n=r/2,i;if(xe(e)){var a=i9(e),o=a.min,s=a.max,l=a.median,u=a.min1,c=a.max1,d=t-n,f=t+n;i=[[d,s],[f,s],[t,s],[t,c],[d,u],[d,c],[f,c],[f,u],[t,u],[t,o],[d,o],[f,o],[d,l],[f,l]]}else{e=ve(e)?.5:e;var p=i9(t),o=p.min,s=p.max,l=p.median,u=p.min1,c=p.max1,v=e-n,g=e+n;i=[[o,v],[o,g],[o,e],[u,e],[u,v],[u,g],[c,g],[c,v],[c,e],[s,e],[s,v],[s,g],[l,v],[l,g]]}return i.map(function(m){return{x:m[0],y:m[1]}})}function Vct(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}tr("schema","box",{getPoints:function(t){var e=t.x,r=t.y,n=t.size;return a9(e,r,n)},draw:function(t,e){var r=xn(t,!0,!1),n=this.parsePath(Vct(t.points)),i=e.addShape("path",{attrs:F(F({},r),{path:n,name:"schema"})});return i},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){var a=[n-6,n-3,n,n+3,n+6],o=a9(r,a,i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function zct(t){var e=xe(t)?t:[t],r=e.sort(function(n,i){return i-n});return ist(r,4,r[r.length-1])}function o9(t,e,r){var n=zct(e);return[{x:t,y:n[0]},{x:t,y:n[1]},{x:t-r/2,y:n[2]},{x:t-r/2,y:n[1]},{x:t+r/2,y:n[1]},{x:t+r/2,y:n[2]},{x:t,y:n[2]},{x:t,y:n[3]}]}function Uct(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}tr("schema","candle",{getPoints:function(t){var e=t.x,r=t.y,n=t.size;return o9(e,r,n)},draw:function(t,e){var r=xn(t,!0,!0),n=this.parsePath(Uct(t.points)),i=e.addShape("path",{attrs:F(F({},r),{path:n,name:"schema"})});return i},getMarker:function(t){var e=t.color;return{symbol:function(r,n,i){var a=[n+7.5,n+3,n-3,n-7.5],o=o9(r,a,i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function qct(t,e){var r=Math.abs(t[0].x-t[2].x),n=Math.abs(t[0].y-t[2].y),i=Math.min(r,n);e&&(i=Fr(e,0,Math.min(r,n))),i=i/2;var a=(t[0].x+t[2].x)/2,o=(t[0].y+t[2].y)/2;return{x:a-i,y:o-i,width:i*2,height:i*2}}tr("polygon","square",{draw:function(t,e){if(!Xa(t.points)){var r=xn(t,!0,!0),n=this.parsePoints(t.points);return e.addShape("rect",{attrs:F(F({},r),qct(n,t.size)),name:"polygon"})}},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}});tr("violin","smooth",{draw:function(t,e){var r=xn(t,!0,!0),n=this.parsePath(Uce(t.points));return e.addShape("path",{attrs:F(F({},r),{path:n})})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}});tr("violin","hollow",{draw:function(t,e){var r=xn(t,!0,!1),n=this.parsePath(zce(t.points));return e.addShape("path",{attrs:F(F({},r),{path:n})})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});tr("violin","hollow-smooth",{draw:function(t,e){var r=xn(t,!0,!1),n=this.parsePath(Uce(t.points));return e.addShape("path",{attrs:F(F({},r),{path:n})})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var Gct=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelValueDir=function(r){var n="y",i=r.points;return i[0][n]<=i[2][n]?1:-1},e.prototype.getLabelOffsetPoint=function(r,n,i,a){var o,s=t.prototype.getLabelOffsetPoint.call(this,r,n,i),l=this.getCoordinate(),u=l.isTransposed,c=u?"x":"y",d=this.getLabelValueDir(r.mappingData);return s=F(F({},s),(o={},o[c]=s[c]*d,o)),l.isReflect("x")&&(s=F(F({},s),{x:s.x*-1})),l.isReflect("y")&&(s=F(F({},s),{y:s.y*-1})),s},e.prototype.getThemedLabelCfg=function(r){var n=this.geometry,i=this.getDefaultLabelCfg(),a=n.theme;return Fe({},i,a.labels,r.position==="middle"?{offset:0}:{},r)},e.prototype.setLabelPosition=function(r,n,i,a){var o=this.getCoordinate(),s=o.isTransposed,l=n.points,u=o.convert(l[0]),c=o.convert(l[2]),d=this.getLabelValueDir(n),f,p,v,g,m=xe(n.shape)?n.shape[0]:n.shape;if(m==="funnel"||m==="pyramid"){var y=K(n,"nextPoints"),x=K(n,"points");if(y){var b=o.convert(x[0]),w=o.convert(x[1]),S=o.convert(y[0]),C=o.convert(y[1]);s?(f=Math.min(S.y,b.y),v=Math.max(S.y,b.y),p=(w.x+C.x)/2,g=(b.x+S.x)/2):(f=Math.min((w.y+C.y)/2,(b.y+S.y)/2),v=Math.max((w.y+C.y)/2,(b.y+S.y)/2),p=C.x,g=b.x)}else f=Math.min(c.y,u.y),v=Math.max(c.y,u.y),p=c.x,g=u.x}else f=Math.min(c.y,u.y),v=Math.max(c.y,u.y),p=c.x,g=u.x;switch(a){case"right":r.x=p,r.y=(f+v)/2,r.textAlign=K(r,"textAlign",d>0?"left":"right");break;case"left":r.x=g,r.y=(f+v)/2,r.textAlign=K(r,"textAlign",d>0?"left":"right");break;case"bottom":s&&(r.x=(p+g)/2),r.y=v,r.textAlign=K(r,"textAlign","center"),r.textBaseline=K(r,"textBaseline",d>0?"bottom":"top");break;case"middle":s&&(r.x=(p+g)/2),r.y=(f+v)/2,r.textAlign=K(r,"textAlign","center"),r.textBaseline=K(r,"textBaseline","middle");break;case"top":s&&(r.x=(p+g)/2),r.y=f,r.textAlign=K(r,"textAlign","center"),r.textBaseline=K(r,"textBaseline",d>0?"bottom":"top");break}},e}(S_),$S=Math.PI/2,mde=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelOffset=function(r){var n=this.getCoordinate(),i=0;if(lt(r))i=r;else if(nt(r)&&r.indexOf("%")!==-1){var a=n.getRadius();n.innerRadius>0&&(a=a*(1-n.innerRadius)),i=parseFloat(r)*.01*a}return i},e.prototype.getLabelItems=function(r){var n=t.prototype.getLabelItems.call(this,r),i=this.geometry.getYScale();return $r(n,function(a){if(a&&i){var o=i.scale(K(a.data,i.field));return F(F({},a),{percent:o})}return a})},e.prototype.getLabelAlign=function(r){var n=this.getCoordinate(),i;if(r.labelEmit)i=r.angle<=Math.PI/2&&r.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)i="center";else{var a=n.getCenter(),o=r.offset;Math.abs(r.x-a.x)<1?i="center":r.angle>Math.PI||r.angle<=0?i=o>0?"left":"right":i=o>0?"right":"left"}return i},e.prototype.getLabelPoint=function(r,n,i){var a=1,o,s=r.content[i];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(r.content.length===1&&i===0?i=1:i===0&&(a=-1),o=this.getArcPoint(n,i));var l=r.offset*a,u=this.getPointAngle(o),c=r.labelEmit,d=this.getCirclePoint(u,l,o,c);return d.r===0?d.content="":(d.content=s,d.angle=u,d.color=n.color),d.rotate=r.autoRotate?this.getLabelRotate(u,l,c):r.rotate,d.start={x:o.x,y:o.y},d},e.prototype.getArcPoint=function(r,n){return n===void 0&&(n=0),!xe(r.x)&&!xe(r.y)?{x:r.x,y:r.y}:{x:xe(r.x)?r.x[n]:r.x,y:xe(r.y)?r.y[n]:r.y}},e.prototype.getPointAngle=function(r){return yg(this.getCoordinate(),r)},e.prototype.getCirclePoint=function(r,n,i,a){var o=this.getCoordinate(),s=o.getCenter(),l=m_(o,i);if(l===0)return F(F({},s),{r:l});var u=r;if(o.isTransposed&&l>n&&!a){var c=Math.asin(n/(2*l));u=r+c*2}else l=l+n;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},e.prototype.getLabelRotate=function(r,n,i){var a=r+$S;return i&&(a-=$S),a&&(a>$S?a=a-Math.PI:a<-$S&&(a=a+Math.PI)),a},e.prototype.getMiddlePoint=function(r){var n=this.getCoordinate(),i=r.length,a={x:0,y:0};return Y(r,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=n.convert(a),a},e.prototype.isToMiddle=function(r){return r.x.length>2},e}(S_),Wct=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.defaultLayout="distribute",r}return e.prototype.getDefaultLabelCfg=function(r,n){var i=t.prototype.getDefaultLabelCfg.call(this,r,n);return Fe({},i,K(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(r){return t.prototype.getLabelOffset.call(this,r)||0},e.prototype.getLabelRotate=function(r,n,i){var a;return n<0&&(a=r,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},e.prototype.getLabelAlign=function(r){var n=this.getCoordinate(),i=n.getCenter(),a;return r.angle<=Math.PI/2&&r.x>=i.x?a="left":a="right",r.offset<=0&&(a==="right"?a="left":a="right"),a},e.prototype.getArcPoint=function(r){return r},e.prototype.getPointAngle=function(r){var n=this.getCoordinate(),i={x:xe(r.x)?r.x[0]:r.x,y:r.y[0]},a={x:xe(r.x)?r.x[1]:r.x,y:r.y[1]},o,s=yg(n,i);if(r.points&&r.points[0].y===r.points[1].y)o=s;else{var l=yg(n,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},e.prototype.getCirclePoint=function(r,n){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+n;return F(F({},In(a.x,a.y,o,r)),{angle:r,r:o})},e}(mde),s9=4;function Hct(t,e,r,n,i,a){var o,s,l=!0,u=n.start,c=n.end,d=Math.min(u.y,c.y),f=Math.abs(u.y-c.y),p,v=0,g=Number.MIN_VALUE,m=e.map(function(E){return E.y>v&&(v=E.y),E.y<g&&(g=E.y),{size:r,targets:[E.y-d]}});for(g-=d,v-d>f&&(f=v-d);l;)for(m.forEach(function(E){var A=(Math.min.apply(g,E.targets)+Math.max.apply(g,E.targets))/2;E.pos=Math.min(Math.max(g,A-E.size/2),f-E.size)}),l=!1,p=m.length;p--;)if(p>0){var y=m[p-1],x=m[p];y.pos+y.size>x.pos&&(y.size+=x.size,y.targets=y.targets.concat(x.targets),y.pos+y.size>f&&(y.pos=f-y.size),m.splice(p,1),l=!0)}p=0,m.forEach(function(E){var A=d+r/2;E.targets.forEach(function(){e[p].y=E.pos+A,A+=r,p++})});var b={};try{for(var w=Jt(t),S=w.next();!S.done;S=w.next()){var C=S.value;b[C.get("id")]=C}}catch(E){o={error:E}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}e.forEach(function(E){var A=E.r*E.r,P=Math.pow(Math.abs(E.y-i.y),2);if(A<P)E.x=i.x;else{var _=Math.sqrt(A-P);a?E.x=i.x+_:E.x=i.x-_}var k=b[E.id];k.attr("x",E.x),k.attr("y",E.y);var O=Vs(k.getChildren(),function(D){return D.get("type")==="text"});O&&(O.attr("y",E.y),O.attr("x",E.x))})}function Yct(t,e,r,n){if(!(!t.length||!e.length)){var i=t[0]?t[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var l=14,u=o+i,c=u*2+l*2,d={start:a.start,end:a.end},f=[[],[]];t.forEach(function(p){p&&(p.textAlign==="right"?f[0].push(p):f[1].push(p))}),f.forEach(function(p,v){var g=c/l;p.length>g&&(p.sort(function(m,y){return y["..percent"]-m["..percent"]}),p.splice(g,p.length-g)),p.sort(function(m,y){return m.y-y.y}),Hct(e,p,l,d,s,v)})}Y(t,function(p){if(p&&p.labelLine){var v=p.offset,g=p.angle,m=In(s.x,s.y,o,g),y=In(s.x,s.y,o+v/2,g),x=p.x+K(p,"offsetX",0),b=p.y+K(p,"offsetY",0),w={x:x-Math.cos(g)*s9,y:b-Math.sin(g)*s9};lr(p.labelLine)||(p.labelLine={}),p.labelLine.path=["M ".concat(m.x),"".concat(m.y," Q").concat(y.x),"".concat(y.y," ").concat(w.x),w.y].join(",")}})}}function yde(t,e,r){var n=t.filter(function(v){return!v.invisible});n.sort(function(v,g){return v.y-g.y});var i=!0,a=r.minY,o=r.maxY,s=Math.abs(a-o),l,u=0,c=Number.MIN_VALUE,d=n.map(function(v){return v.y>u&&(u=v.y),v.y<c&&(c=v.y),{content:v.content,size:e,targets:[v.y-a],pos:null}});for(c-=a,u-a>s&&(s=u-a);i;)for(d.forEach(function(v){var g=(Math.min.apply(c,v.targets)+Math.max.apply(c,v.targets))/2;v.pos=Math.min(Math.max(c,g-v.size/2),s-v.size),v.pos=Math.max(0,v.pos)}),i=!1,l=d.length;l--;)if(l>0){var f=d[l-1],p=d[l];f.pos+f.size>p.pos&&(f.size+=p.size,f.targets=f.targets.concat(p.targets),f.pos+f.size>s&&(f.pos=s-f.size),d.splice(l,1),i=!0)}l=0,d.forEach(function(v){var g=a+e/2;v.targets.forEach(function(){n[l].y=v.pos+g,g+=e,l++})})}var l9=4;function Xct(t,e){var r=e.getCenter(),n=e.getRadius();if(t&&t.labelLine){var i=t.angle,a=t.offset,o=In(r.x,r.y,n,i),s=t.x+K(t,"offsetX",0)*(Math.cos(i)>0?1:-1),l=t.y+K(t,"offsetY",0)*(Math.sin(i)>0?1:-1),u={x:s-Math.cos(i)*l9,y:l-Math.sin(i)*l9},c=t.labelLine.smooth,d=[],f=u.x-r.x,p=u.y-r.y,v=Math.atan(p/f);if(f<0&&(v+=Math.PI),c===!1){lr(t.labelLine)||(t.labelLine={});var g=0;(i<0&&i>-Math.PI/2||i>Math.PI*1.5)&&u.y>o.y&&(g=1),i>=0&&i<Math.PI/2&&u.y>o.y&&(g=1),i>=Math.PI/2&&i<Math.PI&&o.y>u.y&&(g=1),(i<-Math.PI/2||i>=Math.PI&&i<Math.PI*1.5)&&o.y>u.y&&(g=1);var m=a/2>4?4:Math.max(a/2-1,0),y=In(r.x,r.y,n+m,i),x=In(r.x,r.y,n+a/2,v),b=0;d.push("M ".concat(o.x," ").concat(o.y)),d.push("L ".concat(y.x," ").concat(y.y)),d.push("A ".concat(r.x," ").concat(r.y," 0 ").concat(b," ").concat(g," ").concat(x.x," ").concat(x.y)),d.push("L ".concat(u.x," ").concat(u.y))}else{var y=In(r.x,r.y,n+(a/2>4?4:Math.max(a/2-1,0)),i),w=o.x<r.x?1:-1;d.push("M ".concat(u.x," ").concat(u.y));var S=(o.y-r.y)/(o.x-r.x),C=(u.y-r.y)/(u.x-r.x);Math.abs(S-C)>Math.pow(Math.E,-16)&&d.push.apply(d,["C",u.x+w*4,u.y,2*y.x-o.x,2*y.y-o.y,o.x,o.y]),d.push("L ".concat(o.x," ").concat(o.y))}t.labelLine.path=d.join(" ")}}function Kct(t,e,r,n){var i,a,o=wi(t,function(A){return!ve(A)}),s=e[0]&&e[0].get("coordinate");if(s){var l=s.getCenter(),u=s.getRadius(),c={};try{for(var d=Jt(e),f=d.next();!f.done;f=d.next()){var p=f.value;c[p.get("id")]=p}}catch(A){i={error:A}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var v=K(o[0],"labelHeight",14),g=K(o[0],"offset",0);if(!(g<=0)){var m="left",y="right",x=Co(o,function(A){return A.x<l.x?m:y}),b=s.start,w=s.end,S=Math.min((u+g+v)*2,s.getHeight()),C=S/2,E={minX:b.x,maxX:w.x,minY:l.y-C,maxY:l.y+C};Y(x,function(A,P){var _=Math.floor(S/v);A.length>_&&(A.sort(function(k,O){return O.percent-k.percent}),Y(A,function(k,O){O+1>_&&(c[k.id].set("visible",!1),k.invisible=!0)})),yde(A,v,E)}),Y(x,function(A,P){Y(A,function(_){var k=P===y,O=c[_.id],D=O.getChildByIndex(0);if(D){var B=u+g,$=_.y-l.y,L=Math.pow(B,2),R=Math.pow($,2),V=L-R>0?L-R:0,U=Math.sqrt(V),q=Math.abs(Math.cos(_.angle)*B);k?_.x=l.x+Math.max(U,q):_.x=l.x-Math.max(U,q)}D&&(D.attr("y",_.y),D.attr("x",_.x)),Xct(_,s)})})}}}var fF=4,Qct=4,Jct=4;function Zct(t,e,r){var n=e.getCenter(),i=e.getRadius(),a={x:t.x-(r?Jct:-4),y:t.y},o=In(n.x,n.y,i+fF,t.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=In(n.x,n.y,i,t.angle),c="";if(a.y!==o.y){var d=r?4:-4;s.y=a.y,t.angle<0&&t.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-d),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-d))),t.angle>0&&t.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-d),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-d))),t.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-d),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-d))),t.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-d),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-d)))}c=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),t.labelLine=Fe({},t.labelLine,{path:c})}function edt(t,e,r,n){var i,a,o=e[0]&&e[0].get("coordinate");if(o){var s=o.getCenter(),l=o.getRadius(),u={};try{for(var c=Jt(e),d=c.next();!d.done;d=c.next()){var f=d.value;u[f.get("id")]=f}}catch(A){i={error:A}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var p=K(t[0],"labelHeight",14),v=Math.max(K(t[0],"offset",0),fF);Y(t,function(A){if(A){var P=K(u,[A.id]);if(P){var _=A.x>s.x||A.x===s.x&&A.y>s.y,k=ve(A.offsetX)?Qct:A.offsetX,O=In(s.x,s.y,l+fF,A.angle),D=v+k;A.x=s.x+(_?1:-1)*(l+D),A.y=O.y}}});var g=o.start,m=o.end,y="left",x="right",b=Co(t,function(A){return A.x<s.x?y:x}),w=(l+v)*2+p;Y(b,function(A){var P=A.length*p;P>w&&(w=Math.min(P,Math.abs(g.y-m.y)))});var S={minX:g.x,maxX:m.x,minY:s.y-w/2,maxY:s.y+w/2};Y(b,function(A,P){var _=w/p;A.length>_&&(A.sort(function(k,O){return O.percent-k.percent}),Y(A,function(k,O){O>_&&(u[k.id].set("visible",!1),k.invisible=!0)})),yde(A,p,S)});var C=S.minY,E=S.maxY;Y(b,function(A,P){var _=P===x;Y(A,function(k){var O=K(u,k&&[k.id]);if(O){if(k.y<C||k.y>E){O.set("visible",!1);return}var D=O.getChildByIndex(0),B=D.getCanvasBBox(),$={x:_?B.x:B.maxX,y:B.y+B.height/2};qw(D,k.x-$.x,k.y-$.y),k.labelLine&&Zct(k,o,_)}})})}}function tdt(t,e,r,n){Y(e,function(i){var a=n.minX,o=n.minY,s=n.maxX,l=n.maxY,u=i.getCanvasBBox(),c=u.minX,d=u.minY,f=u.maxX,p=u.maxY,v=u.x,g=u.y,m=u.width,y=u.height,x=v,b=g;(c<a||f<a)&&(x=a),(d<o||p<o)&&(b=o),c>s?x=s-m:f>s&&(x=x-(f-s)),d>l?b=l-y:p>l&&(b=b-(p-l)),(x!==v||b!==g)&&qw(i,x-v,b-g)})}function rdt(t,e,r,n){Y(e,function(i,a){var o=i.getCanvasBBox(),s=r[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}var ndt=100,xde=function(){function t(e){e===void 0&&(e={}),this.bitmap={};var r=e.xGap,n=r===void 0?1:r,i=e.yGap,a=i===void 0?8:i;this.xGap=n,this.yGap=a}return t.prototype.hasGap=function(e){for(var r=!0,n=this.bitmap,i=Math.round(e.minX),a=Math.round(e.maxX),o=Math.round(e.minY),s=Math.round(e.maxY),l=i;l<=a;l+=1){if(!n[l]){n[l]={};continue}if(l===i||l===a){for(var u=o;u<=s;u++)if(n[l][u]){r=!1;break}}else if(n[l][o]||n[l][s]){r=!1;break}}return r},t.prototype.fillGap=function(e){for(var r=this.bitmap,n=Math.round(e.minX),i=Math.round(e.maxX),a=Math.round(e.minY),o=Math.round(e.maxY),s=n;s<=i;s+=1)r[s]||(r[s]={});for(var s=n;s<=i;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)r[s][l]=!0;r[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)r[n][s]=!0,r[i][s]=!0;if(this.xGap!==1)for(var s=n;s<=i;s+=1)r[s][a]=!0,r[s][o]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function idt(t,e,r){r===void 0&&(r=ndt);var n=-1,i=t.attr(),a=i.x,o=i.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,c=1,d=0,f=0,p=function(y){var x=y*.1;return[x*Math.cos(x),x*Math.sin(x)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var v=!1,g=0,m={};Math.min(Math.abs(d),Math.abs(f))<l&&g<r;)if(u=p(c+=n),d=~~u[0],f=~~u[1],!(!d&&!f||m["".concat(d,"-").concat(f)])&&(t.attr({x:a+d,y:o+f}),d+f<0&&t.attr("textAlign","right"),g++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),v=!0,m["".concat(d,"-").concat(f)]=!0;break}return v}function adt(t,e,r,n){var i=t.getCanvasBBox(),a=i.width,o=i.height,s={x:e,y:r,textAlign:"center"};switch(n){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break}return t.attr(s),t.getCanvasBBox()}function odt(t,e,r,n){var i=new xde;Y(e,function(a){var o=a.find(function(s){return s.get("type")==="text"});idt(o,i)||a.remove(!0)}),i.destroy()}function sdt(t,e,r,n){var i=new xde;Y(e,function(a){for(var o=a.find(function(p){return p.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,c=!1,d=0;d<=8;d++){var f=adt(o,l,u,d);if(i.hasGap(f)){i.fillGap(f),c=!0;break}}c||a.remove(!0)}),i.destroy()}function ldt(t,e){return(t[0]||0)*(e[0]||0)+(t[1]||0)*(e[1]||0)+0*(e[2]||0)}function u9(t){if(t.length>4)return[];var e=function(i,a){return[a.x-i.x,a.y-i.y]},r=e(t[0],t[1]),n=e(t[1],t[2]);return[r,n]}function NS(t,e,r){e===void 0&&(e=0),r===void 0&&(r={x:0,y:0});var n=t.x,i=t.y;return{x:(n-r.x)*Math.cos(-e)+(i-r.y)*Math.sin(-e)+r.x,y:(r.x-n)*Math.sin(-e)+(i-r.y)*Math.cos(-e)+r.y}}function c9(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],r=t.rotation;return r?[NS(e[0],r,e[0]),NS(e[1],r,e[0]),NS(e[2],r,e[0]),NS(e[3],r,e[0])]:e}function d9(t,e){if(t.length>4)return{min:0,max:0};var r=[];return t.forEach(function(n){r.push(ldt([n.x,n.y],e))}),{min:Math.min.apply(Math,Je([],We(r),!1)),max:Math.max.apply(Math,Je([],We(r),!1))}}function udt(t,e){return t.max>e.min&&t.min<e.max}function cdt(t){return typeof t=="number"&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0}function f9(t){return["x","y","width","height"].every(function(e){return cdt(t[e])})}function ddt(t,e,r){return r===void 0&&(r=0),!(e.x>t.x+t.width+r||e.x+e.width<t.x-r||e.y>t.y+t.height+r||e.y+e.height<t.y-r)}function fdt(t,e,r){if(r===void 0&&(r=0),!f9(t)||!f9(e))return!1;if(!t.rotation&&!e.rotation)return ddt(t,e,r);for(var n=c9(t),i=c9(e),a=u9(n).concat(u9(i)),o=0;o<a.length;o++){var s=a[o],l=d9(n,s),u=d9(i,s);if(!udt(l,u))return!1}return!0}var hdt=function(){function t(e){var r=this;this.queue=[],this.worker=new Worker(e),this.worker.onmessage=function(n){var i;(i=r.queue.shift())===null||i===void 0||i.resolve(n)},this.worker.onmessageerror=function(n){var i;console.warn("[AntV G2] Web worker is not available"),(i=r.queue.shift())===null||i===void 0||i.reject(n)}}return t.prototype.post=function(e,r){var n=this;return new Promise(function(i,a){n.queue.push({resolve:i,reject:a});try{n.worker.postMessage(e)}catch{console.warn("[AntV G2] Web worker is not available"),qe(r)&&r()}})},t.prototype.destroy=function(){this.worker.terminate()},t}();function pdt(t){if(!(typeof window>"u")){var e;try{e=new Blob([t.toString()],{type:"application/javascript"})}catch{e=new window.BlobBuilder,e.append(t.toString()),e=e.getBlob()}return new hdt(URL.createObjectURL(e))}}var vdt=function(t){function e(){function u(b,w){return(b[0]||0)*(w[0]||0)+(b[1]||0)*(w[1]||0)+0*(w[2]||0)}function c(b){if(b.length>4)return[];var w=function(E,A){return[A.x-E.x,A.y-E.y]},S=w(b[0],b[1]),C=w(b[1],b[2]);return[S,C]}function d(b,w,S){w===void 0&&(w=0),S===void 0&&(S={x:0,y:0});var C=b.x,E=b.y;return{x:(C-S.x)*Math.cos(-w)+(E-S.y)*Math.sin(-w)+S.x,y:(S.x-C)*Math.sin(-w)+(E-S.y)*Math.cos(-w)+S.y}}function f(b){var w=[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width,y:b.y+b.height},{x:b.x,y:b.y+b.height}],S=b.rotation;return S?[d(w[0],S,w[0]),d(w[1],S,w[0]),d(w[2],S,w[0]),d(w[3],S,w[0])]:w}function p(b,w){if(b.length>4)return{min:0,max:0};var S=[];return b.forEach(function(C){S.push(u([C.x,C.y],w))}),{min:Math.min.apply(null,S),max:Math.max.apply(null,S)}}function v(b,w){return b.max>w.min&&b.min<w.max}function g(b){return typeof b=="number"&&!Number.isNaN(b)&&b!==1/0&&b!==-1/0}function m(b){return["x","y","width","height"].every(function(w){return g(b[w])})}function y(b,w,S){return S===void 0&&(S=0),!(w.x>b.x+b.width+S||w.x+w.width<b.x-S||w.y>b.y+b.height+S||w.y+w.height<b.y-S)}function x(b,w,S){if(S===void 0&&(S=0),!m(b)||!m(w))return!1;if(!b.rotation&&!w.rotation)return y(b,w,S);for(var C=f(b),E=f(w),A=c(C).concat(c(E)),P=0;P<A.length;P++){var _=A[P],k=p(C,_),O=p(E,_);if(!v(k,O))return!1}return!0}return{intersect:x}}var r=e().intersect;function n(u){for(var c=u.slice(),d=0;d<c.length;d++){var f=c[d];if(f.visible)for(var p=d+1;p<c.length;p++){var v=c[p];f!==v&&v.visible&&r(f,v)&&(v.visible=!1)}}return c}var i={"hide-overlap":n};try{var a=JSON.parse(t.data);if(!a||!a.type||!i[a.type])return;var o=a.type,s=a.items,l=i[o](s);self.postMessage(l)}catch(u){throw u}},gdt=`
   self.onmessage = `.concat(vdt.toString(),`
`),CM=function(t){for(var e=t.slice(),r=0;r<e.length;r++){var n=e[r];if(n.visible)for(var i=r+1;i<e.length;i++){var a=e[i];n!==a&&a.visible&&fdt(n,a)&&(a.visible=!1)}}return e},TM=new Map,h9=pdt(gdt);function mdt(t,e,r,n){return cx(this,void 0,void 0,function(){var i,a,o,s,l,u;return dx(this,function(c){switch(c.label){case 0:return i=e.map(function(d,f){return F(F({},$ce(d,t[f],K(t[f],"background.padding"))),{visible:!0})}),a=JSON.stringify(i),o=function(d){return TM.set(a,d),Y(d,function(f,p){var v=f.visible,g=e[p];v?g==null||g.show():g==null||g.hide()}),d},TM.get(a)?(o(TM.get(a)),[3,7]):[3,1];case 1:if(!h9)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),s=JSON.stringify({type:"hide-overlap",items:i}),[4,h9.post(s,function(){return o(CM(i))})];case 3:return l=c.sent(),o(Array.isArray(l.data)?l.data:[]),[3,5];case 4:return u=c.sent(),console.error(u),o(CM(i)),[3,5];case 5:return[3,7];case 6:o(CM(i)),c.label=7;case 7:return[2]}})})}var p9={"#5B8FF9":!0},ydt=function(t){var e=vd.toRGB(t).toUpperCase();if(p9[e])return p9[e];var r=We(vd.rgb2arr(e),3),n=r[0],i=r[1],a=r[2],o=(n*299+i*587+a*114)/1e3<128;return o};function xdt(t,e,r){if(r.length!==0){var n=r[0].get("element"),i=n.geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;r.forEach(function(l,u){var c=e[u],d=c.find(function(y){return y.get("type")==="text"}),f=Aa.fromObject(l.getBBox()),p=Aa.fromObject(d.getCanvasBBox()),v=!f.contains(p),g=l.attr("fill"),m=ydt(g);v?d.attr(i.overflowLabels.style):m?o&&d.attr("fill",o):s&&d.attr("fill",s)})}}function bdt(t,e,r){var n=t.coordinate,i=Nd(e),a=Aa.fromObject(i.getCanvasBBox()),o=Aa.fromObject(r.getBBox());return n.isTransposed?o.height>=a.height:o.width>=a.width}function wdt(t,e,r){var n=!!t.getAdjust("stack");return n||e.every(function(i,a){var o=r[a];return bdt(t,i,o)})}function Sdt(t,e,r){var n=t.coordinate,i=Aa.fromObject(r.getBBox()),a=Nd(e);n.isTransposed?a.attr({x:i.minX+i.width/2,textAlign:"center"}):a.attr({y:i.minY+i.height/2,textBaseline:"middle"})}function Edt(t,e,r){var n;if(r.length!==0){var i=(n=r[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=wdt(a,e,r);o&&r.forEach(function(s,l){var u=e[l];Sdt(a,u,s)})}}}function Adt(t){var e=500,r=[],n=Math.max(Math.floor(t.length/e),1);return Y(t,function(i,a){a%n===0?r.push(i):i.set("visible",!1)}),r}function Cdt(t,e,r){var n;if(r.length!==0){var i=(n=r[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=Adt(e),s=We(a.getXYFields(),1),l=s[0],u=[],c=[],d=Co(o,function(m){return m.get("data")[l]}),f=Lh($r(o,function(m){return m.get("data")[l]})),p;o.forEach(function(m){m.set("visible",!0)});var v=function(m){m&&(m.length&&c.push(m.pop()),c.push.apply(c,Je([],We(m),!1)))};for(Zn(f)>0&&(p=f.shift(),v(d[p])),Zn(f)>0&&(p=f.pop(),v(d[p])),Y(f.reverse(),function(m){v(d[m])});c.length>0;){var g=c.shift();g.get("visible")&&(_lt(g,u)?g.set("visible",!1):u.push(g))}}}}function Tdt(t,e){var r=t.getXYFields()[1],n=[],i=e.sort(function(a,o){return a.get("data")[r]-a.get("data")[r]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,Je([],We(i),!1)),n}function bde(t,e,r){return t.some(function(n){return r(n,e)})}function Idt(t,e,r){var n=Math.max(0,Math.min(t.x+t.width+r,e.x+e.width+r)-Math.max(t.x-r,e.x-r)),i=Math.max(0,Math.min(t.y+t.height+r,e.y+e.height+r)-Math.max(t.y-r,e.y-r));return n*i}function v9(t,e){return bde(t,e,function(r,n){var i=Nd(r),a=Nd(n);return Idt(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function Pdt(t,e,r,n,i){var a,o;if(r.length!==0){var s=(a=r[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||l.type!=="point")){var u=We(l.getXYFields(),2),c=u[0],d=u[1],f=Co(e,function(g){return g.get("data")[c]}),p=[],v=i&&i.offset||((o=t[0])===null||o===void 0?void 0:o.offset)||12;$r(km(f).reverse(),function(g){for(var m=Tdt(l,f[g]);m.length;){var y=m.shift(),x=Nd(y);if(bde(p,y,function(S,C){return S.get("data")[c]===C.get("data")[c]&&S.get("data")[d]===C.get("data")[d]})){x.set("visible",!1);continue}var b=v9(p,y),w=!1;if(b&&(x.attr("y",x.attr("y")+2*v),w=v9(p,y)),w){x.set("visible",!1);continue}p.push(y)}})}}}function _dt(t,e){var r=t.getXYFields()[1],n=[],i=e.sort(function(a,o){return a.get("data")[r]-a.get("data")[r]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,Je([],We(i),!1)),n}function wde(t,e,r){return t.some(function(n){return r(n,e)})}function Odt(t,e,r){var n=Math.max(0,Math.min(t.x+t.width+r,e.x+e.width+r)-Math.max(t.x-r,e.x-r)),i=Math.max(0,Math.min(t.y+t.height+r,e.y+e.height+r)-Math.max(t.y-r,e.y-r));return n*i}function g9(t,e){return wde(t,e,function(r,n){var i=Nd(r),a=Nd(n);return Odt(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function kdt(t,e,r,n,i){var a,o;if(r.length!==0){var s=(a=r[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||["path","line","area"].indexOf(l.type)<0)){var u=We(l.getXYFields(),2),c=u[0],d=u[1],f=Co(e,function(g){return g.get("data")[c]}),p=[],v=i&&i.offset||((o=t[0])===null||o===void 0?void 0:o.offset)||12;$r(km(f).reverse(),function(g){for(var m=_dt(l,f[g]);m.length;){var y=m.shift(),x=Nd(y);if(wde(p,y,function(S,C){return S.get("data")[c]===C.get("data")[c]&&S.get("data")[d]===C.get("data")[d]})){x.set("visible",!1);continue}var b=g9(p,y),w=!1;if(b&&(x.attr("y",x.attr("y")+2*v),w=g9(p,y)),w){x.set("visible",!1);continue}p.push(y)}})}}}var IM;function Ddt(){return IM||(IM=document.createElement("canvas").getContext("2d")),IM}var BS=Mm(function(t,e){e===void 0&&(e={});var r=e.fontSize,n=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant,s=Ddt();return s.font=[a,o,i,"".concat(r,"px"),n].join(" "),s.measureText(nt(t)?t:"").width},function(t,e){return e===void 0&&(e={}),Je([t],We(qP(e)),!1).join("")}),Mdt=function(t,e,r){var n=16,i=BS("...",r),a;nt(t)?a=t:a=Fw(t);var o=e,s=[],l,u;if(BS(t,r)<=e)return t;for(;l=a.substr(0,n),u=BS(l,r),!(u+i>o&&u>o);)if(s.push(l),o-=u,a=a.substr(n),!a)return s.join("");for(;l=a.substr(0,1),u=BS(l,r),!(u+i>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function Rdt(t,e,r,n,i){if(!(e.length<=0)){var a=(i==null?void 0:i.direction)||["top","right","bottom","left"],o=(i==null?void 0:i.action)||"translate",s=(i==null?void 0:i.margin)||0,l=e[0].get("coordinate");if(l){var u=lst(l,s),c=u.minX,d=u.minY,f=u.maxX,p=u.maxY;Y(e,function(v){var g=v.getCanvasBBox(),m=g.minX,y=g.minY,x=g.maxX,b=g.maxY,w=g.x,S=g.y,C=g.width,E=g.height,A=w,P=S;if(a.indexOf("left")>=0&&(m<c||x<c)&&(A=c),a.indexOf("top")>=0&&(y<d||b<d)&&(P=d),a.indexOf("right")>=0&&(m>f?A=f-C:x>f&&(A=A-(x-f))),a.indexOf("bottom")>=0&&(y>p?P=p-E:b>p&&(P=P-(b-p))),A!==w||P!==S){var _=A-w;if(o==="translate")qw(v,_,P-S);else if(o==="ellipsis"){var k=v.findAll(function(O){return O.get("type")==="text"});k.forEach(function(O){var D=w4(O.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),B=O.getCanvasBBox(),$=Mdt(O.attr("text"),B.width-Math.abs(_),D);O.attr("text",$)})}else v.hide()}})}}}function jdt(t,e,r){var n={fillOpacity:ve(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:ve(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:ve(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(n,e)}function Fdt(t,e,r){var n={fillOpacity:0,strokeOpacity:0,opacity:0},i=e.easing,a=e.duration,o=e.delay;t.animate(n,a,i,function(){t.remove(!0)},o)}function Ldt(t,e,r){var n,i=We(e,2),a=i[0],o=i[1];return t.applyToMatrix([a,o,1]),r==="x"?(t.setMatrix(Rn(t.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),n=Rn(t.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):r==="y"?(t.setMatrix(Rn(t.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),n=Rn(t.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):r==="xy"&&(t.setMatrix(Rn(t.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),n=Rn(t.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),n}function y5(t,e,r,n,i){var a=r.start,o=r.end,s=r.getWidth(),l=r.getHeight(),u,c;i==="y"?(u=a.x+s/2,c=n.y<a.y?n.y:a.y):i==="x"?(u=n.x>a.x?n.x:a.x,c=a.y+l/2):i==="xy"&&(r.isPolar?(u=r.getCenter().x,c=r.getCenter().y):(u=(a.x+o.x)/2,c=(a.y+o.y)/2));var d=Ldt(t,[u,c],i);t.animate({matrix:d},e)}function $dt(t,e,r){var n=r.coordinate,i=r.minYPoint;y5(t,e,n,i,"x")}function Ndt(t,e,r){var n=r.coordinate,i=r.minYPoint;y5(t,e,n,i,"y")}function Bdt(t,e,r){var n=r.coordinate,i=r.minYPoint;y5(t,e,n,i,"xy")}function Vdt(t,e,r){var n=t.getTotalLength();t.attr("lineDash",[n]),t.animate(function(i){return{lineDashOffset:(1-i)*n}},e)}function zdt(t,e,r){var n=r.toAttrs,i=n.x,a=n.y;delete n.x,delete n.y,t.attr(n),t.animate({x:i,y:a},e)}function Udt(t,e,r){var n=t.getBBox(),i=t.get("origin").mappingData,a=i.points,o=a[0].y-a[1].y>0?n.maxX:n.minX,s=(n.minY+n.maxY)/2;t.applyToMatrix([o,s,1]);var l=Rn(t.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);t.setMatrix(l),t.animate({matrix:Rn(t.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function qdt(t,e,r){var n=t.getBBox(),i=t.get("origin").mappingData,a=(n.minX+n.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?n.maxY:n.minY;t.applyToMatrix([a,s,1]);var l=Rn(t.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);t.setMatrix(l),t.animate({matrix:Rn(t.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)}function m9(t,e){var r,n=kC(t,e),i=n.startAngle,a=n.endAngle;return!hi(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),!hi(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),e[5]===0&&(r=We([a,i],2),i=r[0],a=r[1]),hi(i,Math.PI*1.5)&&(i=Math.PI*-.5),hi(a,Math.PI*-.5)&&!hi(i,a)&&(a=Math.PI*1.5),{startAngle:i,endAngle:a}}function y9(t){var e;return t[0]==="M"||t[0]==="L"?e=[t[1],t[2]]:(t[0]==="a"||t[0]==="A"||t[0]==="C")&&(e=[t[t.length-2],t[t.length-1]]),e}function x9(t){var e,r,n,i=t.filter(function(b){return b[0]==="A"||b[0]==="a"});if(i.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=t.indexOf(a),l=t.indexOf(o),u=y9(t[s-1]),c=y9(t[l-1]),d=m9(u,a),f=d.startAngle,p=d.endAngle,v=m9(c,o),g=v.startAngle,m=v.endAngle;hi(f,g)&&hi(p,m)?(r=f,n=p):(r=Math.min(f,g),n=Math.max(p,m));var y=a[1],x=i[i.length-1][1];return y<x?(e=We([x,y],2),y=e[0],x=e[1]):y===x&&(x=0),{startAngle:r,endAngle:n,radius:y,innerRadius:x}}function Gdt(t,e,r){var n=r.toAttrs,i=r.coordinate,a=n.path||[],o=a.map(function(x){return x[0]});if(!(a.length<1)){var s=x9(a),l=s.startAngle,u=s.endAngle,c=s.radius,d=s.innerRadius,f=x9(t.attr("path")),p=f.startAngle,v=f.endAngle,g=i.getCenter(),m=l-p,y=u-v;if(m===0&&y===0){t.attr(n);return}t.animate(function(x){var b=p+x*m,w=v+x*y;return F(F({},n),{path:on(o,["M","A","A","Z"])?rce(g.x,g.y,c,b,w):gd(g.x,g.y,c,b,w,d)})},F(F({},e),{callback:function(){t.attr("path",a),qe(e.callback)&&e.callback()}}))}}function Wdt(t,e,r){var n=X4(r.coordinate,20),i=n.type,a=n.startState,o=n.endState,s=t.setClip({type:i,attrs:a});r.toAttrs&&t.attr(r.toAttrs),s.animate(o,F(F({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0),qe(e.callback)&&e.callback()}}))}function x5(t,e,r){if(t.isGroup())Y(t.getChildren(),function(s){x5(s,e,r)});else{var n=t.getBBox(),i=(n.minX+n.maxX)/2,a=(n.minY+n.maxY)/2;if(t.applyToMatrix([i,a,1]),r==="zoomIn"){var o=Rn(t.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);t.setMatrix(o),t.animate({matrix:Rn(t.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},e)}else t.animate({matrix:Rn(t.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},F(F({},e),{callback:function(){t.remove(!0),qe(e.callback)&&e.callback()}}))}}function Hdt(t,e,r){x5(t,e,"zoomIn")}function Ydt(t,e,r){x5(t,e,"zoomOut")}function tc(t){return[ke.TOP,ke.BOTTOM].includes(t)?{offsetX:0,offsetY:t===ke.TOP?-8:8,style:{textAlign:"center",textBaseline:t===ke.TOP?"bottom":"top"}}:[ke.LEFT,ke.RIGHT].includes(t)?{offsetX:t===ke.LEFT?-8:8,offsetY:0,style:{textAlign:t===ke.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function PM(t,e,r){return{x:t.x+e*Math.cos(r),y:t.y+e*Math.sin(r)}}var Xdt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Fe({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(r,n){var i=.5,a={x:.5,y:.5},o=Math.PI*2/r,s=-1*Math.PI/2+o*n,l=i/(1+1/Math.sin(o/2)),u=PM(a,i-l,s),c=Math.PI*5/4,d=Math.PI*1/4;return{start:PM(u,l,c),end:PM(u,l,d)}},e.prototype.afterEachView=function(r,n){this.processAxis(r,n)},e.prototype.beforeEachView=function(r,n){},e.prototype.generateFacets=function(r){var n=this,i=this.cfg,a=i.fields,o=i.type,s=We(a,1),l=s[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(r,l),c=u.length,d=[];return u.forEach(function(f,p){var v=[{field:l,value:f,values:u}],g=wi(r,n.getFacetDataFilter(v)),m={type:o,data:g,region:n.getRegion(c,p),columnValue:f,columnField:l,columnIndex:p,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};d.push(m)}),d},e.prototype.getXAxisOption=function(r,n,i,a){return i},e.prototype.getYAxisOption=function(r,n,i,a){return i},e.prototype.renderTitle=function(){var r=this;Y(this.facets,function(n){var i=n.columnValue,a=n.view,o=K(r.cfg.title,"formatter"),s=Fe({position:["50%","0%"],content:o?o(i):i},tc(ke.TOP),r.cfg.title);a.annotation().text(s)})},e}(jm),Kdt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Fe({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(r,n){this.processAxis(r,n)},e.prototype.beforeEachView=function(r,n){},e.prototype.generateFacets=function(r){var n=this,i=this.cfg.fields,a=this.cfg.cols,o=We(i,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(r,s),u=l.length;a=a||u;var c=this.getPageCount(u,a),d=[];return l.forEach(function(f,p){var v=n.getRowCol(p,a),g=v.row,m=v.col,y=[{field:s,value:f,values:l}],x=wi(r,n.getFacetDataFilter(y)),b={type:n.cfg.type,data:x,region:n.getRegion(c,a,m,g),columnValue:f,rowValue:f,columnField:s,rowField:null,columnIndex:m,rowIndex:g,columnValuesLength:a,rowValuesLength:c,total:u};d.push(b)}),d},e.prototype.getXAxisOption=function(r,n,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?F(F({},i),{label:null,title:null}):i},e.prototype.getYAxisOption=function(r,n,i,a){return a.columnIndex!==0?F(F({},i),{title:null,label:null}):i},e.prototype.renderTitle=function(){var r=this;Y(this.facets,function(n){var i=n.columnValue,a=n.view,o=K(r.cfg.title,"formatter"),s=Fe({position:["50%","0%"],content:o?o(i):i},tc(ke.TOP),r.cfg.title);a.annotation().text(s)})},e.prototype.getPageCount=function(r,n){return Math.floor((r+n-1)/n)},e.prototype.getRowCol=function(r,n){var i=Math.floor(r/n),a=r%n;return{row:i,col:a}},e}(jm),Qdt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Fe({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:F({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:F({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(r,n){this.processAxis(r,n)},e.prototype.beforeEachView=function(r,n){},e.prototype.generateFacets=function(r){for(var n=this.cfg,i=n.fields,a=n.type,o=i.length,s=o,l=[],u=0;u<s;u++)for(var c=i[u],d=0;d<o;d++){var f=i[d],p={type:a,data:r,region:this.getRegion(o,s,u,d),columnValue:c,rowValue:f,columnField:c,rowField:f,columnIndex:u,rowIndex:d,columnValuesLength:s,rowValuesLength:o};l.push(p)}return l},e.prototype.getXAxisOption=function(r,n,i,a){return a.rowIndex!==a.rowValuesLength-1?F(F({},i),{label:null,title:null}):i},e.prototype.getYAxisOption=function(r,n,i,a){return a.columnIndex!==0?F(F({},i),{title:null,label:null}):i},e.prototype.renderTitle=function(){var r=this;Y(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength;n.rowValuesLength;var l=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var d=K(r.cfg.columnTitle,"formatter"),f=Fe({position:["50%","0%"],content:d?d(l):l},tc(ke.TOP),r.cfg.columnTitle);c.annotation().text(f)}if(a===s-1){var d=K(r.cfg.rowTitle,"formatter"),f=Fe({position:["100%","50%"],content:d?d(u):u},tc(ke.RIGHT),r.cfg.rowTitle);c.annotation().text(f)}})},e}(jm),Jdt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Fe({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(r,n){this.cfg.transpose?n.columnIndex%2===0?r.coordinate().transpose().reflect("x"):r.coordinate().transpose():n.rowIndex%2!==0&&r.coordinate().reflect("y")},e.prototype.afterEachView=function(r,n){this.processAxis(r,n)},e.prototype.generateFacets=function(r){var n=this,i=We(this.cfg.fields,1),a=i[0],o=[],s=1,l=1,u=[""],c=[""],d,f;return this.cfg.transpose?(d=a,u=this.getFieldValues(r,d).slice(0,2),s=u.length):(f=a,c=this.getFieldValues(r,f).slice(0,2),l=c.length),u.forEach(function(p,v){c.forEach(function(g,m){var y=[{field:d,value:p,values:u},{field:f,value:g,values:c}],x=wi(r,n.getFacetDataFilter(y)),b={type:n.cfg.type,data:x,region:n.getRegion(l,s,v,m),columnValue:p,rowValue:g,columnField:d,rowField:f,columnIndex:v,rowIndex:m,columnValuesLength:s,rowValuesLength:l};o.push(b)})}),o},e.prototype.getXAxisOption=function(r,n,i,a){return a.columnIndex===1||a.rowIndex===1?F(F({},i),{label:null,title:null}):i},e.prototype.getYAxisOption=function(r,n,i,a){return i},e.prototype.renderTitle=function(){var r=this;Y(this.facets,function(n,i){var a=n.columnValue,o=n.rowValue,s=n.view,l=K(r.cfg.title,"formatter");if(r.cfg.transpose){var u=Fe({position:["50%","0%"],content:l?l(a):a},tc(ke.TOP),r.cfg.title);s.annotation().text(u)}else{var u=Fe({position:["100%","50%"],content:l?l(o):o},tc(ke.RIGHT),r.cfg.title);s.annotation().text(u)}})},e}(jm),Zdt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.afterEachView=function(r,n){this.processAxis(r,n)},e.prototype.beforeEachView=function(r,n){},e.prototype.getDefaultCfg=function(){return Fe({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:F({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:F({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(r){var n=this,i=We(this.cfg.fields,2),a=i[0],o=i[1],s=[],l=1,u=1,c=[""],d=[""];return a&&(c=this.getFieldValues(r,a),l=c.length),o&&(d=this.getFieldValues(r,o),u=d.length),c.forEach(function(f,p){d.forEach(function(v,g){var m=[{field:a,value:f,values:c},{field:o,value:v,values:d}],y=wi(r,n.getFacetDataFilter(m)),x={type:n.cfg.type,data:y,region:n.getRegion(u,l,p,g),columnValue:f,rowValue:v,columnField:a,rowField:o,columnIndex:p,rowIndex:g,columnValuesLength:l,rowValuesLength:u};s.push(x)})}),s},e.prototype.renderTitle=function(){var r=this;Y(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,l=n.columnValue,u=n.rowValue,c=n.view;if(o===0){var d=K(r.cfg.columnTitle,"formatter"),f=Fe({position:["50%","0%"],content:d?d(l):l},tc(ke.TOP),r.cfg.columnTitle);c.annotation().text(f)}if(a===s-1){var d=K(r.cfg.rowTitle,"formatter"),f=Fe({position:["100%","50%"],content:d?d(u):u},tc(ke.RIGHT),r.cfg.rowTitle);c.annotation().text(f)}})},e.prototype.getXAxisOption=function(r,n,i,a){return a.rowIndex!==a.rowValuesLength-1?F(F({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?F(F({},i),{title:null}):i},e.prototype.getYAxisOption=function(r,n,i,a){return a.columnIndex!==0?F(F({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?F(F({},i),{title:null}):i},e}(jm),eft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.afterChartRender=function(){r.facets&&r.cfg.line&&(r.container.clear(),r.drawLines(r.facets))},r}return e.prototype.afterEachView=function(r,n){this.processAxis(r,n)},e.prototype.beforeEachView=function(r,n){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(St.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Fe({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(r){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:r,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(r,1,i),this.setRegion(i),i},e.prototype.setRegion=function(r){var n=this;this.forceColIndex(r),r.forEach(function(i){i.region=n.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},e.prototype.getRegion=function(r,n,i,a){var o=1/n,s=1/r,l={x:o*i,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},e.prototype.forceColIndex=function(r){var n,i,a=this,o=[],s=0;r.forEach(function(v){a.isLeaf(v)&&(o.push(v),v.columnIndex=s,s++)}),o.forEach(function(v){v.columnValuesLength=o.length});for(var l=this.cfg.fields.length,u=l-1;u>=0;u--){var c=this.getFacetsByLevel(r,u);try{for(var d=(n=void 0,Jt(c)),f=d.next();!f.done;f=d.next()){var p=f.value;this.isLeaf(p)||(p.originColIndex=p.columnIndex,p.columnIndex=this.getRegionIndex(p.children),p.columnValuesLength=o.length)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}},e.prototype.getFacetsByLevel=function(r,n){var i=[];return r.forEach(function(a){a.rowIndex===n&&i.push(a)}),i},e.prototype.getRegionIndex=function(r){var n=r[0],i=r[r.length-1];return(i.columnIndex-n.columnIndex)/2+n.columnIndex},e.prototype.isLeaf=function(r){return!r.children||!r.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(r,n,i){var a=this,o=this.cfg.fields,s=o.length;if(!(s<n)){var l=[],u=o[n-1],c=this.getFieldValues(r,u);return c.forEach(function(d,f){var p=[{field:u,value:d,values:c}],v=r.filter(a.getFacetDataFilter(p));if(v.length){var g={type:a.cfg.type,data:v,region:null,columnValue:d,rowValue:"",columnField:u,rowField:"",columnIndex:f,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:n,children:a.getChildFacets(v,n+1,i)};l.push(g),i.push(g)}}),l}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var r=this;Y(this.facets,function(n){var i=n.columnValue,a=n.view,o=K(r.cfg.title,"formatter"),s=Fe({position:["50%","0%"],content:o?o(i):i},tc(ke.TOP),r.cfg.title);a.annotation().text(s)})},e.prototype.drawLines=function(r){var n=this;r.forEach(function(i){if(!n.isLeaf(i)){var a=i.children;n.addFacetLines(i,a)}})},e.prototype.addFacetLines=function(r,n){var i=this,a=r.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(l){var u=l.view.coordinateBBox,c={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},d={x:s.x,y:s.y+(c.y-s.y)/2},f={x:c.x,y:d.y};i.drawLine([s,d,f,c])})},e.prototype.getPath=function(r){var n=[],i=this.cfg.line.smooth;return i?(n.push(["M",r[0].x,r[0].y]),n.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y])):r.forEach(function(a,o){o===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},e.prototype.drawLine=function(r){var n=this.getPath(r),i=this.cfg.line.style;this.container.addShape("path",{attrs:dr({path:n},i)})},e.prototype.getXAxisOption=function(r,n,i,a){return a.rowIndex!==a.rowValuesLength-1?F(F({},i),{title:null,label:null}):i},e.prototype.getYAxisOption=function(r,n,i,a){return a.originColIndex!==0&&a.columnIndex!==0?F(F({},i),{title:null,label:null}):i},e}(jm);function b9(t){var e=Je([],We(t),!1);e.sort(function(n,i){return n-i});var r=e.length;return r===0?0:r%2===1?e[(r-1)/2]:(e[r/2]+e[r/2-1])/2}function tft(t){var e=aa(t,function(r,n){return r+=isNaN(n)||!lt(n)?0:n},0);return t.length===0?0:e/t.length}function VS(t,e){if(!e)return null;var r;switch(t){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{r=e.isCategory?b9(e.values.map(function(n,i){return i})):b9(e.values);break}case"mean":{r=e.isCategory?(e.values.length-1)/2:tft(e.values);break}case"min":r=e.isCategory?0:e[t];break;case"max":r=e.isCategory?e.values.length-1:e[t];break;default:r=t;break}return e.scale(r)}var zS=["regionFilter","shape"],rft=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(gn.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(gn.BG).addGroup(),n.option=[],n}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var r=this;this.onAfterRender(function(){var i=new Map;Y(r.option,function(a){if(Vf(zS,a.type)){var o=r.updateOrCreate(a);o&&i.set(r.getCacheKey(a),o)}}),r.cache=r.syncCache(i)});var n=new Map;Y(this.option,function(i){if(!Vf(zS,i.type)){var a=r.updateOrCreate(i);a&&n.set(r.getCacheKey(i),a)}}),this.cache=this.syncCache(n)},e.prototype.clear=function(r){r===void 0&&(r=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),r&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var r=[];return this.cache.forEach(function(n){r.push(n)}),r},e.prototype.clearComponents=function(){this.getComponents().forEach(function(r){r.component.destroy()}),this.cache.clear()},e.prototype.onAfterRender=function(r){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(i){i.animateOption&&(i.once(hd.AFTER_DRAW_ANIMATE,function(){r()}),n=!0)}),n||this.view.getRootView().once(St.AFTER_RENDER,function(){r()})},e.prototype.createAnnotation=function(r){var n=r.type,i=Jat[vp(n)];if(i){var a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,r,a);if(!o)return null;var s=new i(o);return{component:s,layer:this.isTop(o)?gn.FORE:gn.BG,direction:ke.NONE,type:Qn.ANNOTATION,extra:r}}},e.prototype.annotation=function(r){this.option.push(r)},e.prototype.arc=function(r){return this.annotation(F({type:"arc"},r)),this},e.prototype.image=function(r){return this.annotation(F({type:"image"},r)),this},e.prototype.line=function(r){return this.annotation(F({type:"line"},r)),this},e.prototype.region=function(r){return this.annotation(F({type:"region"},r)),this},e.prototype.text=function(r){return this.annotation(F({type:"text"},r)),this},e.prototype.dataMarker=function(r){return this.annotation(F({type:"dataMarker"},r)),this},e.prototype.dataRegion=function(r){this.annotation(F({type:"dataRegion"},r))},e.prototype.regionFilter=function(r){this.annotation(F({type:"regionFilter"},r))},e.prototype.shape=function(r){this.annotation(F({type:"shape"},r))},e.prototype.html=function(r){this.annotation(F({type:"html"},r))},e.prototype.parsePosition=function(r){var n,i,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=qe(r)?r.call(null,a,o):r,l=0,u=0;if(xe(s)){var c=We(s,2),d=c[0],f=c[1];if(nt(d)&&d.indexOf("%")!==-1&&!isNaN(d.slice(0,-1)))return this.parsePercentPosition(s);l=VS(d,a),u=VS(f,Object.values(o)[0])}else if(!ve(s))try{for(var p=Jt(km(s)),v=p.next();!v.done;v=p.next()){var g=v.value,m=s[g];g===a.field&&(l=VS(m,a)),o[g]&&(u=VS(m,o[g]))}}catch(y){n={error:y}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return isNaN(l)||isNaN(u)?null:this.view.getCoordinate().convert({x:l,y:u})},e.prototype.getRegionPoints=function(r,n){var i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),c=xe(r)?r[0]:r[l],d=xe(n)?n[0]:n[l],f=[],p;return Y(u,function(v,g){if(v[l]===c&&(p=g),g>=p){var m=i.parsePosition([v[l],v[s.field]]);m&&f.push(m)}if(v[l]===d)return!1}),f},e.prototype.parsePercentPosition=function(r){var n=parseFloat(r[0])/100,i=parseFloat(r[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*n+l.x,c=a.getHeight()*i+l.y;return{x:u,y:c}},e.prototype.getCoordinateBBox=function(){var r=this.view.getCoordinate(),n=r.start,i=r.end,a=r.getWidth(),o=r.getHeight(),s={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},e.prototype.getAnnotationCfg=function(r,n,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if(ve(n))return null;var u=n.start,c=n.end,d=n.position,f=this.parsePosition(u),p=this.parsePosition(c),v=this.parsePosition(d);if(["arc","image","line","region","regionFilter"].includes(r)&&(!f||!p))return null;if(["text","dataMarker","html"].includes(r)&&!v)return null;if(r==="arc"){var g=n;g.start,g.end;var m=Kt(g,["start","end"]),y=yg(o,f),x=yg(o,p);y>x&&(x=Math.PI*2+x),l=F(F({},m),{center:o.getCenter(),radius:m_(o,f),startAngle:y,endAngle:x})}else if(r==="image"){var b=n;b.start,b.end;var m=Kt(b,["start","end"]);l=F(F({},m),{start:f,end:p,src:n.src})}else if(r==="line"){var w=n;w.start,w.end;var m=Kt(w,["start","end"]);l=F(F({},m),{start:f,end:p,text:K(n,"text",null)})}else if(r==="region"){var S=n;S.start,S.end;var m=Kt(S,["start","end"]);l=F(F({},m),{start:f,end:p})}else if(r==="text"){var C=this.view.getData(),E=n;E.position;var A=E.content,m=Kt(E,["position","content"]),P=A;qe(A)&&(P=A(C)),l=F(F(F({},v),m),{content:P})}else if(r==="dataMarker"){var _=n;_.position;var k=_.point,O=_.line,D=_.text,B=_.autoAdjust,$=_.direction,m=Kt(_,["position","point","line","text","autoAdjust","direction"]);l=F(F(F({},m),v),{coordinateBBox:this.getCoordinateBBox(),point:k,line:O,text:D,autoAdjust:B,direction:$})}else if(r==="dataRegion"){var L=n,R=L.start,V=L.end,U=L.region,D=L.text,q=L.lineLength,m=Kt(L,["start","end","region","text","lineLength"]);l=F(F({},m),{points:this.getRegionPoints(R,V),region:U,text:D,lineLength:q})}else if(r==="regionFilter"){var M=n;M.start,M.end;var G=M.apply,W=M.color,m=Kt(M,["start","end","apply","color"]),J=this.view.geometries,te=[],H=function(Ce){Ce&&(Ce.isGroup()?Ce.getChildren().forEach(function(Ue){return H(Ue)}):te.push(Ce))};Y(J,function(Ce){G?Vf(G,Ce.type)&&Y(Ce.elements,function(Ue){H(Ue.shape)}):Y(Ce.elements,function(Ue){H(Ue.shape)})}),l=F(F({},m),{color:W,shapes:te,start:f,end:p})}else if(r==="shape"){var ee=n,re=ee.render,Q=Kt(ee,["render"]),se=function(Pe){if(qe(n.render))return re(Pe,a.view,{parsePosition:a.parsePosition.bind(a)})};l=F(F({},Q),{render:se})}else if(r==="html"){var ne=n,le=ne.html;ne.position;var Q=Kt(ne,["html","position"]),ge=function(Ce){return qe(le)?le(Ce,a.view):le};l=F(F(F({},Q),v),{parent:s.get("el").parentNode,html:ge})}var be=Fe({},i,F(F({},l),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return r!=="html"&&(be.container=this.getComponentContainer(be)),be.animate=this.view.getOptions().animate&&be.animate&&K(n,"animate",be.animate),be.animateOption=Fe({},bg,be.animateOption,n.animateOption),be},e.prototype.isTop=function(r){return K(r,"top",!0)},e.prototype.getComponentContainer=function(r){return this.isTop(r)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(r){return K(this.view.getTheme(),["components","annotation",r],{})},e.prototype.updateOrCreate=function(r){var n=this.cache.get(this.getCacheKey(r));if(n){var i=r.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,r,a);o&&$a(o,["container"]),n.component.update(F(F({},o||{}),{visible:!!o})),Vf(zS,r.type)&&n.component.render()}else n=this.createAnnotation(r),n&&(n.component.init(),Vf(zS,r.type)&&n.component.render());return n},e.prototype.syncCache=function(r){var n=this,i=new Map(this.cache);return r.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){Vs(n.option,function(s){return o===n.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},e.prototype.getCacheKey=function(r){return r},e}(Lm);function w9(t,e){var r=Fe({},K(t,["components","axis","common"]),K(t,["components","axis",e]));return K(r,["grid"],{})}function US(t,e,r,n){var i=[],a=e.getTicks();return t.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(n)i.push({points:[t.convert(r==="y"?{x:0,y:u}:{x:u,y:0}),t.convert(r==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var c=o.value,d=(c+u)/2;i.push({points:[t.convert(r==="y"?{x:0,y:d}:{x:d,y:0}),t.convert(r==="y"?{x:1,y:d}:{x:d,y:1})]})}return s},a[0]),i}function _M(t,e,r,n,i){var a=e.values.length,o=[],s=r.getTicks();return s.reduce(function(l,u){var c=l?l.value:u.value,d=u.value,f=(c+d)/2;return i==="x"?o.push({points:[t.convert({x:n?d:f,y:0}),t.convert({x:n?d:f,y:1})]}):o.push({points:$r(Array(a+1),function(p,v){return t.convert({x:v/a,y:n?d:f})})}),u},s[0]),o}function S9(t,e){var r=K(e,"grid");if(r===null)return!1;var n=K(t,"grid");return!(r===void 0&&n===null)}var Dc=["container"],E9=F(F({},bg),{appear:null}),nft=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(gn.BG).addGroup(),n.gridForeContainer=n.view.getLayer(gn.FORE).addGroup(),n.axisContainer=n.view.getLayer(gn.BG).addGroup(),n.axisForeContainer=n.view.getLayer(gn.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var r=this,n=this.view.getCoordinate();Y(this.getComponents(),function(i){var a=i.component,o=i.direction,s=i.type,l=i.extra,u=l.dim,c=l.scale,d=l.alignTick,f;if(s===Qn.AXIS)n.isPolar?u==="x"?f=n.isTransposed?_S(n,o):bM(n):u==="y"&&(f=n.isTransposed?bM(n):_S(n,o)):f=_S(n,o);else if(s===Qn.GRID)if(n.isPolar){var p=void 0;n.isTransposed?p=u==="x"?_M(n,r.view.getYScales()[0],c,d,u):US(n,c,u,d):p=u==="x"?US(n,c,u,d):_M(n,r.view.getXScale(),c,d,u),f={items:p,center:r.view.getCoordinate().getCenter()}}else f={items:US(n,c,u,d)};a.update(f)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var r=new Map;this.updateXAxes(r),this.updateYAxes(r);var n=new Map;this.cache.forEach(function(i,a){r.has(a)?n.set(a,i):i.component.destroy()}),this.cache=n},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var r=[];return this.cache.forEach(function(n){r.push(n)}),r},e.prototype.updateXAxes=function(r){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var i=PC(this.option,n.field);if(i!==!1){var a=IH(i,ke.BOTTOM),o=gn.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",n.field),c=this.getId("grid",n.field);if(l.isRect){var d=this.cache.get(u);if(d){var f=this.getLineAxisCfg(n,i,a);$a(f,Dc),d.component.update(f),r.set(u,d)}else d=this.createLineAxis(n,i,o,a,s),this.cache.set(u,d),r.set(u,d);var p=this.cache.get(c);if(p){var f=this.getLineGridCfg(n,i,a,s);$a(f,Dc),p.component.update(f),r.set(c,p)}else p=this.createLineGrid(n,i,o,a,s),p&&(this.cache.set(c,p),r.set(c,p))}else if(l.isPolar){var d=this.cache.get(u);if(d){var f=l.isTransposed?this.getLineAxisCfg(n,i,ke.RADIUS):this.getCircleAxisCfg(n,i,a);$a(f,Dc),d.component.update(f),r.set(u,d)}else{if(l.isTransposed){if(Kf(i))return;d=this.createLineAxis(n,i,o,ke.RADIUS,s)}else d=this.createCircleAxis(n,i,o,a,s);this.cache.set(u,d),r.set(u,d)}var p=this.cache.get(c);if(p){var f=l.isTransposed?this.getCircleGridCfg(n,i,ke.RADIUS,s):this.getLineGridCfg(n,i,ke.CIRCLE,s);$a(f,Dc),p.component.update(f),r.set(c,p)}else{if(l.isTransposed){if(Kf(i))return;p=this.createCircleGrid(n,i,o,ke.RADIUS,s)}else p=this.createLineGrid(n,i,o,ke.CIRCLE,s);p&&(this.cache.set(c,p),r.set(c,p))}}}}},e.prototype.updateYAxes=function(r){var n=this,i=this.view.getYScales();Y(i,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=PC(n.option,s);if(l!==!1){var u=gn.BG,c="y",d=n.getId("axis",s),f=n.getId("grid",s),p=n.view.getCoordinate();if(p.isRect){var v=IH(l,o===0?ke.LEFT:ke.RIGHT),g=n.cache.get(d);if(g){var m=n.getLineAxisCfg(a,l,v);$a(m,Dc),g.component.update(m),r.set(d,g)}else g=n.createLineAxis(a,l,u,v,c),n.cache.set(d,g),r.set(d,g);var y=n.cache.get(f);if(y){var m=n.getLineGridCfg(a,l,v,c);$a(m,Dc),y.component.update(m),r.set(f,y)}else y=n.createLineGrid(a,l,u,v,c),y&&(n.cache.set(f,y),r.set(f,y))}else if(p.isPolar){var g=n.cache.get(d);if(g){var m=p.isTransposed?n.getCircleAxisCfg(a,l,ke.CIRCLE):n.getLineAxisCfg(a,l,ke.RADIUS);$a(m,Dc),g.component.update(m),r.set(d,g)}else{if(p.isTransposed){if(Kf(l))return;g=n.createCircleAxis(a,l,u,ke.CIRCLE,c)}else g=n.createLineAxis(a,l,u,ke.RADIUS,c);n.cache.set(d,g),r.set(d,g)}var y=n.cache.get(f);if(y){var m=p.isTransposed?n.getLineGridCfg(a,l,ke.CIRCLE,c):n.getCircleGridCfg(a,l,ke.RADIUS,c);$a(m,Dc),y.component.update(m),r.set(f,y)}else{if(p.isTransposed){if(Kf(l))return;y=n.createLineGrid(a,l,u,ke.CIRCLE,c)}else y=n.createCircleGrid(a,l,u,ke.RADIUS,c);y&&(n.cache.set(f,y),r.set(f,y))}}}}})},e.prototype.createLineAxis=function(r,n,i,a,o){var s={component:new Qot(this.getLineAxisCfg(r,n,a)),layer:i,direction:a===ke.RADIUS?ke.NONE:a,type:Qn.AXIS,extra:{dim:o,scale:r}};return s.component.set("field",r.field),s.component.init(),s},e.prototype.createLineGrid=function(r,n,i,a,o){var s=this.getLineGridCfg(r,n,a,o);if(s){var l={component:new Zot(s),layer:i,direction:ke.NONE,type:Qn.GRID,extra:{dim:o,scale:r,alignTick:K(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(r,n,i,a,o){var s={component:new Jot(this.getCircleAxisCfg(r,n,a)),layer:i,direction:a,type:Qn.AXIS,extra:{dim:o,scale:r}};return s.component.set("field",r.field),s.component.init(),s},e.prototype.createCircleGrid=function(r,n,i,a,o){var s=this.getCircleGridCfg(r,n,a,o);if(s){var l={component:new est(s),layer:i,direction:ke.NONE,type:Qn.GRID,extra:{dim:o,scale:r,alignTick:K(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(r,n,i){var a=K(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=_S(o,i),l=PH(r,n),u=OS(this.view.getTheme(),i),c=K(n,["title"])?Fe({title:{style:{text:l}}},{title:TH(this.view.getTheme(),i,n.title)},n):n,d=Fe(F(F({container:a},s),{ticks:r.getTicks().map(function(b){return{id:"".concat(b.tickValue),name:b.text,value:b.value}}),verticalFactor:o.isPolar?CH(s,o.getCenter())*-1:CH(s,o.getCenter()),theme:u}),u,c),f=this.getAnimateCfg(d),p=f.animate,v=f.animateOption;d.animateOption=v,d.animate=p;var g=oce(s),m=K(d,"verticalLimitLength",g?1/3:1/2);if(m<=1){var y=this.view.getCanvas().get("width"),x=this.view.getCanvas().get("height");d.verticalLimitLength=m*(g?y:x)}return d},e.prototype.getLineGridCfg=function(r,n,i,a){if(S9(OS(this.view.getTheme(),i),n)){var o=w9(this.view.getTheme(),i),s=Fe({container:K(n,["top"])?this.gridForeContainer:this.gridContainer},o,K(n,"grid"),this.getAnimateCfg(n));return s.items=US(this.view.getCoordinate(),r,a,K(s,"alignTick",!0)),s}},e.prototype.getCircleAxisCfg=function(r,n,i){var a=K(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=r.getTicks().map(function(g){return{id:"".concat(g.tickValue),name:g.text,value:g.value}});!r.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.length&&(s[s.length-1].name="");var l=PH(r,n),u=OS(this.view.getTheme(),ke.CIRCLE),c=K(n,["title"])?Fe({title:{style:{text:l}}},{title:TH(this.view.getTheme(),i,n.title)},n):n,d=Fe(F(F({container:a},bM(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,c),f=this.getAnimateCfg(d),p=f.animate,v=f.animateOption;return d.animate=p,d.animateOption=v,d},e.prototype.getCircleGridCfg=function(r,n,i,a){if(S9(OS(this.view.getTheme(),i),n)){var o=w9(this.view.getTheme(),ke.RADIUS),s=Fe({container:K(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,K(n,"grid"),this.getAnimateCfg(n)),l=K(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=_M(this.view.getCoordinate(),u,r,l,a),s}},e.prototype.getId=function(r,n){var i=this.view.getCoordinate();return"".concat(r,"-").concat(n,"-").concat(i.type)},e.prototype.getAnimateCfg=function(r){return{animate:this.view.getOptions().animate&&K(r,"animate"),animateOption:r&&r.animateOption?Fe({},E9,r.animateOption):E9}},e}(Lm);function rd(t,e,r){return r===ke.TOP?[t.minX+t.width/2-e.width/2,t.minY]:r===ke.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:r===ke.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:r===ke.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:r===ke.TOP_LEFT||r===ke.LEFT_TOP?[t.tl.x,t.tl.y]:r===ke.TOP_RIGHT||r===ke.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:r===ke.BOTTOM_LEFT||r===ke.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:r===ke.BOTTOM_RIGHT||r===ke.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function A9(t,e){return pg(t)?t===!1?!1:{}:K(t,[e],t)}function qS(t){return K(t,"position",ke.BOTTOM)}var ift=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.container=n.view.getLayer(gn.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var r=this;this.layoutBBox=this.view.viewBBox,Y(this.components,function(n){var i=n.component,a=n.direction,o=SM(a),s=i.get("maxWidthRatio"),l=i.get("maxHeightRatio"),u=r.getCategoryLegendSizeCfg(o,s,l),c=i.get("maxWidth"),d=i.get("maxHeight");i.update({maxWidth:Math.min(u.maxWidth,c||0),maxHeight:Math.min(u.maxHeight,d||0)});var f=i.get("padding"),p=i.getLayoutBBox(),v=new Aa(p.x,p.y,p.width,p.height).expand(f),g=We(rd(r.view.viewBBox,v,a),2),m=g[0],y=g[1],x=We(rd(r.layoutBBox,v,a),2),b=x[0],w=x[1],S=0,C=0;a.startsWith("top")||a.startsWith("bottom")?(S=m,C=w):(S=b,C=y),i.setLocation({x:S+f[3],y:C+f[0]}),r.layoutBBox=r.layoutBBox.cut(v,a)})},e.prototype.update=function(){var r=this;this.option=this.view.getOptions().legends;var n={},i=function(f,p,v){var g=r.getId(v.field),m=r.getComponentById(g);if(m){var y=void 0,x=A9(r.option,v.field);x!==!1&&(K(x,"custom")?y=r.getCategoryCfg(f,p,v,x,!0):v.isLinear?y=r.getContinuousCfg(f,p,v,x):v.isCategory&&(y=r.getCategoryCfg(f,p,v,x))),y&&($a(y,["container"]),m.direction=qS(x),m.component.update(y),n[g]=!0)}else{var b=r.createFieldLegend(f,p,v);b&&(b.component.init(),r.components.push(b),n[g]=!0)}};if(K(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);$a(s,["container"]),o.component.update(s),n[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=gn.FORE,c=qS(this.option);this.components.push({id:a,component:l,layer:u,direction:c,type:Qn.LEGEND,extra:void 0}),n[a]=!0}}}else this.loopLegends(i);var d=[];Y(this.getComponents(),function(f){n[f.id]?d.push(f):f.component.destroy()}),this.components=d},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(r){var n=this,i=r.geometries;return Y(r.views,function(a){i=i.concat(n.getGeometries(a))}),i},e.prototype.loopLegends=function(r){var n=this.view.getRootView()===this.view;if(n){var i=this.getGeometries(this.view),a={};Y(i,function(o){var s=o.getGroupAttributes();Y(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(r(o,l,u),a[u.field]=!0)})})}},e.prototype.createFieldLegend=function(r,n,i){var a,o=A9(this.option,i.field),s=gn.FORE,l=qS(o);if(o!==!1&&(K(o,"custom")?a=this.createCustomLegend(r,n,i,o):i.isLinear?a=this.createContinuousLegend(r,n,i,o):i.isCategory&&(a=this.createCategoryLegend(r,n,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:l,type:Qn.LEGEND,extra:{scale:i}}},e.prototype.createCustomLegend=function(r,n,i,a){var o=this.getCategoryCfg(r,n,i,a,!0);return new SH(o)},e.prototype.createContinuousLegend=function(r,n,i,a){var o=this.getContinuousCfg(r,n,i,$a(a,["value"]));return new tst(o)},e.prototype.createCategoryLegend=function(r,n,i,a){var o=this.getCategoryCfg(r,n,i,a);return new SH(o)},e.prototype.getContinuousCfg=function(r,n,i,a){var o=i.getTicks(),s=Vs(o,function(g){return g.value===0}),l=Vs(o,function(g){return g.value===1}),u=o.map(function(g){var m=g.value,y=g.tickValue,x=n.mapping(i.invert(m)).join("");return{value:y,attrValue:x,color:x,scaleValue:m}});s||u.push({value:i.min,attrValue:n.mapping(i.invert(0)).join(""),color:n.mapping(i.invert(0)).join(""),scaleValue:0}),l||u.push({value:i.max,attrValue:n.mapping(i.invert(1)).join(""),color:n.mapping(i.invert(1)).join(""),scaleValue:1}),u.sort(function(g,m){return g.value-m.value});var c={min:Ao(u).value,max:Fn(u).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(c.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(c.colors=u.map(function(g){return g.attrValue}));var d=this.container,f=qS(a),p=SM(f),v=K(a,"title");return v&&(v=Fe({text:zx(i)},v)),c.container=d,c.layout=p,c.title=v,c.animateOption=bg,this.mergeLegendCfg(c,a,"continuous")},e.prototype.getCategoryCfg=function(r,n,i,a,o){var s=this.container,l=K(a,"position",ke.BOTTOM),u=qH(this.view.getTheme(),l),c=K(u,["marker"]),d=K(a,"marker"),f=SM(l),p=K(u,["pageNavigator"]),v=K(a,"pageNavigator"),g=o?Rlt(c,d,a.items):Vce(this.view,r,n,c,d),m=K(a,"title");m&&(m=Fe({text:i?zx(i):""},m));var y=K(a,"maxWidthRatio"),x=K(a,"maxHeightRatio"),b=this.getCategoryLegendSizeCfg(f,y,x);b.container=s,b.layout=f,b.items=g,b.title=m,b.animateOption=bg,b.pageNavigator=Fe({},p,v);var w=this.mergeLegendCfg(b,a,l);w.reversed&&w.items.reverse();var S=K(w,"maxItemWidth");return S&&S<=1&&(w.maxItemWidth=this.view.viewBBox.width*S),w},e.prototype.mergeLegendCfg=function(r,n,i){var a=i.split("-")[0],o=qH(this.view.getTheme(),a);return Fe({},o,r,n)},e.prototype.getId=function(r){return"".concat(this.name,"-").concat(r)},e.prototype.getComponentById=function(r){return Vs(this.components,function(n){return n.id===r})},e.prototype.getCategoryLegendSizeCfg=function(r,n,i){n===void 0&&(n=sW),i===void 0&&(i=sW);var a=this.view.viewBBox,o=a.width,s=a.height;return r==="vertical"?{maxWidth:o*n,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},e}(Lm),aft=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.onChangeFn=ed,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=We(i,2),o=a[0],s=a[1];n.start=o,n.end=s,n.changeViewData(o,s)},n.container=n.view.getLayer(gn.FORE).addGroup(),n.onChangeFn=S4(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(St.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(St.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(St.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(St.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var r=this.getSliderCfg(),n=r.start,i=r.end;ve(this.start)&&(this.start=n,this.end=i);var a=this.view.getOptions().data;this.option&&!Xa(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var r=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){r.view.destroyed||r.changeViewData(r.start,r.end)},0)),this.slider){var n=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=We(i,4),o=a[0];a[1],a[2];var s=a[3],l=this.slider.component.getLayoutBBox(),u=new Aa(l.x,l.y,Math.min(l.width,n),l.height).expand(i),c=this.getMinMaxText(this.start,this.end),d=c.minText,f=c.maxText,p=We(rd(this.view.viewBBox,u,ke.BOTTOM),2);p[0];var v=p[1],g=We(rd(this.view.coordinateBBox,u,ke.BOTTOM),2),m=g[0];g[1],this.slider.component.update(F(F({},this.getSliderCfg()),{x:m+s,y:v+o,width:this.width,start:this.start,end:this.end,minText:d,maxText:f})),this.view.viewBBox=this.view.viewBBox.cut(u,ke.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var r=this.getSliderCfg(),n=new Yot(F({container:this.container},r));return n.init(),{component:n,layer:gn.FORE,direction:ke.BOTTOM,type:Qn.SLIDER}},e.prototype.updateSlider=function(){var r=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),i=n.minText,a=n.maxText;r=F(F({},r),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(r),this.slider},e.prototype.measureSlider=function(){var r=this.getSliderCfg().width;this.width=r},e.prototype.getSliderCfg=function(){var r={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(lr(this.option)){var n=F({data:this.getData()},K(this.option,"trendCfg",{}));r=Fe({},r,this.getThemeOptions(),this.option),r=F(F({},r),{trendCfg:n})}return r.start=Fr(Math.min(ve(r.start)?0:r.start,ve(r.end)?1:r.end),0,1),r.end=Fr(Math.max(ve(r.start)?0:r.start,ve(r.end)?1:r.end),0,1),r},e.prototype.getData=function(){var r=this.view.getOptions().data,n=We(this.view.getYScales(),1),i=n[0],a=this.view.getGroupScales();if(a.length){var o=a[0],s=o.field,l=o.ticks;return r.reduce(function(u,c){return c[s]===l[0]&&u.push(c[i.field]),u},[])}return r.map(function(u){return u[i.field]||0})},e.prototype.getThemeOptions=function(){var r=this.view.getTheme();return K(r,["components","slider","common"],{})},e.prototype.getMinMaxText=function(r,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=Hs(i,a.field);a.isLinear&&(o=o.sort());var s=o,l=Zn(i);if(!a||!l)return{};var u=Zn(s),c=Math.round(r*(u-1)),d=Math.round(n*(u-1)),f=K(s,[c]),p=K(s,[d]),v=this.getSliderCfg().formatter;return v&&(f=v(f,i[c],c),p=v(p,i[d],d)),{minText:f,maxText:p}},e.prototype.changeViewData=function(r,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=Zn(i);if(!(!a||!o)){var s=Hs(i,a.field),l=this.view.getXScale().isLinear?s.sort(function(p,v){return Number(p)-Number(v)}):s,u=l,c=Zn(u),d=Math.round(r*(c-1)),f=Math.round(n*(c-1));this.view.filter(a.field,function(p,v){var g=u.indexOf(p);return g>-1?Sv(g,d,f):!0}),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(Lm),GS=0,C9=8,oft=32,sft=20,lft=function(t){ae(e,t);function e(r){var n=t.call(this,r)||this;return n.onChangeFn=ed,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=i.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=Fr(a,0,1);var s=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(s)},n.container=n.view.getLayer(gn.FORE).addGroup(),n.onChangeFn=S4(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(St.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(St.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(St.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(St.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var r=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){r.view.destroyed||r.changeViewData(r.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Aa(a.x,a.y,Math.min(a.width,n),a.height).expand(i),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var c=We(rd(this.view.viewBBox,o,ke.BOTTOM),2);c[0];var d=c[1],f=We(rd(this.view.coordinateBBox,o,ke.BOTTOM),2),p=f[0];f[1],l=p,u=d}else{var v=We(rd(this.view.viewBBox,o,ke.RIGHT),2);v[0];var d=v[1],g=We(rd(this.view.viewBBox,o,ke.RIGHT),2),p=g[0];g[1],l=p,u=d}l+=i[3],u+=i[0],this.trackLen?this.scrollbar.component.update(F(F({},s),{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(F(F({},s),{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?ke.BOTTOM:ke.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(r){this.onValueChange({ratio:r})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var r=this.view.getTheme();return K(r,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(r){var n=K(this.view.getTheme(),["components","scrollbar"]),i=r||{},a=i.thumbHighlightColor,o=Kt(i,["thumbHighlightColor"]);return{default:Fe({},K(n,["default","style"],{}),o),hover:Fe({},K(n,["hover","style"],{}),{thumbColor:a})}},e.prototype.measureScrollbar=function(){var r=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),a=i.trackLen,o=i.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:r.field,values:r.values||[]},this.yScalesCfg=n},e.prototype.getScrollRange=function(){var r=Math.floor((this.cnt-this.step)*Fr(this.ratio,0,1)),n=Math.min(r+this.step-1,this.cnt-1);return[r,n]},e.prototype.changeViewData=function(r,n){var i=this,a=We(r,2),o=a[0],s=a[1],l=this.getValidScrollbarCfg().type,u=l!=="vertical",c=Hs(this.data,this.xScaleCfg.field),d=this.view.getXScale().isLinear?c.sort(function(p,v){return Number(p)-Number(v)}):c,f=u?d:d.reverse();this.yScalesCfg.forEach(function(p){i.view.scale(p.field,{formatter:p.formatter,type:p.type,min:p.min,max:p.max,tickMethod:p.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(p){var v=f.indexOf(p);return v>-1?Sv(v,o,s):!0}),this.view.render(!0)},e.prototype.createScrollbar=function(){var r=this.getValidScrollbarCfg().type,n=r!=="vertical",i=new Kot(F(F({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:gn.FORE,direction:n?ke.BOTTOM:ke.RIGHT,type:Qn.SCROLLBAR}},e.prototype.updateScrollbar=function(){var r=this.getScrollbarComponentCfg(),n=this.trackLen?F(F({},r),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):F({},r);return this.scrollbar.component.update(n),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var r=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),i=n.type,a=n.categorySize,o=i!=="vertical";return Math.floor((o?r.width:r.height)/a)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var r=this.view.getXScale(),n=this.getScrollbarData(),i=Hs(n,r.field);return Zn(i)},e.prototype.getScrollbarComponentCfg=function(){var r=this.view,n=r.coordinateBBox,i=r.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,l=a.width,u=a.height,c=a.style,d=o!=="vertical",f=We(s,4),p=f[0],v=f[1],g=f[2],m=f[3],y=d?{x:n.minX+m,y:i.maxY-u-g}:{x:i.maxX-l-v,y:n.minY+p},x=this.getStep(),b=this.getCnt(),w=d?n.width-m-v:n.height-p-g,S=Math.max(w*Fr(x/b,0,1),sft);return F(F({},this.getThemeOptions()),{x:y.x,y:y.y,size:d?u:l,isHorizontal:d,trackLen:w,thumbLen:S,thumbOffset:0,theme:this.getScrollbarTheme(c)})},e.prototype.getValidScrollbarCfg=function(){var r={type:"horizontal",categorySize:oft,width:C9,height:C9,padding:[0,0,0,0],animate:!0,style:{}};return lr(this.option)&&(r=F(F({},r),this.option)),(!lr(this.option)||!this.option.padding)&&(r.padding=r.type==="horizontal"?[GS,0,GS,0]:[0,GS,0,GS]),r},e.prototype.getScrollbarData=function(){var r=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return r.isReflect("y")&&n.type==="vertical"&&(i=Je([],We(i),!1).reverse()),i},e}(Lm),uft={fill:"#CCD6EC",opacity:.3};function cft(t,e,r){var n,i,a,o,s,l,u=slt(t,e,r);if(u.length){u=Mo(u);try{for(var c=Jt(u),d=c.next();!d.done;d=c.next()){var f=d.value;try{for(var p=(a=void 0,Jt(f)),v=p.next();!v.done;v=p.next()){var g=v.value,m=g.mappingData,y=m.x,x=m.y;g.x=xe(y)?y[y.length-1]:y,g.y=xe(x)?x[x.length-1]:x}}catch(_){a={error:_}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var b=r.shared;if(b===!1&&u.length>1){var w=u[0],S=Math.abs(e.y-w[0].y);try{for(var C=Jt(u),E=C.next();!E.done;E=C.next()){var A=E.value,P=Math.abs(e.y-A[0].y);P<=S&&(w=A,S=P)}}catch(_){s={error:_}}finally{try{E&&!E.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}u=[w]}return Lh(Mo(u))}return[]}var dft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.show=function(r){var n=this.context.view,i=this.context.event,a=n.getController("tooltip").getTooltipCfg(),o=cft(n,{x:i.x,y:i.y},a);if(!on(o,this.items)&&(this.items=o,o.length)){var s=n.getXScale().field,l=o[0].data[s],u=[],c=n.geometries;if(Y(c,function(V){if(V.type==="interval"||V.type==="schema"){var U=V.getElementsBy(function(q){var M=q.getData();return M[s]===l});u=u.concat(U)}}),u.length){var d=n.getCoordinate(),f=u[0].shape.getCanvasBBox(),p=u[0].shape.getCanvasBBox(),v=f;Y(u,function(V){var U=V.shape.getCanvasBBox();d.isTransposed?(U.minY<f.minY&&(f=U),U.maxY>p.maxY&&(p=U)):(U.minX<f.minX&&(f=U),U.maxX>p.maxX&&(p=U)),v.x=Math.min(U.minX,v.minX),v.y=Math.min(U.minY,v.minY),v.width=Math.max(U.maxX,v.maxX)-v.x,v.height=Math.max(U.maxY,v.maxY)-v.y});var g=n.backgroundGroup,m=n.coordinateBBox,y=void 0;if(d.isRect){var x=n.getXScale(),b=r||{},w=b.appendRatio,S=b.appendWidth;ve(S)&&(w=ve(w)?x.isLinear?0:.25:w,S=d.isTransposed?w*p.height:w*f.width);var C=void 0,E=void 0,A=void 0,P=void 0;d.isTransposed?(C=m.minX,E=Math.min(p.minY,f.minY)-S,A=m.width,P=v.height+S*2):(C=Math.min(f.minX,p.minX)-S,E=m.minY,A=v.width+S*2,P=m.height),y=[["M",C,E],["L",C+A,E],["L",C+A,E+P],["L",C,E+P],["Z"]]}else{var _=Ao(u),k=Fn(u),O=Vx(_.getModel(),d).startAngle,D=Vx(k.getModel(),d).endAngle,B=d.getCenter(),$=d.getRadius(),L=d.innerRadius*$;y=gd(B.x,B.y,$,O,D,L)}if(this.regionPath)this.regionPath.attr("path",y),this.regionPath.show();else{var R=K(r,"style",uft);this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:F(F({},R),{path:y})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(kr),Sde=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.timeStamp=0,r}return e.prototype.show=function(){var r=this.context,n=r.event,i=r.view,a=i.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,l=K(r.view.getOptions(),"tooltip.showDelay",16);if(s-o>l){var u=this.location,c={x:n.x,y:n.y};(!u||!on(u,c))&&this.showTooltip(i,c),this.timeStamp=s,this.location=c}}},e.prototype.hide=function(){var r=this.context.view,n=r.getController("tooltip"),i=this.context.event,a=i.clientX,o=i.clientY;n.isCursorEntered({x:a,y:o})||r.isTooltipLocked()||(this.hideTooltip(r),this.location=null)},e.prototype.showTooltip=function(r,n){r.showTooltip(n)},e.prototype.hideTooltip=function(r){r.hideTooltip()},e}(kr),fft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.showTooltip=function(r,n){var i=Fl(r);Y(i,function(a){var o=Zj(r,a,n);a.showTooltip(o)})},e.prototype.hideTooltip=function(r){var n=Fl(r);Y(n,function(i){i.hideTooltip()})},e}(Sde),hft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.timeStamp=0,r}return e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var r=this.context,n=r.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:n.x,y:n.y};(!o||!on(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(r){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){if(!this.tooltip)this.renderTooltip();else{var o=n.view,s=o.canvas,l={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}};this.tooltip.set("region",l)}var u=a.get("tip");this.tooltip.update(F({title:u},r)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var r,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=n.getTheme(),s=K(o,["components","tooltip","domStyles"],{}),l=new g_({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:F({},Fe({},s,(r={},r[Zu]={"max-width":"50%"},r[ec]={"word-break":"break-all"},r)))});l.init(),l.setCapture(!1),this.tooltip=l},e}(kr),b5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="",r}return e.prototype.hasState=function(r){return r.hasState(this.stateName)},e.prototype.setElementState=function(r,n){r.setState(this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var r=this.context.view;this.clearViewState(r)},e.prototype.clearViewState=function(r){var n=this,i=xce(r,this.stateName);Y(i,function(a){n.setElementState(a,!1)})},e}(kr);function T9(t){return K(t.get("delegateObject"),"item")}var w5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreListItemStates=["unchecked"],r}return e.prototype.isItemIgnore=function(r,n){var i=this.ignoreListItemStates,a=i.filter(function(o){return n.hasState(r,o)});return!!a.length},e.prototype.setStateByComponent=function(r,n,i){var a=this.context.view,o=r.get("field"),s=gi(a);this.setElementsStateByItem(s,o,n,i)},e.prototype.setStateByElement=function(r,n){this.setElementState(r,n)},e.prototype.isMathItem=function(r,n,i){var a=this.context.view,o=xg(a,n),s=Ys(r,n);return!ve(s)&&i.name===o.getText(s)},e.prototype.setElementsStateByItem=function(r,n,i,a){var o=this;Y(r,function(s){o.isMathItem(s,n,i)&&s.setState(o.stateName,a)})},e.prototype.setStateEnable=function(r){var n=$d(this.context);if(n)vce(this.context)&&this.setStateByElement(n,r);else{var i=Bh(this.context);if(Ux(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&T9(s.fromShape)===T9(s.toShape))return;this.setStateByComponent(o,a,r)}}}},e.prototype.toggle=function(){var r=$d(this.context);if(r){var n=r.hasState(this.stateName);this.setElementState(r,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(b5),pft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="active",r}return e.prototype.active=function(){this.setState()},e}(w5),vft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.cache={},r}return e.prototype.getColorScale=function(r,n){var i=n.geometry.getAttribute("color");if(!i)return null;var a=r.getScaleByField(i.getFields()[0]);return a},e.prototype.getLinkPath=function(r,n){var i=this.context.view,a=i.getCoordinate().isTransposed,o=r.shape.getCanvasBBox(),s=n.shape.getCanvasBBox(),l=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return l},e.prototype.addLinkShape=function(r,n,i,a){var o={opacity:.4,fill:n.shape.attr("fill")};r.addShape({type:"path",attrs:F(F({},Fe({},o,qe(a)?a(o,n):a)),{path:this.getLinkPath(n,i)})})},e.prototype.linkByElement=function(r,n){var i=this,a=this.context.view,o=this.getColorScale(a,r);if(o){var s=Ys(r,o.field);if(!this.cache[s]){var l=Nst(a,o.field,s),u=this.linkGroup,c=u.addGroup();this.cache[s]=c;var d=l.length;Y(l,function(f,p){if(p<d-1){var v=l[p+1];i.addLinkShape(c,f,v,n)}})}}},e.prototype.removeLink=function(r){var n=this.getColorScale(this.context.view,r);if(n){var i=Ys(r,n.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},e.prototype.link=function(r){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=$d(n);i&&this.linkByElement(i,r==null?void 0:r.style)},e.prototype.unlink=function(){var r=$d(this.context);r&&this.removeLink(r)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(kr),S5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startPoint=null,r.endPoint=null,r.isStarted=!1,r.effectSiblings=!1,r.effectByRecord=!1,r}return e.prototype.getCurrentPoint=function(){var r=this.context.event;return{x:r.x,y:r.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var r=null;if(qx(this.context))r=Q4(this.context,10);else{var n=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!i)return;var a={minX:Math.min(n.x,i.x),minY:Math.min(n.y,i.y),maxX:Math.max(n.x,i.x),maxY:Math.max(n.y,i.y)},o=this.context.view;r=b_(o,a)}return r},e.prototype.setStateEnable=function(r){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(r);else{var n=gi(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,r):this.setElementsState(i,r,n):this.clear()}},e.prototype.setSiblingsStateByRecord=function(r,n){var i=this,a=this.context.view,o=Fl(a),s=r.map(function(c){return c.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;Y(o,function(c){var d=gi(c),f=d.filter(function(p){var v=p.getModel().data;return Sce(s,v,l,u)});i.setElementsState(f,n,d)})},e.prototype.setSiblingsState=function(r){var n=this,i=this.context.view,a=Fl(i);qx(this.context)&&Y(a,function(o){var s=gi(o),l=mce(n.context,o,10);l&&l.length?n.setElementsState(l,r,s):n.clearViewState(o)})},e.prototype.setElementsState=function(r,n,i){var a=this;Y(i,function(o){r.includes(o)?a.setElementState(o,n):a.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var r=this,n=this.context.view;if(this.effectSiblings){var i=Fl(n);Y(i,function(a){r.clearViewState(a)})}else this.clearViewState(n)},e}(b5),gft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="active",r}return e.prototype.active=function(){this.setState()},e}(S5),E5=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setStateEnable=function(r){var n=$d(this.context);if(n){if(!vce(this.context))return;r?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},e.prototype.toggle=function(){var r=$d(this.context);if(r){var n=this.hasState(r);n||this.clear(),this.setElementState(r,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(b5),mft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="active",r}return e.prototype.active=function(){this.setState()},e}(E5),W0="inactive",H0="active";function A5(t){var e=gi(t);Y(e,function(r){r.hasState(H0)&&r.setState(H0,!1),r.hasState(W0)&&r.setState(W0,!1)})}function Ede(t,e,r){Y(t,function(n){e(n)?(n.hasState(W0)&&n.setState(W0,!1),n.setState(H0,r)):(n.hasState(H0)&&n.setState(H0,!1),n.setState(W0,r))})}var Zf=vC.INACTIVE,Su=vC.ACTIVE,C5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName=Su,r}return e.prototype.setElementsStateByItem=function(r,n,i,a){var o=this,s=function(l){return o.isMathItem(l,n,i)};this.setHighlightBy(r,s,a)},e.prototype.setElementHighlight=function(r,n){n(r)?(r.hasState(Zf)&&r.setState(Zf,!1),r.setState(Su,!0)):r.hasState(Su)||r.setState(Zf,!0)},e.prototype.setHighlightBy=function(r,n,i){var a=this;if(i)Y(r,function(l){a.setElementHighlight(l,n)});else{var o=xce(this.context.view,Su),s=!0;Y(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():Y(r,function(l){n(l)&&(l.hasState(Su)&&l.setState(Su,!1),l.setState(Zf,!0))})}},e.prototype.setElementState=function(r,n){var i=this.context.view,a=gi(i);this.setHighlightBy(a,function(o){return r===o},n)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var r=this.context.view;A5(r)},e}(w5),yft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setStateByElement=function(r,n){var i=this.context.view,a=r.geometry.getAttribute("color");if(a){var o=i.getScaleByField(a.getFields()[0]),s=Ys(r,o.field),l=gi(i),u=l.filter(function(c){return Ys(c,o.field)===s});this.setHighlightBy(l,function(c){return u.includes(c)},n)}},e}(C5),xft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(r,n){n(r)?(r.hasState(Zf)&&r.setState(Zf,!1),r.setState(Su,!0)):(r.setState(Zf,!0),r.hasState(Su)&&r.setState(Su,!1))},e.prototype.setStateByElement=function(r,n){var i=this.context.view,a=i.getXScale(),o=Ys(r,a.field),s=gi(i),l=s.filter(function(u){return Ys(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},n)},e.prototype.toggle=function(){var r=$d(this.context);if(r){var n=r.hasState(this.stateName);this.setStateByElement(r,!n)}},e}(C5),vl;(function(t){t.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",t.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",t.BEFORE_CLEAR="element-range-highlight:beforeclear",t.AFTER_CLEAR="element-range-highlight:afterclear"})(vl||(vl={}));var Ade=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="active",r}return e.prototype.clearViewState=function(r){A5(r)},e.prototype.highlight=function(){var r=this.context,n=r.view,i=r.event,a=this.getIntersectElements(),o={view:n,event:i,highlightElements:a};n.emit(vl.BEFORE_HIGHLIGHT,Hr.fromData(n,vl.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(vl.AFTER_HIGHLIGHT,Hr.fromData(n,vl.AFTER_HIGHLIGHT,o))},e.prototype.clear=function(){var r=this.context.view;r.emit(vl.BEFORE_CLEAR,Hr.fromData(r,vl.BEFORE_CLEAR,{})),t.prototype.clear.call(this),r.emit(vl.AFTER_CLEAR,Hr.fromData(r,vl.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(r,n,i){Ede(i,function(a){return r.indexOf(a)>=0},n)},e}(S5),bft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="active",r}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(r,n){var i=this.context.view,a=gi(i);Ede(a,function(o){return r===o},n)},e.prototype.clear=function(){var r=this.context.view;A5(r)},e}(E5),wft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="selected",r}return e.prototype.selected=function(){this.setState()},e}(S5),Sft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="selected",r}return e.prototype.selected=function(){this.setState()},e}(w5),Eft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="selected",r}return e.prototype.selected=function(){this.setState()},e}(E5),mp=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="",r.ignoreItemStates=[],r}return e.prototype.getTriggerListInfo=function(){var r=Bh(this.context),n=null;return Ux(r)&&(n={item:r.item,list:r.component}),n},e.prototype.getAllowComponents=function(){var r=this,n=this.context.view,i=wce(n),a=[];return Y(i,function(o){o.isList()&&r.allowSetStateByElement(o)&&a.push(o)}),a},e.prototype.hasState=function(r,n){return r.hasState(n,this.stateName)},e.prototype.clearAllComponentsState=function(){var r=this,n=this.getAllowComponents();Y(n,function(i){i.clearItemsState(r.stateName)})},e.prototype.allowSetStateByElement=function(r){var n=r.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var i=r.get("name");if(this.cfg.componentNames.indexOf(i)===-1)return!1}var a=this.context.view,o=xg(a,n);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(r,n){var i=this.ignoreItemStates;if(i.length){var a=i.filter(function(o){return n.hasState(r,o)});return a.length===0}return!0},e.prototype.setStateByElement=function(r,n,i){var a=r.get("field"),o=this.context.view,s=xg(o,a),l=Ys(n,a),u=s.getText(l);this.setItemsState(r,u,i)},e.prototype.setStateEnable=function(r){var n=this,i=$d(this.context);if(i){var a=this.getAllowComponents();Y(a,function(u){n.setStateByElement(u,i,r)})}else{var o=Bh(this.context);if(Ux(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,r)}}},e.prototype.setItemsState=function(r,n,i){var a=this,o=r.getItems();Y(o,function(s){s.name===n&&a.setItemState(r,s,i)})},e.prototype.setItemState=function(r,n,i){r.setItemState(n,this.stateName,i)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var r=this.getTriggerListInfo();if(r&&r.item){var n=r.list,i=r.item,a=this.hasState(n,i);this.setItemState(n,i,!a)}},e.prototype.clear=function(){var r=this.getTriggerListInfo();r?r.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(kr),Aft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="active",r}return e.prototype.active=function(){this.setState()},e}(mp),I9="inactive",P9="active";function Cft(t){var e=t.getItems();Y(e,function(r){t.hasState(r,P9)&&t.setItemState(r,P9,!1),t.hasState(r,I9)&&t.setItemState(r,I9,!1)})}var Ry="inactive",yf="active",T5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName=yf,r.ignoreItemStates=["unchecked"],r}return e.prototype.setItemsState=function(r,n,i){this.setHighlightBy(r,function(a){return a.name===n},i)},e.prototype.setItemState=function(r,n,i){r.getItems(),this.setHighlightBy(r,function(a){return a===n},i)},e.prototype.setHighlightBy=function(r,n,i){var a=r.getItems();if(i)Y(a,function(l){n(l)?(r.hasState(l,Ry)&&r.setItemState(l,Ry,!1),r.setItemState(l,yf,!0)):r.hasState(l,yf)||r.setItemState(l,Ry,!0)});else{var o=r.getItemsByState(yf),s=!0;Y(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():Y(a,function(l){n(l)&&(r.hasState(l,yf)&&r.setItemState(l,yf,!1),r.setItemState(l,Ry,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var r=this.getTriggerListInfo();if(r)Cft(r.list);else{var n=this.getAllowComponents();Y(n,function(i){i.clearItemsState(yf),i.clearItemsState(Ry)})}},e}(mp),Tft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="selected",r}return e.prototype.selected=function(){this.setState()},e}(mp),Ift=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName="unchecked",r}return e.prototype.unchecked=function(){this.setState()},e}(mp),Wp="unchecked",WS="checked",Pft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.stateName=WS,r}return e.prototype.setItemState=function(r,n,i){this.setCheckedBy(r,function(a){return a===n},i)},e.prototype.setCheckedBy=function(r,n,i){var a=r.getItems();i&&Y(a,function(o){n(o)?(r.hasState(o,Wp)&&r.setItemState(o,Wp,!1),r.setItemState(o,WS,!0)):r.hasState(o,WS)||r.setItemState(o,Wp,!0)})},e.prototype.toggle=function(){var r=this.getTriggerListInfo();if(r&&r.item){var n=r.list,i=r.item,a=!VP(n.getItems(),function(o){return n.hasState(o,Wp)});a||n.hasState(i,Wp)?this.setItemState(n,i,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var r=this.getAllowComponents();Y(r,function(n){n.clearItemsState(WS),n.clearItemsState(Wp)})},e}(mp),Hp="unchecked",_ft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.toggle=function(){var r,n,i,a,o,s,l,u,c=this.getTriggerListInfo();if(c!=null&&c.item){var d=c.list,f=c.item,p=d.getItems(),v=p.filter(function(_){return!d.hasState(_,Hp)}),g=p.filter(function(_){return d.hasState(_,Hp)}),m=v[0];if(p.length===v.length)try{for(var y=Jt(p),x=y.next();!x.done;x=y.next()){var b=x.value;d.setItemState(b,Hp,b.id!==f.id)}}catch(_){r={error:_}}finally{try{x&&!x.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}}else if(p.length-g.length===1)if(m.id===f.id)try{for(var w=Jt(p),S=w.next();!S.done;S=w.next()){var b=S.value;d.setItemState(b,Hp,!1)}}catch(_){i={error:_}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}else try{for(var C=Jt(p),E=C.next();!E.done;E=C.next()){var b=E.value;d.setItemState(b,Hp,b.id!==f.id)}}catch(_){o={error:_}}finally{try{E&&!E.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}else try{for(var A=Jt(p),P=A.next();!P.done;P=A.next()){var b=P.value;d.setItemState(b,Hp,b.id!==f.id)}}catch(_){l={error:_}}finally{try{P&&!P.done&&(u=A.return)&&u.call(A)}finally{if(l)throw l.error}}}},e}(mp),_9="showRadio",OM="legend-radio-tip",Oft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.timeStamp=0,r}return e.prototype.show=function(){var r=this.getTriggerListInfo();if(r!=null&&r.item){var n=r.list,i=r.item;n.setItemState(i,_9,!0)}},e.prototype.hide=function(){var r=this.getTriggerListInfo();if(r!=null&&r.item){var n=r.list,i=r.item;n.setItemState(i,_9,!1)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var r=this.context,n=r.event,i=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-i>16&&o.get("name")==="legend-item-radio"){var s=this.location,l={x:n.x,y:n.y};this.timeStamp=a,this.location=l,(!s||!on(s,l))&&this.showTooltip(l)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(r){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,l=o.y;this.tooltip.update(F(F({title:a.get("tip")},r),{x:r.x+s,y:r.y+l})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var r,n=(r={},r[Zu]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},r[ec]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},r);document.getElementById(OM)&&document.body.removeChild(document.getElementById(OM));var i=new g_({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:OM});i.init(),i.setCapture(!1),this.tooltip=i},e}(mp),I5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.maskShape=null,r.points=[],r.starting=!1,r.moving=!1,r.preMovePoint=null,r.shapeType="path",r}return e.prototype.getCurrentPoint=function(){var r=this.context.event;return{x:r.x,y:r.y}},e.prototype.emitEvent=function(r){var n="mask:".concat(r),i=this.context.view,a=this.context.event;i.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},e.prototype.createMask=function(){var r=this.context.view,n=this.getMaskAttrs(),i=r.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:F({fill:"#C5D4EB",opacity:.3},n)});return i},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(r){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(r==null?void 0:r.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var r=this.getCurrentPoint(),n=this.preMovePoint,i=r.x-n.x,a=r.y-n.y,o=this.points;Y(o,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=r}},e.prototype.updateMask=function(r){var n=Fe({},this.getMaskAttrs(),r);this.maskShape.attr(n)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(kr);function Cde(t){var e=Fn(t),r=0,n=0,i=0;if(t.length){var a=t[0];r=J4(a,e)/2,n=(e.x+a.x)/2,i=(e.y+a.y)/2}return{x:n,y:i,r}}var kft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.shapeType="circle",r}return e.prototype.getMaskAttrs=function(){return Cde(this.points)},e}(I5);function Tde(t){return{start:Ao(t),end:Fn(t)}}function Ide(t,e){var r=Math.min(t.x,e.x),n=Math.min(t.y,e.y),i=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return{x:r,y:n,width:i,height:a}}var Pde=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.shapeType="rect",r}return e.prototype.getRegion=function(){return Tde(this.points)},e.prototype.getMaskAttrs=function(){var r=this.getRegion(),n=r.start,i=r.end;return Ide(n,i)},e}(I5);function O9(t){t.x=Fr(t.x,0,1),t.y=Fr(t.y,0,1)}function _de(t,e,r,n){var i=null,a=null,o=n.invert(Ao(t)),s=n.invert(Fn(t));return r&&(O9(o),O9(s)),e==="x"?(i=n.convert({x:o.x,y:0}),a=n.convert({x:s.x,y:1})):(i=n.convert({x:0,y:o.y}),a=n.convert({x:1,y:s.y})),{start:i,end:a}}var Ode=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dim="x",r.inPlot=!0,r}return e.prototype.getRegion=function(){var r=this.context.view.getCoordinate();return _de(this.points,this.dim,this.inPlot,r)},e}(Pde);function P5(t){var e=[];return t.length&&(Y(t,function(r,n){n===0?e.push(["M",r.x,r.y]):e.push(["L",r.x,r.y])}),e.push(["L",t[0].x,t[0].y])),e}function kde(t){return{path:P5(t)}}var Dde=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return P5(this.points)},e.prototype.getMaskAttrs=function(){return kde(this.points)},e.prototype.addPoint=function(){this.resize()},e}(I5);function _5(t){return Vst(t,!0)}function Mde(t){return{path:_5(t)}}var Dft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return _5(this.points)},e.prototype.getMaskAttrs=function(){return Mde(this.points)},e}(Dde),O5=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.maskShapes=[],r.starting=!1,r.moving=!1,r.recordPoints=null,r.preMovePoint=null,r.shapeType="path",r.maskType="multi-mask",r}return e.prototype.getCurrentPoint=function(){var r=this.context.event;return{x:r.x,y:r.y}},e.prototype.emitEvent=function(r){var n="".concat(this.maskType,":").concat(r),i=this.context.view,a=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(s){return o.hasOwnProperty(s)?o[s]:void 0}};i.emit(n,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:a.x,y:a.y})},e.prototype.createMask=function(r){var n=this.context.view,i=this.recordPoints[r],a=this.getMaskAttrs(i),o=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:F({fill:"#C5D4EB",opacity:.3},a)});this.maskShapes.push(o)},e.prototype.getMaskPath=function(r){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(r){return r.show()}),this.emitEvent("show"))},e.prototype.start=function(r){this.recordPointStart(),this.starting=!0,this.moving=!1;var n=this.recordPoints.length-1;this.createMask(n),this.updateShapesCapture(!1),this.updateMask(r==null?void 0:r.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var r=this.getCurrentPoint(),n=this.preMovePoint,i=r.x-n.x,a=r.y-n.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=r)}},e.prototype.updateMask=function(r){var n=this;this.recordPoints.forEach(function(i,a){var o=Fe({},n.getMaskAttrs(i),r);n.maskShapes[a].attr(o)})},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(r){return r.hide()}),this.emitEvent("hide"))},e.prototype.remove=function(){var r=this.getCurMaskShapeIndex();r>-1&&(this.recordPoints.splice(r,1),this.maskShapes[r].remove(),this.maskShapes.splice(r,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(r){return r.remove()}),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var r=this.getCurMaskShapeIndex();r===-1?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(r,1),this.maskShapes[r].remove(),this.maskShapes.splice(r,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var r;return Je([],We((r=this.recordPoints)!==null&&r!==void 0?r:[]),!1)},e.prototype.recordPointStart=function(){var r=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=Je(Je([],We(r),!1),[[n]],!1)},e.prototype.recordPointContinue=function(){var r=this.getRecordPoints(),n=this.getCurrentPoint(),i=r.splice(-1,1)[0]||[];i.push(n),this.recordPoints=Je(Je([],We(r),!1),[i],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(r){this.maskShapes.forEach(function(n){return n.set("capture",r)})},e.prototype.getCurMaskShapeIndex=function(){var r=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var i=n.attrs,a=i.width,o=i.height,s=i.r,l=a===0||o===0||s===0;return!l&&n.isHit(r.x,r.y)})},e}(kr),Rde=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.shapeType="rect",r}return e.prototype.getRegion=function(r){return Tde(r)},e.prototype.getMaskAttrs=function(r){var n=this.getRegion(r),i=n.start,a=n.end;return Ide(i,a)},e}(O5),jde=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dim="x",r.inPlot=!0,r}return e.prototype.getRegion=function(r){var n=this.context.view.getCoordinate();return _de(r,this.dim,this.inPlot,n)},e}(Rde),Mft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.shapeType="circle",r.getMaskAttrs=Cde,r}return e}(O5),Fde=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.getMaskPath=P5,r.getMaskAttrs=kde,r}return e.prototype.addPoint=function(){this.resize()},e}(O5),Rft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.getMaskPath=_5,r.getMaskAttrs=Mde,r}return e}(Fde),jft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setCursor=function(r){var n=this.context.view;n.getCanvas().setCursor(r)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(kr),Fft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.filterView=function(r,n,i){var a=this;r.getScaleByField(n)&&r.filter(n,i),r.views&&r.views.length&&Y(r.views,function(o){a.filterView(o,n,i)})},e.prototype.filter=function(){var r=Bh(this.context);if(r){var n=this.context.view,i=r.component,a=i.get("field");if(Ux(r)){if(a){var o=i.getItemsByState("unchecked"),s=xg(n,a),l=o.map(function(p){return p.name});l.length?this.filterView(n,a,function(p){var v=s.getText(p);return!l.includes(v)}):this.filterView(n,a,null),n.render(!0)}}else if(gce(r)){var u=i.getValue(),c=We(u,2),d=c[0],f=c[1];this.filterView(n,a,function(p){return p>=d&&p<=f}),n.render(!0)}}},e}(kr);function k9(t,e,r,n){var i=Math.min(r[e],n[e]),a=Math.max(r[e],n[e]),o=We(t.range,2),s=o[0],l=o[1];if(i<s&&(i=s),a>l&&(a=l),i===l&&a===l)return null;var u=t.invert(i),c=t.invert(a);if(t.isCategory){var d=t.values.indexOf(u),f=t.values.indexOf(c),p=t.values.slice(d,f+1);return function(v){return p.includes(v)}}else return function(v){return v>=u&&v<=c}}var ja;(function(t){t.FILTER="brush-filter-processing",t.RESET="brush-filter-reset",t.BEFORE_FILTER="brush-filter:beforefilter",t.AFTER_FILTER="brush-filter:afterfilter",t.BEFORE_RESET="brush-filter:beforereset",t.AFTER_RESET="brush-filter:afterreset"})(ja||(ja={}));var C_=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dims=["x","y"],r.startPoint=null,r.isStarted=!1,r}return e.prototype.hasDim=function(r){return this.dims.includes(r)},e.prototype.start=function(){var r=this.context;this.isStarted=!0,this.startPoint=r.getCurrentPoint()},e.prototype.filter=function(){var r,n;if(qx(this.context)){var i=this.context.event.target,a=i.getCanvasBBox();r={x:a.x,y:a.y},n={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;r=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(r.x-n.x)<5||Math.abs(r.x-n.y)<5)){var o=this.context,s=o.view,l=o.event,u={view:s,event:l,dims:this.dims};s.emit(ja.BEFORE_FILTER,Hr.fromData(s,ja.BEFORE_FILTER,u));var c=s.getCoordinate(),d=c.invert(n),f=c.invert(r);if(this.hasDim("x")){var p=s.getXScale(),v=k9(p,"x",d,f);this.filterView(s,p.field,v)}if(this.hasDim("y")){var g=s.getYScales()[0],v=k9(g,"y",d,f);this.filterView(s,g.field,v)}this.reRender(s,{source:ja.FILTER}),s.emit(ja.AFTER_FILTER,Hr.fromData(s,ja.AFTER_FILTER,u))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var r=this.context.view;if(r.emit(ja.BEFORE_RESET,Hr.fromData(r,ja.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=r.getXScale();this.filterView(r,n.field,null)}if(this.hasDim("y")){var i=r.getYScales()[0];this.filterView(r,i.field,null)}this.reRender(r,{source:ja.RESET}),r.emit(ja.AFTER_RESET,Hr.fromData(r,ja.AFTER_RESET,{}))},e.prototype.filterView=function(r,n,i){r.filter(n,i)},e.prototype.reRender=function(r,n){r.render(!0,n)},e}(kr),k5=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.filterView=function(r,n,i){var a=Fl(r);Y(a,function(o){o.filter(n,i)})},e.prototype.reRender=function(r){var n=Fl(r);Y(n,function(i){i.render(!0)})},e}(C_),Lft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.filter=function(){var r=Bh(this.context),n=this.context.view,i=gi(n);if(qx(this.context)){var a=Q4(this.context,10);a&&Y(i,function(g){a.includes(g)?g.show():g.hide()})}else if(r){var o=r.component,s=o.get("field");if(Ux(r)){if(s){var l=o.getItemsByState("unchecked"),u=xg(n,s),c=l.map(function(g){return g.name});Y(i,function(g){var m=Ys(g,s),y=u.getText(m);c.indexOf(y)>=0?g.hide():g.show()})}}else if(gce(r)){var d=o.getValue(),f=We(d,2),p=f[0],v=f[1];Y(i,function(g){var m=Ys(g,s);m>=p&&m<=v?g.show():g.hide()})}}},e.prototype.clear=function(){var r=gi(this.context.view);Y(r,function(n){n.show()})},e.prototype.reset=function(){this.clear()},e}(kr),Lde=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.byRecord=!1,r}return e.prototype.filter=function(){qx(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var r=this.context.view,n=Q4(this.context,10);if(n){var i=r.getXScale().field,a=r.getYScales()[0].field,o=n.map(function(l){return l.getModel().data}),s=Fl(r);Y(s,function(l){var u=gi(l);Y(u,function(c){var d=c.getModel().data;Sce(o,d,i,a)?c.show():c.hide()})})}},e.prototype.filterByBBox=function(){var r=this,n=this.context.view,i=Fl(n);Y(i,function(a){var o=mce(r.context,a,10),s=gi(a);o&&Y(s,function(l){o.includes(l)?l.show():l.hide()})})},e.prototype.reset=function(){var r=Fl(this.context.view);Y(r,function(n){var i=gi(n);Y(i,function(a){a.show()})})},e}(kr),$ft=10,Nft=5,Bft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.buttonGroup=null,r.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},r}return e.prototype.getButtonCfg=function(){return Fe(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var r=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:r.name}),i=n.addShape({type:"text",name:"button-text",attrs:F({text:r.text},r.textStyle)}),a=i.getBBox(),o=e5(r.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:F({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},r.style)});s.toBack(),n.on("mouseenter",function(){s.attr(r.activeStyle)}),n.on("mouseleave",function(){s.attr(r.style)}),this.buttonGroup=n},e.prototype.resetPosition=function(){var r=this.context.view,n=r.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Rn(null,[["t",i.x-o.width-$ft,i.y+o.height+Nft]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var r=this.buttonGroup;r&&r.remove(),t.prototype.destroy.call(this)},e}(kr),Vft=4,zft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.starting=!1,r.dragStart=!1,r}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var r=this.context.getCurrentPoint(),n=this.context.view,i=this.context.event;this.dragStart?n.emit("drag",{target:i.target,x:i.x,y:i.y}):J4(r,this.startPoint)>Vft&&(n.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var r=this.context.view,n=this.context.event;r.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},e}(kr),Uft=5,qft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.starting=!1,r.isMoving=!1,r.startPoint=null,r.startMatrix=null,r}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var r=this.startPoint,n=this.context.getCurrentPoint(),i=J4(r,n);if(i>Uft&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Rn(this.startMatrix,[["t",n.x-r.x,n.y-r.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var r=this.context.view;r.backgroundGroup.resetMatrix(),r.foregroundGroup.resetMatrix(),r.middleGroup.resetMatrix(),this.isMoving=!1},e}(kr),D9="x",M9="y",$de=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dims=[D9,M9],r.cfgFields=["dims"],r.cacheScaleDefs={},r}return e.prototype.hasDim=function(r){return this.dims.includes(r)},e.prototype.getScale=function(r){var n=this.context.view;return r==="x"?n.getXScale():n.getYScales()[0]},e.prototype.resetDim=function(r){var n=this.context.view;if(this.hasDim(r)&&this.cacheScaleDefs[r]){var i=this.getScale(r);n.scale(i.field,this.cacheScaleDefs[r]),this.cacheScaleDefs[r]=null}},e.prototype.reset=function(){this.resetDim(D9),this.resetDim(M9);var r=this.context.view;r.render(!0)},e}(kr),Gft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.startPoint=null,r.starting=!1,r.startCache={},r}return e.prototype.start=function(){var r=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;Y(n,function(i){var a=r.getScale(i),o=a.min,s=a.max,l=a.values;r.startCache[i]={min:o,max:s,values:l}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var r=this;if(this.starting){var n=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(n),s=i.invert(a),l=s.x-o.x,u=s.y-o.y,c=this.context.view,d=this.dims;Y(d,function(f){r.translateDim(f,{x:l*-1,y:u*-1})}),c.render(!0)}},e.prototype.translateDim=function(r,n){if(this.hasDim(r)){var i=this.getScale(r);i.isLinear&&this.translateLinear(r,i,n)}},e.prototype.translateLinear=function(r,n,i){var a=this.context.view,o=this.startCache[r],s=o.min,l=o.max,u=l-s,c=i[r]*u;this.cacheScaleDefs[r]||(this.cacheScaleDefs[r]={nice:n.nice,min:s,max:l}),a.scale(n.field,{nice:!1,min:s+c,max:l+c})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}($de),Wft=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.zoomRatio=.05,r}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(r){var n=this,i=this.dims;Y(i,function(a){n.zoomDim(a,r)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(r,n){if(this.hasDim(r)){var i=this.getScale(r);i.isLinear&&this.zoomLinear(r,i,n)}},e.prototype.zoomLinear=function(r,n,i){var a=this.context.view;this.cacheScaleDefs[r]||(this.cacheScaleDefs[r]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[r],s=o.max-o.min,l=n.min,u=n.max,c=i*s,d=l-c,f=u+c,p=f-d,v=p/s;f>d&&v<100&&v>.01&&a.scale(n.field,{nice:!1,min:l-c,max:u+c})},e}($de);function Hft(t){var e=t.gEvent.originalEvent;return e.deltaY>0}var Yft=1,Xft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.scroll=function(r){var n=this.context,i=n.view,a=n.event;if(i.getOptions().scrollbar){var o=(r==null?void 0:r.wheelDelta)||Yft,s=i.getController("scrollbar"),l=i.getXScale(),u=i.getOptions().data,c=Zn(Hs(u,l.field)),d=Zn(l.values),f=s.getValue(),p=Math.floor((c-d)*f),v=p+(Hft(a)?o:-o),g=o/(c-d)/1e4,m=Fr(v/(c-d)+g,0,1);s.setValue(m)}},e}(kr),Kft="aixs-description-tooltip",Qft=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.show=function(){var r=this.context,n=Bh(r).axis,i=n.cfg.title,a=i.description,o=i.text,s=i.descriptionTooltipStyle,l=r.event,u=l.x,c=l.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(Zu,'" style={').concat(s,`}>
            <div class="`).concat(ec,`">
              `).concat(a,`
            </div>
          </div>
        `)},x:u,y:c}),this.tooltip.show()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var r,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=new g_({parent:i.get("el").parentNode,region:a,visible:!1,containerId:Kft,domStyles:F({},Fe({},(r={},r[Zu]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},r[ec]={"word-break":"break-all","margin-bottom":"3px"},r)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(kr);elt("dark",Ace(Vlt));Ale("canvas",Mut);Ale("svg",fct);su("Polygon",Tct);su("Interval",wct);su("Schema",Ict);su("Path",h5);su("Point",Act);su("Line",Sct);su("Area",pct);su("Edge",vct);su("Heatmap",gct);su("Violin",_ct);Uw("base",S_);Uw("interval",Gct);Uw("pie",Wct);Uw("polar",mde);to("overlap",sdt);to("distribute",Yct);to("fixed-overlap",odt);to("hide-overlap",mdt);to("limit-in-shape",rdt);to("limit-in-canvas",tdt);to("limit-in-plot",Rdt);to("pie-outer",Kct);to("adjust-color",xdt);to("interval-adjust-position",Edt);to("interval-hide-overlap",Cdt);to("point-adjust-position",Pdt);to("pie-spider",edt);to("path-adjust-position",kdt);jo("fade-in",jdt);jo("fade-out",Fdt);jo("grow-in-x",$dt);jo("grow-in-xy",Bdt);jo("grow-in-y",Ndt);jo("scale-in-x",Udt);jo("scale-in-y",qdt);jo("wave-in",Wdt);jo("zoom-in",Hdt);jo("zoom-out",Ydt);jo("position-update",zdt);jo("sector-path-update",Gdt);jo("path-in",Vdt);Fm("rect",Zdt);Fm("mirror",Jdt);Fm("list",Kdt);Fm("matrix",Qdt);Fm("circle",Xdt);Fm("tree",eft);gp("axis",nft);gp("legend",ift);gp("tooltip",_ce);gp("annotation",rft);gp("slider",aft);gp("scrollbar",lft);Xe("tooltip",Sde);Xe("sibling-tooltip",fft);Xe("ellipsis-text",hft);Xe("element-active",pft);Xe("element-single-active",mft);Xe("element-range-active",gft);Xe("element-highlight",C5);Xe("element-highlight-by-x",xft);Xe("element-highlight-by-color",yft);Xe("element-single-highlight",bft);Xe("element-range-highlight",Ade);Xe("element-sibling-highlight",Ade,{effectSiblings:!0,effectByRecord:!0});Xe("element-selected",Sft);Xe("element-single-selected",Eft);Xe("element-range-selected",wft);Xe("element-link-by-color",vft);Xe("active-region",dft);Xe("list-active",Aft);Xe("list-selected",Tft);Xe("list-highlight",T5);Xe("list-unchecked",Ift);Xe("list-checked",Pft);Xe("list-focus",_ft);Xe("list-radio",Oft);Xe("legend-item-highlight",T5,{componentNames:["legend"]});Xe("axis-label-highlight",T5,{componentNames:["axis"]});Xe("axis-description",Qft);Xe("rect-mask",Pde);Xe("x-rect-mask",Ode,{dim:"x"});Xe("y-rect-mask",Ode,{dim:"y"});Xe("circle-mask",kft);Xe("path-mask",Dde);Xe("smooth-path-mask",Dft);Xe("rect-multi-mask",Rde);Xe("x-rect-multi-mask",jde,{dim:"x"});Xe("y-rect-multi-mask",jde,{dim:"y"});Xe("circle-multi-mask",Mft);Xe("path-multi-mask",Fde);Xe("smooth-path-multi-mask",Rft);Xe("cursor",jft);Xe("data-filter",Fft);Xe("brush",C_);Xe("brush-x",C_,{dims:["x"]});Xe("brush-y",C_,{dims:["y"]});Xe("sibling-filter",k5);Xe("sibling-x-filter",k5,{dims:"x"});Xe("sibling-y-filter",k5,{dims:"y"});Xe("element-filter",Lft);Xe("element-sibling-filter",Lde);Xe("element-sibling-filter-record",Lde,{byRecord:!0});Xe("view-drag",zft);Xe("view-move",qft);Xe("scale-translate",Gft);Xe("scale-zoom",Wft);Xe("reset-button",Bft,{name:"reset-button",text:"reset"});Xe("mousewheel-scroll",Xft);function Lu(t){return t.isInPlot()}ct("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});ct("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});ct("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});ct("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});ct("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});ct("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});ct("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});ct("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});ct("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});ct("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});ct("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});ct("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});ct("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Lu,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Lu,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Lu,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});ct("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});ct("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Lu,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Lu,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Lu,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});ct("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Lu,action:"path-mask:start"},{trigger:"mousedown",isEnable:Lu,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});ct("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:Lu,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(t){return!x_(t)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]});ct("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});ct("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});ct("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});ct("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});ct("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]});ct("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});ct("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function R9(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}ct("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return R9(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!R9(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});ct("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});ct("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var Va=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],Xs;(function(t){t.ERROR="error",t.WARN="warn",t.INFO="log"})(Xs||(Xs={}));var Jft="AntV/G2Plot";function Zft(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=0;return"".concat(Jft,": ").concat(t.replace(/%s/g,function(){return"".concat(e[n++])}))}function rc(t,e,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];e||console[t](Zft.apply(void 0,Je([r],n,!1)))}function sr(t,e){var r={};return t!==null&&typeof t=="object"&&e.forEach(function(n){var i=t[n];i!==void 0&&(r[n]=i)}),r}function D5(t,e){if(!t)return{};var r=t.filter(function(a){var o=K(a,[e]);return lt(o)&&!isNaN(o)}),n=r.every(function(a){return K(a,[e])>=0}),i=r.every(function(a){return K(a,[e])<=0});return n?{min:0}:i?{max:0}:{}}function Nde(t,e,r,n,i){if(i===void 0&&(i=[]),!Array.isArray(t))return{nodes:[],links:[]};var a=[],o={},s=-1;return t.forEach(function(l){var u=l[e],c=l[r],d=l[n],f=sr(l,i);o[u]||(o[u]=F({id:++s,name:u},f)),o[c]||(o[c]=F({id:++s,name:c},f)),a.push(F({source:o[u].id,target:o[c].id,value:d},f))}),{nodes:Object.values(o).sort(function(l,u){return l.id-u.id}),links:a}}function Sg(t,e){var r=wi(t,function(n){var i=n[e];return i===null||typeof i=="number"&&!isNaN(i)});return rc(Xs.WARN,r.length===t.length,"illegal data existed in chart data."),r}var eht=5,tht={}.toString,Bde=function(t,e){return tht.call(t)==="[object "+e+"]"},rht=function(t){return Bde(t,"Array")},nht=function(t){return typeof t=="object"&&t!==null},j9=function(t){if(!nht(t)||!Bde(t,"Object"))return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Vde=function(t,e,r,n){r=r||0,n=n||eht;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=e[i];a?j9(a)?(j9(t[i])||(t[i]={}),r<n?Vde(t[i],a,r+1,n):t[i]=e[i]):rht(a)?(t[i]=[],t[i]=t[i].concat(a)):t[i]=a:t[i]=a}},fe=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)Vde(t,e[n]);return t};function hF(t){if(!t)return{width:0,height:0};var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return t.reduce(function(n,i){return i(n)},r)}}function Li(t,e){return t.geometries.find(function(r){return r.type===e})}function RC(t){return aa(t.geometries,function(e,r){return e.concat(r.elements)},[])}function Hx(t){return K(t,["views","length"],0)<=0?RC(t):aa(t.views,function(e,r){return e.concat(Hx(r))},RC(t))}function iht(t){return K(t,["views","length"],0)<=0?t.geometries:aa(t.views,function(e,r){return e.concat(r.geometries)},t.geometries)}function F9(t){if(!t)return t;var e=t.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return e.map(function(r){return r.toLowerCase()}).join("-")}function ri(t){if(!ef(t,"Object"))return t;var e=F({},t);return e.formatter&&!e.content&&(e.content=e.formatter),e}var kM;function aht(){return kM||(kM=document.createElement("canvas").getContext("2d")),kM}Mm(function(t,e){e===void 0&&(e={});var r=e.fontSize,n=e.fontFamily,i=n===void 0?"sans-serif":n,a=e.fontWeight,o=e.fontStyle,s=e.fontVariant,l=aht();l.font=[o,a,s,"".concat(r,"px"),i].join(" ");var u=l.measureText(nt(t)?t:"");return u.width},function(t,e){return e===void 0&&(e={}),Je([t],qP(e),!0).join("")});function zh(t){return typeof t=="number"&&!isNaN(t)}function oht(t,e,r){var n=Math.min(e,r),i=Math.max(e,r);return t>=n&&t<=i}function Bd(t){if(lt(t))return[t,t,t,t];if(xe(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}function T_(t,e,r){e===void 0&&(e="bottom"),r===void 0&&(r=25);var n=Bd(t),i=[e.startsWith("top")?r:0,e.startsWith("right")?r:0,e.startsWith("bottom")?r:0,e.startsWith("left")?r:0];return[n[0]+i[0],n[1]+i[1],n[2]+i[2],n[3]+i[3]]}function M5(t){var e=t.map(function(n){return Bd(n)}),r=[0,0,0,0];return e.length>0&&(r=r.map(function(n,i){return e.forEach(function(a,o){n+=e[o][i]}),n})),r}function sht(t,e){var r=[];if(t.length){r.push(["M",t[0].x,t[0].y]);for(var n=1,i=t.length;n<i;n+=1){var a=t[n];r.push(["L",a.x,a.y])}}return r}var lht=function(t,e,r,n){var i=[],a,o,s=!!n,l,u;if(s){l=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,d=t.length;c<d;c++){var f=t[c];l=ci([0,0],l,f),u=di([0,0],u,f)}l=ci([0,0],l,n[0]),u=di([0,0],u,n[1])}for(var c=0,p=t.length;c<p;c++){var f=t[c];if(c===0||c===p-1){i.push(f);continue}else a=t[c-1],o=t[c+1];var v=[0,0];v=ch(v,o,a),v=ma(v,v,e);var g=vg(f,a),m=vg(f,o),y=g+m;y!==0&&(g/=y,m/=y);var x=ma([0,0],v,-g),b=ma([0,0],v,m),w=Cl([0,0],f,x),S=Cl([0,0],f,b);s&&(w=di([0,0],w,l),w=ci([0,0],w,u),S=di([0,0],S,l),S=ci([0,0],S,u)),i.push(w),i.push(S)}return i};function uht(t,e,r){for(var n=!1,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=lht(i,.4,n,r),l=i.length,u=[],c,d,f,a=0;a<l-1;a++)c=s[a*2],d=s[a*2+1],f=i[a+1],u.push(["C",c[0],c[1],d[0],d[1],f[0],f[1]]);return u}function cht(t,e,r){var n=[],i=t[0],a=null;if(t.length<=2)return sht(t);for(var o=0,s=t.length;o<s;o++){var l=t[o];(!a||!(a.x===l.x&&a.y===l.y))&&(n.push(l.x),n.push(l.y),a=l)}var u=[[0,0],[1,1]],c=uht(n,e,u);return c.unshift(["M",i.x,i.y]),c}function zde(t){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},r=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];K(t,"fill")&&(e.color=t.fill);var n=sr(t,r),i=n.shadowColor,a=n.shadowBlur,o=a===void 0?0:a,s=n.shadowOffsetX,l=s===void 0?0:s,u=n.shadowOffsetY,c=u===void 0?0:u;e["text-shadow"]="".concat([i,"".concat(l,"px"),"".concat(c,"px"),"".concat(o,"px")].join(" "));var d=sr(t,r),f=d.stroke,p=d.lineWidth,v=p===void 0?0:p;return e["-webkit-text-stroke"]="".concat(["".concat(v,"px"),f].join(" ")),Y(t,function(g,m){["fontSize"].includes(m)&&lt(g)?e[F9(m)]="".concat(g,"px"):m&&!r.includes(m)&&(e[F9(m)]="".concat(g))}),e}function Ude(t,e){t.style["pointer-events"]="none",Y(e,function(r,n){n&&r&&(t.style[n]=r)})}var I_=function(t,e,r){var n=e.statistic,i=e.plotType,a=n.title,o=n.content;[a,o].forEach(function(s,l){if(s){var u="";l===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=a?"translate(-50%, 0)":"translate(-50%, -50%)";var c=qe(s.style)?s.style(r):s.style;t.annotation().html(F({position:["50%","50%"],html:function(d,f){var p=f.getCoordinate(),v=0;if(i==="pie"||i==="ring-progress")v=p.getRadius()*p.innerRadius*2;else if(i==="liquid"){var g=K(f.geometries,[0,"elements",0,"shape"]);if(g){var m=g.find(function(w){return w.get("name")==="wrap"}),y=m.getCanvasBBox().width;v=y}}else v||(v=p.getWidth());Ude(d,F({width:"".concat(v,"px"),transform:u},zde(c)));var x=f.getData();if(s.customHtml)return s.customHtml(d,f,r,x);var b=s.content;return s.formatter&&(b=s.formatter(r,x)),b?nt(b)?b:"".concat(b):"<div></div>"},key:"".concat(l===0?"top":"bottom","-statistic")},sr(s,["offsetX","offsetY","rotate","style","formatter"])))}})},dht=function(t,e,r){var n=e.statistic,i=n.title,a=n.content;[i,a].forEach(function(o){if(o){var s=qe(o.style)?o.style(r):o.style;t.annotation().html(F({position:["50%","100%"],html:function(l,u){var c=u.getCoordinate(),d=u.views[0].getCoordinate(),f=d.getCenter(),p=d.getRadius(),v=Math.max(Math.sin(d.startAngle),Math.sin(d.endAngle))*p,g=f.y+v-c.y.start-parseFloat(K(s,"fontSize",0)),m=c.getRadius()*c.innerRadius*2;Ude(l,F({width:"".concat(m,"px"),transform:"translate(-50%, ".concat(g,"px)")},zde(s)));var y=u.getData();if(o.customHtml)return o.customHtml(l,u,r,y);var x=o.content;return o.formatter&&(x=o.formatter(r,y)),x?nt(x)?x:"".concat(x):"<div></div>"}},sr(o,["offsetX","offsetY","rotate","style","formatter"])))}})};function qde(t,e){return e?aa(e,function(r,n,i){return r.replace(new RegExp("{\\s*".concat(i,"\\s*}"),"g"),n)},t):t}function Tt(t,e){return t.views.find(function(r){return r.id===e})}function v0(t){var e=t.parent;return e?e.views:[]}function L9(t){return v0(t).filter(function(e){return e!==t})}function Ww(t,e,r){r===void 0&&(r=t.geometries),typeof e=="boolean"?t.animate(e):t.animate(!0),Y(r,function(n){var i;qe(e)?i=e(n.type||n.shapeType,n)||!0:i=e,n.animate(i)})}function P_(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function R5(t,e){e===void 0&&(e=t);var r=document.createElement("canvas"),n=P_();r.width=t*n,r.height=e*n,r.style.width="".concat(t,"px"),r.style.height="".concat(e,"px");var i=r.getContext("2d");return i.scale(n,n),r}function j5(t,e,r,n){n===void 0&&(n=r);var i=e.backgroundColor,a=e.opacity;t.globalAlpha=a,t.fillStyle=i,t.beginPath(),t.fillRect(0,0,r,n),t.closePath()}function Gde(t,e,r){var n=t+e;return r?n*2:n}function Wde(t,e){var r=e?[[t*.25,t*.25],[t*.75,t*.75]]:[[t*.5,t*.5]];return r}function F5(t,e){var r=e*Math.PI/180,n={a:Math.cos(r)*(1/t),b:Math.sin(r)*(1/t),c:-Math.sin(r)*(1/t),d:Math.cos(r)*(1/t),e:0,f:0};return n}var fht={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function hht(t,e,r,n){var i=e.size,a=e.fill,o=e.lineWidth,s=e.stroke,l=e.fillOpacity;t.beginPath(),t.globalAlpha=l,t.fillStyle=a,t.strokeStyle=s,t.lineWidth=o,t.arc(r,n,i/2,0,2*Math.PI,!1),t.fill(),o&&t.stroke(),t.closePath()}function pht(t){var e=fe({},fht,t),r=e.size,n=e.padding,i=e.isStagger,a=e.rotation,o=Gde(r,n,i),s=Wde(o,i),l=R5(o,o),u=l.getContext("2d");j5(u,e,o);for(var c=0,d=s;c<d.length;c++){var f=d[c],p=f[0],v=f[1];hht(u,e,p,v)}var g=u.createPattern(l,"repeat");if(g){var m=P_(),y=F5(m,a);g.setTransform(y)}return g}var vht={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function ght(t,e,r){var n=e.stroke,i=e.lineWidth,a=e.strokeOpacity,o=new Path2D(r);t.globalAlpha=a,t.lineCap="square",t.strokeStyle=i?n:"transparent",t.lineWidth=i,t.stroke(o)}function mht(t){var e=fe({},vht,t),r=e.spacing,n=e.rotation,i=e.lineWidth,a=r+i||1,o=r+i||1,s=`
            M 0 0 L `.concat(a,` 0
            M 0 `).concat(o," L ").concat(a," ").concat(o,`
            `),l=R5(a,o),u=l.getContext("2d");j5(u,e,a,o),ght(u,e,s);var c=u.createPattern(l,"repeat");if(c){var d=P_(),f=F5(d,n);c.setTransform(f)}return c}var yht={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function xht(t,e,r,n){var i=e.stroke,a=e.size,o=e.fill,s=e.lineWidth,l=e.fillOpacity;t.globalAlpha=l,t.strokeStyle=i,t.lineWidth=s,t.fillStyle=o,t.strokeRect(r-a/2,n-a/2,a,a),t.fillRect(r-a/2,n-a/2,a,a)}function bht(t){var e=fe({},yht,t),r=e.size,n=e.padding,i=e.isStagger,a=e.rotation,o=Gde(r,n,i),s=Wde(o,i),l=R5(o,o),u=l.getContext("2d");j5(u,e,o);for(var c=0,d=s;c<d.length;c++){var f=d[c],p=f[0],v=f[1];xht(u,e,p,v)}var g=u.createPattern(l,"repeat");if(g){var m=P_(),y=F5(m,a);g.setTransform(y)}return g}function wht(t){var e=t.type,r=t.cfg,n;switch(e){case"dot":n=pht(r);break;case"line":n=mht(r);break;case"square":n=bht(r);break}return n}function Fo(t){var e=this;return function(r){var n,i=r.options,a=r.chart,o=i.pattern;if(!o)return r;var s=function(l){for(var u,c,d,f=[],p=1;p<arguments.length;p++)f[p-1]=arguments[p];var v=a.getTheme().defaultColor,g=v,m=(c=(u=a.geometries)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.getAttribute("color");if(m){var y=m.getFields()[0],x=K(l,y);g=Ka.getMappingValue(m,x,((d=m.values)===null||d===void 0?void 0:d[0])||v)}var b=o;typeof o=="function"&&(b=o.call(e,l,g)),b instanceof CanvasPattern||(b=wht(fe({},{cfg:{backgroundColor:g}},b)));var w=i[t];return F(F({},typeof w=="function"?w.call.apply(w,Je([e,l],f,!1)):w||{}),{fill:b||g})};return fe({},r,{options:(n={},n[t]=s,n)})}}function $m(t){var e=t.chart,r=t.options,n=r.legend,i=r.colorField,a=r.seriesField;return n===!1?e.legend(!1):(i||a)&&e.legend(i||a,n),t}function Wn(t){var e=t.chart,r=t.options,n=r.tooltip;return n!==void 0&&e.tooltip(n),t}function Br(t){var e=t.chart,r=t.options,n=r.interactions;return Y(n,function(i){i.enable===!1?e.removeInteraction(i.type):e.interaction(i.type,i.cfg||{})}),t}function pr(t){var e=t.chart,r=t.options,n=r.animation;return Ww(e,n),t}function Ut(t){var e=t.chart,r=t.options,n=r.theme;return n&&e.theme(n),t}function af(t){var e=t.chart,r=t.options,n=r.state;return n&&Y(e.geometries,function(i){i.state(n)}),t}function Hw(t){var e=t.chart,r=t.options,n=r.slider;return e.option("slider",n),t}function L5(t){var e=t.chart,r=t.options,n=r.scrollbar;return e.option("scrollbar",n),t}function hn(t,e){return function(r){var n=r.chart,i=r.options,a={};return Y(t,function(o,s){a[s]=sr(o,Va)}),a=fe({},e,i.meta,a),n.scale(a),r}}function Xr(t){return function(e){var r=e.chart,n=e.options,i=r.getController("annotation");return Y(Je(Je([],n.annotations||[],!0),t||[],!0),function(a){i.annotation(a)}),e}}function Uh(t){var e=t.chart,r=t.options,n=r.yAxis,i=r.limitInPlot,a=i;return lr(n)&&ve(i)&&(Object.values(sr(n,["min","max","minLimit","maxLimit"])).some(function(o){return!ve(o)})?a=!0:a=!1),e.limitInPlot=a,t}function Hde(t){return function(e){var r=e.chart,n=e.options,i=n.coordinate,a=Array.from(i||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return a.length!==0&&r.coordinate({type:t,actions:a}),e}}var Sht={locale:"en-US"},uA={};function Yde(t,e){uA[t]=e}function __(t){return{get:function(e,r){return qde(K(uA[t],e)||K(uA[Sht.locale],e)||K(uA["en-US"],e)||e,r)}}}var Eht={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},Aht={locale:"zh-CN",general:{increase:"",decrease:"",root:""},statistic:{total:""},conversionTag:{label:""},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:""}};function Ss(t,e){if(t===!1)return{fields:!1};var r=K(t,"fields"),n=K(t,"formatter");return n&&!r&&(r=e),{fields:r,formatter:n}}function HS(t,e){var r=t.type,n=t.xField,i=t.yField,a=t.colorField,o=t.shapeField,s=t.sizeField,l=t.styleField,u=t.rawFields,c=[];if(u=(qe(u)?u(r,e):u)||[],e==="color")c=Je([a||n],u,!0);else if(e==="shape")c=Je([o||n],u,!0);else if(e==="size")c=Je([s||n],u,!0);else{c=Je([n,i,a,o,s,l],u,!0);var d=["x","y","color","shape","size","style"].indexOf(e),f=c[d];c.splice(d,1),c.unshift(f)}var p=Lh(c.filter(function(g){return!!g})),v=r==="line"&&[n,i].includes(p.join("*"))?"":p.join("*");return{mappingFields:p,tileMappingField:v}}function fv(t,e){if(e)return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i={};return t.forEach(function(a,o){i[a]=r[o]}),delete i.undefined,e(i)}}function ro(t){var e=t.chart,r=t.options,n=r.type,i=r.args,a=r.mapping,o=r.xField,s=r.yField,l=r.colorField,u=r.shapeField,c=r.sizeField,d=r.tooltipFields,f=r.label,p=r.state,v=r.customInfo,g=r.customMappingField;if(!a)return t;var m=a.color,y=a.shape,x=a.size,b=a.style,w=a.tooltip,S=e[n](i).position("".concat(o,"*").concat(s));if(nt(m))l?S.color(l,m):S.color(m);else if(qe(m)){var C=HS(r,"color"),E=C.mappingFields,A=C.tileMappingField;S.color(g||A,fv(E,m))}else l&&S.color(l,m);if(nt(y))u?S.shape(u,[y]):S.shape(y);else if(qe(y)){var P=HS(r,"shape"),E=P.mappingFields,A=P.tileMappingField;S.shape(A,fv(E,y))}else u&&S.shape(u,y);if(lt(x))c?S.size(c,x):S.size(x);else if(qe(x)){var _=HS(r,"size"),E=_.mappingFields,A=_.tileMappingField;S.size(A,fv(E,x))}else c&&S.size(c,x);if(qe(b)){var k=HS(r,"style"),E=k.mappingFields,A=k.tileMappingField;S.style(A,fv(E,b))}else lr(b)&&S.style(b);if(d===!1?S.tooltip(!1):Xa(d)||S.tooltip(d.join("*"),fv(d,w)),f===!1)S.label(!1);else if(f){var O=f.callback,D=f.fields,B=Kt(f,["callback","fields"]);S.label({fields:D||[s],callback:O,cfg:ri(B)})}return p&&S.state(p),v&&S.customInfo(v),[o,s].filter(function($){return $!==l}).forEach(function($){e.legend($,!1)}),F(F({},t),{ext:{geometry:S}})}function O_(t){var e=t.options,r=e.area,n=e.xField,i=e.yField,a=e.seriesField,o=e.smooth,s=e.tooltip,l=e.useDeferredLabel,u=Ss(s,[n,i,a]),c=u.fields,d=u.formatter;return r?ro(fe({},t,{options:{type:"area",colorField:a,tooltipFields:c,mapping:Fe({shape:o?"smooth":"area",tooltip:d},r),args:{useDeferredLabel:l}}})):t}function Xde(t){var e=t.options,r=e.edge,n=e.xField,i=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Ss(o,[n,i,a]),u=l.fields,c=l.formatter;return r?ro(fe({},t,{options:{type:"edge",colorField:a,tooltipFields:u,mapping:F({tooltip:c},r),args:{useDeferredLabel:s}}})):t}function Cht(t){var e=t.chart,r=t.options,n=t.ext,i=r.seriesField,a=r.isGroup,o=r.isStack,s=r.marginRatio,l=r.widthRatio,u=r.groupField,c=r.theme,d=[];if(i&&(a&&d.push({type:"dodge",dodgeBy:u||i,marginRatio:s}),o&&d.push({type:"stack",marginRatio:s})),d.length&&(n!=null&&n.geometry)){var f=n==null?void 0:n.geometry;f.adjust(d)}return ve(l)||e.theme(fe({},lr(c)?c:q0(c),{columnWidthRatio:l})),t}function $i(t){var e=t.options,r=e.xField,n=e.yField,i=e.interval,a=e.seriesField,o=e.tooltip,s=e.minColumnWidth,l=e.maxColumnWidth,u=e.columnBackground,c=e.dodgePadding,d=e.intervalPadding,f=e.useDeferredLabel,p=Ss(o,[r,n,a]),v=p.fields,g=p.formatter,m=(i?ro(fe({},t,{options:{type:"interval",colorField:a,tooltipFields:v,mapping:F({tooltip:g},i),args:{dodgePadding:c,intervalPadding:d,minColumnWidth:s,maxColumnWidth:l,background:u,useDeferredLabel:f}}})):t).ext;return Cht(F(F({},t),{ext:m}))}function Nm(t){var e=t.options,r=e.line,n=e.stepType,i=e.xField,a=e.yField,o=e.seriesField,s=e.smooth,l=e.connectNulls,u=e.tooltip,c=e.useDeferredLabel,d=Ss(u,[i,a,o]),f=d.fields,p=d.formatter;return r?ro(fe({},t,{options:{type:"line",colorField:o,tooltipFields:f,mapping:Fe({shape:n||(s?"smooth":"line"),tooltip:p},r),args:{connectNulls:l,useDeferredLabel:c}}})):t}function Lo(t){var e=t.options,r=e.point,n=e.xField,i=e.yField,a=e.seriesField,o=e.sizeField,s=e.shapeField,l=e.tooltip,u=e.useDeferredLabel,c=Ss(l,[n,i,a,o,s]),d=c.fields,f=c.formatter;return r?ro(fe({},t,{options:{type:"point",colorField:a,shapeField:s,tooltipFields:d,mapping:F({tooltip:f},r),args:{useDeferredLabel:u}}})):t}function k_(t){var e=t.options,r=e.polygon,n=e.xField,i=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Ss(o,[n,i,a]),u=l.fields,c=l.formatter;return r?ro(fe({},t,{options:{type:"polygon",colorField:a,tooltipFields:u,mapping:F({tooltip:c},r),args:{useDeferredLabel:s}}})):t}function $5(t){var e=t.options,r=e.schema,n=e.xField,i=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Ss(o,[n,i,a]),u=l.fields,c=l.formatter;return r?ro(fe({},t,{options:{type:"schema",colorField:a,tooltipFields:u,mapping:F({tooltip:c},r),args:{useDeferredLabel:s}}})):t}function Tht(t){var e=t.options,r=e.violin,n=e.xField,i=e.yField,a=e.seriesField,o=e.sizeField,s=e.tooltip,l=Ss(s,[n,i,a,o]),u=l.fields,c=l.formatter;return r?ro(fe({},t,{options:{type:"violin",colorField:a,tooltipFields:u,mapping:F({tooltip:c},r)}})):t}var gh={},md={},Kde={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=1,r=function(){return"".concat(e++)};t.default=r})(Kde);var D_={},M_={},N5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var o=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){n.apply(o,l)},i)}};t.default=e})(N5);var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.SizeSensorId=Ll.SensorTabIndex=Ll.SensorClassName=void 0;var Iht="size-sensor-id";Ll.SizeSensorId=Iht;var Pht="size-sensor-object";Ll.SensorClassName=Pht;var _ht="-1";Ll.SensorTabIndex=_ht;Object.defineProperty(M_,"__esModule",{value:!0});M_.createSensor=void 0;var Oht=kht(N5),DM=Ll;function kht(t){return t&&t.__esModule?t:{default:t}}var Dht=function(e,r){var n=void 0,i=[],a=function(){getComputedStyle(e).position==="static"&&(e.style.position="relative");var d=document.createElement("object");return d.onload=function(){d.contentDocument.defaultView.addEventListener("resize",o),o()},d.style.display="block",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.height="100%",d.style.width="100%",d.style.overflow="hidden",d.style.pointerEvents="none",d.style.zIndex="-1",d.style.opacity="0",d.setAttribute("class",DM.SensorClassName),d.setAttribute("tabindex",DM.SensorTabIndex),d.type="text/html",e.appendChild(d),d.data="about:blank",d},o=(0,Oht.default)(function(){i.forEach(function(c){c(e)})}),s=function(d){n||(n=a()),i.indexOf(d)===-1&&i.push(d)},l=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",o),n.parentNode.removeChild(n),e.removeAttribute(DM.SizeSensorId),n=void 0,i=[],r&&r())},u=function(d){var f=i.indexOf(d);f!==-1&&i.splice(f,1),i.length===0&&n&&l()};return{element:e,bind:s,destroy:l,unbind:u}};M_.createSensor=Dht;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.createSensor=void 0;var Mht=Ll,Rht=jht(N5);function jht(t){return t&&t.__esModule?t:{default:t}}var Fht=function(e,r){var n=void 0,i=[],a=(0,Rht.default)(function(){i.forEach(function(c){c(e)})}),o=function(){var d=new ResizeObserver(a);return d.observe(e),a(),d},s=function(d){n||(n=o()),i.indexOf(d)===-1&&i.push(d)},l=function(){n.disconnect(),i=[],n=void 0,e.removeAttribute(Mht.SizeSensorId),r&&r()},u=function(d){var f=i.indexOf(d);f!==-1&&i.splice(f,1),i.length===0&&n&&l()};return{element:e,bind:s,destroy:l,unbind:u}};R_.createSensor=Fht;Object.defineProperty(D_,"__esModule",{value:!0});D_.createSensor=void 0;var Lht=M_,$ht=R_,Nht=typeof ResizeObserver<"u"?$ht.createSensor:Lht.createSensor;D_.createSensor=Nht;Object.defineProperty(md,"__esModule",{value:!0});md.removeSensor=md.getSensor=md.Sensors=void 0;var Bht=zht(Kde),Vht=D_,pF=Ll;function zht(t){return t&&t.__esModule?t:{default:t}}var Gv={};md.Sensors=Gv;function Qde(t){t&&Gv[t]&&delete Gv[t]}var Uht=function(e){var r=e.getAttribute(pF.SizeSensorId);if(r&&Gv[r])return Gv[r];var n=(0,Bht.default)();e.setAttribute(pF.SizeSensorId,n);var i=(0,Vht.createSensor)(e,function(){return Qde(n)});return Gv[n]=i,i};md.getSensor=Uht;var qht=function(e){var r=e.element.getAttribute(pF.SizeSensorId);e.destroy(),Qde(r)};md.removeSensor=qht;Object.defineProperty(gh,"__esModule",{value:!0});gh.ver=gh.clear=Jde=gh.bind=void 0;var vF=md,Ght=function(e,r){var n=(0,vF.getSensor)(e);return n.bind(r),function(){n.unbind(r)}},Jde=gh.bind=Ght,Wht=function(e){var r=(0,vF.getSensor)(e);(0,vF.removeSensor)(r)};gh.clear=Wht;var Hht="1.0.2";gh.ver=Hht;var $9="data-chart-source-type",Zde=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],gt=function(t){ae(e,t);function e(r,n){var i=t.call(this)||this;return i.container=typeof r=="string"?document.getElementById(r):r,i.options=fe({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var r=this.options,n=r.width,i=r.height,a=r.defaultInteractions;this.chart=new glt(F(F(F(F({container:this.container,autoFit:!1},this.getChartSize(n,i)),{localRefresh:!1}),sr(this.options,Zde)),{defaultInteractions:a})),this.container.setAttribute($9,"G2Plot")},e.prototype.getChartSize=function(r,n){var i=hF(this.container);return{width:r||i.width||400,height:n||i.height||400}},e.prototype.bindEvents=function(){var r=this;this.chart&&this.chart.on("*",function(n){n!=null&&n.type&&r.emit(n.type,n)})},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(r){this.updateOption(r),this.render()},e.prototype.updateOption=function(r){this.options=fe({},this.options,r)},e.prototype.setState=function(r,n,i){i===void 0&&(i=!0);var a=Hx(this.chart);Y(a,function(o){n(o.getData())&&o.setState(r,i)})},e.prototype.getStates=function(){var r=Hx(this.chart),n=[];return Y(r,function(i){var a=i.getData(),o=i.getStates();Y(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},e.prototype.changeData=function(r){this.update({data:r})},e.prototype.changeSize=function(r,n){this.chart.changeSize(r,n)},e.prototype.addAnnotations=function(r,n){n=n||this.chart;var i=Je([],r,!0),a=n.getController("annotation"),o=a.getComponents().map(function(u){return u.extra});a.clear(!0);for(var s=function(u){var c=o[u],d=i.findIndex(function(f){return f.id&&f.id===c.id});d!==-1&&(c=fe({},c,i[d]),i.splice(d,1)),a.annotation(c)},l=0;l<o.length;l++)s(l);i.forEach(function(u){return a.annotation(u)}),n.render(!0)},e.prototype.removeAnnotations=function(r){var n=this.chart.getController("annotation"),i=n.getComponents().map(function(s){return s.extra});n.clear(!0);for(var a=function(s){var l=i[s];r.find(function(u){return u.id&&u.id===l.id})||n.annotation(l)},o=0;o<i.length;o++)a(o);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute($9)},e.prototype.execAdaptor=function(){var r=this.getSchemaAdaptor(),n=this.options,i=n.padding,a=n.appendPadding;this.chart.padding=i,this.chart.appendPadding=a,r({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var r=this;if(!this.unbind){var n=this.options.autoFit,i=n===void 0?!0:n;i&&(this.unbind=Jde(this.container,function(){var a=hF(r.container),o=a.width,s=a.height;(o!==r.chart.width||s!==r.chart.height)&&r.triggerResize()}))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(E4);function efe(t,e,r,n){var i=aa(t,function(a,o){var s=o[r],l=a.has(s)?a.get(s):0,u=o[e];return l=zh(u)?l+u:l,a.set(s,l),a},new Map);return $r(t,function(a){var o,s=a[e],l=a[r],u=zh(s)&&i.get(l)!==0?s/i.get(l):0;return F(F({},a),(o={},o[n]=u,o))})}function Yht(t,e,r,n){var i=aa(t,function(a,o){var s=aa(r,function(c,d){return"".concat(c).concat(o[d])},""),l=a.has(s)?a.get(s):0,u=o[e];return l=zh(u)?l+u:l,a.set(s,l),a},new Map);return $r(t,function(a){var o,s=a[e],l=aa(r,function(c,d){return"".concat(c).concat(a[d])},""),u=zh(s)&&i.get(l)!==0?s/i.get(l):0;return F(F({},a),(o={},o[n]=u,o))})}function Yw(t,e,r,n,i){return i?efe(t,e,r,n):t}function Xht(t){var e=t.chart,r=t.options,n=r.data,i=r.color,a=r.lineStyle,o=r.lineShape,s=r.point,l=r.area,u=r.seriesField,c=s==null?void 0:s.state,d=l==null?void 0:l.state;e.data(n);var f=fe({},t,{options:{shapeField:u,line:{color:i,style:a,shape:o},point:s&&F({color:i,shape:"circle"},s),area:l&&F({color:i},l),label:void 0}}),p=fe({},f,{options:{tooltip:!1,state:c}}),v=fe({},f,{options:{tooltip:!1,state:d}});return Nm(f),Lo(p),O_(v),t}function j_(t){var e,r,n=t.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.data;return it(hn((e={},e[o]=i,e[s]=a,e),(r={},r[o]={type:"cat"},r[s]=D5(l,s),r)))(t)}function Kht(t){var e=t.chart,r=t.options,n=r.reflect;if(n){var i=n;xe(i)||(i=[i]);var a=i.map(function(o){return["reflect",o]});e.coordinate({type:"rect",actions:a})}return t}function tfe(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return n===!1?e.axis(a,!1):e.axis(a,n),i===!1?e.axis(o,!1):e.axis(o,i),t}function rfe(t){var e=t.chart,r=t.options,n=r.legend,i=r.seriesField;return n&&i?e.legend(i,n):n===!1&&e.legend(!1),t}function Qht(t){var e=t.chart,r=t.options,n=r.label,i=r.yField,a=Li(e,"line");if(!n)a.label(!1);else{var o=n.fields,s=n.callback,l=Kt(n,["fields","callback"]);a.label({fields:o||[i],callback:s,cfg:F({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ri(l))})}return t}function Jht(t){var e=t.chart,r=t.options,n=r.isStack;return n&&Y(e.geometries,function(i){i.adjust("stack")}),t}function nfe(t){return it(Xht,j_,Jht,Ut,Kht,tfe,rfe,Wn,Qht,Hw,L5,Br,pr,Xr(),Uh)(t)}function Zht(t){var e=t.chart,r=t.options,n=r.data,i=r.areaStyle,a=r.areaShape,o=r.color,s=r.point,l=r.line,u=r.isPercent,c=r.xField,d=r.yField,f=r.tooltip,p=r.seriesField,v=r.startOnZero,g=s==null?void 0:s.state,m=Yw(n,d,c,d,u);e.data(m);var y=u?F({formatter:function(S){return{name:S[p]||S[c],value:(Number(S[d])*100).toFixed(2)+"%"}}},f):f,x=fe({},t,{options:{area:{color:o,style:i,shape:a},point:s&&F({color:o},s),tooltip:y,label:void 0,args:{startOnZero:v}}}),b={chart:e,options:fe({line:{size:2}},GP(r,["state"]),{line:l&&F({color:o},l),sizeField:p,state:l==null?void 0:l.state,tooltip:!1,label:void 0,args:{startOnZero:v}})},w=fe({},x,{options:{tooltip:!1,state:g}});return O_(x),Nm(b),Lo(w),t}function ept(t){var e=t.chart,r=t.options,n=r.label,i=r.yField,a=Li(e,"area");if(!n)a.label(!1);else{var o=n.fields,s=n.callback,l=Kt(n,["fields","callback"]);a.label({fields:o||[i],callback:s,cfg:F({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ri(l))})}return t}function tpt(t){var e=t.chart,r=t.options,n=r.isStack,i=r.isPercent,a=r.seriesField;return(i||n)&&a&&Y(e.geometries,function(o){o.adjust("stack")}),t}function ife(t){return it(Ut,Fo("areaStyle"),Hde("rect"),Zht,j_,tpt,tfe,rfe,Wn,ept,Hw,Xr(),Br,pr,Uh)(t)}var rpt=fe({},gt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),afe=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="area",r}return e.getDefaultOptions=function(){return rpt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this.options,i=n.isPercent,a=n.xField,o=n.yField,s=this,l=s.chart,u=s.options;j_({chart:l,options:u}),this.chart.changeData(Yw(r,o,a,o,i))},e.prototype.getSchemaAdaptor=function(){return ife},e}(gt),npt=10,ipt=5,apt={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},opt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.buttonGroup=null,r.buttonCfg=F({name:"button"},apt),r}return e.prototype.getButtonCfg=function(){var r=this.context.view,n=K(r,["interactions","filter-action","cfg","buttonConfig"]);return fe(this.buttonCfg,n,this.cfg)},e.prototype.drawButton=function(){var r=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:r.name}),i=this.drawText(n);this.drawBackground(n,i.getBBox()),this.buttonGroup=n},e.prototype.drawText=function(r){var n,i=this.getButtonCfg();return r.addShape({type:"text",name:"button-text",attrs:F({text:i.text},(n=i.textStyle)===null||n===void 0?void 0:n.default)})},e.prototype.drawBackground=function(r,n){var i,a=this.getButtonCfg(),o=Bd(a.padding),s=r.addShape({type:"rect",name:"button-rect",attrs:F({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},(i=a.buttonStyle)===null||i===void 0?void 0:i.default)});return s.toBack(),r.on("mouseenter",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.active)}),r.on("mouseleave",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.default)}),s},e.prototype.resetPosition=function(){var r=this.context.view,n=r.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Ka.transform(null,[["t",i.x-o.width-npt,i.y+o.height+ipt]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var r=this.buttonGroup;r&&r.remove(),t.prototype.destroy.call(this)},e}(kr);Xe("brush-reset-button",opt,{name:"brush-reset-button"});ct("filter-action",{});function vu(t){return t.isInPlot()}function yp(t,e,r){var n=r||{},i=n.mask,a=n.isStartEnable,o=e||"rect";switch(t){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||vu,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:vu,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:vu,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(s){return a?!a(s):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||vu,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:vu,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:vu,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||vu,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:vu,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:vu,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};default:return{}}}ct("brush",yp("brush"));ct("brush-highlight",yp("brush-highlight"));ct("brush-x",yp("brush-x","x-rect"));ct("brush-y",yp("brush-y","y-rect"));ct("brush-x-highlight",yp("brush-x-highlight","x-rect"));ct("brush-y-highlight",yp("brush-y-highlight","y-rect"));var N9=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function ofe(t){var e=t.options,r=e.brush,n=wi(e.interactions||[],function(i){return N9.indexOf(i.type)===-1});return r!=null&&r.enabled&&(N9.forEach(function(i){var a=!1;switch(r.type){case"x-rect":a=i===(r.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":a=i===(r.action==="highlight"?"brush-y-highlight":"brush-y");break;default:a=i===(r.action==="highlight"?"brush-highlight":"brush");break}var o={type:i,enable:a};r&&(o.cfg=yp(i,r.type,r)),n.push(o)}),(r==null?void 0:r.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:r.button}})),fe({},t,{options:{interactions:n}})}var mh={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},B5=function(t,e){return t==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};ct(mh.hover,{start:B5(mh.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]});ct(mh.click,{start:B5(mh.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function spt(t){return t===void 0&&(t=!1),function(e){var r=e.chart,n=e.options,i=n.connectedArea,a=function(){r.removeInteraction(mh.hover),r.removeInteraction(mh.click)};if(!t&&i){var o=i.trigger||"hover";a(),r.interaction(mh[o],{start:B5(o,i.style)})}else a();return e}}function sfe(t,e){return!lt(t)||!lt(e)||t===0&&e===0?"-":t===e?"100%":t===0?"":"".concat((100*e/t).toFixed(2),"%")}function lpt(t,e){return fe({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:t.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:t.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:sfe}},t)}function jC(t,e){return $r(e.getModel().points,function(r){return t.convertPoint(r)})}function upt(t,e,r){var n=t.view,i=t.geometry,a=t.group,o=t.options,s=t.horizontal,l=o.offset,u=o.size,c=o.arrow,d=n.getCoordinate(),f=jC(d,e)[3],p=jC(d,r)[0],v=p.y-f.y,g=p.x-f.x;if(typeof c!="boolean"){var m=c.headSize,y=o.spacing,x;s?(g-m)/2<y?(y=Math.max(1,(g-m)/2),x=[[f.x+y,f.y-l],[f.x+y,f.y-l-u],[p.x-y,p.y-l-u/2]]):x=[[f.x+y,f.y-l],[f.x+y,f.y-l-u],[p.x-y-m,p.y-l-u],[p.x-y,p.y-l-u/2],[p.x-y-m,p.y-l]]:(v-m)/2<y?(y=Math.max(1,(v-m)/2),x=[[f.x+l,f.y+y],[f.x+l+u,f.y+y],[p.x+l+u/2,p.y-y]]):x=[[f.x+l,f.y+y],[f.x+l+u,f.y+y],[p.x+l+u,p.y-y-m],[p.x+l+u/2,p.y-y],[p.x+l,p.y-y-m]],a.addShape("polygon",{id:"".concat(n.id,"-conversion-tag-arrow-").concat(i.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:r},attrs:F(F({},c.style||{}),{points:x})})}}function cpt(t,e,r){var n,i,a,o=t.view,s=t.geometry,l=t.group,u=t.options,c=t.field,d=t.horizontal,f=u.offset,p=u.size;if(typeof u.text!="boolean"){var v=o.getCoordinate(),g=((n=u.text)===null||n===void 0?void 0:n.formatter)&&((i=u.text)===null||i===void 0?void 0:i.formatter(e.getData()[c],r.getData()[c])),m=jC(v,e)[d?3:0],y=jC(v,r)[d?0:3],x=l.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(s.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:r},attrs:F(F({},((a=u.text)===null||a===void 0?void 0:a.style)||{}),{text:g,x:d?(m.x+y.x)/2:m.x+f+p/2,y:d?m.y-f-p/2:(m.y+y.y)/2})});if(d){var b=y.x-m.x,w=x.getBBox().width;if(w>b){var S=w/g.length,C=Math.max(1,Math.ceil(b/S)-1),E="".concat(g.slice(0,C),"...");x.attr("text",E)}}}}function dpt(t,e,r){upt(t,e,r),cpt(t,e,r)}function fpt(t,e,r){return e===void 0&&(e=!0),r===void 0&&(r=!1),function(n){var i=n.options,a=n.chart,o=i.conversionTag,s=i.theme;return o&&!r&&(a.theme(fe({},lr(s)?s:q0(s),{columnWidthRatio:1/3})),a.annotation().shape({render:function(l,u){var c=l.addGroup({id:"".concat(a.id,"-conversion-tag-group"),name:"conversion-tag-group"}),d=Vs(a.geometries,function(v){return v.type==="interval"}),f={view:u,geometry:d,group:c,field:t,horizontal:e,options:lpt(o,e)},p=d.elements;Y(p,function(v,g){g>0&&dpt(f,p[g-1],v)})}})),n}}function hpt(t){var e=t.options,r=e.legend,n=e.seriesField,i=e.isStack;return n?r!==!1&&(r=F({position:i?"right-top":"top-left"},r)):r=!1,t.options.legend=r,t}function ppt(t){var e=t.chart,r=t.options,n=r.data,i=r.columnStyle,a=r.color,o=r.columnWidthRatio,s=r.isPercent,l=r.isGroup,u=r.isStack,c=r.xField,d=r.yField,f=r.seriesField,p=r.groupField,v=r.tooltip,g=r.shape,m=s&&l&&u?Yht(n,d,[c,p],d):Yw(n,d,c,d,s),y=[];u&&f&&!l?m.forEach(function(w){var S=y.find(function(C){return C[c]===w[c]&&C[f]===w[f]});S?S[d]+=w[d]||0:y.push(F({},w))}):y=m,e.data(y);var x=s?F({formatter:function(w){var S;return{name:l&&u?"".concat(w[f]," - ").concat(w[p]):(S=w[f])!==null&&S!==void 0?S:w[c],value:(Number(w[d])*100).toFixed(2)+"%"}}},v):v,b=fe({},t,{options:{data:y,widthRatio:o,tooltip:x,interval:{shape:g,style:i,color:a}}});return $i(b),b}function V5(t){var e,r,n=t.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.data,u=n.isPercent,c=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return it(hn((e={},e[o]=i,e[s]=a,e),(r={},r[o]={type:"cat"},r[s]=F(F({},D5(l,s)),c),r)))(t)}function vpt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return n===!1?e.axis(a,!1):e.axis(a,n),i===!1?e.axis(o,!1):e.axis(o,i),t}function gpt(t){var e=t.chart,r=t.options,n=r.legend,i=r.seriesField;return n&&i?e.legend(i,n):n===!1&&e.legend(!1),t}function mpt(t){var e=t.chart,r=t.options,n=r.label,i=r.yField,a=r.isRange,o=Li(e,"interval");if(!n)o.label(!1);else{var s=n.callback,l=Kt(n,["callback"]);o.label({fields:[i],callback:s,cfg:F({layout:l!=null&&l.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ri(a?F({content:function(u){var c;return(c=u[i])===null||c===void 0?void 0:c.join("-")}},l):l))})}return t}function ypt(t){var e=t.chart,r=t.options,n=r.tooltip,i=r.isGroup,a=r.isStack,o=r.groupField,s=r.data,l=r.xField,u=r.yField,c=r.seriesField;if(n===!1)e.tooltip(!1);else{var d=n;if(i&&a){var f=d.customItems,p=(d==null?void 0:d.formatter)||function(v){return{name:"".concat(v[c]," - ").concat(v[o]),value:v[u]}};d=F(F({},d),{customItems:function(v){var g=[];return Y(v,function(m){var y=wi(s,function(x){return fle(x,sr(m.data,[l,c]))});y.forEach(function(x){g.push(F(F(F({},m),{value:x[u],data:x,mappingData:{_origin:x}}),p(x)))})}),f?f(g):g}})}e.tooltip(d)}return t}function F_(t,e){e===void 0&&(e=!1);var r=t.options,n=r.seriesField;return it(hpt,Ut,Fo("columnStyle"),af,Hde("rect"),ppt,V5,vpt,gpt,ypt,Hw,L5,mpt,ofe,Br,pr,Xr(),fpt(r.yField,!e,!!n),spt(!r.isStack),Uh)(t)}function xpt(t){var e=t.options,r=e.xField,n=e.yField,i=e.xAxis,a=e.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=a!==!1?F({position:o[(a==null?void 0:a.position)||"left"]},a):!1,l=i!==!1?F({position:o[(i==null?void 0:i.position)||"bottom"]},i):!1;return F(F({},t),{options:F(F({},e),{xField:n,yField:r,xAxis:s,yAxis:l})})}function bpt(t){var e=t.options,r=e.label;return r&&!r.position&&(r.position="left",r.layout||(r.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),fe({},t,{options:{label:r}})}function wpt(t){var e=t.options,r=e.seriesField,n=e.isStack,i=e.legend;return r?i!==!1&&(i=F({position:n?"top-left":"right-top"},i||{})):i=!1,fe({},t,{options:{legend:i}})}function Spt(t){var e=t.options,r=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return fe({},t,{options:{coordinate:r}})}function Ept(t){var e=t.chart,r=t.options,n=r.barStyle,i=r.barWidthRatio,a=r.minBarWidth,o=r.maxBarWidth,s=r.barBackground;return F_({chart:e,options:F(F({},r),{columnStyle:n,columnWidthRatio:i,minColumnWidth:a,maxColumnWidth:o,columnBackground:s})},!0)}function lfe(t){return it(xpt,bpt,wpt,Wn,Spt,Ept)(t)}var Apt=fe({},gt.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Cpt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="bar",r}return e.getDefaultOptions=function(){return Apt},e.prototype.changeData=function(r){var n,i;this.updateOption({data:r});var a=this,o=a.chart,s=a.options,l=s.isPercent,u=s.xField,c=s.yField,d=s.xAxis,f=s.yAxis;n=[c,u],u=n[0],c=n[1],i=[f,d],d=i[0],f=i[1];var p=F(F({},s),{xField:u,yField:c,yAxis:f,xAxis:d});V5({chart:o,options:p}),o.changeData(Yw(r,u,c,u,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lfe},e}(gt),Tpt=fe({},gt.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),ufe=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="column",r}return e.getDefaultOptions=function(){return Tpt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this.options,i=n.yField,a=n.xField,o=n.isPercent,s=this,l=s.chart,u=s.options;V5({chart:l,options:u}),this.chart.changeData(Yw(r,i,a,i,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return F_},e}(gt),MM,Vd="$$percentage$$",zd="$$mappingValue$$",$u="$$conversion$$",gF="$$totalPercentage$$",Yx="$$x$$",Xx="$$y$$",Ipt={appendPadding:[0,80],minSize:0,maxSize:1,meta:(MM={},MM[zd]={min:0,max:1,nice:!1},MM),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},cfe="CONVERSION_TAG_NAME";function z5(t,e,r){var n=[],i=r.yField,a=r.maxSize,o=r.minSize,s=K(gle(e,i),[i]),l=lt(a)?a:1,u=lt(o)?o:0;return n=$r(t,function(c,d){var f=(c[i]||0)/s;return c[Vd]=f,c[zd]=(l-u)*f+u,c[$u]=[K(t,[d-1,i]),c[i]],c}),n}function U5(t){return function(e){var r=e.chart,n=e.options,i=n.conversionTag,a=n.filteredData,o=a||r.getOptions().data;if(i){var s=i.formatter;o.forEach(function(l,u){if(!(u<=0||Number.isNaN(l[zd]))){var c=t(l,u,o,{top:!0,name:cfe,text:{content:qe(s)?s(l,o):s,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:F({textAlign:"start",textBaseline:"middle"},i.style)}});r.annotation().line(c)}})}return e}}function Ppt(t){var e=t.chart,r=t.options,n=r.data,i=n===void 0?[]:n,a=r.yField,o=r.maxSize,s=r.minSize,l=z5(i,i,{yField:a,maxSize:o,minSize:s});return e.data(l),t}function _pt(t){var e=t.chart,r=t.options,n=r.xField,i=r.yField,a=r.color,o=r.tooltip,s=r.label,l=r.shape,u=l===void 0?"funnel":l,c=r.funnelStyle,d=r.state,f=Ss(o,[n,i]),p=f.fields,v=f.formatter;ro({chart:e,options:{type:"interval",xField:n,yField:zd,colorField:n,tooltipFields:xe(p)&&p.concat([Vd,$u]),mapping:{shape:u,tooltip:v,color:a,style:c},label:s,state:d}});var g=Li(t.chart,"interval");return g.adjust("symmetric"),t}function Opt(t){var e=t.chart,r=t.options,n=r.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),t}function dfe(t){var e=t.options,r=t.chart,n=e.maxSize,i=K(r,["geometries","0","dataArray"],[]),a=K(r,["options","data","length"]),o=$r(i,function(l){return K(l,["0","nextPoints","0","x"])*a-.5}),s=function(l,u,c,d){var f=n-(n-l[zd])/2;return F(F({},d),{start:[o[u-1]||u-.5,f],end:[o[u-1]||u-.5,f+.05]})};return U5(s)(t),t}function ffe(t){return it(Ppt,_pt,Opt,dfe)(t)}function kpt(t){var e,r=t.chart,n=t.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return r.data(a),r.scale((e={},e[o]={sync:!0},e)),t}function Dpt(t){var e=t.chart,r=t.options,n=r.data,i=r.xField,a=r.yField,o=r.color,s=r.compareField,l=r.isTransposed,u=r.tooltip,c=r.maxSize,d=r.minSize,f=r.label,p=r.funnelStyle,v=r.state,g=r.showFacetTitle;return e.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],showTitle:g,eachView:function(m,y){var x=l?y.rowIndex:y.columnIndex;l||m.coordinate({type:"rect",actions:[["transpose"],["scale",x===0?-1:1,-1]]});var b=z5(y.data,n,{yField:a,maxSize:c,minSize:d});m.data(b);var w=Ss(u,[i,a,s]),S=w.fields,C=w.formatter,E=l?{offset:x===0?10:-23,position:x===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:x===0?"end":"start"}};ro({chart:m,options:{type:"interval",xField:i,yField:zd,colorField:i,tooltipFields:xe(S)&&S.concat([Vd,$u]),mapping:{shape:"funnel",tooltip:C,color:o,style:p},label:f===!1?!1:fe({},E,f),state:v}})}}),t}function hfe(t){var e=t.chart,r=t.index,n=t.options,i=n.conversionTag,a=n.isTransposed;(lt(r)?[e]:e.views).forEach(function(o,s){var l=K(o,["geometries","0","dataArray"],[]),u=K(o,["options","data","length"]),c=$r(l,function(f){return K(f,["0","nextPoints","0","x"])*u-.5}),d=function(f,p,v,g){var m=(r||s)===0?-1:1;return fe({},g,{start:[c[p-1]||p-.5,f[zd]],end:[c[p-1]||p-.5,f[zd]+.05],text:a?{style:{textAlign:"start"}}:{offsetX:i!==!1?m*i.offsetX:0,style:{textAlign:(r||s)===0?"end":"start"}}})};U5(d)(fe({},{chart:o,options:n}))})}function Mpt(t){var e=t.chart;return e.once("beforepaint",function(){return hfe(t)}),t}function Rpt(t){return it(kpt,Dpt,Mpt)(t)}function jpt(t){var e=t.chart,r=t.options,n=r.data,i=n===void 0?[]:n,a=r.yField,o=aa(i,function(u,c){return u+(c[a]||0)},0),s=gle(i,a)[a],l=$r(i,function(u,c){var d=[],f=[];if(u[gF]=(u[a]||0)/o,c){var p=i[c-1][Yx],v=i[c-1][Xx];d[0]=p[3],f[0]=v[3],d[1]=p[2],f[1]=v[2]}else d[0]=-.5,f[0]=1,d[1]=.5,f[1]=1;return f[2]=f[1]-u[gF],d[2]=(f[2]+1)/4,f[3]=f[2],d[3]=-d[2],u[Yx]=d,u[Xx]=f,u[Vd]=(u[a]||0)/s,u[$u]=[K(i,[c-1,a]),u[a]],u});return e.data(l),t}function Fpt(t){var e=t.chart,r=t.options,n=r.xField,i=r.yField,a=r.color,o=r.tooltip,s=r.label,l=r.funnelStyle,u=r.state,c=Ss(o,[n,i]),d=c.fields,f=c.formatter;return ro({chart:e,options:{type:"polygon",xField:Yx,yField:Xx,colorField:n,tooltipFields:xe(d)&&d.concat([Vd,$u]),label:s,state:u,mapping:{tooltip:f,color:a,style:l}}}),t}function Lpt(t){var e=t.chart,r=t.options,n=r.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),t}function $pt(t){var e=function(r,n,i,a){return F(F({},a),{start:[r[Yx][1],r[Xx][1]],end:[r[Yx][1]+.05,r[Xx][1]]})};return U5(e)(t),t}function Npt(t){return it(jpt,Fpt,Lpt,$pt)(t)}function Bpt(t){var e,r=t.chart,n=t.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return r.data(a),r.scale((e={},e[o]={sync:!0},e)),t}function Vpt(t){var e=t.chart,r=t.options,n=r.seriesField,i=r.isTransposed,a=r.showFacetTitle;return e.facet("rect",{fields:[n],padding:[i?0:32,10,0,10],showTitle:a,eachView:function(o,s){ffe(fe({},t,{chart:o,options:{data:s.data}}))}}),t}function zpt(t){return it(Bpt,Vpt)(t)}var Upt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.rendering=!1,r}return e.prototype.change=function(r){var n=this;if(!this.rendering){var i=r.seriesField,a=r.compareField,o=a?hfe:dfe,s=this.context.view,l=i||a?s.views:[s];$r(l,function(u,c){var d=u.getController("annotation"),f=wi(K(d,["option"],[]),function(v){var g=v.name;return g!==cfe});d.clear(!0),Y(f,function(v){typeof v=="object"&&u.annotation()[v.type](v)});var p=K(u,["filteredData"],u.getOptions().data);o({chart:u,index:c,options:F(F({},r),{filteredData:z5(p,p,r)})}),u.filterData(p),n.rendering=!0,u.render(!0)})}this.rendering=!1},e}(kr),pfe="funnel-conversion-tag",mF="funnel-afterrender",vfe={trigger:"afterrender",action:"".concat(pfe,":change")};Xe(pfe,Upt);ct(mF,{start:[vfe]});function qpt(t){var e=t.options,r=e.compareField,n=e.xField,i=e.yField,a=e.locale,o=e.funnelStyle,s=e.data,l=__(a),u={label:r?{fields:[n,i,r,Vd,$u],formatter:function(d){return"".concat(d[i])}}:{fields:[n,i,Vd,$u],offset:0,position:"middle",formatter:function(d){return"".concat(d[n]," ").concat(d[i])}},tooltip:{title:n,formatter:function(d){return{name:d[n],value:d[i]}}},conversionTag:{formatter:function(d){return"".concat(l.get(["conversionTag","label"]),": ").concat(sfe.apply(void 0,d[$u]))}}},c;return(r||o)&&(c=function(d){return fe({},r&&{lineWidth:1,stroke:"#fff"},qe(o)?o(d):o)}),fe({options:u},t,{options:{funnelStyle:c,data:ga(s)}})}function Gpt(t){var e=t.options,r=e.compareField,n=e.dynamicHeight,i=e.seriesField;return i?zpt(t):r?Rpt(t):n?Npt(t):ffe(t)}function Wpt(t){var e,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return it(hn((e={},e[a]=n,e[o]=i,e)))(t)}function Hpt(t){var e=t.chart;return e.axis(!1),t}function Ypt(t){var e=t.chart,r=t.options,n=r.legend;return n===!1?e.legend(!1):e.legend(n),t}function Xpt(t){var e=t.chart,r=t.options,n=r.interactions,i=r.dynamicHeight;return Y(n,function(a){a.enable===!1?e.removeInteraction(a.type):e.interaction(a.type,a.cfg||{})}),i?e.removeInteraction(mF):e.interaction(mF,{start:[F(F({},vfe),{arg:r})]}),t}function gfe(t){return it(qpt,Gpt,Wpt,Hpt,Wn,Xpt,Ypt,pr,Ut,Xr())(t)}var Kpt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="funnel",r}return e.getDefaultOptions=function(){return Ipt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return gfe},e.prototype.setState=function(r,n,i){i===void 0&&(i=!0);var a=Hx(this.chart);Y(a,function(o){n(o.getData())&&o.setState(r,i)})},e.prototype.getStates=function(){var r=Hx(this.chart),n=[];return Y(r,function(i){var a=i.getData(),o=i.getStates();Y(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},e.CONVERSATION_FIELD=$u,e.PERCENT_FIELD=Vd,e.TOTAL_PERCENT_FIELD=gF,e}(gt),YS,q5="range",mfe="type",Ou="percent",Qpt="#f0f0f0",yfe="indicator-view",xfe="range-view",Jpt={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(YS={},YS[q5]={sync:"v"},YS[Ou]={sync:"v",tickCount:5,tickInterval:.2},YS),animation:!1};function Zpt(t,e){return t.map(function(r,n){var i;return i={},i[q5]=r-(t[n-1]||0),i[mfe]="".concat(n),i[Ou]=e,i})}function bfe(t){var e;return[(e={},e[Ou]=Fr(t,0,1),e)]}function wfe(t,e){var r=K(e,["ticks"],[]),n=Zn(r)?Lh(r):[0,Fr(t,0,1),1];return n[0]||n.shift(),Zpt(n,t)}function evt(t){var e=t.chart,r=t.options,n=r.percent,i=r.range,a=r.radius,o=r.innerRadius,s=r.startAngle,l=r.endAngle,u=r.axis,c=r.indicator,d=r.gaugeStyle,f=r.type,p=r.meter,v=i.color,g=i.width;if(c){var m=bfe(n),y=e.createView({id:yfe});y.data(m),y.point().position("".concat(Ou,"*1")).shape(c.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:c}),y.coordinate("polar",{startAngle:s,endAngle:l,radius:o*a}),y.axis(Ou,u),y.scale(Ou,sr(u,Va))}var x=wfe(n,r.range),b=e.createView({id:xfe});b.data(x);var w=nt(v)?[v,Qpt]:v,S=$i({chart:b,options:{xField:"1",yField:q5,seriesField:mfe,rawFields:[Ou],isStack:!0,interval:{color:w,style:d,shape:f==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:g,maxColumnWidth:g}}).ext,C=S.geometry;return C.customInfo({meter:p}),b.coordinate("polar",{innerRadius:o,radius:a,startAngle:s,endAngle:l}).transpose(),t}function tvt(t){var e;return it(hn((e={range:{min:0,max:1,maxLimit:1,minLimit:0}},e[Ou]={},e)))(t)}function Sfe(t,e){var r=t.chart,n=t.options,i=n.statistic,a=n.percent;if(r.getController("annotation").clear(!0),i){var o=i.content,s=void 0;o&&(s=fe({},{content:"".concat((a*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),dht(r,{statistic:F(F({},i),{content:s})},{percent:a})}return e&&r.render(!0),t}function rvt(t){var e=t.chart,r=t.options,n=r.tooltip;return n?e.tooltip(fe({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(i,a){var o=K(a,[0,"data",Ou],0);return"".concat((o*100).toFixed(2),"%")}},n)):e.tooltip(!1),t}function nvt(t){var e=t.chart;return e.legend(!1),t}function Efe(t){return it(Ut,pr,evt,tvt,rvt,Sfe,Br,Xr(),nvt)(t)}tr("point","gauge-indicator",{draw:function(t,e){var r=t.customInfo,n=r.indicator,i=r.defaultColor,a=n,o=a.pointer,s=a.pin,l=e.addGroup(),u=this.parsePoint({x:0,y:0});return o&&l.addShape("line",{name:"pointer",attrs:F({x1:u.x,y1:u.y,x2:t.x,y2:t.y,stroke:i},o.style)}),s&&l.addShape("circle",{name:"pin",attrs:F({x:u.x,y:u.y,stroke:i},s.style)}),l}});tr("interval","meter-gauge",{draw:function(t,e){var r=t.customInfo.meter,n=r===void 0?{}:r,i=n.steps,a=i===void 0?50:i,o=n.stepRatio,s=o===void 0?.5:o;a=a<1?1:a,s=Fr(s,0,1);var l=this.coordinate,u=l.startAngle,c=l.endAngle,d=0;if(s>0&&s<1){var f=c-u;d=f/a/(s/(1-s)+1-1/a)}for(var p=d/(1-s)*s,v=e.addGroup(),g=this.coordinate.getCenter(),m=this.coordinate.getRadius(),y=Ka.getAngle(t,this.coordinate),x=y.startAngle,b=y.endAngle,w=x;w<b;){var S=void 0,C=(w-u)%(p+d);C<p?S=w+(p-C):(w+=p+d-C,S=w+p);var E=Ka.getSectorPath(g.x,g.y,m,w,Math.min(S,b),m*this.coordinate.innerRadius);v.addShape("path",{name:"meter-gauge",attrs:{path:E,fill:t.color,stroke:t.color,lineWidth:.5}}),w=S+d}return v}});var ivt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="gauge",r}return e.getDefaultOptions=function(){return Jpt},e.prototype.changeData=function(r){this.chart.emit(St.BEFORE_CHANGE_DATA,Hr.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:r});var n=this.chart.views.find(function(a){return a.id===yfe});n&&n.data(bfe(r));var i=this.chart.views.find(function(a){return a.id===xfe});i&&i.data(wfe(r,this.options.range)),Sfe({chart:this.chart,options:this.options},!0),this.chart.emit(St.AFTER_CHANGE_DATA,Hr.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Efe},e}(gt);function B9(t,e,r){if(r===1)return[0,e];var n=Math.floor(t/e);return[e*n,e*(n+1)]}function avt(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Afe(t,e,r,n,i){var a=ga(t);Zet(a,e);var o=Hs(a,e),s=ple(o),l=s.max-s.min,u=r;if(!r&&n&&(u=n>1?l/(n-1):s.max),!r&&!n){var c=avt(o);u=l/c}var d={},f=Co(a,i);Xa(f)?Y(a,function(v){var g=v[e],m=B9(g,u,n),y="".concat(m[0],"-").concat(m[1]);Rd(d,y)||(d[y]={range:m,count:0}),d[y].count+=1}):Object.keys(f).forEach(function(v){Y(f[v],function(g){var m=g[e],y=B9(m,u,n),x="".concat(y[0],"-").concat(y[1]),b="".concat(x,"-").concat(v);Rd(d,b)||(d[b]={range:y,count:0},d[b][i]=v),d[b].count+=1})});var p=[];return Y(d,function(v){p.push(v)}),p}var FC="range",Kx="count",ovt=fe({},gt.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function svt(t){var e=t.chart,r=t.options,n=r.data,i=r.binField,a=r.binNumber,o=r.binWidth,s=r.color,l=r.stackField,u=r.legend,c=r.columnStyle,d=Afe(n,i,o,a,l);e.data(d);var f=fe({},t,{options:{xField:FC,yField:Kx,seriesField:l,isStack:!0,interval:{color:s,style:c}}});return $i(f),u&&l?e.legend(l,u):e.legend(!1),t}function lvt(t){var e,r=t.options,n=r.xAxis,i=r.yAxis;return it(hn((e={},e[FC]=n,e[Kx]=i,e)))(t)}function uvt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis;return n===!1?e.axis(FC,!1):e.axis(FC,n),i===!1?e.axis(Kx,!1):e.axis(Kx,i),t}function cvt(t){var e=t.chart,r=t.options,n=r.label,i=Li(e,"interval");if(!n)i.label(!1);else{var a=n.callback,o=Kt(n,["callback"]);i.label({fields:[Kx],callback:a,cfg:ri(o)})}return t}function Cfe(t){return it(Ut,Fo("columnStyle"),svt,lvt,uvt,af,cvt,Wn,Br,pr)(t)}var dvt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="histogram",r}return e.getDefaultOptions=function(){return ovt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this.options,i=n.binField,a=n.binNumber,o=n.binWidth,s=n.stackField;this.chart.changeData(Afe(r,i,o,a,s))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Cfe},e}(gt),fvt=fe({},gt.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),hvt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.active=function(){var r=this.getView(),n=this.context.event;if(n.data){var i=n.data.items,a=r.geometries.filter(function(o){return o.type==="point"});Y(a,function(o){Y(o.elements,function(s){var l=hle(i,function(u){return u.data===s.data})!==-1;s.setState("active",l)})})}},e.prototype.reset=function(){var r=this.getView(),n=r.geometries.filter(function(i){return i.type==="point"});Y(n,function(i){Y(i.elements,function(a){a.setState("active",!1)})})},e.prototype.getView=function(){return this.context.view},e}(kr);Xe("marker-active",hvt);ct("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Tfe=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="line",r}return e.getDefaultOptions=function(){return fvt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this,i=n.chart,a=n.options;j_({chart:i,options:a}),this.chart.changeData(r)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return nfe},e}(gt),Ife=fe({},gt.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),pvt=[1,0,0,0,1,0,0,0,1];function yF(t,e){var r=Je([],pvt,!0);return Ka.transform(r,t)}var vvt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getActiveElements=function(){var r=Ka.getDelegationObject(this.context);if(r){var n=this.context.view,i=r.component,a=r.item,o=i.get("field");if(o){var s=n.geometries[0].elements;return s.filter(function(l){return l.getModel().data[o]===a.value})}}return[]},e.prototype.getActiveElementLabels=function(){var r=this.context.view,n=this.getActiveElements(),i=r.geometries[0].labelsContainer.getChildren();return i.filter(function(a){return n.find(function(o){return on(o.getData(),a.get("data"))})})},e.prototype.transfrom=function(r){r===void 0&&(r=7.5);var n=this.getActiveElements(),i=this.getActiveElementLabels();n.forEach(function(a,o){var s=i[o],l=a.geometry.coordinate;if(l.isPolar&&l.isTransposed){var u=Ka.getAngle(a.getModel(),l),c=u.startAngle,d=u.endAngle,f=(c+d)/2,p=r,v=p*Math.cos(f),g=p*Math.sin(f);a.shape.setMatrix(yF([["t",v,g]])),s.setMatrix(yF([["t",v,g]]))}})},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(kr);function gvt(t){var e=t.event,r,n=e.target;return n&&(r=n.get("element")),r}var mvt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAnnotations=function(r){var n=r||this.context.view;return n.getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var r=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var i=r.getAnnotations(n);r.initialAnnotation=i})},e.prototype.change=function(r){var n=this.context,i=n.view,a=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=K(a,["data","data"]);if(a.type.match("legend-item")){var s=Ka.getDelegationObject(this.context),l=i.getGroupedFields()[0];if(s&&l){var u=s.item;o=i.getData().find(function(p){return p[l]===u.value})}}if(o){var c=K(r,"annotations",[]),d=K(r,"statistic",{});i.getController("annotation").clear(!0),Y(c,function(p){typeof p=="object"&&i.annotation()[p.type](p)}),I_(i,{statistic:d,plotType:"pie"},o),i.render(!0)}var f=gvt(this.context);f&&f.shape.toFront()},e.prototype.reset=function(){var r=this.context.view,n=r.getController("annotation");n.clear(!0);var i=this.getInitialAnnotation();Y(i,function(a){r.annotation()[a.type](a)}),r.render(!0)},e}(kr),Pfe="pie-statistic";Xe(Pfe,mvt);ct("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]});Xe("pie-legend",vvt);ct("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function yvt(t,e){var r=null;return Y(t,function(n){typeof n[e]=="number"&&(r+=n[e])}),r}function xvt(t,e){var r;switch(t){case"inner":return r="-30%",nt(e)&&e.endsWith("%")?parseFloat(e)*.01>0?r:e:e<0?e:r;case"outer":return r=12,nt(e)&&e.endsWith("%")?parseFloat(e)*.01<0?r:e:e>0?e:r;default:return e}}function LC(t,e){return b4(Sg(t,e),function(r){return r[e]===0})}function bvt(t){var e=t.chart,r=t.options,n=r.data,i=r.angleField,a=r.colorField,o=r.color,s=r.pieStyle,l=r.shape,u=Sg(n,i);if(LC(u,i)){var c="$$percentage$$";u=u.map(function(f){var p;return F(F({},f),(p={},p[c]=1/u.length,p))}),e.data(u);var d=fe({},t,{options:{xField:"1",yField:c,seriesField:a,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});$i(d)}else{e.data(u);var d=fe({},t,{options:{xField:"1",yField:i,seriesField:a,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});$i(d)}return t}function wvt(t){var e,r=t.chart,n=t.options,i=n.meta,a=n.colorField,o=fe({},i);return r.scale(o,(e={},e[a]={type:"cat"},e)),t}function Svt(t){var e=t.chart,r=t.options,n=r.radius,i=r.innerRadius,a=r.startAngle,o=r.endAngle;return e.coordinate({type:"theta",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),t}function Evt(t){var e=t.chart,r=t.options,n=r.label,i=r.colorField,a=r.angleField,o=e.geometries[0];if(!n)o.label(!1);else{var s=n.callback,l=Kt(n,["callback"]),u=ri(l);if(u.content){var c=u.content;u.content=function(v,g,m){var y=v[i],x=v[a],b=e.getScaleByField(a),w=b==null?void 0:b.scale(x);return qe(c)?c(F(F({},v),{percent:w}),g,m):nt(c)?qde(c,{value:x,name:y,percentage:lt(w)&&!ve(x)?"".concat((w*100).toFixed(2),"%"):null}):c}}var d={inner:"",outer:"pie-outer",spider:"pie-spider"},f=u.type?d[u.type]:"pie-outer",p=u.layout?xe(u.layout)?u.layout:[u.layout]:[];u.layout=(f?[{type:f}]:[]).concat(p),o.label({fields:i?[a,i]:[a],callback:s,cfg:F(F({},u),{offset:xvt(u.type,u.offset),type:"pie"})})}return t}function _fe(t){var e=t.innerRadius,r=t.statistic,n=t.angleField,i=t.colorField,a=t.meta,o=t.locale,s=__(o);if(e&&r){var l=fe({},Ife.statistic,r),u=l.title,c=l.content;return u!==!1&&(u=fe({},{formatter:function(d){var f=d?d[i]:ve(u.content)?s.get(["statistic","total"]):u.content,p=K(a,[i,"formatter"])||function(v){return v};return p(f)}},u)),c!==!1&&(c=fe({},{formatter:function(d,f){var p=d?d[n]:yvt(f,n),v=K(a,[n,"formatter"])||function(g){return g};return d||ve(c.content)?v(p):c.content}},c)),fe({},{statistic:{title:u,content:c}},t)}return t}function Ofe(t){var e=t.chart,r=t.options,n=_fe(r),i=n.innerRadius,a=n.statistic;return e.getController("annotation").clear(!0),it(Xr())(t),i&&a&&I_(e,{statistic:a,plotType:"pie"}),t}function Avt(t){var e=t.chart,r=t.options,n=r.tooltip,i=r.colorField,a=r.angleField,o=r.data;if(n===!1)e.tooltip(n);else if(e.tooltip(fe({},n,{shared:!1})),LC(o,a)){var s=K(n,"fields"),l=K(n,"formatter");Xa(K(n,"fields"))&&(s=[i,a],l=l||function(u){return{name:u[i],value:Fw(u[a])}}),e.geometries[0].tooltip(s.join("*"),fv(s,l))}return t}function Cvt(t){var e=t.chart,r=t.options,n=_fe(r),i=n.interactions,a=n.statistic,o=n.annotations;return Y(i,function(s){var l,u;if(s.enable===!1)e.removeInteraction(s.type);else if(s.type==="pie-statistic-active"){var c=[];!((l=s.cfg)===null||l===void 0)&&l.start||(c=[{trigger:"element:mouseenter",action:"".concat(Pfe,":change"),arg:{statistic:a,annotations:o}}]),Y((u=s.cfg)===null||u===void 0?void 0:u.start,function(d){c.push(F(F({},d),{arg:{statistic:a,annotations:o}}))}),e.interaction(s.type,fe({},s.cfg,{start:c}))}else e.interaction(s.type,s.cfg||{})}),t}function kfe(t){return it(Fo("pieStyle"),bvt,wvt,Ut,Svt,$m,Avt,Evt,af,Ofe,Cvt,pr)(t)}var Dfe=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="pie",r}return e.getDefaultOptions=function(){return Ife},e.prototype.changeData=function(r){this.chart.emit(St.BEFORE_CHANGE_DATA,Hr.fromData(this.chart,St.BEFORE_CHANGE_DATA,null));var n=this.options,i=this.options.angleField,a=Sg(n.data,i),o=Sg(r,i);LC(a,i)||LC(o,i)?this.update({data:r}):(this.updateOption({data:r}),this.chart.data(o),Ofe({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(St.AFTER_CHANGE_DATA,Hr.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return kfe},e}(gt),Mfe=["#FAAD14","#E8EDF3"],Tvt={percent:.2,color:Mfe,animation:{}};function G5(t){var e=Fr(zh(t)?t:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function Rfe(t){var e=t.chart,r=t.options,n=r.percent,i=r.progressStyle,a=r.color,o=r.barWidthRatio;e.data(G5(n));var s=fe({},t,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:i,color:nt(a)?[a,Mfe[1]]:a},args:{zIndexReversed:!0,sortZIndex:!0}}});return $i(s),e.tooltip(!1),e.axis(!1),e.legend(!1),t}function Ivt(t){var e=t.chart;return e.coordinate("rect").transpose(),t}function jfe(t){return it(Rfe,hn({}),Ivt,pr,Ut,Xr())(t)}var Pvt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="process",r}return e.getDefaultOptions=function(){return Tvt},e.prototype.changeData=function(r){this.updateOption({percent:r}),this.chart.changeData(G5(r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return jfe},e}(gt);function _vt(t){var e=t.chart,r=t.options,n=r.innerRadius,i=r.radius;return e.coordinate("theta",{innerRadius:n,radius:i}),t}function Ffe(t,e){var r=t.chart,n=t.options,i=n.innerRadius,a=n.statistic,o=n.percent,s=n.meta;if(r.getController("annotation").clear(!0),i&&a){var l=K(s,["percent","formatter"])||function(c){return"".concat((c*100).toFixed(2),"%")},u=a.content;u&&(u=fe({},u,{content:ve(u.content)?l(o):u.content})),I_(r,{statistic:F(F({},a),{content:u}),plotType:"ring-progress"},{percent:o})}return e&&r.render(!0),t}function Lfe(t){return it(Rfe,hn({}),_vt,Ffe,pr,Ut,Xr())(t)}var Ovt={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},kvt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="ring-process",r}return e.getDefaultOptions=function(){return Ovt},e.prototype.changeData=function(r){this.chart.emit(St.BEFORE_CHANGE_DATA,Hr.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:r}),this.chart.data(G5(r)),Ffe({chart:this.chart,options:this.options},!0),this.chart.emit(St.AFTER_CHANGE_DATA,Hr.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Lfe},e}(gt);function Ud(t,e){return Dvt(t)||Mvt(t,e)||Rvt()}function Dvt(t){if(Array.isArray(t))return t}function Mvt(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}function Rvt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function W5(t,e,r,n){t=t.filter(function(v,g){var m=e(v,g),y=r(v,g);return m!=null&&isFinite(m)&&y!=null&&isFinite(y)}),n&&t.sort(function(v,g){return e(v)-e(g)});for(var i=t.length,a=new Float64Array(i),o=new Float64Array(i),s=0,l=0,u,c,d,f=0;f<i;)d=t[f],a[f]=u=+e(d,f,t),o[f]=c=+r(d,f,t),++f,s+=(u-s)/f,l+=(c-l)/f;for(var p=0;p<i;++p)a[p]-=s,o[p]-=l;return[a,o,s,l]}function xp(t,e,r,n){for(var i=0,a=0,o=t.length;a<o;a++){var s=t[a],l=+e(s,a,t),u=+r(s,a,t);l!=null&&isFinite(l)&&u!=null&&isFinite(u)&&n(l,u,i++)}}function Bm(t,e,r,n,i){var a=0,o=0;return xp(t,e,r,function(s,l){var u=l-i(s),c=l-n;a+=u*u,o+=c*c}),1-a/o}function V9(t){return Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])*180/Math.PI}function jvt(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Xw(t,e,r){for(var n=Math.log(e-t)*Math.LOG10E+1|0,i=1*Math.pow(10,-n/2-1),a=1e4,o=[l(t),l(e)],s=0;u(o)&&s<a;);return o;function l(c){return[c,r(c)]}function u(c){s++;for(var d=c.length,f=!1,p=0;p<d-1;p++){var v=c[p],g=c[p+1],m=jvt([v,g]),y=l(m[0]),x=V9([v,m]),b=V9([v,y]),w=Math.abs(x-b);w>i&&(c.splice(p+1,0,y),f=!0)}return f}}function Kw(t,e,r,n){var i=n-t*t,a=Math.abs(i)<1e-24?0:(r-t*e)/i,o=e-a*t;return[o,a]}function Fvt(){var t=function(a){return a[0]},e=function(a){return a[1]},r;function n(i){var a=0,o=0,s=0,l=0,u=0,c=0,d=r?+r[0]:1/0,f=r?+r[1]:-1/0;xp(i,t,e,function(b,w){var S=Math.log(w),C=b*w;++a,o+=(w-o)/a,l+=(C-l)/a,c+=(b*C-c)/a,s+=(w*S-s)/a,u+=(C*S-u)/a,r||(b<d&&(d=b),b>f&&(f=b))});var p=Kw(l/o,s/o,u/o,c/o),v=Ud(p,2),g=v[0],m=v[1];g=Math.exp(g);var y=function(w){return g*Math.exp(m*w)},x=Xw(d,f,y);return x.a=g,x.b=m,x.predict=y,x.rSquared=Bm(i,t,e,o,y),x}return n.domain=function(i){return arguments.length?(r=i,n):r},n.x=function(i){return arguments.length?(t=i,n):t},n.y=function(i){return arguments.length?(e=i,n):e},n}function $fe(){var t=function(a){return a[0]},e=function(a){return a[1]},r;function n(i){var a=0,o=0,s=0,l=0,u=0,c=r?+r[0]:1/0,d=r?+r[1]:-1/0;xp(i,t,e,function(x,b){++a,o+=(x-o)/a,s+=(b-s)/a,l+=(x*b-l)/a,u+=(x*x-u)/a,r||(x<c&&(c=x),x>d&&(d=x))});var f=Kw(o,s,l,u),p=Ud(f,2),v=p[0],g=p[1],m=function(b){return g*b+v},y=[[c,m(c)],[d,m(d)]];return y.a=g,y.b=v,y.predict=m,y.rSquared=Bm(i,t,e,s,m),y}return n.domain=function(i){return arguments.length?(r=i,n):r},n.x=function(i){return arguments.length?(t=i,n):t},n.y=function(i){return arguments.length?(e=i,n):e},n}function Lvt(t){t.sort(function(r,n){return r-n});var e=t.length/2;return e%1===0?(t[e-1]+t[e])/2:t[Math.floor(e)]}var z9=2,U9=1e-12;function $vt(){var t=function(a){return a[0]},e=function(a){return a[1]},r=.3;function n(i){for(var a=W5(i,t,e,!0),o=Ud(a,4),s=o[0],l=o[1],u=o[2],c=o[3],d=s.length,f=Math.max(2,~~(r*d)),p=new Float64Array(d),v=new Float64Array(d),g=new Float64Array(d).fill(1),m=-1;++m<=z9;){for(var y=[0,f-1],x=0;x<d;++x){for(var b=s[x],w=y[0],S=y[1],C=b-s[w]>s[S]-b?w:S,E=0,A=0,P=0,_=0,k=0,O=1/Math.abs(s[C]-b||1),D=w;D<=S;++D){var B=s[D],$=l[D],L=Nvt(Math.abs(b-B)*O)*g[D],R=B*L;E+=L,A+=R,P+=$*L,_+=$*R,k+=B*R}var V=Kw(A/E,P/E,_/E,k/E),U=Ud(V,2),q=U[0],M=U[1];p[x]=q+M*b,v[x]=Math.abs(l[x]-p[x]),Bvt(s,x+1,y)}if(m===z9)break;var G=Lvt(v);if(Math.abs(G)<U9)break;for(var W=0,J,te;W<d;++W)J=v[W]/(6*G),g[W]=J>=1?U9:(te=1-J*J)*te}return Vvt(s,p,u,c)}return n.bandwidth=function(i){return arguments.length?(r=i,n):r},n.x=function(i){return arguments.length?(t=i,n):t},n.y=function(i){return arguments.length?(e=i,n):e},n}function Nvt(t){return(t=1-t*t*t)*t*t}function Bvt(t,e,r){var n=t[e],i=r[0],a=r[1]+1;if(!(a>=t.length))for(;e>i&&t[a]-n<=n-t[i];)r[0]=++i,r[1]=a,++a}function Vvt(t,e,r,n){for(var i=t.length,a=[],o=0,s=0,l=[],u;o<i;++o)u=t[o]+r,l[0]===u?l[1]+=(e[o]-l[1])/++s:(s=0,l[1]+=n,l=[u,e[o]],a.push(l));return l[1]+=n,a}function zvt(){var t=function(o){return o[0]},e=function(o){return o[1]},r=Math.E,n;function i(a){var o=0,s=0,l=0,u=0,c=0,d=n?+n[0]:1/0,f=n?+n[1]:-1/0,p=Math.log(r);xp(a,t,e,function(w,S){var C=Math.log(w)/p;++o,s+=(C-s)/o,l+=(S-l)/o,u+=(C*S-u)/o,c+=(C*C-c)/o,n||(w<d&&(d=w),w>f&&(f=w))});var v=Kw(s,l,u,c),g=Ud(v,2),m=g[0],y=g[1],x=function(S){return y*Math.log(S)/p+m},b=Xw(d,f,x);return b.a=y,b.b=m,b.predict=x,b.rSquared=Bm(a,t,e,l,x),b}return i.domain=function(a){return arguments.length?(n=a,i):n},i.x=function(a){return arguments.length?(t=a,i):t},i.y=function(a){return arguments.length?(e=a,i):e},i.base=function(a){return arguments.length?(r=a,i):r},i}function Nfe(){var t=function(a){return a[0]},e=function(a){return a[1]},r;function n(i){var a=W5(i,t,e),o=Ud(a,4),s=o[0],l=o[1],u=o[2],c=o[3],d=s.length,f=0,p=0,v=0,g=0,m=0,y,x,b,w;for(y=0;y<d;)x=s[y],b=l[y++],w=x*x,f+=(w-f)/y,p+=(w*x-p)/y,v+=(w*w-v)/y,g+=(x*b-g)/y,m+=(w*b-m)/y;var S=0,C=0,E=r?+r[0]:1/0,A=r?+r[1]:-1/0;xp(i,t,e,function(L,R){C++,S+=(R-S)/C,r||(L<E&&(E=L),L>A&&(A=L))});var P=v-f*f,_=f*P-p*p,k=(m*f-g*p)/_,O=(g*P-m*p)/_,D=-k*f,B=function(R){return R=R-u,k*R*R+O*R+D+c},$=Xw(E,A,B);return $.a=k,$.b=O-2*k*u,$.c=D-O*u+k*u*u+c,$.predict=B,$.rSquared=Bm(i,t,e,S,B),$}return n.domain=function(i){return arguments.length?(r=i,n):r},n.x=function(i){return arguments.length?(t=i,n):t},n.y=function(i){return arguments.length?(e=i,n):e},n}function Uvt(){var t=function(o){return o[0]},e=function(o){return o[1]},r=3,n;function i(a){if(r===1){var o=$fe().x(t).y(e).domain(n)(a);return o.coefficients=[o.b,o.a],delete o.a,delete o.b,o}if(r===2){var s=Nfe().x(t).y(e).domain(n)(a);return s.coefficients=[s.c,s.b,s.a],delete s.a,delete s.b,delete s.c,s}var l=W5(a,t,e),u=Ud(l,4),c=u[0],d=u[1],f=u[2],p=u[3],v=c.length,g=[],m=[],y=r+1,x=0,b=0,w=n?+n[0]:1/0,S=n?+n[1]:-1/0;xp(a,t,e,function(B,$){++b,x+=($-x)/b,n||(B<w&&(w=B),B>S&&(S=B))});var C,E,A,P,_;for(C=0;C<y;++C){for(A=0,P=0;A<v;++A)P+=Math.pow(c[A],C)*d[A];for(g.push(P),_=new Float64Array(y),E=0;E<y;++E){for(A=0,P=0;A<v;++A)P+=Math.pow(c[A],C+E);_[E]=P}m.push(_)}m.push(g);var k=Gvt(m),O=function($){$-=f;var L=p+k[0]+k[1]*$+k[2]*$*$;for(C=3;C<y;++C)L+=k[C]*Math.pow($,C);return L},D=Xw(w,S,O);return D.coefficients=qvt(y,k,-f,p),D.predict=O,D.rSquared=Bm(a,t,e,x,O),D}return i.domain=function(a){return arguments.length?(n=a,i):n},i.x=function(a){return arguments.length?(t=a,i):t},i.y=function(a){return arguments.length?(e=a,i):e},i.order=function(a){return arguments.length?(r=a,i):r},i}function qvt(t,e,r,n){var i=Array(t),a,o,s,l;for(a=0;a<t;++a)i[a]=0;for(a=t-1;a>=0;--a)for(s=e[a],l=1,i[a]+=s,o=1;o<=a;++o)l*=(a+1-o)/o,i[a-o]+=s*Math.pow(r,o)*l;return i[0]+=n,i}function Gvt(t){var e=t.length-1,r=[],n,i,a,o,s;for(n=0;n<e;++n){for(o=n,i=n+1;i<e;++i)Math.abs(t[n][i])>Math.abs(t[n][o])&&(o=i);for(a=n;a<e+1;++a)s=t[a][n],t[a][n]=t[a][o],t[a][o]=s;for(i=n+1;i<e;++i)for(a=e;a>=n;a--)t[a][i]-=t[a][n]*t[n][i]/t[n][n]}for(i=e-1;i>=0;--i){for(s=0,a=i+1;a<e;++a)s+=t[a][i]*r[a];r[i]=(t[e][i]-s)/t[i][i]}return r}function Wvt(){var t=function(a){return a[0]},e=function(a){return a[1]},r;function n(i){var a=0,o=0,s=0,l=0,u=0,c=0,d=r?+r[0]:1/0,f=r?+r[1]:-1/0;xp(i,t,e,function(b,w){var S=Math.log(b),C=Math.log(w);++a,o+=(S-o)/a,s+=(C-s)/a,l+=(S*C-l)/a,u+=(S*S-u)/a,c+=(w-c)/a,r||(b<d&&(d=b),b>f&&(f=b))});var p=Kw(o,s,l,u),v=Ud(p,2),g=v[0],m=v[1];g=Math.exp(g);var y=function(w){return g*Math.pow(w,m)},x=Xw(d,f,y);return x.a=g,x.b=m,x.predict=y,x.rSquared=Bm(i,t,e,c,y),x}return n.domain=function(i){return arguments.length?(r=i,n):r},n.x=function(i){return arguments.length?(t=i,n):t},n.y=function(i){return arguments.length?(e=i,n):e},n}var Hvt={exp:Fvt,linear:$fe,loess:$vt,log:zvt,poly:Uvt,pow:Wvt,quad:Nfe};function Yvt(t,e){var r=10,n={regionStyle:[{position:{start:[t,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[t,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[t,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[t,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-10,offsetY:-10,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:r,offsetY:-10,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:r,offsetY:r,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-10,offsetY:r,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var Xvt=function(t,e){var r=e.view,n=e.options,i=n.xField,a=n.yField,o=r.getScaleByField(i),s=r.getScaleByField(a),l=t.map(function(u){return r.getCoordinate().convert({x:o.scale(u[0]),y:s.scale(u[1])})});return cht(l,!1)},Kvt=function(t){var e=t.options,r=e.xField,n=e.yField,i=e.data,a=e.regressionLine,o=a.type,s=o===void 0?"linear":o,l=a.algorithm,u=a.equation,c,d=null;if(l)c=xe(l)?l:l(i),d=u;else{var f=Hvt[s]().x(function(p){return p[r]}).y(function(p){return p[n]});c=f(i),d=Jvt(s,c)}return[Xvt(c,t),d]},Qvt=function(t){var e,r=t.meta,n=r===void 0?{}:r,i=t.xField,a=t.yField,o=t.data,s=o[0][i],l=o[0][a],u=s>0,c=l>0;function d(f,p){var v=K(n,[f]);function g(y){return K(v,y)}var m={};return p==="x"?(lt(s)&&(lt(g("min"))||(m.min=u?0:s*2),lt(g("max"))||(m.max=u?s*2:0)),m):(lt(l)&&(lt(g("min"))||(m.min=c?0:l*2),lt(g("max"))||(m.max=c?l*2:0)),m)}return F(F({},n),(e={},e[i]=F(F({},n[i]),d(i,"x")),e[a]=F(F({},n[a]),d(a,"y")),e))};function Jvt(t,e){var r,n,i,a=function(u,c){return c===void 0&&(c=4),Math.round(u*Math.pow(10,c))/Math.pow(10,c)},o=function(u){return Number.isFinite(u)?a(u):"?"};switch(t){case"linear":return"y = ".concat(o(e.a),"x + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"exp":return"y = ".concat(o(e.a),"e^(").concat(o(e.b),"x), R^2 = ").concat(o(e.rSquared));case"log":return"y = ".concat(o(e.a),"ln(x) + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"quad":return"y = ".concat(o(e.a),"x^2 + ").concat(o(e.b),"x + ").concat(o(e.c),", R^2 = ").concat(o(e.rSquared));case"poly":for(var s="y = ".concat(o((r=e.coefficients)===null||r===void 0?void 0:r[0])," + ").concat(o((n=e.coefficients)===null||n===void 0?void 0:n[1]),"x + ").concat(o((i=e.coefficients)===null||i===void 0?void 0:i[2]),"x^2"),l=3;l<e.coefficients.length;++l)s+=" + ".concat(o(e.coefficients[l]),"x^").concat(l);return"".concat(s,", R^2 = ").concat(o(e.rSquared));case"pow":return"y = ".concat(o(e.a),"x^").concat(o(e.b),", R^2 = ").concat(o(e.rSquared))}return null}function Bfe(t){var e=t.data,r=e===void 0?[]:e,n=t.xField,i=t.yField;if(r.length){for(var a=!0,o=!0,s=r[0],l=void 0,u=1;u<r.length&&(l=r[u],s[n]!==l[n]&&(a=!1),s[i]!==l[i]&&(o=!1),!(!a&&!o));u++)s=l;var c=[];a&&c.push(n),o&&c.push(i);var d=sr(Qvt(t),c);return fe({},t,{meta:d})}return t}function Zvt(t){var e=t.chart,r=t.options,n=r.data,i=r.type,a=r.color,o=r.shape,s=r.pointStyle,l=r.shapeField,u=r.colorField,c=r.xField,d=r.yField,f=r.sizeField,p=r.size,v=r.tooltip;f&&(p||(p=[2,8]),lt(p)&&(p=[p,p])),v&&!v.fields&&(v=F(F({},v),{fields:[c,d,u,f,l]})),e.data(n),Lo(fe({},t,{options:{seriesField:u,point:{color:a,shape:o,size:p,style:s},tooltip:v}}));var g=Li(e,"point");return i&&g.adjust(i),t}function cA(t){var e,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField,s=Bfe(r);return it(hn((e={},e[a]=n,e[o]=i,e)))(fe({},t,{options:s}))}function egt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return e.axis(a,n),e.axis(o,i),t}function tgt(t){var e=t.chart,r=t.options,n=r.legend,i=r.colorField,a=r.shapeField,o=r.sizeField,s=r.shapeLegend,l=r.sizeLegend,u=n!==!1;return i&&e.legend(i,u?n:!1),a&&(s?e.legend(a,s):e.legend(a,s===!1?!1:n)),o&&e.legend(o,l||!1),!u&&!s&&!l&&e.legend(!1),t}function rgt(t){var e=t.chart,r=t.options,n=r.label,i=r.yField,a=Li(e,"point");if(!n)a.label(!1);else{var o=n.callback,s=Kt(n,["callback"]);a.label({fields:[i],callback:o,cfg:ri(s)})}return t}function ngt(t){var e=t.options,r=e.quadrant,n=[];if(r){var i=r.xBaseline,a=i===void 0?0:i,o=r.yBaseline,s=o===void 0?0:o,l=r.labels,u=r.regionStyle,c=r.lineStyle,d=Yvt(a,s),f=new Array(4).join(",").split(",");f.forEach(function(p,v){n.push(F(F({type:"region",top:!1},d.regionStyle[v].position),{style:fe({},d.regionStyle[v].style,u==null?void 0:u[v])}),F({type:"text",top:!0},fe({},d.labelStyle[v],l==null?void 0:l[v])))}),n.push({type:"line",top:!1,start:["min",s],end:["max",s],style:fe({},d.lineStyle,c)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:fe({},d.lineStyle,c)})}return it(Xr(n))(t)}function igt(t){var e=t.options,r=t.chart,n=e.regressionLine;if(n){var i=n.style,a=n.equationStyle,o=a===void 0?{}:a,s=n.top,l=s===void 0?!1:s,u=n.showEquation,c=u===void 0?!1:u,d={stroke:"#9ba29a",lineWidth:2,opacity:.5},f={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};r.annotation().shape({top:l,render:function(p,v){var g=p.addGroup({id:"".concat(r.id,"-regression-line"),name:"regression-line-group"}),m=Kvt({view:v,options:e}),y=m[0],x=m[1];g.addShape("path",{name:"regression-line",attrs:F(F({path:y},d),i)}),c&&g.addShape("text",{name:"regression-equation",attrs:F(F(F({},f),o),{text:x})})}})}return t}function agt(t){var e=t.chart,r=t.options,n=r.tooltip;return n?e.tooltip(n):n===!1&&e.tooltip(!1),t}function Vfe(t){return it(Zvt,cA,egt,tgt,agt,rgt,ofe,Hw,L5,Br,ngt,pr,Ut,igt)(t)}var ogt=fe({},gt.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});ct("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var sgt=function(t){ae(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.type="scatter",i.on(St.BEFORE_RENDER,function(a){var o,s,l=i,u=l.options,c=l.chart;if(((o=a.data)===null||o===void 0?void 0:o.source)===ja.FILTER){var d=i.chart.filterData(i.chart.getData());cA({chart:c,options:F(F({},u),{data:d})})}((s=a.data)===null||s===void 0?void 0:s.source)===ja.RESET&&cA({chart:c,options:u})}),i}return e.getDefaultOptions=function(){return ogt},e.prototype.changeData=function(r){this.updateOption(Bfe(fe({},this.options,{data:r})));var n=this,i=n.options,a=n.chart;cA({chart:a,options:i}),this.chart.changeData(r)},e.prototype.getSchemaAdaptor=function(){return Vfe},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(gt),Qx="$$stock-range$$",L_="trend",zfe="up",Ufe="down",lgt={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(t,e,r){var n;if(t==="x"){var i=r[0];n=i?i.title:e}else n=e;return{position:t==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},ugt=fe({},gt.getDefaultOptions(),{tooltip:lgt,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function qfe(t,e){return $r(t,function(r){var n=r&&F({},r);if(xe(e)&&n){var i=e[0],a=e[1],o=e[2],s=e[3];n[L_]=n[i]<=n[a]?zfe:Ufe,n[Qx]=[n[i],n[a],n[o],n[s]]}return n})}function cgt(t){var e=t.chart,r=t.options,n=r.yField,i=r.data,a=r.risingFill,o=r.fallingFill,s=r.tooltip,l=r.stockStyle;e.data(qfe(i,n));var u=s;return u!==!1&&(u=fe({},{fields:n},u)),$5(fe({},t,{options:{schema:{shape:"candle",color:[a,o],style:l},yField:Qx,seriesField:L_,rawFields:n,tooltip:u}})),t}function dgt(t){var e,r,n=t.chart,i=t.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,u=(e={},e[l]={type:"timeCat",tickCount:6},e[L_]={values:[zfe,Ufe]},e),c=fe(u,a,(r={},r[l]=sr(o,Va),r[Qx]=sr(s,Va),r));return n.scale(c),t}function fgt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField;return n===!1?e.axis(a,!1):e.axis(a,n),i===!1?e.axis(Qx,!1):e.axis(Qx,i),t}function hgt(t){var e=t.chart,r=t.options,n=r.tooltip;return n!==!1?e.tooltip(n):e.tooltip(!1),t}function pgt(t){var e=t.chart,r=t.options,n=r.legend;return n?e.legend(L_,n):n===!1&&e.legend(!1),t}function Gfe(t){it(Ut,cgt,dgt,fgt,hgt,pgt,Br,pr,Xr(),Hw)(t)}var vgt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="stock",r}return e.getDefaultOptions=function(){return ugt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Gfe},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this.options.yField;this.chart.changeData(qfe(r,n))},e}(gt);function bp(t){return $r(t||[],function(e,r){return{x:"".concat(r),y:e}})}var Jx="x",Wv="y",Wfe={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat(K(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},ggt={appendPadding:2,tooltip:F({},Wfe),animation:{}};function mgt(t){var e=t.chart,r=t.options,n=r.data,i=r.color,a=r.areaStyle,o=r.point,s=r.line,l=o==null?void 0:o.state,u=bp(n);e.data(u);var c=fe({},t,{options:{xField:Jx,yField:Wv,area:{color:i,style:a},line:s,point:o}}),d=fe({},c,{options:{tooltip:!1}}),f=fe({},c,{options:{tooltip:!1,state:l}});return O_(c),Nm(d),Lo(f),e.axis(!1),e.legend(!1),t}function Vm(t){var e,r,n=t.options,i=n.xAxis,a=n.yAxis,o=n.data,s=bp(o);return it(hn((e={},e[Jx]=i,e[Wv]=a,e),(r={},r[Jx]={type:"cat"},r[Wv]=D5(s,Wv),r)))(t)}function Hfe(t){return it(Fo("areaStyle"),mgt,Vm,Wn,Ut,pr,Xr())(t)}var ygt={appendPadding:2,tooltip:F({},Wfe),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},xgt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="tiny-area",r}return e.getDefaultOptions=function(){return ygt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this,i=n.chart,a=n.options;Vm({chart:i,options:a}),i.changeData(bp(r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Hfe},e}(gt);function bgt(t){var e=t.chart,r=t.options,n=r.data,i=r.color,a=r.columnStyle,o=r.columnWidthRatio,s=bp(n);e.data(s);var l=fe({},t,{options:{xField:Jx,yField:Wv,widthRatio:o,interval:{style:a,color:i}}});return $i(l),e.axis(!1),e.legend(!1),e.interaction("element-active"),t}function Yfe(t){return it(Ut,Fo("columnStyle"),bgt,Vm,Wn,pr,Xr())(t)}var wgt={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(t,e){return"".concat(K(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},Sgt={appendPadding:2,tooltip:F({},wgt),animation:{}},Egt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="tiny-column",r}return e.getDefaultOptions=function(){return Sgt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this,i=n.chart,a=n.options;Vm({chart:i,options:a}),i.changeData(bp(r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Yfe},e}(gt);function Agt(t){var e=t.chart,r=t.options,n=r.data,i=r.color,a=r.lineStyle,o=r.point,s=o==null?void 0:o.state,l=bp(n);e.data(l);var u=fe({},t,{options:{xField:Jx,yField:Wv,line:{color:i,style:a},point:o}}),c=fe({},u,{options:{tooltip:!1,state:s}});return Nm(u),Lo(c),e.axis(!1),e.legend(!1),t}function Xfe(t){return it(Agt,Vm,Ut,Wn,pr,Xr())(t)}var Cgt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="tiny-line",r}return e.getDefaultOptions=function(){return ggt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this,i=n.chart,a=n.options;Vm({chart:i,options:a}),i.changeData(bp(r))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Xfe},e}(gt),Tgt={line:nfe,pie:kfe,column:F_,bar:lfe,area:ife,gauge:Efe,"tiny-line":Xfe,"tiny-column":Yfe,"tiny-area":Hfe,"ring-progress":Lfe,progress:jfe,scatter:Vfe,histogram:Cfe,funnel:gfe,stock:Gfe},Igt={line:Tfe,pie:Dfe,column:ufe,bar:Cpt,area:afe,gauge:ivt,"tiny-line":Cgt,"tiny-column":Egt,"tiny-area":xgt,"ring-progress":kvt,progress:Pvt,scatter:sgt,histogram:dvt,funnel:Kpt,stock:vgt},Pgt={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function xF(t,e,r){var n=Igt[t];if(!n){console.error("could not find ".concat(t," plot"));return}var i=Tgt[t];i({chart:e,options:fe({},n.getDefaultOptions(),K(Pgt,t,{}),r)})}function _gt(t){var e=t.chart,r=t.options,n=r.views,i=r.legend;return Y(n,function(a){var o=a.region,s=a.data,l=a.meta,u=a.axes,c=a.coordinate,d=a.interactions,f=a.annotations,p=a.tooltip,v=a.geometries,g=e.createView({region:o});g.data(s);var m={};u&&Y(u,function(y,x){m[x]=sr(y,Va)}),m=fe({},l,m),g.scale(m),u?Y(u,function(y,x){g.axis(x,y)}):g.axis(!1),g.coordinate(c),Y(v,function(y){var x=ro({chart:g,options:y}).ext,b=y.adjust;b&&x.geometry.adjust(b)}),Y(d,function(y){y.enable===!1?g.removeInteraction(y.type):g.interaction(y.type,y.cfg)}),Y(f,function(y){g.annotation()[y.type](F({},y))}),typeof a.animation=="boolean"?g.animate(!1):(g.animate(!0),Y(g.geometries,function(y){y.animate(a.animation)})),p&&(g.interaction("tooltip"),g.tooltip(p))}),i?Y(i,function(a,o){e.legend(o,a)}):e.legend(!1),e.tooltip(r.tooltip),t}function Ogt(t){var e=t.chart,r=t.options,n=r.plots,i=r.data,a=i===void 0?[]:i;return Y(n,function(o){var s=o.type,l=o.region,u=o.options,c=u===void 0?{}:u,d=o.top,f=c.tooltip;if(d){xF(s,e,F(F({},c),{data:a}));return}var p=e.createView(F({region:l},sr(c,Zde)));f&&p.interaction("tooltip"),xF(s,p,F({data:a},c))}),t}function kgt(t){var e=t.chart,r=t.options;return e.option("slider",r.slider),t}function Dgt(t){return it(pr,_gt,Ogt,Br,pr,Ut,Wn,kgt,Xr())(t)}function Mgt(t,e){var r=t.getModel(),n=r.data,i;return xe(n)?i=n[0][e]:i=n[e],i}function Rgt(t){var e=RC(t);Y(e,function(r){r.hasState("active")&&r.setState("active",!1),r.hasState("selected")&&r.setState("selected",!1),r.hasState("inactive")&&r.setState("inactive",!1)})}var jgt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAssociationItems=function(r,n){var i,a=this.context.event,o=n||{},s=o.linkField,l=o.dim,u=[];if(!((i=a.data)===null||i===void 0)&&i.data){var c=a.data.data;Y(r,function(d){var f,p,v=s;if(l==="x"?v=d.getXScale().field:l==="y"?v=(f=d.getYScales().find(function(m){return m.field===v}))===null||f===void 0?void 0:f.field:v||(v=(p=d.getGroupScales()[0])===null||p===void 0?void 0:p.field),!!v){var g=$r(RC(d),function(m){var y=!1,x=!1,b=xe(c)?K(c[0],v):K(c,v);return Mgt(m,v)===b?y=!0:x=!0,{element:m,view:d,active:y,inactive:x}});u.push.apply(u,g)}})}return u},e.prototype.showTooltip=function(r){var n=L9(this.context.view),i=this.getAssociationItems(n,r);Y(i,function(a){if(a.active){var o=a.element.shape.getCanvasBBox();a.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},e.prototype.hideTooltip=function(){var r=L9(this.context.view);Y(r,function(n){n.hideTooltip()})},e.prototype.active=function(r){var n=v0(this.context.view),i=this.getAssociationItems(n,r);Y(i,function(a){var o=a.active,s=a.element;o&&s.setState("active",!0)})},e.prototype.selected=function(r){var n=v0(this.context.view),i=this.getAssociationItems(n,r);Y(i,function(a){var o=a.active,s=a.element;o&&s.setState("selected",!0)})},e.prototype.highlight=function(r){var n=v0(this.context.view),i=this.getAssociationItems(n,r);Y(i,function(a){var o=a.inactive,s=a.element;o&&s.setState("inactive",!0)})},e.prototype.reset=function(){var r=v0(this.context.view);Y(r,function(n){Rgt(n)})},e}(kr);Xe("association",jgt);ct("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});ct("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});ct("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});ct("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var rYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="mix",r}return e.prototype.getSchemaAdaptor=function(){return Dgt},e}(gt),q9;(function(t){t.DEV="DEV",t.BETA="BETA",t.STABLE="STABLE"})(q9||(q9={}));var Hl="first-axes-view",Yl="second-axes-view",eh="series-field-key";function Kfe(t,e,r,n,i){var a=[];e.forEach(function(d){n.forEach(function(f){var p,v=(p={},p[t]=f[t],p[r]=d,p[d]=f[d],p);a.push(v)})});var o=Object.values(Co(a,r)),s=o[0],l=s===void 0?[]:s,u=o[1],c=u===void 0?[]:u;return i?[l.reverse(),c.reverse()]:[l,c]}function ku(t){return t!=="vertical"}function Fgt(t,e,r){var n=e[0],i=e[1],a=n.autoPadding,o=i.autoPadding,s=t.__axisPosition,l=s.layout,u=s.position;if(ku(l)&&u==="top"&&(n.autoPadding=r.instance(a.top,0,a.bottom,a.left),i.autoPadding=r.instance(o.top,a.left,o.bottom,0)),ku(l)&&u==="bottom"&&(n.autoPadding=r.instance(a.top,a.right/2+5,a.bottom,a.left),i.autoPadding=r.instance(o.top,o.right,o.bottom,a.right/2+5)),!ku(l)&&u==="bottom"){var c=a.left>=o.left?a.left:o.left;n.autoPadding=r.instance(a.top,a.right,a.bottom/2+5,c),i.autoPadding=r.instance(a.bottom/2+5,o.right,o.bottom,c)}if(!ku(l)&&u==="top"){var c=a.left>=o.left?a.left:o.left;n.autoPadding=r.instance(a.top,a.right,0,c),i.autoPadding=r.instance(0,o.right,a.top,c)}}function Lgt(t){var e=t.chart,r=t.options,n=r.data,i=r.xField,a=r.yField,o=r.color,s=r.barStyle,l=r.widthRatio,u=r.legend,c=r.layout,d=Kfe(i,a,eh,n,ku(c));u?e.legend(eh,u):u===!1&&e.legend(!1);var f,p,v=d[0],g=d[1];ku(c)?(f=e.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:Hl}),f.coordinate().transpose().reflect("x"),p=e.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Yl}),p.coordinate().transpose(),f.data(v),p.data(g)):(f=e.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:Hl}),p=e.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Yl}),p.coordinate().reflect("y"),f.data(v),p.data(g));var m=fe({},t,{chart:f,options:{widthRatio:l,xField:i,yField:a[0],seriesField:eh,interval:{color:o,style:s}}});$i(m);var y=fe({},t,{chart:p,options:{xField:i,yField:a[1],seriesField:eh,widthRatio:l,interval:{color:o,style:s}}});return $i(y),t}function $gt(t){var e,r,n,i=t.options,a=t.chart,o=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,c=Tt(a,Hl),d=Tt(a,Yl),f={};return km((i==null?void 0:i.meta)||{}).map(function(p){K(i==null?void 0:i.meta,[p,"alias"])&&(f[p]=i.meta[p].alias)}),a.scale((e={},e[eh]={sync:!0,formatter:function(p){return K(f,p,p)}},e)),hn((r={},r[l]=o,r[u[0]]=s[u[0]],r))(fe({},t,{chart:c})),hn((n={},n[l]=o,n[u[1]]=s[u[1]],n))(fe({},t,{chart:d})),t}function Ngt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField,s=r.layout,l=Tt(e,Hl),u=Tt(e,Yl);return(n==null?void 0:n.position)==="bottom"?u.axis(a,F(F({},n),{label:{formatter:function(){return""}}})):u.axis(a,!1),n===!1?l.axis(a,!1):l.axis(a,F({position:ku(s)?"top":"bottom"},n)),i===!1?(l.axis(o[0],!1),u.axis(o[1],!1)):(l.axis(o[0],i[o[0]]),u.axis(o[1],i[o[1]])),e.__axisPosition={position:l.getOptions().axes[a].position,layout:s},t}function Bgt(t){var e=t.chart;return Br(fe({},t,{chart:Tt(e,Hl)})),Br(fe({},t,{chart:Tt(e,Yl)})),t}function Vgt(t){var e=t.chart,r=t.options,n=r.yField,i=r.yAxis;return Uh(fe({},t,{chart:Tt(e,Hl),options:{yAxis:i[n[0]]}})),Uh(fe({},t,{chart:Tt(e,Yl),options:{yAxis:i[n[1]]}})),t}function zgt(t){var e=t.chart;return Ut(fe({},t,{chart:Tt(e,Hl)})),Ut(fe({},t,{chart:Tt(e,Yl)})),Ut(t),t}function Ugt(t){var e=t.chart;return pr(fe({},t,{chart:Tt(e,Hl)})),pr(fe({},t,{chart:Tt(e,Yl)})),t}function qgt(t){var e=this,r,n,i=t.chart,a=t.options,o=a.label,s=a.yField,l=a.layout,u=Tt(i,Hl),c=Tt(i,Yl),d=Li(u,"interval"),f=Li(c,"interval");if(!o)d.label(!1),f.label(!1);else{var p=o.callback,v=Kt(o,["callback"]);v.position||(v.position="middle"),v.offset===void 0&&(v.offset=2);var g=F({},v);if(ku(l)){var m=((r=g.style)===null||r===void 0?void 0:r.textAlign)||(v.position==="middle"?"center":"left");v.style=fe({},v.style,{textAlign:m});var y={left:"right",right:"left",center:"center"};g.style=fe({},g.style,{textAlign:y[m]})}else{var x={top:"bottom",bottom:"top",middle:"middle"};typeof v.position=="string"?v.position=x[v.position]:typeof v.position=="function"&&(v.position=function(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];return x[v.position.apply(e,S)]});var b=((n=g.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";g.style=fe({},g.style,{textBaseline:b});var w={top:"bottom",bottom:"top",middle:"middle"};v.style=fe({},v.style,{textBaseline:w[b]})}d.label({fields:[s[0]],callback:p,cfg:ri(g)}),f.label({fields:[s[1]],callback:p,cfg:ri(v)})}return t}function Ggt(t){return it(Lgt,$gt,Ngt,Vgt,zgt,qgt,Wn,Bgt,Ugt)(t)}var nYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="bidirectional-bar",r}return e.getDefaultOptions=function(){return fe({},t.getDefaultOptions.call(this),{syncViewPadding:Fgt})},e.prototype.changeData=function(r){r===void 0&&(r=[]),this.chart.emit(St.BEFORE_CHANGE_DATA,Hr.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({data:r});var n=this.options,i=n.xField,a=n.yField,o=n.layout,s=Kfe(i,a,eh,r,ku(o)),l=s[0],u=s[1],c=Tt(this.chart,Hl),d=Tt(this.chart,Yl);c.data(l),d.data(u),this.chart.render(!0),this.chart.emit(St.AFTER_CHANGE_DATA,Hr.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ggt},e.SERIES_FIELD_KEY=eh,e}(gt),RM,Eg="$$range$$",Wgt="low-q1-median-q3-high",Hgt="$$y_outliers$$",Qfe="outliers_view",Ygt=fe({},gt.getDefaultOptions(),{meta:(RM={},RM[Eg]={min:0,alias:Wgt},RM),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Jfe=function(t,e){var r=t;if(Array.isArray(e)){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4];r=$r(t,function(l){return l[Eg]=[l[n],l[i],l[a],l[o],l[s]],l})}return r};function Xgt(t){var e=t.chart,r=t.options,n=r.xField,i=r.yField,a=r.groupField,o=r.color,s=r.tooltip,l=r.boxStyle;e.data(Jfe(r.data,i));var u=xe(i)?Eg:i,c=i?xe(i)?i:[i]:[],d=s;d!==!1&&(d=fe({},{fields:xe(i)?i:[]},d));var f=$5(fe({},t,{options:{xField:n,yField:u,seriesField:a,tooltip:d,rawFields:c,label:!1,schema:{shape:"box",color:o,style:l}}})).ext;return a&&f.geometry.adjust("dodge"),t}function Kgt(t){var e=t.chart,r=t.options,n=r.xField,i=r.data,a=r.outliersField,o=r.outliersStyle,s=r.padding,l=r.label;if(!a)return t;var u=e.createView({padding:s,id:Qfe}),c=i.reduce(function(d,f){var p=f[a];return p.forEach(function(v){var g;return d.push(F(F({},f),(g={},g[a]=v,g)))}),d},[]);return u.data(c),Lo({chart:u,options:{xField:n,yField:a,point:{shape:"circle",style:o},label:l}}),u.axis(!1),t}function Qgt(t){var e,r,n=t.chart,i=t.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,c=i.outliersField,d=Array.isArray(u)?Eg:u,f={};if(c){var p=Hgt;f=(e={},e[c]={sync:p,nice:!0},e[d]={sync:p,nice:!0},e)}var v=fe(f,a,(r={},r[l]=sr(o,Va),r[d]=sr(s,Va),r));return n.scale(v),t}function Jgt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField,s=Array.isArray(o)?Eg:o;return n===!1?e.axis(a,!1):e.axis(a,n),i===!1?e.axis(Eg,!1):e.axis(s,i),t}function Zgt(t){var e=t.chart,r=t.options,n=r.legend,i=r.groupField;return i?n?e.legend(i,n):e.legend(i,{position:"bottom"}):e.legend(!1),t}function emt(t){return it(Xgt,Kgt,Qgt,Jgt,Zgt,Wn,Xr(),Br,pr,Ut)(t)}var iYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="box",r}return e.getDefaultOptions=function(){return Ygt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=this.options.yField,i=this.chart.views.find(function(a){return a.id===Qfe});i&&i.data(r),this.chart.changeData(Jfe(r,n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return emt},e}(gt);function G9(t,e,r){return t.length>1?"".concat(e,"_").concat(r):"".concat(e)}function Zfe(t){var e=t.data,r=t.xField,n=t.measureField,i=t.rangeField,a=t.targetField,o=t.layout,s=[],l=[];e.forEach(function(d,f){var p=[d[i]].flat();p.sort(function(m,y){return m-y}),p.forEach(function(m,y){var x,b=y===0?m:p[y]-p[y-1];s.push((x={rKey:"".concat(i,"_").concat(y)},x[r]=r?d[r]:String(f),x[i]=b,x))});var v=[d[n]].flat();v.forEach(function(m,y){var x;s.push((x={mKey:G9(v,n,y)},x[r]=r?d[r]:String(f),x[n]=m,x))});var g=[d[a]].flat();g.forEach(function(m,y){var x;s.push((x={tKey:G9(g,a,y)},x[r]=r?d[r]:String(f),x[a]=m,x))}),l.push(d[i],d[n],d[a])});var u=Math.min.apply(Math,l.flat(1/0)),c=Math.max.apply(Math,l.flat(1/0));return u=u>0?0:u,o==="vertical"&&s.reverse(),{min:u,max:c,ds:s}}function tmt(t){var e=t.chart,r=t.options,n=r.bulletStyle,i=r.targetField,a=r.rangeField,o=r.measureField,s=r.xField,l=r.color,u=r.layout,c=r.size,d=r.label,f=Zfe(r),p=f.min,v=f.max,g=f.ds;e.data(g);var m=fe({},t,{options:{xField:s,yField:a,seriesField:"rKey",isStack:!0,label:K(d,"range"),interval:{color:K(l,"range"),style:K(n,"range"),size:K(c,"range")}}});$i(m),e.geometries[0].tooltip(!1);var y=fe({},t,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:K(d,"measure"),interval:{color:K(l,"measure"),style:K(n,"measure"),size:K(c,"measure")}}});$i(y);var x=fe({},t,{options:{xField:s,yField:i,seriesField:"tKey",label:K(d,"target"),point:{color:K(l,"target"),style:K(n,"target"),size:qe(K(c,"target"))?function(b){return K(c,"target")(b)/2}:K(c,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return Lo(x),u==="horizontal"&&e.coordinate().transpose(),F(F({},t),{ext:{data:{min:p,max:v}}})}function ehe(t){var e,r,n=t.options,i=t.ext,a=n.xAxis,o=n.yAxis,s=n.targetField,l=n.rangeField,u=n.measureField,c=n.xField,d=i.data;return it(hn((e={},e[c]=a,e[u]=o,e),(r={},r[u]={min:d==null?void 0:d.min,max:d==null?void 0:d.max,sync:!0},r[s]={sync:"".concat(u)},r[l]={sync:"".concat(u)},r)))(t)}function rmt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.measureField,s=r.rangeField,l=r.targetField;return e.axis("".concat(s),!1),e.axis("".concat(l),!1),n===!1?e.axis("".concat(a),!1):e.axis("".concat(a),n),i===!1?e.axis("".concat(o),!1):e.axis("".concat(o),i),t}function nmt(t){var e=t.chart,r=t.options,n=r.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),t}function imt(t){var e=t.chart,r=t.options,n=r.label,i=r.measureField,a=r.targetField,o=r.rangeField,s=e.geometries,l=s[0],u=s[1],c=s[2];return K(n,"range")?l.label("".concat(o),F({layout:[{type:"limit-in-plot"}]},ri(n.range))):l.label(!1),K(n,"measure")?u.label("".concat(i),F({layout:[{type:"limit-in-plot"}]},ri(n.measure))):u.label(!1),K(n,"target")?c.label("".concat(a),F({layout:[{type:"limit-in-plot"}]},ri(n.target))):c.label(!1),t}function amt(t){it(tmt,ehe,rmt,nmt,Ut,imt,Wn,Br,pr)(t)}var omt=fe({},gt.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),aYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="bullet",r}return e.getDefaultOptions=function(){return omt},e.prototype.changeData=function(r){this.updateOption({data:r});var n=Zfe(this.options),i=n.min,a=n.max,o=n.ds;ehe({options:this.options,ext:{data:{min:i,max:a}},chart:this.chart}),this.chart.changeData(o)},e.prototype.getSchemaAdaptor=function(){return amt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(gt),smt={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function lmt(t,e,r){Y(t,function(n,i){n.inEdges=e.filter(function(a){return"".concat(r.target(a))==="".concat(i)}),n.outEdges=e.filter(function(a){return"".concat(r.source(a))==="".concat(i)}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(a){n.value+=r.targetWeight(a)}),n.outEdges.forEach(function(a){n.value+=r.sourceWeight(a)})})}function umt(t,e){var r={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return"".concat(e.id(i)).localeCompare("".concat(e.id(a)))}},n=r[e.sortBy];!n&&qe(e.sortBy)&&(n=e.sortBy),n&&t.sort(n)}function cmt(t,e){var r=t.length;if(!r)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var n=e.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=n/(2*r),a=e.nodeWidthRatio;if(a<=0||a>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;t.forEach(function(l){o+=l.value}),t.forEach(function(l){l.weight=l.value/o,l.width=l.weight*(1-n),l.height=a}),t.forEach(function(l,u){for(var c=0,d=u-1;d>=0;d--)c+=t[d].width+2*i;var f=l.minX=i+c,p=l.maxX=l.minX+l.width,v=l.minY=e.y-a/2,g=l.maxY=v+a;l.x=[f,p,p,f],l.y=[v,v,g,g]})}else{var s=1/r;t.forEach(function(l,u){l.x=(u+.5)*s,l.y=e.y})}return t}function dmt(t,e,r){if(r.weight){var n={};Y(t,function(i,a){n[a]=i.value}),e.forEach(function(i){var a=r.source(i),o=r.target(i),s=t[a],l=t[o];if(s&&l){var u=n[a],c=r.sourceWeight(i),d=s.minX+(s.value-u)/s.value*s.width,f=d+c/s.value*s.width;n[a]-=c;var p=n[o],v=r.targetWeight(i),g=l.minX+(l.value-p)/l.value*l.width,m=g+v/l.value*l.width;n[o]-=v;var y=r.y;i.x=[d,f,g,m],i.y=[y,y,y,y],i.source=s,i.target=l}})}else e.forEach(function(i){var a=t[r.source(i)],o=t[r.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y],i.source=a,i.target=o)});return e}function fmt(t){return dr({},smt,t)}function hmt(t,e){var r=fmt(t),n={},i=e.nodes,a=e.links;i.forEach(function(l){var u=r.id(l);n[u]=l}),lmt(n,a,r),umt(i,r);var o=cmt(i,r),s=dmt(n,a,r);return{nodes:o,links:s}}var the="x",rhe="y",nhe="name",ihe="source",pmt={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(t,e){var r=(t[0]+t[1])/2,n=r>.5?-4:4;return{offsetX:n,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(t){return!K(t,[0,"data","isNode"])},formatter:function(t){var e=t.source,r=t.target,n=t.value;return{name:"".concat(e," -> ").concat(r),value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function vmt(t){var e=t.options,r=e.data,n=e.sourceField,i=e.targetField,a=e.weightField,o=e.nodePaddingRatio,s=e.nodeWidthRatio,l=e.rawFields,u=l===void 0?[]:l,c=Nde(r,n,i,a),d=hmt({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},c),f=d.nodes,p=d.links,v=f.map(function(m){return F(F({},sr(m,Je(["id","x","y","name"],u,!0))),{isNode:!0})}),g=p.map(function(m){return F(F({source:m.source.name,target:m.target.name,name:m.source.name||m.target.name},sr(m,Je(["x","y","value"],u,!0))),{isNode:!1})});return F(F({},t),{ext:F(F({},t.ext),{chordData:{nodesData:v,edgesData:g}})})}function gmt(t){var e,r=t.chart;return r.scale((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},e[nhe]={sync:"color"},e[ihe]={sync:"color"},e)),t}function mmt(t){var e=t.chart;return e.axis(!1),t}function ymt(t){var e=t.chart;return e.legend(!1),t}function xmt(t){var e=t.chart,r=t.options,n=r.tooltip;return e.tooltip(n),t}function bmt(t){var e=t.chart;return e.coordinate("polar").reflect("y"),t}function wmt(t){var e=t.chart,r=t.options,n=t.ext.chordData.nodesData,i=r.nodeStyle,a=r.label,o=r.tooltip,s=e.createView();return s.data(n),k_({chart:s,options:{xField:the,yField:rhe,seriesField:nhe,polygon:{style:i},label:a,tooltip:o}}),t}function Smt(t){var e=t.chart,r=t.options,n=t.ext.chordData.edgesData,i=r.edgeStyle,a=r.tooltip,o=e.createView();o.data(n);var s={xField:the,yField:rhe,seriesField:ihe,edge:{style:i,shape:"arc"},tooltip:a};return Xde({chart:o,options:s}),t}function Emt(t){var e=t.chart,r=t.options,n=r.animation;return Ww(e,n,iht(e)),t}function Amt(t){return it(Ut,vmt,bmt,gmt,mmt,ymt,xmt,Smt,wmt,Br,af,Emt)(t)}var oYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="chord",r}return e.getDefaultOptions=function(){return pmt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Amt},e}(gt),Cmt=["x","y","r","name","value","path","depth"],Tmt={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},W9=4,Imt=0,H9=5,Y9="drilldown-bread-crumb",Pmt={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},Zx="hierarchy-data-transform-params",_mt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.name="drill-down",r.historyCache=[],r.breadCrumbGroup=null,r.breadCrumbCfg=Pmt,r}return e.prototype.click=function(){var r=K(this.context,["event","data","data"]);if(!r)return!1;this.drill(r),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(this.breadCrumbGroup){var r=this.context.view.getCoordinate(),n=this.breadCrumbGroup,i=n.getBBox(),a=this.getButtonCfg().position,o={x:r.start.x,y:r.end.y-(i.height+H9*2)};r.isPolar&&(o={x:0,y:0}),a==="bottom-left"&&(o={x:r.start.x,y:r.start.y});var s=Ka.transform(null,[["t",o.x+Imt,o.y+i.height+H9]]);n.setMatrix(s)}},e.prototype.back=function(){Zn(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(r){var n=this.context.view,i=K(n,["interactions","drill-down","cfg","transformData"],function(u){return u}),a=i(F({data:r.data},r[Zx]));n.changeData(a);for(var o=[],s=r;s;){var l=s.data;o.unshift({id:"".concat(l.name,"_").concat(s.height,"_").concat(s.depth),name:l.name,children:i(F({data:l},r[Zx]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},e.prototype.backTo=function(r){if(!(!r||r.length<=0)){var n=this.context.view,i=Fn(r).children;n.changeData(i),r.length>1?(this.historyCache=r,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var r=this.context.view,n=K(r,["interactions","drill-down","cfg","drillDownConfig"]);return fe(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var r=this,n=this.getButtonCfg(),i=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Y9});var a=0;i.forEach(function(o,s){var l=r.breadCrumbGroup.addShape({type:"text",id:o.id,name:"".concat(Y9,"_").concat(o.name,"_text"),attrs:F(F({text:s===0&&!ve(n.rootText)?n.rootText:o.name},n.textStyle),{x:a,y:0})}),u=l.getBBox();if(a+=u.width+W9,l.on("click",function(f){var p,v=f.target.get("id");if(v!==((p=Fn(i))===null||p===void 0?void 0:p.id)){var g=i.slice(0,i.findIndex(function(m){return m.id===v})+1);r.backTo(g)}}),l.on("mouseenter",function(f){var p,v=f.target.get("id");v!==((p=Fn(i))===null||p===void 0?void 0:p.id)?l.attr(n.activeTextStyle):l.attr({cursor:"default"})}),l.on("mouseleave",function(){l.attr(n.textStyle)}),s<i.length-1){var c=r.breadCrumbGroup.addShape({type:"text",name:"".concat(n.name,"_").concat(o.name,"_divider"),attrs:F(F({text:n.dividerText},n.textStyle),{x:a,y:0})}),d=c.getBBox();a+=d.width+W9}})},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),t.prototype.destroy.call(this)},e}(kr);function Omt(t,e){return t.parent===e.parent?1:2}function kmt(t){return t.reduce(Dmt,0)/t.length}function Dmt(t,e){return t+e.x}function Mmt(t){return 1+t.reduce(Rmt,0)}function Rmt(t,e){return Math.max(t,e.y)}function jmt(t){for(var e;e=t.children;)t=e[0];return t}function Fmt(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Lmt(){var t=Omt,e=1,r=1,n=!1;function i(a){var o,s=0;a.eachAfter(function(f){var p=f.children;p?(f.x=kmt(p),f.y=Mmt(p)):(f.x=o?s+=t(f,o):0,f.y=0,o=f)});var l=jmt(a),u=Fmt(a),c=l.x-t(l,u)/2,d=u.x+t(u,l)/2;return a.eachAfter(n?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*r}:function(f){f.x=(f.x-c)/(d-c)*e,f.y=(1-(a.y?f.y/a.y:1))*r})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(n=!1,e=+a[0],r=+a[1],i):n?null:[e,r]},i.nodeSize=function(a){return arguments.length?(n=!0,e=+a[0],r=+a[1],i):n?[e,r]:null},i}function $mt(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function Nmt(){return this.eachAfter($mt)}function Bmt(t,e){let r=-1;for(const n of this)t.call(e,n,++r,this);return this}function Vmt(t,e){for(var r=this,n=[r],i,a,o=-1;r=n.pop();)if(t.call(e,r,++o,this),i=r.children)for(a=i.length-1;a>=0;--a)n.push(i[a]);return this}function zmt(t,e){for(var r=this,n=[r],i=[],a,o,s,l=-1;r=n.pop();)if(i.push(r),a=r.children)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;r=i.pop();)t.call(e,r,++l,this);return this}function Umt(t,e){let r=-1;for(const n of this)if(t.call(e,n,++r,this))return n}function qmt(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)r+=n[i].value;e.value=r})}function Gmt(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Wmt(t){for(var e=this,r=Hmt(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;t!==r;)n.splice(i,0,t),t=t.parent;return n}function Hmt(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),i=null;for(t=r.pop(),e=n.pop();t===e;)i=t,t=r.pop(),e=n.pop();return i}function Ymt(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Xmt(){return Array.from(this)}function Kmt(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Qmt(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function*Jmt(){var t=this,e,r=[t],n,i,a;do for(e=r.reverse(),r=[];t=e.pop();)if(yield t,n=t.children)for(i=0,a=n.length;i<a;++i)r.push(n[i]);while(r.length)}function zm(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=tyt)):e===void 0&&(e=eyt);for(var r=new Ag(t),n,i=[r],a,o,s,l;n=i.pop();)if((o=e(n.data))&&(l=(o=Array.from(o)).length))for(n.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Ag(o[s])),a.parent=n,a.depth=n.depth+1;return r.eachBefore(ahe)}function Zmt(){return zm(this).eachBefore(ryt)}function eyt(t){return t.children}function tyt(t){return Array.isArray(t)?t[1]:null}function ryt(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function ahe(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ag(t){this.data=t,this.depth=this.height=0,this.parent=null}Ag.prototype=zm.prototype={constructor:Ag,count:Nmt,each:Bmt,eachAfter:zmt,eachBefore:Vmt,find:Umt,sum:qmt,sort:Gmt,path:Wmt,ancestors:Ymt,descendants:Xmt,leaves:Kmt,links:Qmt,copy:Zmt,[Symbol.iterator]:Jmt};function nyt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iyt(t){for(var e=t.length,r,n;e;)n=Math.random()*e--|0,r=t[e],t[e]=t[n],t[n]=r;return t}function ohe(t){for(var e=0,r=(t=iyt(Array.from(t))).length,n=[],i,a;e<r;)i=t[e],a&&she(a,i)?++e:(a=oyt(n=ayt(n,i)),e=0);return a}function ayt(t,e){var r,n;if(jM(e,t))return[e];for(r=0;r<t.length;++r)if(XS(e,t[r])&&jM(g0(t[r],e),t))return[t[r],e];for(r=0;r<t.length-1;++r)for(n=r+1;n<t.length;++n)if(XS(g0(t[r],t[n]),e)&&XS(g0(t[r],e),t[n])&&XS(g0(t[n],e),t[r])&&jM(lhe(t[r],t[n],e),t))return[t[r],t[n],e];throw new Error}function XS(t,e){var r=t.r-e.r,n=e.x-t.x,i=e.y-t.y;return r<0||r*r<n*n+i*i}function she(t,e){var r=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,n=e.x-t.x,i=e.y-t.y;return r>0&&r*r>n*n+i*i}function jM(t,e){for(var r=0;r<e.length;++r)if(!she(t,e[r]))return!1;return!0}function oyt(t){switch(t.length){case 1:return syt(t[0]);case 2:return g0(t[0],t[1]);case 3:return lhe(t[0],t[1],t[2])}}function syt(t){return{x:t.x,y:t.y,r:t.r}}function g0(t,e){var r=t.x,n=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-r,u=o-n,c=s-i,d=Math.sqrt(l*l+u*u);return{x:(r+a+l/d*c)/2,y:(n+o+u/d*c)/2,r:(d+i+s)/2}}function lhe(t,e,r){var n=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,u=r.x,c=r.y,d=r.r,f=n-o,p=n-u,v=i-s,g=i-c,m=l-a,y=d-a,x=n*n+i*i-a*a,b=x-o*o-s*s+l*l,w=x-u*u-c*c+d*d,S=p*v-f*g,C=(v*w-g*b)/(S*2)-n,E=(g*m-v*y)/S,A=(p*b-f*w)/(S*2)-i,P=(f*y-p*m)/S,_=E*E+P*P-1,k=2*(a+C*E+A*P),O=C*C+A*A-a*a,D=-(_?(k+Math.sqrt(k*k-4*_*O))/(2*_):O/k);return{x:n+C+E*D,y:i+A+P*D,r:D}}function X9(t,e,r){var n=t.x-e.x,i,a,o=t.y-e.y,s,l,u=n*n+o*o;u?(a=e.r+r.r,a*=a,l=t.r+r.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),r.x=t.x-i*n-s*o,r.y=t.y-i*o+s*n):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),r.x=e.x+i*n-s*o,r.y=e.y+i*o+s*n)):(r.x=e.x+r.r,r.y=e.y)}function K9(t,e){var r=t.r+e.r-1e-6,n=e.x-t.x,i=e.y-t.y;return r>0&&r*r>n*n+i*i}function Q9(t){var e=t._,r=t.next._,n=e.r+r.r,i=(e.x*r.r+r.x*e.r)/n,a=(e.y*r.r+r.y*e.r)/n;return i*i+a*a}function KS(t){this._=t,this.next=null,this.previous=null}function uhe(t){if(!(i=(t=nyt(t)).length))return 0;var e,r,n,i,a,o,s,l,u,c,d;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(i>2))return e.r+r.r;X9(r,e,n=t[2]),e=new KS(e),r=new KS(r),n=new KS(n),e.next=n.previous=r,r.next=e.previous=n,n.next=r.previous=e;e:for(s=3;s<i;++s){X9(e._,r._,n=t[s]),n=new KS(n),l=r.next,u=e.previous,c=r._.r,d=e._.r;do if(c<=d){if(K9(l._,n._)){r=l,e.next=r,r.previous=e,--s;continue e}c+=l._.r,l=l.next}else{if(K9(u._,n._)){e=u,e.next=r,r.previous=e,--s;continue e}d+=u._.r,u=u.previous}while(l!==u.next);for(n.previous=e,n.next=r,e.next=r.previous=r=n,a=Q9(e);(n=n.next)!==r;)(o=Q9(n))<a&&(e=n,a=o);r=e.next}for(e=[r._],n=r;(n=n.next)!==r;)e.push(n._);for(n=ohe(e),s=0;s<i;++s)e=t[s],e.x-=n.x,e.y-=n.y;return n.r}function lyt(t){return uhe(t),t}function uyt(t){return t==null?null:$C(t)}function $C(t){if(typeof t!="function")throw new Error;return t}function zf(){return 0}function hv(t){return function(){return t}}function cyt(t){return Math.sqrt(t.value)}function che(){var t=null,e=1,r=1,n=zf;function i(a){return a.x=e/2,a.y=r/2,t?a.eachBefore(J9(t)).eachAfter(FM(n,.5)).eachBefore(Z9(1)):a.eachBefore(J9(cyt)).eachAfter(FM(zf,1)).eachAfter(FM(n,a.r/Math.min(e,r))).eachBefore(Z9(Math.min(e,r)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=uyt(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],r=+a[1],i):[e,r]},i.padding=function(a){return arguments.length?(n=typeof a=="function"?a:hv(+a),i):n},i}function J9(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function FM(t,e){return function(r){if(n=r.children){var n,i,a=n.length,o=t(r)*e||0,s;if(o)for(i=0;i<a;++i)n[i].r+=o;if(s=uhe(n),o)for(i=0;i<a;++i)n[i].r-=o;r.r=s+o}}}function Z9(t){return function(e){var r=e.parent;e.r*=t,r&&(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}function dhe(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Qw(t,e,r,n,i){for(var a=t.children,o,s=-1,l=a.length,u=t.value&&(n-e)/t.value;++s<l;)o=a[s],o.y0=r,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function fhe(){var t=1,e=1,r=0,n=!1;function i(o){var s=o.height+1;return o.x0=o.y0=r,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),n&&o.eachBefore(dhe),o}function a(o,s){return function(l){l.children&&Qw(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,c=l.y0,d=l.x1-r,f=l.y1-r;d<u&&(u=d=(u+d)/2),f<c&&(c=f=(c+f)/2),l.x0=u,l.y0=c,l.x1=d,l.y1=f}}return i.round=function(o){return arguments.length?(n=!!o,i):n},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(r=+o,i):r},i}var dyt={depth:-1},eY={};function fyt(t){return t.id}function hyt(t){return t.parentId}function pyt(){var t=fyt,e=hyt;function r(n){var i=Array.from(n),a=i.length,o,s,l,u,c,d,f,p=new Map;for(s=0;s<a;++s)o=i[s],c=i[s]=new Ag(o),(d=t(o,s,n))!=null&&(d+="")&&(f=c.id=d,p.set(f,p.has(f)?eY:c)),(d=e(o,s,n))!=null&&(d+="")&&(c.parent=d);for(s=0;s<a;++s)if(c=i[s],d=c.parent){if(u=p.get(d),!u)throw new Error("missing: "+d);if(u===eY)throw new Error("ambiguous: "+d);u.children?u.children.push(c):u.children=[c],c.parent=u}else{if(l)throw new Error("multiple roots");l=c}if(!l)throw new Error("no root");if(l.parent=dyt,l.eachBefore(function(v){v.depth=v.parent.depth+1,--a}).eachBefore(ahe),l.parent=null,a>0)throw new Error("cycle");return l}return r.id=function(n){return arguments.length?(t=$C(n),r):t},r.parentId=function(n){return arguments.length?(e=$C(n),r):e},r}function vyt(t,e){return t.parent===e.parent?1:2}function LM(t){var e=t.children;return e?e[0]:t.t}function $M(t){var e=t.children;return e?e[e.length-1]:t.t}function gyt(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function myt(t){for(var e=0,r=0,n=t.children,i=n.length,a;--i>=0;)a=n[i],a.z+=e,a.m+=e,e+=a.s+(r+=a.c)}function yyt(t,e,r){return t.a.parent===e.parent?t.a:r}function dA(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}dA.prototype=Object.create(Ag.prototype);function xyt(t){for(var e=new dA(t,0),r,n=[e],i,a,o,s;r=n.pop();)if(a=r._.children)for(r.children=new Array(s=a.length),o=s-1;o>=0;--o)n.push(i=r.children[o]=new dA(a[o],o)),i.parent=r;return(e.parent=new dA(null,0)).children=[e],e}function byt(){var t=vyt,e=1,r=1,n=null;function i(u){var c=xyt(u);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),n)u.eachBefore(l);else{var d=u,f=u,p=u;u.eachBefore(function(x){x.x<d.x&&(d=x),x.x>f.x&&(f=x),x.depth>p.depth&&(p=x)});var v=d===f?1:t(d,f)/2,g=v-d.x,m=e/(f.x+v+g),y=r/(p.depth||1);u.eachBefore(function(x){x.x=(x.x+g)*m,x.y=x.depth*y})}return u}function a(u){var c=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(c){myt(u);var p=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-p):u.z=p}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,d){if(c){for(var f=u,p=u,v=c,g=f.parent.children[0],m=f.m,y=p.m,x=v.m,b=g.m,w;v=$M(v),f=LM(f),v&&f;)g=LM(g),p=$M(p),p.a=u,w=v.z+x-f.z-m+t(v._,f._),w>0&&(gyt(yyt(v,u,d),u,w),m+=w,y+=w),x+=v.m,m+=f.m,b+=g.m,y+=p.m;v&&!$M(p)&&(p.t=v,p.m+=x-y),f&&!LM(g)&&(g.t=f,g.m+=m-b,d=u)}return d}function l(u){u.x*=e,u.y=u.depth*r}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(n=!1,e=+u[0],r=+u[1],i):n?null:[e,r]},i.nodeSize=function(u){return arguments.length?(n=!0,e=+u[0],r=+u[1],i):n?[e,r]:null},i}function $_(t,e,r,n,i){for(var a=t.children,o,s=-1,l=a.length,u=t.value&&(i-r)/t.value;++s<l;)o=a[s],o.x0=e,o.x1=n,o.y0=r,o.y1=r+=o.value*u}var hhe=(1+Math.sqrt(5))/2;function phe(t,e,r,n,i,a){for(var o=[],s=e.children,l,u,c=0,d=0,f=s.length,p,v,g=e.value,m,y,x,b,w,S,C;c<f;){p=i-r,v=a-n;do m=s[d++].value;while(!m&&d<f);for(y=x=m,S=Math.max(v/p,p/v)/(g*t),C=m*m*S,w=Math.max(x/C,C/y);d<f;++d){if(m+=u=s[d].value,u<y&&(y=u),u>x&&(x=u),C=m*m*S,b=Math.max(x/C,C/y),b>w){m-=u;break}w=b}o.push(l={value:m,dice:p<v,children:s.slice(c,d)}),l.dice?Qw(l,r,n,i,g?n+=v*m/g:a):$_(l,r,n,g?r+=p*m/g:i,a),g-=m,c=d}return o}const vhe=function t(e){function r(n,i,a,o,s){phe(e,n,i,a,o,s)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(hhe);function ghe(){var t=vhe,e=!1,r=1,n=1,i=[0],a=zf,o=zf,s=zf,l=zf,u=zf;function c(f){return f.x0=f.y0=0,f.x1=r,f.y1=n,f.eachBefore(d),i=[0],e&&f.eachBefore(dhe),f}function d(f){var p=i[f.depth],v=f.x0+p,g=f.y0+p,m=f.x1-p,y=f.y1-p;m<v&&(v=m=(v+m)/2),y<g&&(g=y=(g+y)/2),f.x0=v,f.y0=g,f.x1=m,f.y1=y,f.children&&(p=i[f.depth+1]=a(f)/2,v+=u(f)-p,g+=o(f)-p,m-=s(f)-p,y-=l(f)-p,m<v&&(v=m=(v+m)/2),y<g&&(g=y=(g+y)/2),t(f,v,g,m,y))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(r=+f[0],n=+f[1],c):[r,n]},c.tile=function(f){return arguments.length?(t=$C(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:hv(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:hv(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:hv(+f),c):s},c.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:hv(+f),c):l},c.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:hv(+f),c):u},c}function wyt(t,e,r,n,i){var a=t.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;c(0,s,t.value,e,r,n,i);function c(d,f,p,v,g,m,y){if(d>=f-1){var x=a[d];x.x0=v,x.y0=g,x.x1=m,x.y1=y;return}for(var b=u[d],w=p/2+b,S=d+1,C=f-1;S<C;){var E=S+C>>>1;u[E]<w?S=E+1:C=E}w-u[S-1]<u[S]-w&&d+1<S&&--S;var A=u[S]-b,P=p-A;if(m-v>y-g){var _=p?(v*P+m*A)/p:m;c(d,S,A,v,g,_,y),c(S,f,P,_,g,m,y)}else{var k=p?(g*P+y*A)/p:y;c(d,S,A,v,g,m,k),c(S,f,P,v,k,m,y)}}}function Syt(t,e,r,n,i){(t.depth&1?$_:Qw)(t,e,r,n,i)}const Eyt=function t(e){function r(n,i,a,o,s){if((l=n._squarify)&&l.ratio===e)for(var l,u,c,d,f=-1,p,v=l.length,g=n.value;++f<v;){for(u=l[f],c=u.children,d=u.value=0,p=c.length;d<p;++d)u.value+=c[d].value;u.dice?Qw(u,i,a,o,g?a+=(s-a)*u.value/g:s):$_(u,i,a,g?i+=(o-i)*u.value/g:o,s),g-=u.value}else n._squarify=l=phe(e,n,i,a,o,s),l.ratio=e}return r.ratio=function(n){return t((n=+n)>1?n:1)},r}(hhe),tY=Object.freeze(Object.defineProperty({__proto__:null,cluster:Lmt,hierarchy:zm,pack:che,packEnclose:ohe,packSiblings:lyt,partition:fhe,stratify:pyt,tree:byt,treemap:ghe,treemapBinary:wyt,treemapDice:Qw,treemapResquarify:Eyt,treemapSlice:$_,treemapSliceDice:Syt,treemapSquarify:vhe},Symbol.toStringTag,{value:"Module"}));var mhe="nodeIndex",yhe="childNodeCount",H5="nodeAncestor",NM="Invalid field: it must be a string!";function Y5(t,e){var r=t.field,n=t.fields;if(nt(r))return r;if(xe(r))return console.warn(NM),r[0];if(console.warn("".concat(NM," will try to get fields instead.")),nt(n))return n;if(xe(n)&&n.length)return n[0];throw new TypeError(NM)}function X5(t){var e=[];if(t&&t.each){var r,n;t.each(function(i){var a,o;i.parent!==r?(r=i.parent,n=0):n+=1;var s=wi((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(function(l){return e.find(function(u){return u.name===l.name})||l}),function(l){var u=l.depth;return u>0&&u<i.depth});i[H5]=s,i[yhe]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[mhe]=n,e.push(i)})}else t&&t.eachNode&&t.eachNode(function(i){e.push(i)});return e}var Ayt={field:"value",as:["x","y","r"],sort:function(t,e){return e.value-t.value}};function Cyt(t,e){e=dr({},Ayt,e);var r=e.as;if(!xe(r)||r.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=Y5(e)}catch(u){console.warn(u)}var i=function(u){return che().size(e.size).padding(e.padding)(zm(u).sum(function(c){return c[n]}).sort(e.sort))},a=i(t),o=r[0],s=r[1],l=r[2];return a.each(function(u){u[o]=u.x,u[s]=u.y,u[l]=u.r}),X5(a)}function xhe(t){var e=t.data,r=t.hierarchyConfig,n=t.rawFields,i=n===void 0?[]:n,a=t.enableDrillDown,o=Cyt(e,F(F({},r),{field:"value",as:["x","y","r"]})),s=[];return o.forEach(function(l){for(var u,c=l.data.name,d=F({},l);d.depth>1;)c="".concat((u=d.parent.data)===null||u===void 0?void 0:u.name," / ").concat(c),d=d.parent;if(a&&l.depth>2)return null;var f=fe({},l.data,F(F(F({},sr(l.data,i)),{path:c}),l));f.ext=r,f[Zx]={hierarchyConfig:r,rawFields:i,enableDrillDown:a},s.push(f)}),s}function bhe(t,e,r){var n=M5([t,e]),i=n[0],a=n[1],o=n[2],s=n[3],l=r.width,u=r.height,c=l-(s+a),d=u-(i+o),f=Math.min(c,d),p=(c-f)/2,v=(d-f)/2,g=i+v,m=a+p,y=o+v,x=s+p,b=[g,m,y,x],w=f<0?0:f;return{finalPadding:b,finalSize:w}}function Tyt(t){var e=t.chart,r=Math.min(e.viewBBox.width,e.viewBBox.height);return fe({options:{size:function(n){var i=n.r;return i*r}}},t)}function Iyt(t){var e=t.options,r=t.chart,n=r.viewBBox,i=e.padding,a=e.appendPadding,o=e.drilldown,s=a;if(o!=null&&o.enabled){var l=T_(r.appendPadding,K(o,["breadCrumb","position"]));s=M5([l,a])}var u=bhe(i,s,n).finalPadding;return r.padding=u,r.appendPadding=0,t}function Pyt(t){var e=t.chart,r=t.options,n=e.padding,i=e.appendPadding,a=r.color,o=r.colorField,s=r.pointStyle,l=r.hierarchyConfig,u=r.sizeField,c=r.rawFields,d=c===void 0?[]:c,f=r.drilldown,p=xhe({data:r.data,hierarchyConfig:l,enableDrillDown:f==null?void 0:f.enabled,rawFields:d});e.data(p);var v=e.viewBBox,g=bhe(n,i,v).finalSize,m=function(y){var x=y.r;return x*g};return u&&(m=function(y){return y[u]*g}),Lo(fe({},t,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:Je(Je([],Cmt,!0),d,!0),point:{color:a,style:s,shape:"circle",size:m}}})),t}function _yt(t){return it(hn({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(t)}function Oyt(t){var e=t.chart,r=t.options,n=r.tooltip;if(n===!1)e.tooltip(!1);else{var i=n;K(n,"fields")||(i=fe({},{customItems:function(a){return a.map(function(o){var s=K(e.getOptions(),"scales"),l=K(s,["name","formatter"],function(c){return c}),u=K(s,["value","formatter"],function(c){return c});return F(F({},o),{name:l(o.data.name),value:u(o.data.value)})})}},i)),e.tooltip(i)}return t}function kyt(t){var e=t.chart;return e.axis(!1),t}function Dyt(t){var e=t.drilldown,r=t.interactions,n=r===void 0?[]:r;return e!=null&&e.enabled?fe({},t,{interactions:Je(Je([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:xhe,enableDrillDown:!0}}],!1)}):t}function Myt(t){var e=t.chart,r=t.options;return Br({chart:e,options:Dyt(r)}),t}function Ryt(t){return it(Fo("pointStyle"),Tyt,Iyt,Ut,_yt,Pyt,kyt,$m,Oyt,Myt,pr,Xr())(t)}function rY(t){var e=K(t,["event","data","data"],{});return xe(e.children)&&e.children.length>0}function nY(t){var e=t.view.getCoordinate(),r=e.innerRadius;if(r){var n=t.event,i=n.x,a=n.y,o=e.center,s=o.x,l=o.y,u=e.getRadius()*r,c=Math.sqrt(Math.pow(s-i,2)+Math.pow(l-a,2));return c<u}return!1}Xe("drill-down-action",_mt);ct("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:rY},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:nY}],start:[{trigger:"element:click",isEnable:rY,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:nY,action:["drill-down-action:back"]}]});var sYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="circle-packing",r}return e.getDefaultOptions=function(){return Tmt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Ryt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(gt),$o="left-axes-view",No="right-axes-view",whe={nice:!0,label:{autoHide:!0,autoRotate:!1}},jyt=F(F({},whe),{position:"left"}),Fyt=F(F({},whe),{position:"right",grid:null}),Cg;(function(t){t.Left="Left",t.Right="Right"})(Cg||(Cg={}));var qh;(function(t){t.Line="line",t.Column="column"})(qh||(qh={}));function bF(t){return K(t,"geometry")===qh.Line}function K5(t){return K(t,"geometry")===qh.Column}function iY(t,e,r){return K5(r)?fe({},{geometry:qh.Column,label:r.label&&r.isRange?{content:function(n){var i;return(i=n[e])===null||i===void 0?void 0:i.join("-")}}:void 0},r):F({geometry:qh.Line},r)}function aY(t,e){var r=t[0],n=t[1];if(xe(e)){var i=e[0],a=e[1];return[i,a]}var o=K(e,r),s=K(e,n);return[o,s]}function oY(t,e){return e===Cg.Left?t===!1?!1:fe({},jyt,t):e===Cg.Right?t===!1?!1:fe({},Fyt,t):t}function Lyt(t){var e=t.options,r=t.chart,n=e.geometryOption,i=n.isStack,a=n.color,o=n.seriesField,s=n.groupField,l=n.isGroup,u=["xField","yField"];if(bF(n)){Nm(fe({},t,{options:F(F(F({},sr(e,u)),n),{line:{color:n.color,style:n.lineStyle}})})),Lo(fe({},t,{options:F(F(F({},sr(e,u)),n),{point:n.point&&F({color:a,shape:"circle"},n.point)})}));var c=[];l&&c.push({type:"dodge",dodgeBy:s||o,customOffset:0}),i&&c.push({type:"stack"}),c.length&&Y(r.geometries,function(d){d.adjust(c)})}return K5(n)&&F_(fe({},t,{options:F(F(F({},sr(e,u)),n),{widthRatio:n.columnWidthRatio,interval:F(F({},sr(n,["color"])),{style:n.columnStyle})})})),t}function sY(t){var e=t.view,r=t.geometryOption,n=t.yField,i=t.legend,a=K(i,"marker"),o=Li(e,bF(r)?"line":"interval");if(!r.seriesField){var s=K(e,"options.scales.".concat(n,".alias"))||n,l=o.getAttribute("color"),u=e.getTheme().defaultColor;l&&(u=Ka.getMappingValue(l,s,K(l,["values",0],u)));var c=(qe(a)?a:!Xa(a)&&fe({},{style:{stroke:u,fill:u}},a))||(bF(r)?{symbol:function(f,p,v){return[["M",f-v,p],["L",f+v,p]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:n,name:s,marker:c,isGeometry:!0,viewId:e.id}]}var d=o.getGroupAttributes();return aa(d,function(f,p){var v=Ka.getLegendItems(e,o,p,e.getTheme(),a);return f.concat(v)},[])}var lY=function(t,e){var r=e[0],n=e[1],i=t.getOptions().data,a=t.getXScale(),o=Zn(i);if(!(!a||!o)){var s=Hs(i,a.field),l=s,u=Zn(l),c=Math.round(r*(u-1)),d=Math.round(n*(u-1));t.filter(a.field,function(f){var p=l.indexOf(f);return p>-1?oht(p,c,d):!0}),t.getRootView().render(!0)}};function $yt(t){var e,r=t.options,n=r.geometryOptions,i=n===void 0?[]:n,a=r.xField,o=r.yField,s=b4(i,function(l){var u=l.geometry;return u===qh.Line||u===void 0});return fe({},{options:{geometryOptions:[],meta:(e={},e[a]={type:"cat",sync:!0,range:s?[0,1]:void 0},e),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},t,{options:{yAxis:aY(o,r.yAxis),geometryOptions:[iY(a,o[0],i[0]),iY(a,o[1],i[1])],annotations:aY(o,r.annotations)}})}function Nyt(t){var e,r,n=t.chart,i=t.options,a=i.geometryOptions,o={line:0,column:1},s=[{type:(e=a[0])===null||e===void 0?void 0:e.geometry,id:$o},{type:(r=a[1])===null||r===void 0?void 0:r.geometry,id:No}];return s.sort(function(l,u){return-o[l.type]+o[u.type]}).forEach(function(l){return n.createView({id:l.id})}),t}function Byt(t){var e=t.chart,r=t.options,n=r.xField,i=r.yField,a=r.geometryOptions,o=r.data,s=r.tooltip,l=[F(F({},a[0]),{id:$o,data:o[0],yField:i[0]}),F(F({},a[1]),{id:No,data:o[1],yField:i[1]})];return l.forEach(function(u){var c=u.id,d=u.data,f=u.yField,p=K5(u)&&u.isPercent,v=p?efe(d,f,n,f):d,g=Tt(e,c).data(v),m=p?F({formatter:function(y){return{name:y[u.seriesField]||f,value:(Number(y[f])*100).toFixed(2)+"%"}}},s):s;Lyt({chart:g,options:{xField:n,yField:f,tooltip:m,geometryOption:u}})}),t}function Vyt(t){var e,r=t.chart,n=t.options,i=n.geometryOptions,a=((e=r.getTheme())===null||e===void 0?void 0:e.colors10)||[],o=0;return r.once("beforepaint",function(){Y(i,function(s,l){var u=Tt(r,l===0?$o:No);if(!s.color){var c=u.getGroupScales(),d=K(c,[0,"values","length"],1),f=a.slice(o,o+d).concat(l===0?[]:a);u.geometries.forEach(function(p){s.seriesField?p.color(s.seriesField,f):p.color(f[0])}),o+=d}}),r.render(!0)}),t}function zyt(t){var e,r,n=t.chart,i=t.options,a=i.xAxis,o=i.yAxis,s=i.xField,l=i.yField;return hn((e={},e[s]=a,e[l[0]]=o[0],e))(fe({},t,{chart:Tt(n,$o)})),hn((r={},r[s]=a,r[l[1]]=o[1],r))(fe({},t,{chart:Tt(n,No)})),t}function Uyt(t){var e=t.chart,r=t.options,n=Tt(e,$o),i=Tt(e,No),a=r.xField,o=r.yField,s=r.xAxis,l=r.yAxis;return e.axis(a,!1),e.axis(o[0],!1),e.axis(o[1],!1),n.axis(a,s),n.axis(o[0],oY(l[0],Cg.Left)),i.axis(a,!1),i.axis(o[1],oY(l[1],Cg.Right)),t}function qyt(t){var e=t.chart,r=t.options,n=r.tooltip,i=Tt(e,$o),a=Tt(e,No);return e.tooltip(n),i.tooltip({shared:!0}),a.tooltip({shared:!0}),t}function Gyt(t){var e=t.chart;return Br(fe({},t,{chart:Tt(e,$o)})),Br(fe({},t,{chart:Tt(e,No)})),t}function Wyt(t){var e=t.chart,r=t.options,n=r.annotations,i=K(n,[0]),a=K(n,[1]);return Xr(i)(fe({},t,{chart:Tt(e,$o),options:{annotations:i}})),Xr(a)(fe({},t,{chart:Tt(e,No),options:{annotations:a}})),t}function Hyt(t){var e=t.chart;return Ut(fe({},t,{chart:Tt(e,$o)})),Ut(fe({},t,{chart:Tt(e,No)})),Ut(t),t}function Yyt(t){var e=t.chart;return pr(fe({},t,{chart:Tt(e,$o)})),pr(fe({},t,{chart:Tt(e,No)})),t}function Xyt(t){var e=t.chart,r=t.options,n=r.yAxis;return Uh(fe({},t,{chart:Tt(e,$o),options:{yAxis:n[0]}})),Uh(fe({},t,{chart:Tt(e,No),options:{yAxis:n[1]}})),t}function Kyt(t){var e=t.chart,r=t.options,n=r.legend,i=r.geometryOptions,a=r.yField,o=r.data,s=Tt(e,$o),l=Tt(e,No);if(n===!1)e.legend(!1);else if(lr(n)&&n.custom===!0)e.legend(n);else{var u=K(i,[0,"legend"],n),c=K(i,[1,"legend"],n);e.once("beforepaint",function(){var d=o[0].length?sY({view:s,geometryOption:i[0],yField:a[0],legend:u}):[],f=o[1].length?sY({view:l,geometryOption:i[1],yField:a[1],legend:c}):[];e.legend(fe({},n,{custom:!0,items:d.concat(f)}))}),i[0].seriesField&&s.legend(i[0].seriesField,u),i[1].seriesField&&l.legend(i[1].seriesField,c),e.on("legend-item:click",function(d){var f=K(d,"gEvent.delegateObject",{});if(f&&f.item){var p=f.item,v=p.value,g=p.isGeometry,m=p.viewId;if(g){var y=hle(a,function(w){return w===v});if(y>-1){var x=K(Tt(e,m),"geometries");Y(x,function(w){w.changeVisible(!f.item.unchecked)})}}else{var b=K(e.getController("legend"),"option.items",[]);Y(e.views,function(w){var S=w.getGroupScales();Y(S,function(C){C.values&&C.values.indexOf(v)>-1&&w.filter(C.field,function(E){var A=Vs(b,function(P){return P.value===E});return!A.unchecked})}),e.render(!0)})}}})}return t}function Qyt(t){var e=t.chart,r=t.options,n=r.slider,i=Tt(e,$o),a=Tt(e,No);return n&&(i.option("slider",n),i.on("slider:valuechanged",function(o){var s=o.event,l=s.value,u=s.originValue;on(l,u)||lY(a,l)}),e.once("afterpaint",function(){if(!pg(n)){var o=n.start,s=n.end;(o||s)&&lY(a,[o,s])}})),t}function Jyt(t){return it($yt,Nyt,Hyt,Byt,zyt,Uyt,Xyt,qyt,Gyt,Wyt,Yyt,Vyt,Kyt,Qyt)(t)}var lYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dual-axes",r}return e.prototype.getDefaultOptions=function(){return fe({},t.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return Jyt},e}(gt);function Zyt(t,e){var r=e.data,n=e.coordinate,i=e.interactions,a=e.annotations,o=e.animation,s=e.tooltip,l=e.axes,u=e.meta,c=e.geometries;r&&t.data(r);var d={};l&&Y(l,function(f,p){d[p]=sr(f,Va)}),d=fe({},u,d),t.scale(d),n&&t.coordinate(n),l===!1?t.axis(!1):Y(l,function(f,p){t.axis(p,f)}),Y(c,function(f){var p=ro({chart:t,options:f}).ext,v=f.adjust;v&&p.geometry.adjust(v)}),Y(i,function(f){f.enable===!1?t.removeInteraction(f.type):t.interaction(f.type,f.cfg)}),Y(a,function(f){t.annotation()[f.type](F({},f))}),Ww(t,o),s?(t.interaction("tooltip"),t.tooltip(s)):s===!1&&t.removeInteraction("tooltip")}function e0t(t){var e=t.chart,r=t.options,n=r.type,i=r.data,a=r.fields,o=r.eachView,s=GP(r,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(i),e.facet(n,F(F({},s),{fields:a,eachView:function(l,u){var c=o(l,u);if(c.geometries)Zyt(l,c);else{var d=c,f=d.options;f.tooltip&&l.interaction("tooltip"),xF(d.type,l,f)}}})),t}function t0t(t){var e=t.chart,r=t.options,n=r.axes,i=r.meta,a=r.tooltip,o=r.coordinate,s=r.theme,l=r.legend,u=r.interactions,c=r.annotations,d={};return n&&Y(n,function(f,p){d[p]=sr(f,Va)}),d=fe({},i,d),e.scale(d),e.coordinate(o),n?Y(n,function(f,p){e.axis(p,f)}):e.axis(!1),a?(e.interaction("tooltip"),e.tooltip(a)):a===!1&&e.removeInteraction("tooltip"),e.legend(l),s&&e.theme(s),Y(u,function(f){f.enable===!1?e.removeInteraction(f.type):e.interaction(f.type,f.cfg)}),Y(c,function(f){e.annotation()[f.type](F({},f))}),t}function r0t(t){return it(Ut,e0t,t0t)(t)}var n0t={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},uYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="area",r}return e.getDefaultOptions=function(){return n0t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return r0t},e}(gt);function i0t(t){var e=t.chart,r=t.options,n=r.data,i=r.type,a=r.xField,o=r.yField,s=r.colorField,l=r.sizeField,u=r.sizeRatio,c=r.shape,d=r.color,f=r.tooltip,p=r.heatmapStyle,v=r.meta;e.data(n);var g="polygon";i==="density"&&(g="heatmap");var m=Ss(f,[a,o,s]),y=m.fields,x=m.formatter,b=1;return(u||u===0)&&(!c&&!l?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):b=u),ro(fe({},t,{options:{type:g,colorField:s,tooltipFields:y,shapeField:l||"",label:void 0,mapping:{tooltip:x,shape:c&&(l?function(w){var S=n.map(function(P){return P[l]}),C=(v==null?void 0:v[l])||{},E=C.min,A=C.max;return E=lt(E)?E:Math.min.apply(Math,S),A=lt(A)?A:Math.max.apply(Math,S),[c,(K(w,l)-E)/(A-E),b]}:function(){return[c,1,b]}),color:d||s&&e.getTheme().sequenceColors.join("-"),style:p}}})),t}function a0t(t){var e,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return it(hn((e={},e[a]=n,e[o]=i,e)))(t)}function o0t(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return n===!1?e.axis(a,!1):e.axis(a,n),i===!1?e.axis(o,!1):e.axis(o,i),t}function s0t(t){var e=t.chart,r=t.options,n=r.legend,i=r.colorField,a=r.sizeField,o=r.sizeLegend,s=n!==!1;return i&&e.legend(i,s?n:!1),a&&e.legend(a,o===void 0?n:o),!s&&!o&&e.legend(!1),t}function l0t(t){var e=t.chart,r=t.options,n=r.label,i=r.colorField,a=r.type,o=Li(e,a==="density"?"heatmap":"polygon");if(!n)o.label(!1);else if(i){var s=n.callback,l=Kt(n,["callback"]);o.label({fields:[i],callback:s,cfg:ri(l)})}return t}function u0t(t){var e,r,n=t.chart,i=t.options,a=i.coordinate,o=i.reflect,s=fe({actions:[]},a??{type:"rect"});return o&&((r=(e=s.actions)===null||e===void 0?void 0:e.push)===null||r===void 0||r.call(e,["reflect",o])),n.coordinate(s),t}function c0t(t){return it(Ut,Fo("heatmapStyle"),a0t,u0t,i0t,o0t,s0t,Wn,l0t,Xr(),Br,pr,af)(t)}var d0t=fe({},gt.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});tr("polygon","circle",{draw:function(t,e){var r,n,i=t.x,a=t.y,o=this.parsePoints(t.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l)/2,c=Number(t.shape[1]),d=Number(t.shape[2]),f=Math.sqrt(d),p=u*f*Math.sqrt(c),v=((r=t.style)===null||r===void 0?void 0:r.fill)||t.color||((n=t.defaultStyle)===null||n===void 0?void 0:n.fill),g=e.addShape("circle",{attrs:F(F(F({x:i,y:a,r:p},t.defaultStyle),t.style),{fill:v})});return g}});tr("polygon","square",{draw:function(t,e){var r,n,i=t.x,a=t.y,o=this.parsePoints(t.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l),c=Number(t.shape[1]),d=Number(t.shape[2]),f=Math.sqrt(d),p=u*f*Math.sqrt(c),v=((r=t.style)===null||r===void 0?void 0:r.fill)||t.color||((n=t.defaultStyle)===null||n===void 0?void 0:n.fill),g=e.addShape("rect",{attrs:F(F(F({x:i-p/2,y:a-p/2,width:p,height:p},t.defaultStyle),t.style),{fill:v})});return g}});var cYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="heatmap",r}return e.getDefaultOptions=function(){return d0t},e.prototype.getSchemaAdaptor=function(){return c0t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(gt),f0t="liquid";function She(t){return[{percent:t,type:f0t}]}function h0t(t){var e=t.chart,r=t.options,n=r.percent,i=r.liquidStyle,a=r.radius,o=r.outline,s=r.wave,l=r.shape,u=r.shapeStyle,c=r.animation;e.scale({percent:{min:0,max:1}}),e.data(She(n));var d=r.color||e.getTheme().defaultColor,f=fe({},t,{options:{xField:"type",yField:"percent",widthRatio:a,interval:{color:d,style:i,shape:"liquid-fill-gauge"}}}),p=$i(f).ext,v=p.geometry,g=e.getTheme().background,m={percent:n,radius:a,outline:o,wave:s,shape:l,shapeStyle:u,background:g,animation:c};return v.customInfo(m),e.legend(!1),e.axis(!1),e.tooltip(!1),t}function Ehe(t,e){var r=t.chart,n=t.options,i=n.statistic,a=n.percent,o=n.meta;r.getController("annotation").clear(!0);var s=K(o,["percent","formatter"])||function(u){return"".concat((u*100).toFixed(2),"%")},l=i.content;return l&&(l=fe({},l,{content:ve(l.content)?s(a):l.content})),I_(r,{statistic:F(F({},i),{content:l}),plotType:"liquid"},{percent:a}),e&&r.render(!0),t}function p0t(t){return it(Ut,Fo("liquidStyle"),h0t,Ehe,hn({}),pr,Br)(t)}var v0t={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},uY=5e3;function cY(t,e,r){return t+(e-t)*r}function g0t(t){var e=F({opacity:1},t.style);return t.color&&!e.fill&&(e.fill=t.color),e}function m0t(t){var e={fill:"#fff",fillOpacity:0,lineWidth:4},r=dr({},e,t.style);return t.color&&!r.stroke&&(r.stroke=t.color),lt(t.opacity)&&(r.opacity=r.strokeOpacity=t.opacity),r}function y0t(t,e,r,n){return e===0?[[t+1/2*r/Math.PI/2,n/2],[t+1/2*r/Math.PI,n],[t+r/4,n]]:e===1?[[t+1/2*r/Math.PI/2*(Math.PI-2),n],[t+1/2*r/Math.PI/2*(Math.PI-1),n/2],[t+r/4,0]]:e===2?[[t+1/2*r/Math.PI/2,-n/2],[t+1/2*r/Math.PI,-n],[t+r/4,-n]]:[[t+1/2*r/Math.PI/2*(Math.PI-2),-n],[t+1/2*r/Math.PI/2*(Math.PI-1),-n/2],[t+r/4,0]]}function x0t(t,e,r,n,i,a,o){for(var s=Math.ceil(2*t/r*4)*4,l=[],u=n;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*r;var c=a-t+u-t*2;l.push(["M",c,e]);for(var d=0,f=0;f<s;++f){var p=f%4,v=y0t(f*r/4,p,r,i);l.push(["C",v[0][0]+c,-v[0][1]+e,v[1][0]+c,-v[1][1]+e,v[2][0]+c,-v[2][1]+e]),f===s-1&&(d=v[2][0])}return l.push(["L",d+c,o+t]),l.push(["L",c,o+t]),l.push(["Z"]),l}function b0t(t,e,r,n,i,a,o,s,l,u){for(var c=i.fill,d=i.opacity,f=o.getBBox(),p=f.maxX-f.minX,v=f.maxY-f.minY,g=0;g<n;g++){var m=n<=1?1:g/(n-1),y=a.addShape("path",{name:"waterwave-path",attrs:{path:x0t(s,f.minY+v*r,l,0,p/32,t,e),fill:c,opacity:cY(.2,.9,m)*d}});try{if(u===!1)return;var x=yF([["t",l,0]]);y.stopAnimate(),y.animate({matrix:x},{duration:cY(.5*uY,uY,m),repeat:!0})}catch{console.warn("off-screen group animate error!")}}}function w0t(t,e,r,n){var i=r*2/3,a=Math.max(i,n),o=i/2,s=t,l=o+e-a/2,u=Math.asin(o/((a-o)*.85)),c=Math.sin(u)*o,d=Math.cos(u)*o,f=s-d,p=l+c,v=t,g=l+o/Math.sin(u);return`
      M `.concat(f," ").concat(p,`
      A `).concat(o," ").concat(o," 0 1 1 ").concat(f+d*2," ").concat(p,`
      Q `).concat(v," ").concat(g," ").concat(t," ").concat(e+a/2,`
      Q `).concat(v," ").concat(g," ").concat(f," ").concat(p,`
      Z 
    `)}function S0t(t,e,r,n){var i=r/2,a=n/2;return`
      M `.concat(t," ").concat(e-a,` 
      a `).concat(i," ").concat(a," 0 1 0 0 ").concat(a*2,`
      a `).concat(i," ").concat(a," 0 1 0 0 ").concat(-a*2,`
      Z
    `)}function E0t(t,e,r,n){var i=n/2,a=r/2;return`
      M `.concat(t," ").concat(e-i,`
      L `).concat(t+a," ").concat(e,`
      L `).concat(t," ").concat(e+i,`
      L `).concat(t-a," ").concat(e,`
      Z
    `)}function A0t(t,e,r,n){var i=n/2,a=r/2;return`
      M `.concat(t," ").concat(e-i,`
      L `).concat(t+a," ").concat(e+i,`
      L `).concat(t-a," ").concat(e+i,`
      Z
    `)}function C0t(t,e,r,n){var i=.618,a=n/2,o=r/2*i;return`
      M `.concat(t-o," ").concat(e-a,`
      L `).concat(t+o," ").concat(e-a,`
      L `).concat(t+o," ").concat(e+a,`
      L `).concat(t-o," ").concat(e+a,`
      Z
    `)}var dY={pin:w0t,circle:S0t,diamond:E0t,triangle:A0t,rect:C0t};tr("interval","liquid-fill-gauge",{draw:function(t,e){var r=.5,n=.5,i=t.customInfo,a=i,o=a.percent,s=a.radius,l=a.shape,u=a.shapeStyle,c=a.background,d=a.animation,f=i.outline,p=i.wave,v=f.border,g=f.distance,m=p.count,y=p.length,x=aa(t.points,function(B,$){return Math.min(B,$.x)},1/0),b=this.parsePoint({x:r,y:n}),w=this.parsePoint({x,y:n}),S=b.x-w.x,C=Math.min(S,w.y*s),E=g0t(t),A=m0t(dr({},t,f)),P=C-v/2,_=typeof l=="function"?l:dY[l]||dY.circle,k=_(b.x,b.y,P*2,P*2);if(u&&e.addShape("path",{name:"shape",attrs:F({path:k},u)}),o>0){var O=e.addGroup({name:"waves"}),D=O.setClip({type:"path",attrs:{path:k}});b0t(b.x,b.y,1-t.points[1].y,m,E,O,D,C*2,y,d)}return e.addShape("path",{name:"distance",attrs:{path:k,fill:"transparent",lineWidth:v+g*2,stroke:c==="transparent"?"#fff":c}}),e.addShape("path",{name:"wrap",attrs:dr(A,{path:k,fill:"transparent",lineWidth:v})}),e}});var dYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="liquid",r}return e.getDefaultOptions=function(){return v0t},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(r){this.chart.emit(St.BEFORE_CHANGE_DATA,Hr.fromData(this.chart,St.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:r}),this.chart.data(She(r)),Ehe({chart:this.chart,options:this.options},!0),this.chart.emit(St.AFTER_CHANGE_DATA,Hr.fromData(this.chart,St.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return p0t},e}(gt);function T0t(t){var e=t.chart,r=t.options,n=r.data,i=r.lineStyle,a=r.color,o=r.point,s=r.area;e.data(n);var l=fe({},t,{options:{line:{style:i,color:a},point:o&&F({color:a},o),area:s&&F({color:a},s),label:void 0}}),u=fe({},l,{options:{tooltip:!1}}),c=(o==null?void 0:o.state)||r.state,d=fe({},l,{options:{tooltip:!1,state:c}});return Nm(l),Lo(d),O_(u),t}function I0t(t){var e,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return it(hn((e={},e[a]=n,e[o]=i,e)))(t)}function P0t(t){var e=t.chart,r=t.options,n=r.radius,i=r.startAngle,a=r.endAngle;return e.coordinate("polar",{radius:n,startAngle:i,endAngle:a}),t}function _0t(t){var e=t.chart,r=t.options,n=r.xField,i=r.xAxis,a=r.yField,o=r.yAxis;return e.axis(n,i),e.axis(a,o),t}function O0t(t){var e=t.chart,r=t.options,n=r.label,i=r.yField,a=Li(e,"line");if(!n)a.label(!1);else{var o=n.fields,s=n.callback,l=Kt(n,["fields","callback"]);a.label({fields:o||[i],callback:s,cfg:ri(l)})}return t}function k0t(t){return it(T0t,I0t,Ut,P0t,_0t,$m,Wn,O0t,Br,pr,Xr())(t)}var D0t=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(r){var n=this.getTooltipCfg(),i=n.shared,a=n.title,o=t.prototype.getTooltipItems.call(this,r);if(o.length>0){var s=this.view.geometries[0],l=s.dataArray,u=o[0].name,c=[];return l.forEach(function(d){d.forEach(function(f){var p=Ka.getTooltipItems(f,s),v=p[0];if(!i&&v&&v.name===u){var g=ve(a)?u:a;c.push(F(F({},v),{name:v.title,title:g}))}else if(i&&v){var g=ve(a)?v.name||u:a;c.push(F(F({},v),{name:v.title,title:g}))}})}),c}return[]},e}(_ce);gp("radar-tooltip",D0t);var M0t=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=this.context.view;r.removeInteraction("tooltip")},e.prototype.show=function(){var r=this.context.event,n=this.getTooltipController();n.showTooltip({x:r.x,y:r.y})},e.prototype.hide=function(){var r=this.getTooltipController();r.hideTooltip()},e.prototype.getTooltipController=function(){var r=this.context.view;return r.getController("radar-tooltip")},e}(kr);Xe("radar-tooltip",M0t);ct("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var fYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="radar",r}return e.prototype.changeData=function(r){this.updateOption({data:r}),this.chart.changeData(r)},e.prototype.getDefaultOptions=function(){return fe({},t.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return k0t},e}(gt);function R0t(t,e,r){var n=r.map(function(o){return o[e]}).filter(function(o){return o!==void 0}),i=n.length>0?Math.max.apply(Math,n):0,a=Math.abs(t)%360;return a?i*360/a:i}function j0t(t,e,r){var n=[];return t.forEach(function(i){var a=n.find(function(o){return o[e]===i[e]});a?a[r]+=i[r]||null:n.push(F({},i))}),n}function F0t(t){var e=t.chart,r=t.options,n=r.barStyle,i=r.color,a=r.tooltip,o=r.colorField,s=r.type,l=r.xField,u=r.yField,c=r.data,d=r.shape,f=Sg(c,u);e.data(f);var p=fe({},t,{options:{tooltip:a,seriesField:o,interval:{style:n,color:i,shape:d||(s==="line"?"line":"intervel")},minColumnWidth:r.minBarWidth,maxColumnWidth:r.maxBarWidth,columnBackground:r.barBackground}});return $i(p),s==="line"&&Lo({chart:e,options:{xField:l,yField:u,seriesField:o,point:{shape:"circle",color:i}}}),t}function Ahe(t){var e,r=t.options,n=r.yField,i=r.xField,a=r.data,o=r.isStack,s=r.isGroup,l=r.colorField,u=r.maxAngle,c=o&&!s&&l?j0t(a,i,n):a,d=Sg(c,n);return it(hn((e={},e[n]={min:0,max:R0t(u,n,d)},e)))(t)}function L0t(t){var e=t.chart,r=t.options,n=r.radius,i=r.innerRadius,a=r.startAngle,o=r.endAngle;return e.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}).transpose(),t}function $0t(t){var e=t.chart,r=t.options,n=r.xField,i=r.xAxis;return e.axis(n,i),t}function N0t(t){var e=t.chart,r=t.options,n=r.label,i=r.yField,a=Li(e,"interval");if(!n)a.label(!1);else{var o=n.callback,s=Kt(n,["callback"]);a.label({fields:[i],callback:o,cfg:F(F({},ri(s)),{type:"polar"})})}return t}function B0t(t){return it(Fo("barStyle"),F0t,Ahe,$0t,L0t,Br,pr,Ut,Wn,$m,Xr(),N0t)(t)}var V0t=fe({},gt.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),hYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="radial-bar",r}return e.getDefaultOptions=function(){return V0t},e.prototype.changeData=function(r){this.updateOption({data:r}),Ahe({chart:this.chart,options:this.options}),this.chart.changeData(r)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return B0t},e}(gt);function z0t(t){var e=t.chart,r=t.options,n=r.data,i=r.sectorStyle,a=r.shape,o=r.color;return e.data(n),it($i)(fe({},t,{options:{marginRatio:1,interval:{style:i,color:o,shape:a}}})),t}function U0t(t){var e=t.chart,r=t.options,n=r.label,i=r.xField,a=Li(e,"interval");if(n===!1)a.label(!1);else if(lr(n)){var o=n.callback,s=n.fields,l=Kt(n,["callback","fields"]),u=l.offset,c=l.layout;(u===void 0||u>=0)&&(c=c?xe(c)?c:[c]:[],l.layout=wi(c,function(d){return d.type!=="limit-in-shape"}),l.layout.length||delete l.layout),a.label({fields:s||[i],callback:o,cfg:ri(l)})}else rc(Xs.WARN,n===null,"the label option must be an Object."),a.label({fields:[i]});return t}function q0t(t){var e=t.chart,r=t.options,n=r.legend,i=r.seriesField;return n===!1?e.legend(!1):i&&e.legend(i,n),t}function G0t(t){var e=t.chart,r=t.options,n=r.radius,i=r.innerRadius,a=r.startAngle,o=r.endAngle;return e.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),t}function W0t(t){var e,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return it(hn((e={},e[a]=n,e[o]=i,e)))(t)}function H0t(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return n?e.axis(a,n):e.axis(a,!1),i?e.axis(o,i):e.axis(o,!1),t}function Y0t(t){it(Fo("sectorStyle"),z0t,W0t,U0t,G0t,H0t,q0t,Wn,Br,pr,Ut,Xr(),af)(t)}var X0t=fe({},gt.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),pYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="rose",r}return e.getDefaultOptions=function(){return X0t},e.prototype.changeData=function(r){this.updateOption({data:r}),this.chart.changeData(r)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Y0t},e}(gt),fY="x",hY="y",pY="name",N_="nodes",B_="edges";function K0t(t,e,r){var n=[];return t.forEach(function(i){var a=i[e],o=i[r];n.includes(a)||n.push(a),n.includes(o)||n.push(o)}),n}function Q0t(t,e,r,n){var i={};return e.forEach(function(a){i[a]={},e.forEach(function(o){i[a][o]=0})}),t.forEach(function(a){i[a[r]][a[n]]=1}),i}function J0t(t,e,r){if(!xe(t))return[];var n=[],i=K0t(t,e,r),a=Q0t(t,i,e,r),o={};i.forEach(function(l){o[l]=0});function s(l){o[l]=1,i.forEach(function(u){if(a[l][u]!=0)if(o[u]==1)n.push("".concat(l,"_").concat(u));else{if(o[u]==-1)return;s(u)}}),o[l]=-1}return i.forEach(function(l){o[l]!=-1&&s(l)}),n.length!==0&&console.warn("sankey data contains circle, ".concat(n.length," records removed."),n),t.filter(function(l){return n.findIndex(function(u){return u==="".concat(l[e],"_").concat(l[r])})<0})}function Z0t(t){return t.target.depth}function ext(t){return t.depth}function txt(t,e){return e-1-t.height}function Q5(t,e){return t.sourceLinks.length?t.depth:e-1}function rxt(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?ntt(t.sourceLinks,Z0t)-1:0}function QS(t){return function(){return t}}function BM(t,e){for(var r=0,n=0;n<t.length;n++)r+=e(t[n]);return r}function VM(t,e){for(var r=-1/0,n=0;n<t.length;n++)r=Math.max(e(t[n]),r);return r}function nxt(t,e){for(var r=1/0,n=0;n<t.length;n++)r=Math.min(e(t[n]),r);return r}function vY(t,e){return NC(t.source,e.source)||t.index-e.index}function gY(t,e){return NC(t.target,e.target)||t.index-e.index}function NC(t,e){return t.y0-e.y0}function zM(t){return t.value}function ixt(t){return t.index}function axt(t){return t.nodes}function oxt(t){return t.links}function mY(t,e){var r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function yY(t){for(var e=t.nodes,r=0,n=e;r<n.length;r++){for(var i=n[r],a=i.y0,o=a,s=0,l=i.sourceLinks;s<l.length;s++){var u=l[s];u.y0=a+u.width/2,a+=u.width}for(var c=0,d=i.targetLinks;c<d.length;c++){var u=d[c];u.y1=o+u.width/2,o+=u.width}}}function sxt(){var t=0,e=0,r=1,n=1,i=24,a=8,o,s=ixt,l=Q5,u,c,d,f=axt,p=oxt,v=6;function g(L){var R={nodes:f(L),links:p(L)};return m(R),y(R),x(R),b(R),C(R),yY(R),R}g.update=function(L){return yY(L),L},g.nodeId=function(L){return arguments.length?(s=typeof L=="function"?L:QS(L),g):s},g.nodeAlign=function(L){return arguments.length?(l=typeof L=="function"?L:QS(L),g):l},g.nodeDepth=function(L){return arguments.length?(u=L,g):u},g.nodeSort=function(L){return arguments.length?(c=L,g):c},g.nodeWidth=function(L){return arguments.length?(i=+L,g):i},g.nodePadding=function(L){return arguments.length?(a=o=+L,g):a},g.nodes=function(L){return arguments.length?(f=typeof L=="function"?L:QS(L),g):f},g.links=function(L){return arguments.length?(p=typeof L=="function"?L:QS(L),g):p},g.linkSort=function(L){return arguments.length?(d=L,g):d},g.size=function(L){return arguments.length?(t=e=0,r=+L[0],n=+L[1],g):[r-t,n-e]},g.extent=function(L){return arguments.length?(t=+L[0][0],r=+L[1][0],e=+L[0][1],n=+L[1][1],g):[[t,e],[r,n]]},g.iterations=function(L){return arguments.length?(v=+L,g):v};function m(L){var R=L.nodes,V=L.links;R.forEach(function(te,H){te.index=H,te.sourceLinks=[],te.targetLinks=[]});var U=new Map(R.map(function(te){return[s(te),te]}));if(V.forEach(function(te,H){te.index=H;var ee=te.source,re=te.target;typeof ee!="object"&&(ee=te.source=mY(U,ee)),typeof re!="object"&&(re=te.target=mY(U,re)),ee.sourceLinks.push(te),re.targetLinks.push(te)}),d!=null)for(var q=0,M=R;q<M.length;q++){var G=M[q],W=G.sourceLinks,J=G.targetLinks;W.sort(d),J.sort(d)}}function y(L){for(var R=L.nodes,V=0,U=R;V<U.length;V++){var q=U[V];q.value=q.fixedValue===void 0?Math.max(BM(q.sourceLinks,zM),BM(q.targetLinks,zM)):q.fixedValue}}function x(L){for(var R=L.nodes,V=R.length,U=new Set(R),q=new Set,M=0;U.size;){if(U.forEach(function(te){te.depth=M;for(var H=0,ee=te.sourceLinks;H<ee.length;H++){var re=ee[H].target;q.add(re)}}),++M>V)throw new Error("circular link");U=q,q=new Set}if(u)for(var G=Math.max(VM(R,function(te){return te.depth})+1,0),W=void 0,J=0;J<R.length;J++)W=R[J],W.depth=u.call(null,W,G)}function b(L){for(var R=L.nodes,V=R.length,U=new Set(R),q=new Set,M=0;U.size;){if(U.forEach(function(G){G.height=M;for(var W=0,J=G.targetLinks;W<J.length;W++){var te=J[W].source;q.add(te)}}),++M>V)throw new Error("circular link");U=q,q=new Set}}function w(L){for(var R=L.nodes,V=Math.max(VM(R,function(re){return re.depth})+1,0),U=(r-t-i)/(V-1),q=new Array(V).fill(0).map(function(){return[]}),M=0,G=R;M<G.length;M++){var W=G[M],J=Math.max(0,Math.min(V-1,Math.floor(l.call(null,W,V))));W.layer=J,W.x0=t+J*U,W.x1=W.x0+i,q[J]?q[J].push(W):q[J]=[W]}if(c)for(var te=0,H=q;te<H.length;te++){var ee=H[te];ee.sort(c)}return q}function S(L){for(var R=nxt(L,function(Q){return(n-e-(Q.length-1)*o)/BM(Q,zM)}),V=0,U=L;V<U.length;V++){for(var q=U[V],M=e,G=0,W=q;G<W.length;G++){var J=W[G];J.y0=M,J.y1=M+J.value*R,M=J.y1+o;for(var te=0,H=J.sourceLinks;te<H.length;te++){var ee=H[te];ee.width=ee.value*R}}M=(n-M+o)/(q.length+1);for(var re=0;re<q.length;++re){var J=q[re];J.y0+=M*(re+1),J.y1+=M*(re+1)}D(q)}}function C(L){var R=w(L);o=Math.min(a,(n-e)/(VM(R,function(M){return M.length})-1)),S(R);for(var V=0;V<v;++V){var U=Math.pow(.99,V),q=Math.max(1-U,(V+1)/v);A(R,U,q),E(R,U,q)}}function E(L,R,V){for(var U=1,q=L.length;U<q;++U){for(var M=L[U],G=0,W=M;G<W.length;G++){for(var J=W[G],te=0,H=0,ee=0,re=J.targetLinks;ee<re.length;ee++){var Q=re[ee],se=Q.source,ne=Q.value,le=ne*(J.layer-se.layer);te+=B(se,J)*le,H+=le}if(H>0){var ge=(te/H-J.y0)*R;J.y0+=ge,J.y1+=ge,O(J)}}c===void 0&&M.sort(NC),M.length&&P(M,V)}}function A(L,R,V){for(var U=L.length,q=U-2;q>=0;--q){for(var M=L[q],G=0,W=M;G<W.length;G++){for(var J=W[G],te=0,H=0,ee=0,re=J.sourceLinks;ee<re.length;ee++){var Q=re[ee],se=Q.target,ne=Q.value,le=ne*(se.layer-J.layer);te+=$(J,se)*le,H+=le}if(H>0){var ge=(te/H-J.y0)*R;J.y0+=ge,J.y1+=ge,O(J)}}c===void 0&&M.sort(NC),M.length&&P(M,V)}}function P(L,R){var V=L.length>>1,U=L[V];k(L,U.y0-o,V-1,R),_(L,U.y1+o,V+1,R),k(L,n,L.length-1,R),_(L,e,0,R)}function _(L,R,V,U){for(;V<L.length;++V){var q=L[V],M=(R-q.y0)*U;M>1e-6&&(q.y0+=M,q.y1+=M),R=q.y1+o}}function k(L,R,V,U){for(;V>=0;--V){var q=L[V],M=(q.y1-R)*U;M>1e-6&&(q.y0-=M,q.y1-=M),R=q.y0-o}}function O(L){var R=L.sourceLinks,V=L.targetLinks;if(d===void 0){for(var U=0,q=V;U<q.length;U++){var M=q[U].source.sourceLinks;M.sort(gY)}for(var G=0,W=R;G<W.length;G++){var J=W[G].target.targetLinks;J.sort(vY)}}}function D(L){if(d===void 0)for(var R=0,V=L;R<V.length;R++){var U=V[R],q=U.sourceLinks,M=U.targetLinks;q.sort(gY),M.sort(vY)}}function B(L,R){for(var V=L.y0-(L.sourceLinks.length-1)*o/2,U=0,q=L.sourceLinks;U<q.length;U++){var M=q[U],G=M.target,W=M.width;if(G===R)break;V+=W+o}for(var J=0,te=R.targetLinks;J<te.length;J++){var H=te[J],G=H.source,W=H.width;if(G===L)break;V-=W}return V}function $(L,R){for(var V=R.y0-(R.targetLinks.length-1)*o/2,U=0,q=R.targetLinks;U<q.length;U++){var M=q[U],G=M.source,W=M.width;if(G===L)break;V+=W+o}for(var J=0,te=L.sourceLinks;J<te.length;J++){var H=te[J],G=H.target,W=H.width;if(G===R)break;V-=W}return V}return g}var lxt={left:ext,right:txt,center:rxt,justify:Q5},uxt={nodeId:function(t){return t.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function cxt(t){var e=nt(t)?lxt[t]:qe(t)?t:null;return e||Q5}function dxt(t){return dr({},uxt,t)}function fxt(t,e){var r=dxt(t),n=r.nodeId,i=r.nodeSort,a=r.nodeAlign,o=r.nodeWidth,s=r.nodePadding,l=r.nodeDepth,u=sxt().nodeSort(i).nodeWidth(o).nodePadding(s).nodeDepth(l).nodeAlign(cxt(a)).extent([[0,0],[1,1]]).nodeId(n),c=u(e),d=c.nodes.map(function(p){var v=p.x0,g=p.x1,m=p.y0,y=p.y1;return p.x=[v,g,g,v],p.y=[m,m,y,y],p}).filter(function(p){return p.name!==null}),f=c.links.map(function(p){var v=p.source,g=p.target,m=v.x1,y=g.x0;p.x=[m,m,y,y];var x=p.width/2;return p.y=[p.y0+x,p.y0-x,p.y1+x,p.y1-x],p}).filter(function(p){var v=p.source,g=p.target;return v.name!==null&&g.name!==null});return{nodes:d,links:f}}function hxt(t){return t==="node-link"}function pxt(t,e,r){return zh(t)?t/r:e}function vxt(t,e,r){return zh(t)?t/r:e}function Che(t,e,r){var n=t.dataType,i=t.data,a=t.sourceField,o=t.targetField,s=t.weightField,l=t.nodeAlign,u=t.nodeSort,c=t.nodePadding,d=t.nodePaddingRatio,f=t.nodeWidth,p=t.nodeWidthRatio,v=t.nodeDepth,g=t.rawFields,m=g===void 0?[]:g,y;hxt(n)?y=i:y=Nde(J0t(i,a,o),a,o,s,m);var x=fxt({nodeAlign:l,nodePadding:vxt(c,d,r),nodeWidth:pxt(f,p,e),nodeSort:u,nodeDepth:v},y),b=x.nodes,w=x.links;return{nodes:b.map(function(S){return F(F({},sr(S,Je(["x","y","name"],m,!0))),{isNode:!0})}),edges:w.map(function(S){return F(F({source:S.source.name,target:S.target.name,name:S.source.name||S.target.name},sr(S,Je(["x","y","value"],m,!0))),{isNode:!1})})}}function gxt(t){var e=t.options,r=e.rawFields,n=r===void 0?[]:r;return fe({},{options:{tooltip:{fields:Lh(Je(["name","source","target","value","isNode"],n,!0))},label:{fields:Lh(Je(["x","name"],n,!0))}}},t)}function mxt(t){var e=t.chart,r=t.options,n=r.color,i=r.nodeStyle,a=r.edgeStyle,o=r.label,s=r.tooltip,l=r.nodeState,u=r.edgeState,c=r.rawFields,d=c===void 0?[]:c;e.legend(!1),e.tooltip(s),e.axis(!1),e.coordinate().reflect("y");var f=Che(r,e.width,e.height),p=f.nodes,v=f.edges,g=e.createView({id:B_});g.data(v),Xde({chart:g,options:{xField:fY,yField:hY,seriesField:pY,rawFields:Je(["source","target"],d,!0),edge:{color:n,style:a,shape:"arc"},tooltip:s,state:u}});var m=e.createView({id:N_});return m.data(p),k_({chart:m,options:{xField:fY,yField:hY,seriesField:pY,polygon:{color:n,style:i},label:o,tooltip:s,state:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),t}function yxt(t){var e=t.chart,r=t.options,n=r.animation,i=Je(Je([],e.views[0].geometries,!0),e.views[1].geometries,!0);return Ww(e,n,i),t}function xxt(t){var e=t.chart,r=t.options,n=r.nodeDraggable,i="sankey-node-draggable";return n?e.interaction(i):e.removeInteraction(i),t}function bxt(t){var e=t.chart,r=t.options,n=r.interactions,i=n===void 0?[]:n,a=[].concat(i,r.nodeInteractions||[]),o=[].concat(i,r.edgeInteractions||[]),s=Tt(e,N_),l=Tt(e,B_);return a.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),t}function wxt(t){return it(gxt,mxt,bxt,xxt,yxt,Ut)(t)}var Sxt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDragging=!1,r}return e.prototype.isNodeElement=function(){var r=K(this.context,"event.target");if(r){var n=r.get("element");return n&&n.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Tt(this.context.view,N_)},e.prototype.getEdgeView=function(){return Tt(this.context.view,B_)},e.prototype.getCurrentDatumIdx=function(r){return this.getNodeView().geometries[0].elements.indexOf(r)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:K(this.context,"event.x"),y:K(this.context,"event.y")};var r=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(r);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var r=this.context.view,n={x:K(this.context,"event.x"),y:K(this.context,"event.y")},i=n.x-this.prevPoint.x,a=n.y-this.prevPoint.y,o=this.getNodeView(),s=o.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var l=s.getModel().data,u=o.getOptions().data,c=o.getCoordinate(),d={x:i/c.getWidth(),y:a/c.getHeight()},f=F(F({},l),{x:l.x.map(function(y){return y+=d.x}),y:l.y.map(function(y){return y+=d.y})}),p=Je([],u,!0);p[this.currentElementIdx]=f,o.data(p);var v=l.name,g=this.getEdgeView(),m=g.getOptions().data;m.forEach(function(y){y.source===v&&(y.x[0]+=d.x,y.x[1]+=d.x,y.y[0]+=d.y,y.y[1]+=d.y),y.target===v&&(y.x[2]+=d.x,y.x[3]+=d.x,y.y[2]+=d.y,y.y[3]+=d.y)}),g.data(m),this.prevPoint=n,r.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(kr);Xe("sankey-node-drag",Sxt);ct("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(t){return t.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var vYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="sankey",r}return e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(r){var n=r.name;return n},callback:function(r){var n=r[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(r){return!K(r,[0,"data","isNode"])},formatter:function(r){var n=r.source,i=r.target,a=r.value;return{name:n+" -> "+i,value:a}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(r){this.updateOption({data:r});var n=Che(this.options,this.chart.width,this.chart.height),i=n.nodes,a=n.edges,o=Tt(this.chart,N_),s=Tt(this.chart,B_);o.changeData(i),s.changeData(a)},e.prototype.getSchemaAdaptor=function(){return wxt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(gt),J5="ancestor-node",The="value",eb="path",Ext=[eb,mhe,H5,yhe,"name","depth","height"],Axt=fe({},gt.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),Cxt={field:"value",size:[1,1],round:!1,padding:0,sort:function(t,e){return e.value-t.value},as:["x","y"],ignoreParentValue:!0};function Txt(t,e){e=dr({},Cxt,e);var r=e.as;if(!xe(r)||r.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=Y5(e)}catch(l){console.warn(l)}var i=function(l){return fhe().size(e.size).round(e.round).padding(e.padding)(zm(l).sum(function(u){return Zn(u.children)?e.ignoreParentValue?0:u[n]-aa(u.children,function(c,d){return c+d[n]},0):u[n]}).sort(e.sort))},a=i(t),o=r[0],s=r[1];return a.each(function(l){var u,c;l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((u=l.data)===null||u===void 0?void 0:u.name)||((c=l.data)===null||c===void 0?void 0:c.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(function(d){r.indexOf(d)===-1&&delete l[d]})}),X5(a)}var Ixt={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(t,e){return e.value-t.value},ratio:.5*(1+Math.sqrt(5))};function Pxt(t,e){return t==="treemapSquarify"?tY[t].ratio(e):tY[t]}function Ihe(t,e){e=dr({},Ixt,e);var r=e.as;if(!xe(r)||r.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=Y5(e)}catch(u){console.warn(u)}var i=Pxt(e.tile,e.ratio),a=function(u){return ghe().tile(i).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(zm(u).sum(function(c){return e.ignoreParentValue&&c.children?0:c[n]}).sort(e.sort))},o=a(t),s=r[0],l=r[1];return o.each(function(u){u[s]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(c){r.indexOf(c)===-1&&delete u[c]})}),X5(o)}function Phe(t){var e=t.data,r=t.colorField,n=t.rawFields,i=t.hierarchyConfig,a=i===void 0?{}:i,o=a.activeDepth,s={partition:Txt,treemap:Ihe},l=t.seriesField,u=t.type||"partition",c=s[u](e,F(F({field:l||"value"},GP(a,["activeDepth"])),{type:"hierarchy.".concat(u),as:["x","y"]})),d=[];return c.forEach(function(f){var p,v,g,m,y,x;if(f.depth===0||o>0&&f.depth>o)return null;for(var b=f.data.name,w=F({},f);w.depth>1;)b="".concat((v=w.parent.data)===null||v===void 0?void 0:v.name," / ").concat(b),w=w.parent;var S=F(F(F({},sr(f.data,Je(Je([],n||[],!0),[a.field],!1))),(p={},p[eb]=b,p[J5]=w.data.name,p)),f);l&&(S[l]=f.data[l]||((m=(g=f.parent)===null||g===void 0?void 0:g.data)===null||m===void 0?void 0:m[l])),r&&(S[r]=f.data[r]||((x=(y=f.parent)===null||y===void 0?void 0:y.data)===null||x===void 0?void 0:x[r])),S.ext=a,S[Zx]={hierarchyConfig:a,colorField:r,rawFields:n},d.push(S)}),d}function _xt(t){var e=t.chart,r=t.options,n=r.color,i=r.colorField,a=i===void 0?J5:i,o=r.sunburstStyle,s=r.rawFields,l=s===void 0?[]:s,u=r.shape,c=Phe(r);e.data(c);var d;return o&&(d=function(f){return fe({},{fillOpacity:Math.pow(.85,f.depth)},qe(o)?o(f):o)}),k_(fe({},t,{options:{xField:"x",yField:"y",seriesField:a,rawFields:Lh(Je(Je([],Ext,!0),l,!0)),polygon:{color:n,style:d,shape:u}}})),t}function Oxt(t){var e=t.chart;return e.axis(!1),t}function kxt(t){var e=t.chart,r=t.options,n=r.label,i=Li(e,"polygon");if(!n)i.label(!1);else{var a=n.fields,o=a===void 0?["name"]:a,s=n.callback,l=Kt(n,["fields","callback"]);i.label({fields:o,callback:s,cfg:ri(l)})}return t}function Dxt(t){var e=t.chart,r=t.options,n=r.innerRadius,i=r.radius,a=r.reflect,o=e.coordinate({type:"polar",cfg:{innerRadius:n,radius:i}});return a&&o.reflect(a),t}function Mxt(t){var e,r=t.options,n=r.hierarchyConfig,i=r.meta;return it(hn({},(e={},e[The]=K(i,K(n,["field"],"value")),e)))(t)}function Rxt(t){var e=t.chart,r=t.options,n=r.tooltip;if(n===!1)e.tooltip(!1);else{var i=n;K(n,"fields")||(i=fe({},{customItems:function(a){return a.map(function(o){var s=K(e.getOptions(),"scales"),l=K(s,[eb,"formatter"],function(c){return c}),u=K(s,[The,"formatter"],function(c){return c});return F(F({},o),{name:l(o.data[eb]),value:u(o.data.value)})})}},i)),e.tooltip(i)}return t}function jxt(t){var e=t.drilldown,r=t.interactions,n=r===void 0?[]:r;return e!=null&&e.enabled?fe({},t,{interactions:Je(Je([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:Phe}}],!1)}):t}function Fxt(t){var e=t.chart,r=t.options,n=r.drilldown;return Br({chart:e,options:jxt(r)}),n!=null&&n.enabled&&(e.appendPadding=T_(e.appendPadding,K(n,["breadCrumb","position"]))),t}function Lxt(t){return it(Ut,Fo("sunburstStyle"),_xt,Oxt,Mxt,$m,Dxt,Rxt,kxt,Fxt,pr,Xr())(t)}var gYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="sunburst",r}return e.getDefaultOptions=function(){return Axt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Lxt},e.SUNBURST_ANCESTOR_FIELD=J5,e.SUNBURST_PATH_FIELD=eb,e.NODE_ANCESTORS_FIELD=H5,e}(gt);function _he(t,e){if(xe(t))return t.find(function(r){return r.type===e})}function Ohe(t,e){var r=_he(t,e);return r&&r.enable!==!1}function Z5(t){var e=t.interactions,r=t.drilldown;return K(r,"enabled")||Ohe(e,"treemap-drill-down")}function $xt(t){var e=t.interactions["drill-down"];if(e){var r=e.context.actions.find(function(n){return n.name==="drill-down-action"});r.reset()}}function e3(t){var e=t.data,r=t.colorField,n=t.enableDrillDown,i=t.hierarchyConfig,a=Ihe(e,F(F({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return a.forEach(function(s){if(s.depth===0||n&&s.depth!==1||!n&&s.children)return null;var l=s.ancestors().map(function(f){return{data:f.data,height:f.height,value:f.value}}),u=n&&xe(e.path)?l.concat(e.path.slice(1)):l,c=Object.assign({},s.data,F({x:s.x,y:s.y,depth:s.depth,value:s.value,path:u},s));if(!s.data[r]&&s.parent){var d=s.ancestors().find(function(f){return f.data[r]});c[r]=d==null?void 0:d.data[r]}else c[r]=s.data[r];c[Zx]={hierarchyConfig:i,colorField:r,enableDrillDown:n},o.push(c)}),o}function Nxt(t){var e=t.options,r=e.colorField;return fe({options:{rawFields:["value"],tooltip:{fields:["name","value",r,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},t)}function Bxt(t){var e=t.chart,r=t.options,n=r.color,i=r.colorField,a=r.rectStyle,o=r.hierarchyConfig,s=r.rawFields,l=e3({data:r.data,colorField:r.colorField,enableDrillDown:Z5(r),hierarchyConfig:o});return e.data(l),k_(fe({},t,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:n,style:a}}})),e.coordinate().reflect("y"),t}function Vxt(t){var e=t.chart;return e.axis(!1),t}function zxt(t){var e=t.drilldown,r=t.interactions,n=r===void 0?[]:r,i=Z5(t);return i?fe({},t,{interactions:Je(Je([],n,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:e3}}],!1)}):t}function Uxt(t){var e=t.chart,r=t.options,n=r.interactions,i=r.drilldown;Br({chart:e,options:zxt(r)});var a=_he(n,"view-zoom");a&&(a.enable!==!1?e.getCanvas().on("mousewheel",function(s){s.preventDefault()}):e.getCanvas().off("mousewheel"));var o=Z5(r);return o&&(e.appendPadding=T_(e.appendPadding,K(i,["breadCrumb","position"]))),t}function qxt(t){return it(Nxt,Ut,Fo("rectStyle"),Bxt,Vxt,$m,Wn,Uxt,pr,Xr())(t)}var Gxt={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},mYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="treemap",r}return e.getDefaultOptions=function(){return Gxt},e.prototype.changeData=function(r){var n=this.options,i=n.colorField,a=n.interactions,o=n.hierarchyConfig;this.updateOption({data:r});var s=e3({data:r,colorField:i,enableDrillDown:Ohe(a,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(s),$xt(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return qxt},e}(gt),Nu="id",wF="path",Wxt={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(t){return{name:t.id,value:t.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function V_(t){if(t){var e=t.geometries[0].elements;e.forEach(function(r){r.shape.toFront()})}}var Hxt=y_("element-active"),Yxt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){V_(this.context.view)},e.prototype.active=function(){t.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Hxt),Xxt=y_("element-highlight"),Kxt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){V_(this.context.view)},e.prototype.highlight=function(){t.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){t.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Xxt),Qxt=y_("element-selected"),Jxt=y_("element-single-selected"),Zxt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){V_(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Qxt),ebt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){V_(this.context.view)},e.prototype.selected=function(){t.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){t.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){t.prototype.reset.call(this),this.syncElementsPos()},e}(Jxt);Xe("venn-element-active",Yxt);Xe("venn-element-highlight",Kxt);Xe("venn-element-selected",Zxt);Xe("venn-element-single-selected",ebt);ct("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]});ct("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]});ct("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]});ct("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]});ct("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]});ct("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var tbt=function(t){ae(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelPoint=function(r,n,i){var a=r.data,o=a.x,s=a.y,l=r.customLabelInfo,u=l.offsetX,c=l.offsetY;return{content:r.content[i],x:o+u,y:s+c}},e}(S_);Uw("venn",tbt);var Y0=`	
\v\f\r \u2028\u2029`,rbt=new RegExp("([a-z])["+Y0+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Y0+"]*,?["+Y0+"]*)+)","ig"),nbt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Y0+"]*,?["+Y0+"]*","ig");function ibt(t){if(!t)return null;if(Gu(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(rbt,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(nbt,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(r.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&r.push([i,o[0]]),s==="r")r.push([i].concat(o));else for(;o.length>=e[s]&&(r.push([i].concat(o.splice(0,e[s]))),!!e[s]););return""}),r}function abt(t){return fe({},t.defaultStyle,{fill:t.color},t.style)}tr("schema","venn",{draw:function(t,e){var r=t.data,n=ibt(r[wF]),i=abt(t),a=e.addGroup({name:"venn-shape"});a.addShape("path",{attrs:F(F({},i),{path:n}),name:"venn-path"});var o=t.customInfo,s=o.offsetX,l=o.offsetY,u=Ka.transform(null,[["t",s,l]]);return a.setMatrix(u),a},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var obt=function(t){return function(e,r){var n=[];return n[0]=t(e[0],r[0]),n[1]=t(e[1],r[1]),n[2]=t(e[2],r[2]),n}},xY={normal:function(t){return t},multiply:function(t,e){return t*e/255},screen:function(t,e){return 255*(1-(1-t/255)*(1-e/255))},overlay:function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},darken:function(t,e){return t>e?e:t},lighten:function(t,e){return t>e?t:e},dodge:function(t,e){return t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t)},burn:function(t,e){return e===255?255:t===0?0:255*(1-Math.min(1,(1-e/255)/(t/255)))}},sbt=function(t){if(!xY[t])throw new Error("unknown blend mode "+t);return xY[t]};function lbt(t,e,r){r===void 0&&(r="normal");var n=obt(sbt(r))(JS(t),JS(e)),i=JS(t),a=i[0],o=i[1],s=i[2],l=i[3],u=JS(e),c=u[0],d=u[1],f=u[2],p=u[3],v=Number((l+p*(1-l)).toFixed(2)),g=Math.round((l*(1-p)*(a/255)+l*p*(n[0]/255)+(1-l)*p*(c/255))/v*255),m=Math.round((l*(1-p)*(o/255)+l*p*(n[1]/255)+(1-l)*p*(d/255))/v*255),y=Math.round((l*(1-p)*(s/255)+l*p*(n[2]/255)+(1-l)*p*(f/255))/v*255);return"rgba(".concat(g,", ").concat(m,", ").concat(y,", ").concat(v,")")}function JS(t){var e=t.replace("/s+/g",""),r;return typeof e=="string"&&!e.startsWith("rgba")&&!e.startsWith("#")?r=vd.rgb2arr(vd.toRGB(e)).concat([1]):(e.startsWith("rgba")&&(r=e.replace("rgba(","").replace(")","").split(",")),e.startsWith("#")&&(r=vd.rgb2arr(e).concat([1])),r.map(function(n,i){return i===3?Number(n):n|0}))}function ubt(t,e,r,n){n=n||{};var i=n.maxIterations||100,a=n.tolerance||1e-10,o=t(e),s=t(r),l=r-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return e;if(s===0)return r;for(var u=0;u<i;++u){l/=2;var c=e+l,d=t(c);if(d*o>=0&&(e=c),Math.abs(l)<a||d===0)return c}return e+l}function SF(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=0;return e}function bY(t,e){return SF(t).map(function(){return SF(e)})}function Hv(t,e){for(var r=0,n=0;n<t.length;++n)r+=t[n]*e[n];return r}function EF(t){return Math.sqrt(Hv(t,t))}function AF(t,e,r){for(var n=0;n<e.length;++n)t[n]=e[n]*r}function Eu(t,e,r,n,i){for(var a=0;a<t.length;++a)t[a]=e*r[a]+n*i[a]}function khe(t,e,r){r=r||{};var n=r.maxIterations||e.length*200,i=r.nonZeroDelta||1.05,a=r.zeroDelta||.001,o=r.minErrorDelta||1e-6,s=r.minErrorDelta||1e-5,l=r.rho!==void 0?r.rho:1,u=r.chi!==void 0?r.chi:2,c=r.psi!==void 0?r.psi:-.5,d=r.sigma!==void 0?r.sigma:.5,f,p=e.length,v=new Array(p+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var g=0;g<p;++g){var m=e.slice();m[g]=m[g]?m[g]*i:a,v[g+1]=m,v[g+1].fx=t(m),v[g+1].id=g+1}function y(O){for(var D=0;D<O.length;D++)v[p][D]=O[D];v[p].fx=O.fx}for(var x=function(O,D){return O.fx-D.fx},b=e.slice(),w=e.slice(),S=e.slice(),C=e.slice(),E=0;E<n;++E){if(v.sort(x),r.history){var A=v.map(function(O){var D=O.slice();return D.fx=O.fx,D.id=O.id,D});A.sort(function(O,D){return O.id-D.id}),r.history.push({x:v[0].slice(),fx:v[0].fx,simplex:A})}for(f=0,g=0;g<p;++g)f=Math.max(f,Math.abs(v[0][g]-v[1][g]));if(Math.abs(v[0].fx-v[p].fx)<o&&f<s)break;for(g=0;g<p;++g){b[g]=0;for(var P=0;P<p;++P)b[g]+=v[P][g];b[g]/=p}var _=v[p];if(Eu(w,1+l,b,-l,_),w.fx=t(w),w.fx<v[0].fx)Eu(C,1+u,b,-u,_),C.fx=t(C),C.fx<w.fx?y(C):y(w);else if(w.fx>=v[p-1].fx){var k=!1;if(w.fx>_.fx?(Eu(S,1+c,b,-c,_),S.fx=t(S),S.fx<_.fx?y(S):k=!0):(Eu(S,1-c*l,b,c*l,_),S.fx=t(S),S.fx<w.fx?y(S):k=!0),k){if(d>=1)break;for(g=1;g<v.length;++g)Eu(v[g],1-d,v[0],d,v[g]),v[g].fx=t(v[g])}}else y(w)}return v.sort(x),{fx:v[0].fx,x:v[0]}}function cbt(t,e,r,n,i,a,o){var s=r.fx,l=Hv(r.fxprime,e),u=s,c=s,d=l,f=0;i=i||1,a=a||1e-6,o=o||.1;function p(g,m,y){for(var x=0;x<16;++x)if(i=(g+m)/2,Eu(n.x,1,r.x,i,e),u=n.fx=t(n.x,n.fxprime),d=Hv(n.fxprime,e),u>s+a*i*l||u>=y)m=i;else{if(Math.abs(d)<=-o*l)return i;d*(m-g)>=0&&(m=g),g=i,y=u}return 0}for(var v=0;v<10;++v){if(Eu(n.x,1,r.x,i,e),u=n.fx=t(n.x,n.fxprime),d=Hv(n.fxprime,e),u>s+a*i*l||v&&u>=c)return p(f,i,c);if(Math.abs(d)<=-o*l)return i;if(d>=0)return p(i,f,u);c=u,f=i,i*=2}return i}function dbt(t,e,r){var n={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()},a=e.slice(),o,s,l=1,u;r=r||{},u=r.maxIterations||e.length*20,n.fx=t(n.x,n.fxprime),o=n.fxprime.slice(),AF(o,n.fxprime,-1);for(var c=0;c<u;++c){if(l=cbt(t,o,n,i,l),r.history&&r.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:l}),!l)AF(o,n.fxprime,-1);else{Eu(a,1,i.fxprime,-1,n.fxprime);var d=Hv(n.fxprime,n.fxprime),f=Math.max(0,Hv(a,i.fxprime)/d);Eu(o,f,o,-1,i.fxprime),s=n,n=i,i=s}if(EF(n.fxprime)<=1e-5)break}return r.history&&r.history.push({x:n.x.slice(),fx:n.fx,fxprime:n.fxprime.slice(),alpha:l}),n}var Dhe=1e-10;function t3(t,e){var r=hbt(t),n=r.filter(function(E){return fbt(E,t)}),i=0,a=0,o,s=[];if(n.length>1){var l=jhe(n);for(o=0;o<n.length;++o){var u=n[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}n.sort(function(E,A){return A.angle-E.angle});var c=n[n.length-1];for(o=0;o<n.length;++o){var d=n[o];a+=(c.x+d.x)*(d.y-c.y);for(var f={x:(d.x+c.x)/2,y:(d.y+c.y)/2},p=null,v=0;v<d.parentIndex.length;++v)if(c.parentIndex.indexOf(d.parentIndex[v])>-1){var g=t[d.parentIndex[v]],m=Math.atan2(d.x-g.x,d.y-g.y),y=Math.atan2(c.x-g.x,c.y-g.y),x=y-m;x<0&&(x+=2*Math.PI);var b=y-x/2,w=zs(f,{x:g.x+g.radius*Math.sin(b),y:g.y+g.radius*Math.cos(b)});w>g.radius*2&&(w=g.radius*2),(p===null||p.width>w)&&(p={circle:g,width:w,p1:d,p2:c})}p!==null&&(s.push(p),i+=CF(p.circle.radius,p.width),c=d)}}else{var S=t[0];for(o=1;o<t.length;++o)t[o].radius<S.radius&&(S=t[o]);var C=!1;for(o=0;o<t.length;++o)if(zs(t[o],S)>Math.abs(S.radius-t[o].radius)){C=!0;break}C?i=a=0:(i=S.radius*S.radius*Math.PI,s.push({circle:S,p1:{x:S.x,y:S.y+S.radius},p2:{x:S.x-Dhe,y:S.y+S.radius},width:S.radius*2}))}return a/=2,e&&(e.area=i+a,e.arcArea=i,e.polygonArea=a,e.arcs=s,e.innerPoints=n,e.intersectionPoints=r),i+a}function fbt(t,e){for(var r=0;r<e.length;++r)if(zs(t,e[r])>e[r].radius+Dhe)return!1;return!0}function hbt(t){for(var e=[],r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)for(var i=Rhe(t[r],t[n]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[r,n],e.push(o)}return e}function CF(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function zs(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function Mhe(t,e,r){if(r>=t+e)return 0;if(r<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var n=t-(r*r-e*e+t*t)/(2*r),i=e-(r*r-t*t+e*e)/(2*r);return CF(t,n)+CF(e,i)}function Rhe(t,e){var r=zs(t,e),n=t.radius,i=e.radius;if(r>=n+i||r<=Math.abs(n-i))return[];var a=(n*n-i*i+r*r)/(2*r),o=Math.sqrt(n*n-a*a),s=t.x+a*(e.x-t.x)/r,l=t.y+a*(e.y-t.y)/r,u=-(e.y-t.y)*(o/r),c=-(e.x-t.x)*(o/r);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function jhe(t){for(var e={x:0,y:0},r=0;r<t.length;++r)e.x+=t[r].x,e.y+=t[r].y;return e.x/=t.length,e.y/=t.length,e}function UM(t,e,r){var n=e[0].radius-zs(e[0],t),i,a;for(i=1;i<e.length;++i)a=e[i].radius-zs(e[i],t),a<=n&&(n=a);for(i=0;i<r.length;++i)a=zs(r[i],t)-r[i].radius,a<=n&&(n=a);return n}function Fhe(t,e){var r=[],n;for(n=0;n<t.length;++n){var i=t[n];r.push({x:i.x,y:i.y}),r.push({x:i.x+i.radius/2,y:i.y}),r.push({x:i.x-i.radius/2,y:i.y}),r.push({x:i.x,y:i.y+i.radius/2}),r.push({x:i.x,y:i.y-i.radius/2})}var a=r[0],o=UM(r[0],t,e);for(n=1;n<r.length;++n){var s=UM(r[n],t,e);s>=o&&(a=r[n],o=s)}var l=khe(function(f){return-1*UM({x:f[0],y:f[1]},t,e)},[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},c=!0;for(n=0;n<t.length;++n)if(zs(u,t[n])>t[n].radius){c=!1;break}for(n=0;n<e.length;++n)if(zs(u,e[n])<e[n].radius){c=!1;break}if(!c)if(t.length==1)u={x:t[0].x,y:t[0].y};else{var d={};t3(t,d),d.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:d.arcs.length==1?u={x:d.arcs[0].circle.x,y:d.arcs[0].circle.y}:e.length?u=Fhe(t,[]):u=jhe(d.arcs.map(function(f){return f.p1}))}return u}function pbt(t){var e={},r=[];for(var n in t)r.push(n),e[n]=[];for(var i=0;i<r.length;i++)for(var a=t[r[i]],o=i+1;o<r.length;++o){var s=t[r[o]],l=zs(a,s);l+s.radius<=a.radius+1e-10?e[r[o]].push(r[i]):l+a.radius<=s.radius+1e-10&&e[r[i]].push(r[o])}return e}function vbt(t,e){for(var r={},n=pbt(t),i=0;i<e.length;++i){for(var a=e[i].sets,o={},s={},l=0;l<a.length;++l){o[a[l]]=!0;for(var u=n[a[l]],c=0;c<u.length;++c)s[u[c]]=!0}var d=[],f=[];for(var p in t)p in o?d.push(t[p]):p in s||f.push(t[p]);var v=Fhe(d,f);r[a]=v,v.disjoint&&e[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return r}function gbt(t,e,r){var n=[],i=t-r,a=e;return n.push("M",i,a),n.push("A",r,r,0,1,0,i+2*r,a),n.push("A",r,r,0,1,0,i,a),n.join(" ")}function mbt(t){var e={};t3(t,e);var r=e.arcs;if(r.length===0)return"M 0 0";if(r.length==1){var n=r[0].circle;return gbt(n.x,n.y,n.radius)}else{for(var i=[`
M`,r[0].p2.x,r[0].p2.y],a=0;a<r.length;++a){var o=r[a],s=o.circle.radius,l=o.width>s;i.push(`
A`,s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}}function ybt(t,e){e=e||{},e.maxIterations=e.maxIterations||500;var r=e.initialLayout||Sbt,n=e.lossFunction||r3;t=xbt(t);var i=r(t,e),a=[],o=[],s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));for(var l=khe(function(d){for(var f={},p=0;p<o.length;++p){var v=o[p];f[v]={x:d[2*p],y:d[2*p+1],radius:i[v].radius}}return n(f,t)},a,e),u=l.x,c=0;c<o.length;++c)s=o[c],i[s].x=u[2*c],i[s].y=u[2*c+1];return i}var Lhe=1e-10;function TF(t,e,r){return Math.min(t,e)*Math.min(t,e)*Math.PI<=r+Lhe?Math.abs(t-e):ubt(function(n){return Mhe(t,e,n)-r},0,t+e)}function xbt(t){t=t.slice();var e=[],r={},n,i,a,o;for(n=0;n<t.length;++n){var s=t[n];s.sets.length==1?e.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],r[[a,o]]=!0,r[[o,a]]=!0)}for(e.sort(function(l,u){return l>u?1:-1}),n=0;n<e.length;++n)for(a=e[n],i=n+1;i<e.length;++i)o=e[i],[a,o]in r||t.push({sets:[a,o],size:0});return t}function bbt(t,e,r){var n=bY(e.length,e.length),i=bY(e.length,e.length);return t.filter(function(a){return a.sets.length==2}).map(function(a){var o=r[a.sets[0]],s=r[a.sets[1]],l=Math.sqrt(e[o].size/Math.PI),u=Math.sqrt(e[s].size/Math.PI),c=TF(l,u,a.size);n[o][s]=n[s][o]=c;var d=0;a.size+1e-10>=Math.min(e[o].size,e[s].size)?d=1:a.size<=1e-10&&(d=-1),i[o][s]=i[s][o]=d}),{distances:n,constraints:i}}function wbt(t,e,r,n){var i=0,a;for(a=0;a<e.length;++a)e[a]=0;for(a=0;a<r.length;++a)for(var o=t[2*a],s=t[2*a+1],l=a+1;l<r.length;++l){var u=t[2*l],c=t[2*l+1],d=r[a][l],f=n[a][l],p=(u-o)*(u-o)+(c-s)*(c-s),v=Math.sqrt(p),g=p-d*d;f>0&&v<=d||f<0&&v>=d||(i+=2*g*g,e[2*a]+=4*g*(o-u),e[2*a+1]+=4*g*(s-c),e[2*l]+=4*g*(u-o),e[2*l+1]+=4*g*(c-s))}return i}function Sbt(t,e){var r=Abt(t,e),n=e.lossFunction||r3;if(t.length>=8){var i=Ebt(t,e),a=n(i,t),o=n(r,t);a+1e-8<o&&(r=i)}return r}function Ebt(t,e){e=e||{};var r=e.restarts||10,n=[],i={},a;for(a=0;a<t.length;++a){var o=t[a];o.sets.length==1&&(i[o.sets[0]]=n.length,n.push(o))}var s=bbt(t,n,i),l=s.distances,u=s.constraints,c=EF(l.map(EF))/l.length;l=l.map(function(x){return x.map(function(b){return b/c})});var d=function(x,b){return wbt(x,b,l,u)},f,p;for(a=0;a<r;++a){var v=SF(l.length*2).map(Math.random);p=dbt(d,v,e),(!f||p.fx<f.fx)&&(f=p)}var g=f.x,m={};for(a=0;a<n.length;++a){var y=n[a];m[y.sets[0]]={x:g[2*a]*c,y:g[2*a+1]*c,radius:Math.sqrt(y.size/Math.PI)}}if(e.history)for(a=0;a<e.history.length;++a)AF(e.history[a].x,c);return m}function Abt(t,e){for(var r=e&&e.lossFunction?e.lossFunction:r3,n={},i={},a,o=0;o<t.length;++o){var s=t[o];s.sets.length==1&&(a=s.sets[0],n[a]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},i[a]=[])}t=t.filter(function(L){return L.sets.length==2});for(var o=0;o<t.length;++o){var l=t[o],u=l.hasOwnProperty("weight")?l.weight:1,c=l.sets[0],d=l.sets[1];l.size+Lhe>=Math.min(n[c].size,n[d].size)&&(u=0),i[c].push({set:d,size:l.size,weight:u}),i[d].push({set:c,size:l.size,weight:u})}var f=[];for(a in i)if(i.hasOwnProperty(a)){for(var p=0,o=0;o<i[a].length;++o)p+=i[a][o].size*i[a][o].weight;f.push({set:a,size:p})}function v(L,R){return R.size-L.size}f.sort(v);var g={};function m(L){return L.set in g}function y(L,R){n[R].x=L.x,n[R].y=L.y,g[R]=!0}y({x:0,y:0},f[0].set);for(var o=1;o<f.length;++o){var x=f[o].set,b=i[x].filter(m);if(a=n[x],b.sort(v),b.length===0)throw"ERROR: missing pairwise overlap information";for(var w=[],S=0;S<b.length;++S){var C=n[b[S].set],E=TF(a.radius,C.radius,b[S].size);w.push({x:C.x+E,y:C.y}),w.push({x:C.x-E,y:C.y}),w.push({y:C.y+E,x:C.x}),w.push({y:C.y-E,x:C.x});for(var A=S+1;A<b.length;++A)for(var P=n[b[A].set],_=TF(a.radius,P.radius,b[A].size),k=Rhe({x:C.x,y:C.y,radius:E},{x:P.x,y:P.y,radius:_}),O=0;O<k.length;++O)w.push(k[O])}for(var D=1e50,B=w[0],S=0;S<w.length;++S){n[x].x=w[S].x,n[x].y=w[S].y;var $=r(n,t);$<D&&(D=$,B=w[S])}y(B,x)}return n}function r3(t,e){var r=0;function n(c){return c.map(function(d){return t[d]})}for(var i=0;i<e.length;++i){var a=e[i],o=void 0;if(a.sets.length!=1){if(a.sets.length==2){var s=t[a.sets[0]],l=t[a.sets[1]];o=Mhe(s.radius,l.radius,zs(s,l))}else o=t3(n(a.sets));var u=a.hasOwnProperty("weight")?a.weight:1;r+=u*(o-a.size)*(o-a.size)}}return r}function Cbt(t){var e=function(r){var n=Math.max.apply(null,t.map(function(a){return a[r]+a.radius})),i=Math.min.apply(null,t.map(function(a){return a[r]-a.radius}));return{max:n,min:i}};return{xRange:e("x"),yRange:e("y")}}function Tbt(t,e,r,n){var i=[],a=[];for(var o in t)t.hasOwnProperty(o)&&(a.push(o),i.push(t[o]));e-=2*n,r-=2*n;var s=Cbt(i),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),t;for(var c=e/(l.max-l.min),d=r/(u.max-u.min),f=Math.min(d,c),p=(e-(l.max-l.min)*f)/2,v=(r-(u.max-u.min)*f)/2,g={},m=0;m<i.length;++m){var y=i[m];g[a[m]]={radius:f*y.radius,x:n+p+(y.x-l.min)*f,y:n+v+(y.y-u.min)*f}}return g}var Ibt=Mm(function(t,e,r,n){var i=new Map,a=t.length;return e.forEach(function(o,s){if(o[n].length===1)i.set(o[Nu],t[(s+a)%a]);else{var l=o[n].map(function(u){return i.get(u)});i.set(o[Nu],l.slice(1).reduce(function(u,c){return lbt(u,c,r)},l[0]))}}),i},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return JSON.stringify(t)});function Pbt(t,e,r,n){var i=t.data,a=t.setsField,o=t.sizeField;if(i.length===0)return rc(Xs.WARN,!1,"warn: %s",""),[];var s=i.map(function(d){var f;return F(F({},d),(f={sets:d[a]||[],size:d[o]},f[wF]="",f[Nu]="",f))});s.sort(function(d,f){return d.sets.length-f.sets.length});var l=ybt(s),u=Tbt(l,e,r,n),c=vbt(u,s);return s.forEach(function(d){var f=d.sets,p=f.join(",");d[Nu]=p;var v=f.map(function(y){return u[y]}),g=mbt(v);/[zZ]$/.test(g)||(g+=" Z"),d[wF]=g;var m=c[p]||{x:0,y:0};dr(d,m)}),s}function _bt(t,e){for(var r=0;r<e.length;r++)if(!t.includes(e[r]))return!1;return!0}var Obt=40;function $he(t,e,r){var n=t.chart,i=t.options,a=i.blendMode,o=i.setsField,s=n.getTheme(),l=s.colors10,u=s.colors20,c=r;xe(c)||(c=e.filter(function(f){return f[o].length===1}).length<=10?l:u);var d=Ibt(c,e,a,o);return function(f){return d.get(f)||c[0]}}function kbt(t,e){var r=t.options,n=r.color;if(typeof n!="function"){var i=typeof n=="string"?[n]:n,a=$he(t,e,i);return function(o){return a(o[Nu])}}return n}function Dbt(t){var e=t.chart,r=t.options,n=r.legend,i=r.appendPadding,a=r.padding,o=Bd(i);return n!==!1&&(o=T_(i,K(n,"position"),Obt)),e.appendPadding=M5([o,a]),t}function Mbt(t){var e=t.options,r=e.data;r||(rc(Xs.WARN,!1,"warn: %s",""),r=[]);var n=r.filter(function(a){return a.sets.length===1}).map(function(a){return a.sets[0]}),i=r.filter(function(a){var o=a.sets;return _bt(n,o)});return on(i,r)||rc(Xs.WARN,!1,"warn: %s",", "),Fe({},t,{options:{data:i}})}function Rbt(t){var e=t.chart,r=t.options,n=r.pointStyle,i=r.setsField,a=r.sizeField,o=Bd(e.appendPadding),s=o[0],l=o[1],u=o[2],c=o[3],d={offsetX:c,offsetY:s},f=e.viewBBox,p=f.width,v=f.height,g=Pbt(r,Math.max(p-(l+c),0),Math.max(v-(s+u),0),0);e.data(g);var m=$5(fe({},t,{options:{xField:"x",yField:"y",sizeField:a,seriesField:Nu,rawFields:[i,a],schema:{shape:"venn",style:n}}})).ext,y=m.geometry;y.customInfo(d);var x=kbt(t,g);return typeof x=="function"&&y.color(Nu,function(b){var w=g.find(function(C){return C[Nu]===b}),S=$he(t,g)(b);return x(w,S)}),t}function jbt(t){var e=t.chart,r=t.options,n=r.label,i=Bd(e.appendPadding),a=i[0],o=i[3],s={offsetX:o,offsetY:a},l=Li(e,"schema");if(!n)l.label(!1);else{var u=n.callback,c=Kt(n,["callback"]);l.label({fields:["id"],callback:u,cfg:Fe({},ri(c),{type:"venn",customLabelInfo:s})})}return t}function Fbt(t){var e=t.chart,r=t.options,n=r.legend,i=r.sizeField;return e.legend(Nu,n),e.legend(i,!1),t}function Lbt(t){var e=t.chart;return e.axis(!1),t}function $bt(t){var e=t.options,r=t.chart,n=e.interactions;if(n){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Br(fe({},t,{options:{interactions:n.map(function(a){return F(F({},a),{type:i[a.type]||a.type})})}}))}return r.removeInteraction("legend-active"),r.removeInteraction("legend-highlight"),t}function Nbt(t){return it(Dbt,Ut,Mbt,Rbt,jbt,hn({}),Fbt,Lbt,Wn,$bt,pr)(t)}var yYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="venn",r}return e.getDefaultOptions=function(){return Wxt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Nbt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(gt),Qo="x",th="violinY",Bbt="violinSize",Nhe="minMax",Bhe="quantile",Vhe="median",n3="violin_view",Vbt="min_max_view",zbt="quantile_view",Ubt="median_view",qbt=fe({},gt.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),zhe={exports:{}},Uhe={exports:{}};(function(t){var e=t.exports;t.exports.isNumber=function(r){return typeof r=="number"},t.exports.findMin=function(r){if(r.length===0)return 1/0;for(var n=r[0],i=1;i<r.length;i++)n=Math.min(n,r[i]);return n},t.exports.findMax=function(r){if(r.length===0)return-1/0;for(var n=r[0],i=1;i<r.length;i++)n=Math.max(n,r[i]);return n},t.exports.findMinMulti=function(r){for(var n=e.findMin(r[0]),i=1;i<r.length;i++)n=Math.min(n,e.findMin(r[i]));return n},t.exports.findMaxMulti=function(r){for(var n=e.findMax(r[0]),i=1;i<r.length;i++)n=Math.max(n,e.findMax(r[i]));return n},t.exports.inside=function(r,n,i){return r<=i&&i<=n}})(Uhe);var Gbt=Uhe.exports;(function(t){var e=50,r=2,n=Math.log(2),i=t.exports,a=Gbt;function o(l){return 1-Math.abs(l)}t.exports.getUnifiedMinMax=function(l,u){return i.getUnifiedMinMaxMulti([l],u)},t.exports.getUnifiedMinMaxMulti=function(l,u){u=u||{};var c=!1,d=!1,f=a.isNumber(u.width)?u.width:r,p=a.isNumber(u.size)?u.size:e,v=a.isNumber(u.min)?u.min:(c=!0,a.findMinMulti(l)),g=a.isNumber(u.max)?u.max:(d=!0,a.findMaxMulti(l)),m=g-v,y=m/(p-1);return c&&(v=v-2*f*y),d&&(g=g+2*f*y),{min:v,max:g}},t.exports.create=function(l,u){if(u=u||{},!l||l.length===0)return[];var c=a.isNumber(u.size)?u.size:e,d=a.isNumber(u.width)?u.width:r,f=i.getUnifiedMinMax(l,{size:c,width:d,min:u.min,max:u.max}),p=f.min,v=f.max,g=v-p,m=g/(c-1);if(g===0)return[{x:p,y:1}];for(var y=[],x=0;x<c;x++)y.push({x:p+x*m,y:0});var b=function(k){return Math.floor((k-p)/m)},w=s(o,d),S=w[d],C=w[d-1]-w[d-2],E=0;l.forEach(function(k){var O=b(k);if(!(O+d<0||O-d>=y.length)){var D=Math.max(O-d,0),B=O,$=Math.min(O+d,y.length-1),L=D-(O-d),R=O+d-$,V=w[-d-1+L]||0,U=w[-d-1+R]||0,q=S/(S-V-U);L>0&&(E+=q*(L-1)*C);var M=Math.max(0,O-d+1);a.inside(0,y.length-1,M)&&(y[M].y+=q*1*C),a.inside(0,y.length-1,B+1)&&(y[B+1].y-=q*2*C),a.inside(0,y.length-1,$+1)&&(y[$+1].y+=q*1*C)}});var A=E,P=0,_=0;return y.forEach(function(k){P+=k.y,A+=P,k.y=A,_+=A}),_>0&&y.forEach(function(k){k.y/=_}),y};function s(l,u){for(var c={},d=0,f=-u;f<=u;f++)d+=l(f/u),c[f]=d;return c}t.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var u=0;return l.forEach(function(c){u+=c.x*c.y}),u}},t.exports.getXWithLeftTailArea=function(l,u){if(!(!l||l.length===0)){for(var c=0,d=0,f=0;f<l.length&&(d=f,c+=l[f].y,!(c>=u));f++);return l[d].x}},t.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var u=0;return l.forEach(function(c){var d=Math.log(c.y);isFinite(d)&&(u+=c.y*d)}),u=-u/n,Math.pow(2,u)}}})(zhe);var Wbt=zhe.exports;const Hbt=_t(Wbt);function wY(t,e){var r=t.length*e;if(t.length===0)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return e===1?t[t.length-1]:e===0?t[0]:r%1!==0?t[Math.ceil(r)-1]:t.length%2===0?(t[r-1]+t[r])/2:t[r]}function jy(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function fA(t,e,r,n){for(r=r||0,n=n||t.length-1;n>r;){if(n-r>600){var i=n-r+1,a=e-r+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(l*=-1);var u=Math.max(r,Math.floor(e-a*s/i+l)),c=Math.min(n,Math.floor(e+(i-a)*s/i+l));fA(t,e,u,c)}var d=t[e],f=r,p=n;for(jy(t,r,e),t[n]>d&&jy(t,r,n);f<p;){for(jy(t,f,p),f++,p--;t[f]<d;)f++;for(;t[p]>d;)p--}t[r]===d?jy(t,r,p):(p++,jy(t,p,n)),p<=e&&(r=p+1),e<=p&&(n=p-1)}}function Fy(t,e){var r=t.slice();if(Array.isArray(e)){Ybt(r,e);for(var n=[],i=0;i<e.length;i++)n[i]=wY(r,e[i]);return n}else{var a=Ghe(r.length,e);return qhe(r,a,0,r.length-1),wY(r,e)}}function qhe(t,e,r,n){e%1===0?fA(t,e,r,n):(e=Math.floor(e),fA(t,e,r,n),fA(t,e+1,e+1,n))}function Ybt(t,e){for(var r=[0],n=0;n<e.length;n++)r.push(Ghe(t.length,e[n]));r.push(t.length-1),r.sort(Xbt);for(var i=[0,r.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);qhe(t,r[s],Math.floor(r[o]),Math.ceil(r[a])),i.push(o,s,s,a)}}}function Xbt(t,e){return t-e}function Ghe(t,e){var r=t*e;return e===1?t-1:e===0?0:r%1!==0?Math.ceil(r)-1:t%2===0?r-.5:r}var SY=function(t){return{low:us(t),high:Ro(t),q1:Fy(t,.25),q3:Fy(t,.75),median:Fy(t,[.5]),minMax:[us(t),Ro(t)],quantile:[Fy(t,.25),Fy(t,.75)]}},EY=function(t,e){var r=Hbt.create(t,e);return{violinSize:r.map(function(n){return n.y}),violinY:r.map(function(n){return n.x})}},Whe=function(t){var e=t.xField,r=t.yField,n=t.seriesField,i=t.data,a=t.kde,o={min:a.min,max:a.max,size:a.sampleSize,width:a.width};if(!n){var s=Co(i,e);return Object.keys(s).map(function(c){var d=s[c],f=d.map(function(p){return p[r]});return F(F({x:c},EY(f,o)),SY(f))})}var l=[],u=Co(i,n);return Object.keys(u).forEach(function(c){var d=Co(u[c],e);return Object.keys(d).forEach(function(f){var p,v=d[f],g=v.map(function(m){return m[r]});l.push(F(F((p={x:f},p[n]=c,p),EY(g,o)),SY(g)))})}),l},hA=["low","high","q1","q3","median"],pA=[{type:"dodge",marginRatio:1/32}];function Kbt(t){var e=t.chart,r=t.options;return e.data(Whe(r)),t}function Qbt(t){var e=t.chart,r=t.options,n=r.seriesField,i=r.color,a=r.shape,o=a===void 0?"violin":a,s=r.violinStyle,l=r.tooltip,u=r.state,c=e.createView({id:n3});return Tht({chart:c,options:{xField:Qo,yField:th,seriesField:n||Qo,sizeField:Bbt,tooltip:F({fields:hA},l),violin:{style:s,color:i,shape:o},state:u}}),c.geometries[0].adjust(pA),t}function Jbt(t){var e=t.chart,r=t.options,n=r.seriesField,i=r.color,a=r.tooltip,o=r.box;if(o===!1)return t;var s=e.createView({id:Vbt});$i({chart:s,options:{xField:Qo,yField:Nhe,seriesField:n||Qo,tooltip:F({fields:hA},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(pA);var l=e.createView({id:zbt});$i({chart:l,options:{xField:Qo,yField:Bhe,seriesField:n||Qo,tooltip:F({fields:hA},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(pA);var u=e.createView({id:Ubt});return Lo({chart:u,options:{xField:Qo,yField:Vhe,seriesField:n||Qo,tooltip:F({fields:hA},a),state:typeof o=="object"?o.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(pA),l.axis(!1),s.axis(!1),u.axis(!1),u.legend(!1),s.legend(!1),l.legend(!1),t}function Zbt(t){var e,r=t.chart,n=t.options,i=n.meta,a=n.xAxis,o=n.yAxis,s={},l=fe(s,i,(e={},e[Qo]=F(F({sync:!0},sr(a,Va)),{type:"cat"}),e[th]=F({sync:!0},sr(o,Va)),e[Nhe]=F({sync:th},sr(o,Va)),e[Bhe]=F({sync:th},sr(o,Va)),e[Vhe]=F({sync:th},sr(o,Va)),e));return r.scale(l),t}function ewt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=Tt(e,n3);return n===!1?a.axis(Qo,!1):a.axis(Qo,n),i===!1?a.axis(th,!1):a.axis(th,i),e.axis(!1),t}function twt(t){var e=t.chart,r=t.options,n=r.legend,i=r.seriesField,a=r.shape;if(n===!1)e.legend(!1);else{var o=i||Qo,s=GP(n,["selected"]);(!a||!a.startsWith("hollow"))&&(K(s,["marker","style","lineWidth"])||kn(s,["marker","style","lineWidth"],0)),e.legend(o,s),K(n,"selected")&&Y(e.views,function(l){return l.legend(o,n)})}return t}function rwt(t){var e=t.chart,r=Tt(e,n3);return Xr()(F(F({},t),{chart:r})),t}function nwt(t){var e=t.chart,r=t.options,n=r.animation;return Y(e.views,function(i){Ww(i,n)}),t}function iwt(t){return it(Ut,Kbt,Qbt,Jbt,Zbt,Wn,ewt,twt,Br,rwt,nwt)(t)}var xYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="violin",r}return e.getDefaultOptions=function(){return qbt},e.prototype.changeData=function(r){this.updateOption({data:r}),this.chart.changeData(Whe(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return iwt},e}(gt),Zo="$$yField$$",z_="$$diffField$$",i3="$$absoluteField$$",IF="$$isTotal$$",awt={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function owt(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n){var i=r===0?"M":"L";e.push([i,n.x,n.y])}}var a=t[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}function swt(t){return fe({},t.defaultStyle,t.style,{fill:t.color})}tr("interval","waterfall",{draw:function(t,e){var r=t.customInfo,n=t.points,i=t.nextPoints,a=e.addGroup(),o=this.parsePath(owt(n)),s=swt(t);a.addShape("path",{attrs:F(F({},s),{path:o})});var l=K(r,"leaderLine");if(l&&i){var u=[["M",n[2].x,n[2].y],["L",i[0].x,i[0].y]];n[2].y===i[1].y&&(u[1]=["L",i[1].x,i[1].y]),u=this.parsePath(u),a.addShape("path",{attrs:F({path:u},l.style||{})})}return a}});function lwt(t,e,r,n,i){var a,o=[];if(aa(t,function(l,u){var c;rc(Xs.WARN,lt(u[r]),"".concat(u[r]," is not a valid number"));var d=Kf(u[r])?null:u[r];return o.push(F(F({},u),(c={},c[n]=[l,l+d],c))),l+d},0),o.length&&i){var s=K(o,[[t.length-1],n,[1]]);o.push((a={},a[e]=i.label,a[r]=s,a[n]=[0,s],a))}return o}function Hhe(t,e,r,n){var i=lwt(t,e,r,Zo,n);return i.map(function(a,o){var s;return lr(a)?F(F({},a),(s={},s[i3]=a[Zo][1],s[z_]=a[Zo][1]-a[Zo][0],s[IF]=o===t.length,s)):a})}function uwt(t){var e=t.options,r=e.locale,n=e.total,i=__(r).get(["waterfall","total"]);return n&&typeof n.label!="string"&&i&&(t.options.total.label=i),t}function cwt(t){var e=t.chart,r=t.options,n=r.data,i=r.xField,a=r.yField,o=r.total,s=r.leaderLine,l=r.columnWidthRatio,u=r.waterfallStyle,c=r.risingFill,d=r.fallingFill,f=r.color,p=r.shape,v=r.customInfo;e.data(Hhe(n,i,a,o));var g=f||function(b){return K(b,[IF])?K(o,["style","fill"],""):K(b,[Zo,1])-K(b,[Zo,0])>0?c:d},m=fe({},t,{options:{xField:i,yField:Zo,seriesField:i,rawFields:[a,z_,IF,Zo],widthRatio:l,interval:{style:u,shape:p||"waterfall",color:g}}}),y=$i(m).ext,x=y.geometry;return x.customInfo(F(F({},v),{leaderLine:s})),t}function dwt(t){var e,r,n=t.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.meta,u=fe({},{alias:s},K(l,s));return it(hn((e={},e[o]=i,e[s]=a,e[Zo]=a,e),fe({},l,(r={},r[Zo]=u,r[z_]=u,r[i3]=u,r))))(t)}function fwt(t){var e=t.chart,r=t.options,n=r.xAxis,i=r.yAxis,a=r.xField,o=r.yField;return n===!1?e.axis(a,!1):e.axis(a,n),i===!1?(e.axis(o,!1),e.axis(Zo,!1)):(e.axis(o,i),e.axis(Zo,i)),t}function hwt(t){var e=t.chart,r=t.options,n=r.legend,i=r.total,a=r.risingFill,o=r.fallingFill,s=r.locale,l=__(s);if(n===!1)e.legend(!1);else{var u=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];i&&u.push({name:i.label||"",value:"total",marker:{symbol:"square",style:fe({},{r:5},K(i,"style"))}}),e.legend(fe({},{custom:!0,position:"top",items:u},n)),e.removeInteraction("legend-filter")}return t}function pwt(t){var e=t.chart,r=t.options,n=r.label,i=r.labelMode,a=r.xField,o=Li(e,"interval");if(!n)o.label(!1);else{var s=n.callback,l=Kt(n,["callback"]);o.label({fields:i==="absolute"?[i3,a]:[z_,a],callback:s,cfg:ri(l)})}return t}function vwt(t){var e=t.chart,r=t.options,n=r.tooltip,i=r.xField,a=r.yField;if(n!==!1){e.tooltip(F({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},n));var o=e.geometries[0];n!=null&&n.formatter?o.tooltip("".concat(i,"*").concat(a),n.formatter):o.tooltip(a)}else e.tooltip(!1);return t}function gwt(t){return it(uwt,Ut,cwt,dwt,fwt,hwt,vwt,pwt,af,Br,pr,Xr())(t)}var bYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="waterfall",r}return e.getDefaultOptions=function(){return awt},e.prototype.changeData=function(r){var n=this.options,i=n.xField,a=n.yField,o=n.total;this.updateOption({data:r}),this.chart.changeData(Hhe(r,i,a,o))},e.prototype.getSchemaAdaptor=function(){return gwt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(gt),a3="color",mwt=fe({},gt.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",a3],formatter:function(t){return{name:t.text,value:t.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),ywt={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function xwt(t,e){return e=dr({},ywt,e),bwt(t,e)}function bwt(t,e){var r=Mwt();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(l){ve(e[l])||r[l](e[l])}),r.words(t),e.imageMask&&r.createMask(e.imageMask);var n=r.start(),i=n._tags;i.forEach(function(l){l.x+=e.size[0]/2,l.y+=e.size[1]/2});var a=e.size,o=a[0],s=a[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:s,opacity:0}),i}var qM=Math.PI/180,m0=64,vA=2048;function wwt(t){return t.text}function Swt(){return"serif"}function AY(){return"normal"}function Ewt(t){return t.value}function Awt(){return~~(Math.random()*2)*90}function Cwt(){return 1}function Twt(t,e,r,n){if(!e.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(m0<<5)/a,vA/a);var o=0,s=0,l=0,u=r.length;for(--n;++n<u;){e=r[n],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;var c=i.measureText(e.text+"m").width*a,d=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*qM),p=Math.cos(e.rotate*qM),v=c*p,g=c*f,m=d*p,y=d*f;c=Math.max(Math.abs(v+y),Math.abs(v-y))+31>>5<<5,d=~~Math.max(Math.abs(g+m),Math.abs(g-m))}else c=c+31>>5<<5;if(d>l&&(l=d),o+c>=m0<<5&&(o=0,s+=l,l=0),s+d>=vA)break;i.translate((o+(c>>1))/a,(s+(d>>1))/a),e.rotate&&i.rotate(e.rotate*qM),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=c,e.height=d,e.xoff=o,e.yoff=s,e.x1=c>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=c}for(var x=i.getImageData(0,0,(m0<<5)/a,vA/a).data,b=[];--n>=0;)if(e=r[n],!!e.hasText){for(var c=e.width,w=c>>5,d=e.y1-e.y0,S=0;S<d*w;S++)b[S]=0;if(o=e.xoff,o==null)return;s=e.yoff;for(var C=0,E=-1,A=0;A<d;A++){for(var S=0;S<c;S++){var P=w*A+(S>>5),_=x[(s+A)*(m0<<5)+(o+S)<<2]?1<<31-S%32:0;b[P]|=_,C|=_}C?E=A:(e.y0++,d--,A--,s++)}e.y1=e.y0+E,e.sprite=b.slice(0,(e.y1-e.y0)*w)}}}function Iwt(t,e,r){r>>=5;for(var n=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,l=t.y1-t.y0,u=(t.y+t.y0)*r+(a>>5),c,d=0;d<l;d++){c=0;for(var f=0;f<=i;f++)if((c<<s|(f<i?(c=n[d*i+f])>>>o:0))&e[u+f])return!0;u+=r}return!1}function Pwt(t,e){var r=t[0],n=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function _wt(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function Yhe(t){var e=t[0]/t[1];return function(r){return[e*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function Owt(t){var e=4,r=e*t[0]/t[1],n=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:n+=r;break;case 1:i+=e;break;case 2:n-=r;break;default:i-=e;break}return[n,i]}}function CY(t){for(var e=[],r=-1;++r<t;)e[r]=0;return e}function kwt(){return document.createElement("canvas")}function xl(t){return qe(t)?t:function(){return t}}var Dwt={archimedean:Yhe,rectangular:Owt};function Mwt(){var t=[256,256],e=Swt,r=Ewt,n=AY,i=Awt,a=Cwt,o=Yhe,s=Math.random,l=[],u=1/0,c=wwt,d=AY,f=kwt,p={};p.start=function(){var m=t[0],y=t[1],x=v(f()),b=p.board?p.board:CY((t[0]>>5)*t[1]),w=l.length,S=[],C=l.map(function(_,k,O){return _.text=c.call(this,_,k,O),_.font=e.call(this,_,k,O),_.style=d.call(this,_,k,O),_.weight=n.call(this,_,k,O),_.rotate=i.call(this,_,k,O),_.size=~~r.call(this,_,k,O),_.padding=a.call(this,_,k,O),_}).sort(function(_,k){return k.size-_.size}),E=-1,A=p.board?[{x:0,y:0},{x:m,y}]:null;P();function P(){for(var _=Date.now();Date.now()-_<u&&++E<w;){var k=C[E];k.x=m*(s()+.5)>>1,k.y=y*(s()+.5)>>1,Twt(x,k,C,E),k.hasText&&g(b,k,A)&&(S.push(k),A?p.hasImage||Pwt(A,k):A=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=t[0]>>1,k.y-=t[1]>>1)}p._tags=S,p._bounds=A}return p};function v(m){m.width=m.height=1;var y=Math.sqrt(m.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);m.width=(m0<<5)/y,m.height=vA/y;var x=m.getContext("2d",{willReadFrequently:!0});return x.fillStyle=x.strokeStyle="red",x.textAlign="center",{context:x,ratio:y}}function g(m,y,x){for(var b=y.x,w=y.y,S=Math.sqrt(t[0]*t[0]+t[1]*t[1]),C=o(t),E=s()<.5?1:-1,A,P=-E,_,k;(A=C(P+=E))&&(_=~~A[0],k=~~A[1],!(Math.min(Math.abs(_),Math.abs(k))>=S));)if(y.x=b+_,y.y=w+k,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>t[0]||y.y+y.y1>t[1])&&(!x||!Iwt(y,m,t[0]))&&(!x||_wt(y,x))){for(var O=y.sprite,D=y.width>>5,B=t[0]>>5,$=y.x-(D<<4),L=$&127,R=32-L,V=y.y1-y.y0,U=void 0,q=(y.y+y.y0)*B+($>>5),M=0;M<V;M++){U=0;for(var G=0;G<=D;G++)m[q+G]|=U<<R|(G<D?(U=O[M*D+G])>>>L:0);q+=B}return delete y.sprite,!0}return!1}return p.createMask=function(m){var y=document.createElement("canvas"),x=t[0],b=t[1];if(!(!x||!b)){var w=x>>5,S=CY((x>>5)*b);y.width=x,y.height=b;var C=y.getContext("2d");C.drawImage(m,0,0,m.width,m.height,0,0,x,b);for(var E=C.getImageData(0,0,x,b).data,A=0;A<b;A++)for(var P=0;P<x;P++){var _=w*A+(P>>5),k=A*x+P<<2,O=E[k]>=250&&E[k+1]>=250&&E[k+2]>=250,D=O?1<<31-P%32:0;S[_]|=D}p.board=S,p.hasImage=!0}},p.timeInterval=function(m){u=m??1/0},p.words=function(m){l=m},p.size=function(m){t=[+m[0],+m[1]]},p.font=function(m){e=xl(m)},p.fontWeight=function(m){n=xl(m)},p.rotate=function(m){i=xl(m)},p.spiral=function(m){o=Dwt[m]||m},p.fontSize=function(m){r=xl(m)},p.padding=function(m){a=xl(m)},p.random=function(m){s=xl(m)},p}function Xhe(t){var e=t.options,r=t.chart,n=r,i=n.width,a=n.height,o=n.padding,s=n.appendPadding,l=n.ele,u=e.data,c=e.imageMask,d=e.wordField,f=e.weightField,p=e.colorField,v=e.wordStyle,g=e.timeInterval,m=e.random,y=e.spiral,x=e.autoFit,b=x===void 0?!0:x,w=e.placementStrategy;if(!u||!u.length)return[];var S=v.fontFamily,C=v.fontWeight,E=v.padding,A=v.fontSize,P=$wt(u,f),_=[Vwt(P),zwt(P)],k=u.map(function(B){return{text:B[d],value:B[f],color:B[p],datum:B}}),O={imageMask:c,font:S,fontSize:Lwt(A,_),fontWeight:C,size:Rwt({width:i,height:a,padding:o,appendPadding:s,autoFit:b,container:l}),padding:E,timeInterval:g,random:m,spiral:y,rotate:Nwt(e)};if(qe(w)){var D=k.map(function(B,$,L){return F(F(F({},B),{hasText:!!B.text,font:xl(O.font)(B,$,L),weight:xl(O.fontWeight)(B,$,L),rotate:xl(O.rotate)(B,$,L),size:xl(O.fontSize)(B,$,L),style:"normal"}),w.call(r,B,$,L))});return D.push({text:"",value:0,x:0,y:0,opacity:0}),D.push({text:"",value:0,x:O.size[0],y:O.size[1],opacity:0}),D}return xwt(k,O)}function Rwt(t){var e=t.width,r=t.height,n=t.container,i=t.autoFit,a=t.padding,o=t.appendPadding;if(i){var s=hF(n);e=s.width,r=s.height}e=e||400,r=r||400;var l=jwt({padding:a,appendPadding:o}),u=l[0],c=l[1],d=l[2],f=l[3],p=[e-(f+c),r-(u+d)];return p}function jwt(t){var e=Bd(t.padding),r=Bd(t.appendPadding),n=e[0]+r[0],i=e[1]+r[1],a=e[2]+r[2],o=e[3]+r[3];return[n,i,a,o]}function Fwt(t){return new Promise(function(e,r){if(t instanceof HTMLImageElement){e(t);return}if(nt(t)){var n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=function(){e(n)},n.onerror=function(){rc(Xs.ERROR,!1,"image %s load failed !!!",t),r()};return}rc(Xs.WARN,t===void 0,"The type of imageMask option must be String or HTMLImageElement."),r()})}function Lwt(t,e){if(qe(t))return t;if(xe(t)){var r=t[0],n=t[1];if(!e)return function(){return(n+r)/2};var i=e[0],a=e[1];return a===i?function(){return(n+r)/2}:function(s){var l=s.value;return(n-r)/(a-i)*(l-i)+r}}return function(){return t}}function $wt(t,e){return t.map(function(r){return r[e]}).filter(function(r){return typeof r=="number"&&!isNaN(r)})}function Nwt(t){var e=Bwt(t),r=e.rotation,n=e.rotationSteps;if(!xe(r))return r;var i=r[0],a=r[1],o=n===1?0:(a-i)/(n-1);return function(){return a===i?a:Math.floor(Math.random()*n)*o}}function Bwt(t){var e=t.wordStyle.rotationSteps;return e<1&&(rc(Xs.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:t.wordStyle.rotation,rotationSteps:e}}function Vwt(t){return Math.min.apply(Math,t)}function zwt(t){return Math.max.apply(Math,t)}function Uwt(t){var e=t.chart,r=t.options,n=r.colorField,i=r.color,a=Xhe(t);e.data(a);var o=fe({},t,{options:{xField:"x",yField:"y",seriesField:n&&a3,rawFields:qe(i)&&Je(Je([],K(r,"rawFields",[]),!0),["datum"],!1),point:{color:i,shape:"word-cloud"}}}),s=Lo(o).ext;return s.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),t}function qwt(t){return it(hn({x:{nice:!1},y:{nice:!1}}))(t)}function Gwt(t){var e=t.chart,r=t.options,n=r.legend,i=r.colorField;return n===!1?e.legend(!1):i&&e.legend(a3,n),t}function Wwt(t){it(Uwt,qwt,Wn,Gwt,Br,pr,Ut,af)(t)}tr("point","word-cloud",{draw:function(t,e){var r=t.x,n=t.y,i=e.addShape("text",{attrs:F(F({},Hwt(t)),{x:r,y:n})}),a=t.data.rotate;return typeof a=="number"&&Ka.rotate(i,a*Math.PI/180),i}});function Hwt(t){return{fontSize:t.data.size,text:t.data.text,textAlign:"center",fontFamily:t.data.font,fontWeight:t.data.weight,fill:t.color||t.defaultStyle.stroke,textBaseline:"alphabetic"}}var wYt=function(t){ae(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="word-cloud",r}return e.getDefaultOptions=function(){return mwt},e.prototype.changeData=function(r){this.updateOption({data:r}),this.options.imageMask?this.render():this.chart.changeData(Xhe({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var r=this;return new Promise(function(n){var i=r.options.imageMask;if(!i){t.prototype.render.call(r),n();return}var a=function(o){r.options=F(F({},r.options),{imageMask:o||null}),t.prototype.render.call(r),n()};Fwt(i).then(a).catch(a)})},e.prototype.getSchemaAdaptor=function(){return Wwt},e.prototype.triggerResize=function(){var r=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){t.prototype.triggerResize.call(r)}))},e}(gt);(function(t){ae(e,t);function e(r,n,i,a){var o=t.call(this,r,fe({},a,n))||this;return o.type="g2-plot",o.defaultOptions=a,o.adaptor=i,o}return e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor},e})(gt);Yde("en-US",Eht);Yde("zh-CN",Aht);var PF=function(){return PF=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},PF.apply(this,arguments)},Jw=PF({},mxe),Ywt=Jw.version,Xwt=Jw.render;Jw.unmountComponentAtNode;var o3;try{var Kwt=Number((Ywt||"").split(".")[0]);Kwt>=18&&(o3=Jw.createRoot)}catch{}function TY(t){var e=Jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&typeof e=="object"&&(e.usingClientEntryPoint=t)}var IY="__rc_react_root__";function Qwt(t,e){TY(!0);var r=e[IY]||o3(e);TY(!1),r.render(t),e[IY]=r}function Jwt(t,e){Xwt(t,e)}function Zwt(t,e){if(o3){Qwt(t,e);return}Jwt(t,e)}var GM=new Map,e1t=function(t,e,r){var n=document.createElement("div");return e==="tooltip"&&(n.setAttribute("data-uuid",r),GM.has(r)?n=GM.get(r):GM.set(r,n),n.className="g2-tooltip"),Zwt(t,n),n},ZS=function(t,e){var r={}.toString;return r.call(t)==="[object ".concat(e,"]")},t1t=function(t){if(!t)return t;var e={};for(var r in t)e[r]=t[r];return e},BC=function(t){if(!t||typeof t!="object")return t;var e;return Array.isArray(t)?e=t.map(function(r){return BC(r)}):(e={},Object.keys(t).forEach(function(r){return e[r]=BC(t[r])})),e},Ly=function(t,e){for(var r=t,n=0;n<e.length;n+=1)if(r!=null&&r[e[n]])r=r[e[n]];else{r=void 0;break}return r},r1t=function(t,e,r){if(!t)return t;var n=t;return e.forEach(function(i,a){a<e.length-1?n=n[i]:n[i]=r}),t},n1t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})},U_=function(t,e){t&&(qe(t)?t(e):t.current=e)},_F=function(){return _F=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_F.apply(this,arguments)},PY=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function q_(t,e){var r=j.useRef(),n=j.useRef(),i=j.useRef(null),a=e.onReady,o=e.onEvent,s=function(d,f){var p;return d===void 0&&(d="image/png"),(p=r.current)===null||p===void 0?void 0:p.chart.canvas.cfg.el.toDataURL(d,f)},l=function(d,f,p){var v;d===void 0&&(d="download"),f===void 0&&(f="image/png");var g=d;d.indexOf(".")===-1&&(g="".concat(d,".").concat(f.split("/")[1]));var m=(v=r.current)===null||v===void 0?void 0:v.chart.canvas.cfg.el.toDataURL(f,p),y=document.createElement("a");return y.href=m,y.download=g,document.body.appendChild(y),y.click(),document.body.removeChild(y),y=null,g},u=function(d,f,p,v){var g=Ly(d,f);r1t(d,f,function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var x=ZS(g,"Function")?g.apply(void 0,m):g;return ZS(x,"String")||ZS(x,"Number")||ZS(x,"HTMLDivElement")?x:e1t(x,p,v)})},c=function(){var d=n1t();Ly(e,["statistic","content","customHtml"])&&u(e,["statistic","content","customHtml"]),Ly(e,["statistic","title","customHtml"])&&u(e,["statistic","title","customHtml"]),typeof e.tooltip=="object"&&(Ly(e,["tooltip","container"])&&u(e,["tooltip","container"],"tooltip",d),Ly(e,["tooltip","customContent"])&&u(e,["tooltip","customContent"],"tooltip",d))};return j.useEffect(function(){if(r.current&&!on(n.current,e)){var d=!1;if(n.current){var f=n.current;f.data,f.value,f.percent;var p=PY(f,["data","value","percent"]);e.data,e.value,e.percent;var v=PY(e,["data","value","percent"]);d=on(p,v)}if(n.current=BC(e),d&&K(e,"chartType")!=="Mix"){var g="data",m=["percent"],y=Object.keys(e);m.forEach(function(x){y.includes(x)&&(g=x)}),r.current.changeData((e==null?void 0:e[g])||[]),r.current.render()}else c(),r.current.update(e)}},[e]),j.useEffect(function(){if(!i.current)return function(){return null};n.current||(n.current=BC(e)),c();var d=new t(i.current,_F({},e));d.toDataURL=function(p,v){return s(p,v)},d.downloadImage=function(p,v,g){return l(p,v,g)},d.render(),r.current=t1t(d),a&&a(d);var f=function(p){o&&o(d,p)};return d.on("*",f),function(){r.current&&(r.current.destroy(),r.current.off("*",f),r.current=void 0)}},[]),{chart:r,container:i}}var i1t=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G_=function(t){i1t(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={hasError:!1},r.renderError=function(n){var i=r.props.errorTemplate;switch(n){default:return typeof i=="function"?i(n):i||I.createElement("h5",null," ",n.message)}},r}return e.getDerivedStateFromError=function(r){return{hasError:!0,error:r}},e.getDerivedStateFromProps=function(r,n){return n.children!==r.children?{children:r.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):I.createElement(j.Fragment,null,this.props.children)},e}(I.Component);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yd=function(){return yd=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yd.apply(this,arguments)};function a1t(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var o1t=function(){return Math.random().toString(36).substring(6)},Khe=function(t){var e=t.animate,r=t.backgroundColor,n=t.backgroundOpacity,i=t.baseUrl,a=t.children,o=t.foregroundColor,s=t.foregroundOpacity,l=t.gradientRatio,u=t.uniqueKey,c=t.interval,d=t.rtl,f=t.speed,p=t.style,v=t.title,g=a1t(t,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),m=u||o1t(),y=m+"-diff",x=m+"-animated-diff",b=m+"-aria",w=d?{transform:"scaleX(-1)"}:null,S="0; "+c+"; 1",C=f+"s";return j.createElement("svg",yd({"aria-labelledby":b,role:"img",style:yd(yd({},p),w)},g),v?j.createElement("title",{id:b},v):null,j.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+y+")",style:{fill:"url("+i+"#"+x+")"}}),j.createElement("defs",{role:"presentation"},j.createElement("clipPath",{id:y},a),j.createElement("linearGradient",{id:x},j.createElement("stop",{offset:"0%",stopColor:r,stopOpacity:n},e&&j.createElement("animate",{attributeName:"offset",values:-l+"; "+-l+"; 1",keyTimes:S,dur:C,repeatCount:"indefinite"})),j.createElement("stop",{offset:"50%",stopColor:o,stopOpacity:s},e&&j.createElement("animate",{attributeName:"offset",values:-l/2+"; "+-l/2+"; "+(1+l/2),keyTimes:S,dur:C,repeatCount:"indefinite"})),j.createElement("stop",{offset:"100%",stopColor:r,stopOpacity:n},e&&j.createElement("animate",{attributeName:"offset",values:"0; 0; "+(1+l),keyTimes:S,dur:C,repeatCount:"indefinite"})))))};Khe.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var Qhe=function(t){return t.children?j.createElement(Khe,yd({},t)):j.createElement(s1t,yd({},t))},s1t=function(t){return j.createElement(Qhe,yd({viewBox:"0 0 476 124"},t),j.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),j.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),j.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),j.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),j.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),j.createElement("circle",{cx:"20",cy:"20",r:"20"}))},W_=function(t){var e=t.loadingTemplate,r=t.theme,n=r===void 0?"light":r,i=function(){return e||I.createElement(Qhe,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:n==="dark"?"#262626":"#D9D9D9"},I.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),I.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),I.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),I.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),I.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),I.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),I.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),I.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),I.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),I.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return I.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:n==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},i())},l1t=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},u1t=j.forwardRef(function(t,e){var r=t.chartRef,n=t.style,i=n===void 0?{height:"inherit"}:n,a=t.className,o=t.loading,s=t.loadingTemplate,l=t.errorTemplate,u=l1t(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=q_(afe,u),d=c.chart,f=c.container;return j.useEffect(function(){U_(r,d.current)},[d.current]),j.useImperativeHandle(e,function(){return{getChart:function(){return d.current}}}),I.createElement(G_,{errorTemplate:l},o&&I.createElement(W_,{loadingTemplate:s,theme:t.theme}),I.createElement("div",{className:a,style:i,ref:f}))}),c1t=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},d1t=j.forwardRef(function(t,e){var r=t.chartRef,n=t.style,i=n===void 0?{height:"inherit"}:n,a=t.className,o=t.loading,s=t.loadingTemplate,l=t.errorTemplate,u=c1t(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=q_(ufe,u),d=c.chart,f=c.container;return j.useEffect(function(){U_(r,d.current)},[d.current]),j.useImperativeHandle(e,function(){return{getChart:function(){return d.current}}}),I.createElement(G_,{errorTemplate:l},o&&I.createElement(W_,{loadingTemplate:s,theme:t.theme}),I.createElement("div",{className:a,style:i,ref:f}))}),f1t=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},h1t=j.forwardRef(function(t,e){var r=t.chartRef,n=t.style,i=n===void 0?{height:"inherit"}:n,a=t.className,o=t.loading,s=t.loadingTemplate,l=t.errorTemplate,u=f1t(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=q_(Tfe,u),d=c.chart,f=c.container;return j.useEffect(function(){U_(r,d.current)},[d.current]),j.useImperativeHandle(e,function(){return{getChart:function(){return d.current}}}),I.createElement(G_,{errorTemplate:l},o&&I.createElement(W_,{loadingTemplate:s,theme:t.theme}),I.createElement("div",{className:a,style:i,ref:f}))}),p1t=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},v1t=j.forwardRef(function(t,e){var r=t.chartRef,n=t.style,i=n===void 0?{height:"inherit"}:n,a=t.className,o=t.loading,s=t.loadingTemplate,l=t.errorTemplate,u=p1t(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=q_(Dfe,u),d=c.chart,f=c.container;return j.useEffect(function(){U_(r,d.current)},[d.current]),j.useImperativeHandle(e,function(){return{getChart:function(){return d.current}}}),I.createElement(G_,{errorTemplate:l},o&&I.createElement(W_,{loadingTemplate:s,theme:t.theme}),I.createElement("div",{className:a,style:i,ref:f}))});const WM=({resource:t,isLoading:e,totalCount:r})=>{const{primaryColor:n,secondaryColor:i,icon:a,title:o}=_Y[t],s={appendPadding:[1,0,0,0],padding:0,syncViewPadding:!0,data:_Y[t].data,autoFit:!0,tooltip:!1,animation:!1,xField:"index",yField:"value",xAxis:!1,yAxis:{tickCount:12,label:{style:{fill:"transparent"}},grid:{line:{style:{stroke:"transparent"}}}},smooth:!0,areaStyle:()=>({fill:`l(270) 0:#fff 0.2:${i} 1:${n}`}),line:{color:n}};return h.jsxs(ue,{style:{height:"96px",padding:0},bodyStyle:{padding:"8px 8px 8px 12px"},size:"small",children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[a,h.jsx(lh,{size:"md",className:"secondary",style:{marginLeft:"8px"},children:o})]}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx(lh,{size:"xxxl",strong:!0,style:{flex:1,whiteSpace:"nowrap",flexShrink:0,textAlign:"start",marginLeft:"48px",fontVariantNumeric:"tabular-nums"},children:e?h.jsx(iR.Button,{style:{marginTop:"8px",width:"74px"}}):r}),h.jsx(u1t,{...s,style:{width:"50%"}})]})]})},HM=({color:t,children:e})=>h.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"50%",backgroundColor:t},children:e}),_Y={companies:{primaryColor:"#1677FF",secondaryColor:"#BAE0FF",icon:h.jsx(HM,{color:"#E6F4FF",children:h.jsx(y$,{className:"md",style:{color:"#1677FF"}})}),title:"Number of companies",data:[{index:"1",value:3500},{index:"2",value:2750},{index:"3",value:5e3},{index:"4",value:4250},{index:"5",value:5e3}]},contacts:{primaryColor:"#52C41A",secondaryColor:"#D9F7BE",icon:h.jsx(HM,{color:"#F6FFED",children:h.jsx(ar,{className:"md",style:{color:"#52C41A"}})}),title:"Number of contacts",data:[{index:"1",value:1e4},{index:"2",value:19500},{index:"3",value:13e3},{index:"4",value:17e3},{index:"5",value:13e3},{index:"6",value:2e4}]},deals:{primaryColor:"#FA541C",secondaryColor:"#FFD8BF",icon:h.jsx(HM,{color:"#FFF2E8",children:h.jsx(ZT,{className:"md",style:{color:"#FA541C"}})}),title:"Total deals in pipeline",data:[{index:"1",value:1e3},{index:"2",value:1300},{index:"3",value:1200},{index:"4",value:2e3},{index:"5",value:800},{index:"6",value:1700},{index:"7",value:1400},{index:"8",value:1800}]}},g1t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const a=So(dn(Dt,"events"),Dd("startDate",">=",ir().format("YYYY-MM-DD")),kh("startDate","asc")),s=(await za(a)).docs.map(l=>({id:l.id,...l.data()}));e(s)}catch(a){console.warn("Using fallback events due to error:",a),e([{id:"1",title:"Funding Application Deadline",startDate:ir().add(1,"day").toISOString(),endDate:ir().add(1,"day").add(2,"hour").toISOString(),color:"blue"},{id:"2",title:"Mentor Check-In",startDate:ir().add(2,"day").toISOString(),endDate:ir().add(2,"day").add(1,"hour").toISOString(),color:"green"}])}finally{n(!1)}})()},[]),h.jsxs(ue,{style:{height:"100%"},headStyle:{padding:"8px 16px"},bodyStyle:{padding:"0 1rem"},title:h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx(bo,{}),h.jsx(lh,{size:"sm",style:{marginLeft:".7rem"},children:"Upcoming events"})]}),children:[r?h.jsx(At,{itemLayout:"horizontal",dataSource:Array.from({length:5}).map((i,a)=>({id:a})),renderItem:()=>h.jsx(At.Item,{children:h.jsx(At.Item.Meta,{avatar:h.jsx(Ar,{color:"transparent"}),title:h.jsx(iR.Button,{active:!0,style:{height:"14px"}}),description:h.jsx(iR.Button,{active:!0,style:{width:"300px",marginTop:"8px",height:"16px"}})})})}):h.jsx(At,{itemLayout:"horizontal",dataSource:t,renderItem:i=>{const a=()=>{const o=ir(i.startDate).format("MMM DD, YYYY - HH:mm"),s=ir(i.endDate).format("MMM DD, YYYY - HH:mm");return`${o} - ${s}`};return h.jsx(At.Item,{children:h.jsx(At.Item.Meta,{avatar:h.jsx(Ar,{color:i.color}),title:h.jsx(lh,{size:"xs",children:a()}),description:h.jsx(lh,{ellipsis:{tooltip:!0},strong:!0,children:i.title})})})}}),!r&&t.length===0&&h.jsx(m1t,{})]})},m1t=()=>h.jsx("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"220px"}}),y1t=()=>{const[t,e]=j.useState({companies:0,contacts:0,deals:0}),[r,n]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const[a,o,s]=await Promise.all([VD(dn(Dt,"companies")),VD(dn(Dt,"contacts")),VD(dn(Dt,"deals"))]);e({companies:a.data().count,contacts:o.data().count,deals:s.data().count})}catch(a){console.warn("Using fallback dummy counts due to error:",a),e({companies:12,contacts:34,deals:7})}finally{n(!1)}})()},[]),h.jsxs("div",{className:"page-container",children:[h.jsxs(Ye,{gutter:[32,32],children:[h.jsx(oe,{xs:24,sm:24,xl:8,children:h.jsx(WM,{resource:"companies",isLoading:r,totalCount:t.companies})}),h.jsx(oe,{xs:24,sm:24,xl:8,children:h.jsx(WM,{resource:"contacts",isLoading:r,totalCount:t.contacts})}),h.jsx(oe,{xs:24,sm:24,xl:8,children:h.jsx(WM,{resource:"deals",isLoading:r,totalCount:t.deals})})]}),h.jsx(Ye,{gutter:[32,32],style:{marginTop:"32px"},children:h.jsx(oe,{xs:24,children:h.jsx(g1t,{})})})]})},{Title:x1t}=rt,b1t=()=>{const[t]=ce.useForm(),e=ji(),[r,n]=I.useState(!1),[i,a]=I.useState(!1),[o,s]=I.useState(!1);I.useEffect(()=>{document.title="Login  Incubation Platform"},[]);const l=async c=>{try{n(!0);const f=(await nae(Mi,c.email,c.password)).user,p=Un(Dt,"users",f.uid),v=await Md(p);if(!v.exists()){_e.error("User record not found in database.");return}const m=v.data().role;let y=`/${m.toLowerCase()}`;m==="Admin"?y="/admin":m==="Director"?y="/director":m==="Operations"&&(y="/dashboard"),_e.success(" Login successful! Redirecting...",2),s(!0),setTimeout(()=>{e(y)},2e3)}catch(d){console.error(d),_e.error("Invalid email or password.")}finally{n(!1)}},u=async()=>{try{a(!0);const c=new wl,f=(await gae(Mi,c)).user,p=await Md(Un(Dt,"users",f.uid));let v="/";if(p.exists()){const m=p.data().role;m==="Admin"?v="/admin":m==="Director"?v="/director":m==="Operations"?v="/dashboard":(m==="Incubatee"||m==="Funder"||m==="Consultant")&&(v="/")}_e.success(" Google login successful! Redirecting...",2),s(!0),setTimeout(()=>{e(v)},2e3)}catch(c){console.error(c),_e.error("Google login failed.")}finally{a(!1)}};return h.jsxs(yi,{spinning:r||i||o,size:"large",children:[h.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"24px",backgroundImage:'url("/assets/images/bg-image.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",animation:"fadeIn 0.7s ease-in-out",position:"relative"},children:[h.jsx("div",{style:{marginBottom:24,textAlign:"center"},children:h.jsx(Kd,{collapsed:!1,text:h.jsx("span",{style:{color:"white",fontSize:"32px",fontWeight:"700",letterSpacing:1},children:"Incubation System"})})}),h.jsxs("div",{style:{maxWidth:400,width:"100%",padding:"48px 32px",borderRadius:12,boxShadow:"0 4px 20px rgba(0,0,0,0.2)",background:"#ffffffee",animation:"fadeInUp 0.6s ease-out",backdropFilter:"blur(5px)"},children:[h.jsxs(ce,{layout:"vertical",form:t,onFinish:l,requiredMark:!1,children:[h.jsx(x1t,{level:4,style:{textAlign:"center",marginTop:16,color:"#1677ff"},children:"Welcome back"}),h.jsx(ce.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Enter a valid email"}],children:h.jsx(Ve,{placeholder:"you@example.com"})}),h.jsx(ce.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter your password"}],children:h.jsx(Ve.Password,{placeholder:"Enter your password",iconRender:c=>c?h.jsx(tZ,{}):h.jsx(rZ,{})})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",block:!0,loading:r,children:"Log In"})}),h.jsx(ce.Item,{children:h.jsx(ie,{icon:h.jsx(nZ,{}),onClick:u,style:{width:"100%"},loading:i,children:"Login with Google"})})]}),h.jsxs("div",{style:{marginTop:24,textAlign:"center"},children:["Don't have an account?"," ",h.jsx("a",{onClick:()=>e("/register"),style:{fontWeight:500},children:"Register"})]})]}),h.jsx("img",{src:"/assets/images/QuantilytixO.png",alt:"Quantilytix Logo",style:{position:"absolute",bottom:24,right:15,height:50,opacity:.9}})]}),h.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }

          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},{Title:SYt}=rt,{Title:w1t}=rt,S1t=()=>{const[t]=ce.useForm(),e=ji(),[r,n]=I.useState(!1),[i,a]=I.useState(!1),[o,s]=I.useState(!1);I.useEffect(()=>{document.title="Register  Incubation Platform"},[]);const l=async c=>{try{n(!0);const f=(await rae(Mi,c.email,c.password)).user;await gj(Un(Dt,"users",f.uid),{uid:f.uid,email:f.email,role:c.role,name:c.name||"",createdAt:new Date().toISOString()}),_e.success(" Registration successful! Redirecting...",2),s(!0),setTimeout(()=>{e("/")},2e3)}catch(d){_e.error(d.message)}finally{n(!1)}},u=async()=>{try{a(!0);const c=new wl,f=(await gae(Mi,c)).user;await gj(Un(Dt,"users",f.uid),{uid:f.uid,name:f.displayName||"",email:f.email,role:"Incubatee",createdAt:new Date().toISOString()},{merge:!0}),_e.success(" Google sign-up successful! Redirecting...",2),s(!0),setTimeout(()=>{e("/dashboard")},2e3)}catch(c){console.error(c),_e.error(c.message)}finally{a(!1)}};return h.jsxs(yi,{spinning:r||i||o,size:"large",children:[h.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"24px",animation:"fadeIn 0.7s ease-in-out",backgroundImage:'url("/assets/images/bg-image.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"relative"},children:[h.jsx("div",{style:{marginBottom:24,textAlign:"center"},children:h.jsx(Kd,{collapsed:!1,text:h.jsx("span",{style:{color:"white",fontSize:"32px",fontWeight:"700",letterSpacing:1},children:"Incubation System"})})}),h.jsxs("div",{style:{maxWidth:400,width:"100%",padding:"48px 32px",borderRadius:12,boxShadow:"0 4px 20px rgba(0,0,0,0.25)",background:"#ffffffee",animation:"fadeInUp 0.6s ease-out",backdropFilter:"blur(5px)"},children:[h.jsxs(ce,{layout:"vertical",form:t,onFinish:l,requiredMark:!1,children:[h.jsx(w1t,{level:4,style:{textAlign:"center",marginTop:16,color:"#1677ff"},children:"Create your account"}),h.jsx(ce.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter your full name"},{type:"email",message:"Enter a valid name"}],children:h.jsx(Ve,{placeholder:"Daniel Rumona"})}),h.jsx(ce.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Enter a valid email"}],children:h.jsx(Ve,{placeholder:"you@example.com"})}),h.jsx(ce.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter your password"},{min:6,message:"Password must be at least 6 characters"}],children:h.jsx(Ve.Password,{placeholder:"Enter your password",iconRender:c=>c?h.jsx(tZ,{}):h.jsx(rZ,{})})}),h.jsx(ce.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please select your role"}],children:h.jsxs(He,{placeholder:"Select your role",children:[h.jsx(He.Option,{value:"Director",children:"Director"}),h.jsx(He.Option,{value:"Admin",children:"Admin"}),h.jsx(He.Option,{value:"Operations",children:"Operations"}),h.jsx(He.Option,{value:"Incubatee",children:"Incubatee"}),h.jsx(He.Option,{value:"Funder",children:"Funder"}),h.jsx(He.Option,{value:"Consultant",children:"Consultant"})]})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",block:!0,loading:r,children:"Register"})}),h.jsx(ce.Item,{children:h.jsx(ie,{icon:h.jsx(nZ,{}),onClick:u,style:{width:"100%"},loading:i,children:"Register with Google"})})]}),h.jsxs("div",{style:{marginTop:24,textAlign:"center"},children:["Already have an account?"," ",h.jsx("a",{onClick:()=>e("/login"),style:{fontWeight:500},children:"Login"})]})]}),h.jsx("img",{src:"/assets/images/QuantilytixO.png",alt:"Quantilytix Logo",style:{position:"absolute",bottom:24,right:15,height:50,opacity:.9}})]}),h.jsx("style",{children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }

          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `})]})},{Title:E1t,Text:YM,Paragraph:EYt}=rt,{TabPane:XM}=Ft,A1t=()=>{const{data:t}=ua(),e=ji();return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(E1t,{level:2,children:"Admin Dashboard"}),h.jsx(YM,{type:"secondary",children:"System administration and user management"}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:[h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Users",value:35,prefix:h.jsx(as,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Forms & Templates",value:12,prefix:h.jsx(ya,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"System Configurations",value:8,prefix:h.jsx(ox,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Audit Logs",value:157,prefix:h.jsx(ZJ,{})}),h.jsx(YM,{type:"secondary",children:"Last 30 days"})]})})]}),h.jsxs(Ft,{defaultActiveKey:"users",children:[h.jsx(XM,{tab:h.jsxs("span",{children:[h.jsx(as,{}),"User Management"]}),children:h.jsx(ue,{title:"User Administration",children:h.jsx(D7e,{})})},"users"),h.jsx(XM,{tab:h.jsxs("span",{children:[h.jsx(ya,{}),"Forms & Templates"]}),children:h.jsxs(ue,{title:"Form Management",children:[h.jsx("div",{style:{marginBottom:"16px"},children:h.jsx(YM,{children:"Create and manage form templates for applications, evaluations, and compliance checklists."})}),h.jsxs(me,{children:[h.jsx(ie,{type:"primary",icon:h.jsx(ya,{}),onClick:()=>e("/admin/forms"),children:"Manage Forms"}),h.jsx(ie,{icon:h.jsx(Ya,{}),onClick:()=>e("/admin/forms"),children:"View Submissions"})]})]})},"forms"),h.jsx(XM,{tab:h.jsxs("span",{children:[h.jsx(ox,{}),"Settings"]}),children:h.jsxs(ue,{title:"System Configuration",children:[h.jsx("p",{children:"This section is under development."}),h.jsx("p",{children:"Here you will be able to manage system-wide settings, customize the platform appearance, and configure notifications."})]})},"settings")]})]})},C1t=()=>{const{data:t}=ua();return h.jsx(O7e,{})},T1t=()=>h.jsx(B7e,{}),{Header:I1t,Content:P1t,Footer:_1t}=wr,{Title:Wi,Text:O1t,Paragraph:cl}=rt,{TabPane:eE}=Ft,{Meta:AYt}=ue;let k1t=class extends I.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Landing page error:",e,r)}render(){var e;return this.state.hasError?h.jsx("div",{style:{padding:"40px 20px",textAlign:"center"},children:h.jsx(od,{message:"Something went wrong",description:h.jsxs("div",{children:[h.jsx("p",{children:"We encountered an issue loading the platform content."}),h.jsx("p",{children:"Please try refreshing the page or contact support if the problem persists."}),h.jsxs("p",{style:{fontSize:"12px",marginTop:"20px"},children:["Error details: ",((e=this.state.error)==null?void 0:e.message)||"Unknown error"]}),h.jsx(ie,{type:"primary",onClick:()=>window.location.reload(),style:{marginTop:"20px"},children:"Refresh Page"})]}),type:"error",showIcon:!0,icon:h.jsx(Zv,{})})}):this.props.children}};const D1t=()=>h.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[h.jsx(yi,{size:"large"}),h.jsx("div",{style:{marginTop:20},children:"Loading the platform..."})]}),M1t=[{title:"Active Participants",value:125,icon:h.jsx(ar,{})},{title:"Support Community",value:"1.5K+",icon:h.jsx(as,{})},{title:"Success Stories",value:"85+",icon:h.jsx(bxe,{})},{title:"Growth Rate",value:"72%",icon:h.jsx(Wa,{})}],R1t=({data:t,isLoading:e,error:r})=>{const n=ji(),i=()=>{n("/register")},a=()=>{n("/login")},o=s=>{switch(s){case"trending":case"active":return h.jsx(Ar.Ribbon,{text:h.jsxs(h.Fragment,{children:[h.jsx(wxe,{})," ACTIVE"]}),color:"green"});case"featured":case"warning":return h.jsx(Ar.Ribbon,{text:"FEATURED",color:"blue"});case"closed":case"inactive":return h.jsx(Ar.Ribbon,{text:h.jsxs(h.Fragment,{children:[h.jsx(Ga,{})," INACTIVE"]}),color:"gray"});default:return null}};return h.jsxs(wr,{className:"platform-landing-layout",children:[h.jsxs(I1t,{style:{position:"sticky",top:0,zIndex:1,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 50px",background:"#fff"},children:[h.jsxs("div",{className:"logo",style:{display:"flex",alignItems:"center"},children:[h.jsx(vi,{size:32,style:{backgroundColor:"#1890ff",marginRight:8},children:"Q"}),h.jsx(Wi,{level:4,style:{margin:0},children:"Incubation Platform"})]}),h.jsxs(me,{children:[h.jsx(ie,{type:"primary",ghost:!0,onClick:a,children:"Log in"}),h.jsx(ie,{type:"primary",onClick:i,children:"Sign up"})]})]}),h.jsxs(P1t,{style:{padding:"0 50px"},children:[h.jsxs("div",{className:"hero-section",style:{textAlign:"center",padding:"60px 0",backgroundImage:"linear-gradient(120deg, #e0f7fa 0%, #80deea 100%)",borderRadius:"0 0 20px 20px",marginBottom:30},children:[h.jsx(Wi,{level:1,children:"South Africa's Innovation Ecosystem"}),h.jsx(cl,{style:{fontSize:18,maxWidth:800,margin:"0 auto 20px"},children:"Join our platform connecting entrepreneurs, investors, government entities, and corporates to build sustainable growth and innovation in South Africa."}),h.jsxs(me,{size:"large",children:[h.jsx(ie,{type:"primary",size:"large",onClick:i,style:{height:48,fontSize:16,padding:"0 30px"},children:"Join the Platform"}),h.jsx(ie,{size:"large",style:{height:48,fontSize:16},onClick:()=>{var s;return(s=document.getElementById("participants"))==null?void 0:s.scrollIntoView({behavior:"smooth"})},children:"View Participants"})]})]}),h.jsx(Ye,{gutter:[24,24],style:{marginBottom:40},children:M1t.map((s,l)=>h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:s.title,value:s.value,prefix:s.icon,valueStyle:{color:"#1890ff"}})})},l))}),h.jsxs("div",{style:{textAlign:"center",margin:"50px 0"},children:[h.jsx(Wi,{level:2,children:"Who Uses Our Platform"}),h.jsxs(Ye,{gutter:[24,24],style:{marginTop:30},children:[h.jsx(oe,{xs:24,sm:6,children:h.jsxs(ue,{style:{height:240},children:[h.jsx(yxe,{style:{fontSize:36,color:"#1890ff",marginBottom:20}}),h.jsx(Wi,{level:4,children:"Government Entities"}),h.jsx(cl,{children:"Track economic development, monitor program effectiveness, and connect with innovative entrepreneurs."})]})}),h.jsx(oe,{xs:24,sm:6,children:h.jsxs(ue,{style:{height:240},children:[h.jsx(Wa,{style:{fontSize:36,color:"#1890ff",marginBottom:20}}),h.jsx(Wi,{level:4,children:"Investors"}),h.jsx(cl,{children:"Discover vetted opportunities, build relationships, and support South Africa's innovation ecosystem."})]})}),h.jsx(oe,{xs:24,sm:6,children:h.jsxs(ue,{style:{height:240},children:[h.jsx(xxe,{style:{fontSize:36,color:"#1890ff",marginBottom:20}}),h.jsx(Wi,{level:4,children:"Entrepreneurs"}),h.jsx(cl,{children:"Access resources, mentorship, and connections to scale your impactful solution."})]})}),h.jsx(oe,{xs:24,sm:6,children:h.jsxs(ue,{style:{height:240},children:[h.jsx(ar,{style:{fontSize:36,color:"#1890ff",marginBottom:20}}),h.jsx(Wi,{level:4,children:"Corporates"}),h.jsx(cl,{children:"Connect with innovative startups, discover partnership opportunities, and support ecosystem development."})]})})]})]}),h.jsxs("div",{id:"participants",style:{marginTop:60,marginBottom:40},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[h.jsx(Wi,{level:2,children:"Featured Participants"}),h.jsxs(Ft,{defaultActiveKey:"all",style:{marginBottom:0},children:[h.jsx(eE,{tab:"All Participants"},"all"),h.jsx(eE,{tab:"Trending"},"trending"),h.jsx(eE,{tab:"New Entries"},"recent"),h.jsx(eE,{tab:"Success Stories"},"success")]})]}),r&&h.jsx(od,{message:"Notice",description:r,type:"warning",showIcon:!0,style:{marginBottom:20}}),e?h.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[h.jsx(yi,{size:"default"}),h.jsx("div",{style:{marginTop:10},children:"Refreshing data..."})]}):h.jsx(Ye,{gutter:[24,24],children:t.map(s=>h.jsx(oe,{xs:24,sm:12,lg:8,style:{marginBottom:20},children:h.jsx(ue,{hoverable:!0,style:{height:"100%",borderRadius:8,overflow:"hidden"},cover:h.jsxs("div",{style:{position:"relative",height:200,background:"#f0f2f5",overflow:"hidden"},children:[o(s.status||"active"),h.jsx("img",{alt:s.name||"Program Participant",src:s.logo||`https://via.placeholder.com/300x200?text=${encodeURIComponent(s.name||"Participant")}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:l=>{const u=l.target;u.onerror=null,u.src=`https://via.placeholder.com/300x200?text=${encodeURIComponent(s.name||"Participant")}`}})]}),children:h.jsxs(me,{direction:"vertical",size:"small",style:{width:"100%"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[h.jsxs("div",{children:[h.jsx(Me,{color:"blue",children:s.industry||s.category||"Other"}),h.jsx(Me,{children:s.location||"South Africa"})]}),h.jsx(vi,{size:"large",style:{backgroundColor:"#1890ff"},icon:h.jsx(as,{})})]}),h.jsx(Wi,{level:4,style:{marginTop:10,marginBottom:5},children:s.name||"Unnamed Participant"}),h.jsx(cl,{ellipsis:{rows:3},style:{height:66},children:s.description||"No description available"}),h.jsx("div",{style:{marginTop:10,marginBottom:5},children:h.jsxs(me,{children:[h.jsx(Me,{color:"cyan",children:s.stage||"Growth Stage"}),s.team&&h.jsxs(Me,{color:"purple",children:["Team: ",s.team]})]})}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:10},children:[h.jsx(Me,{icon:s.status!=="closed"&&s.status!=="inactive"?h.jsx(JT,{}):h.jsx(Ga,{}),color:s.status!=="closed"&&s.status!=="inactive"?"green":"default",children:s.status!=="closed"&&s.status!=="inactive"?"Active":"Inactive"}),h.jsx(ie,{type:"primary",onClick:i,children:"Learn More"})]})]})})},s.id))}),h.jsx("div",{style:{textAlign:"center",margin:"40px 0"},children:h.jsxs(ie,{type:"primary",size:"large",onClick:i,children:["Join The Platform ",h.jsx(QJ,{})]})})]}),h.jsxs("div",{style:{background:"#f0f5ff",padding:"50px",borderRadius:10,marginBottom:40},children:[h.jsx(Wi,{level:2,style:{textAlign:"center",marginBottom:40},children:"Why Join Our Platform"}),h.jsxs(Ye,{gutter:[32,32],children:[h.jsx(oe,{xs:24,md:8,children:h.jsxs(ue,{style:{height:220},children:[h.jsx(Wi,{level:4,children:"Comprehensive Ecosystem"}),h.jsx(cl,{children:"Connect with all stakeholders in South Africa's innovation and entrepreneurship ecosystem in one place."})]})}),h.jsx(oe,{xs:24,md:8,children:h.jsxs(ue,{style:{height:220},children:[h.jsx(Wi,{level:4,children:"Drive Economic Growth"}),h.jsx(cl,{children:"Support sustainable development by participating in initiatives that create jobs and solve real problems."})]})}),h.jsx(oe,{xs:24,md:8,children:h.jsxs(ue,{style:{height:220},children:[h.jsx(Wi,{level:4,children:"Transparent Reporting"}),h.jsx(cl,{children:"Access regular updates and performance metrics to track impact and program effectiveness."})]})})]})]})]}),h.jsxs(_1t,{style:{textAlign:"center",background:"#001529",padding:"50px",color:"white"},children:[h.jsxs(Ye,{gutter:[24,24],children:[h.jsxs(oe,{xs:24,md:8,children:[h.jsx(Wi,{level:4,style:{color:"white"},children:"Incubation Platform"}),h.jsx(cl,{style:{color:"rgba(255,255,255,0.65)"},children:"Connecting entrepreneurs, investors, government entities, and corporates to build South Africa's future."})]}),h.jsxs(oe,{xs:24,md:8,children:[h.jsx(Wi,{level:4,style:{color:"white"},children:"Legal"}),h.jsxs("div",{children:[h.jsx("a",{href:"#",style:{color:"rgba(255,255,255,0.65)",display:"block",marginBottom:8},children:"Terms of Service"}),h.jsx("a",{href:"#",style:{color:"rgba(255,255,255,0.65)",display:"block",marginBottom:8},children:"Privacy Policy"}),h.jsx("a",{href:"#",style:{color:"rgba(255,255,255,0.65)",display:"block",marginBottom:8},children:"Data Protection"})]})]}),h.jsxs(oe,{xs:24,md:8,children:[h.jsx(Wi,{level:4,style:{color:"white"},children:"Get Started"}),h.jsxs(me,{direction:"vertical",children:[h.jsx(ie,{type:"primary",ghost:!0,onClick:i,children:"Register Now"}),h.jsx(ie,{type:"link",style:{color:"rgba(255,255,255,0.65)"},onClick:a,children:"Already have an account? Log in"})]})]})]}),h.jsx(pt,{style:{borderColor:"rgba(255,255,255,0.2)"}}),h.jsxs(O1t,{style:{color:"rgba(255,255,255,0.45)"},children:[" ",new Date().getFullYear()," Quantilytix Incubation Platform. All rights reserved."]})]})]})},j1t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(null);return j.useEffect(()=>{document.title="Incubation Platform  South Africa's Innovation Ecosystem";const s=[{id:"1",name:"TechSolutions Inc.",stage:"Early",mentorAssigned:"Yes",nextReview:"2023-11-15",status:"Active"},{id:"2",name:"GreenEnergy Startup",stage:"Growth",mentorAssigned:"Yes",nextReview:"2023-11-10",status:"Active"},{id:"3",name:"HealthTech Innovations",stage:"Scaling",mentorAssigned:"No",nextReview:"2023-11-20",status:"Warning"},{id:"4",name:"EdTech Solutions",stage:"Early",mentorAssigned:"Yes",nextReview:"2023-12-05",status:"Active"},{id:"5",name:"FinTech Revolution",stage:"Growth",mentorAssigned:"No",nextReview:"2023-11-25",status:"Warning"}].map(l=>({id:l.id,name:l.name,logo:{"TechSolutions Inc.":"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=600&auto=format&fit=crop&q=60","GreenEnergy Startup":"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=600&auto=format&fit=crop&q=60","HealthTech Innovations":"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600&auto=format&fit=crop&q=60","EdTech Solutions":"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&auto=format&fit=crop&q=60","FinTech Revolution":"https://images.unsplash.com/photo-1563986768609-322da13575f3?w=600&auto=format&fit=crop&q=60"}[l.name]||`https://placehold.co/300x200/1e293b/ffffff?text=${encodeURIComponent(l.name)}&font=open-sans`,industry:{"TechSolutions Inc.":"Software","GreenEnergy Startup":"Renewable Energy","HealthTech Innovations":"Healthcare","EdTech Solutions":"Education","FinTech Revolution":"Finance"}[l.name]||"Technology",location:{"TechSolutions Inc.":"Cape Town, SA","GreenEnergy Startup":"Johannesburg, SA","HealthTech Innovations":"Durban, SA","EdTech Solutions":"Cape Town, SA","FinTech Revolution":"Pretoria, SA"}[l.name]||"South Africa",description:{"TechSolutions Inc.":"Cloud-based software solutions for small businesses with focus on automation and efficiency","GreenEnergy Startup":"Affordable solar solutions for residential and commercial properties with innovative financing models","HealthTech Innovations":"AI-powered diagnostic tools for rural healthcare facilities with limited access to specialists","EdTech Solutions":"Digital platform connecting students with tutors and educational resources tailored for African curriculum","FinTech Revolution":"Mobile banking solutions for underserved communities across Africa with focus on microloans"}[l.name]||"Innovative startup in the technology sector",status:l.status.toLowerCase(),stage:l.stage,team:{"TechSolutions Inc.":8,"GreenEnergy Startup":12,"HealthTech Innovations":15,"EdTech Solutions":6,"FinTech Revolution":10}[l.name]||5}));e(s),n(!1)},[]),h.jsx(R1t,{data:t,isLoading:r,error:i})},OY=()=>h.jsx(k1t,{children:h.jsx(j.Suspense,{fallback:h.jsx(D1t,{}),children:h.jsx(j1t,{})})}),{Header:F1t,Sider:L1t,Content:$1t}=wr,{Text:N1t}=rt,kY=({role:t})=>{const e=ji(),[r,n]=j.useState("User");console.log("RoleLayout rendered with role:",t),j.useEffect(()=>{const s=Mi.currentUser;s&&(n(s.displayName||s.email||"User"),console.log("Current user in RoleLayout:",s.email))},[]);const i={funder:[{key:"dashboard",icon:h.jsx(S0,{}),label:h.jsx(Rr,{to:"/funder",children:"Dashboard"})},{key:"portfolio",icon:h.jsx(Oi,{}),label:h.jsx(Rr,{to:"/funder/portfolio",children:"My Portfolio"})},{key:"due-diligence",icon:h.jsx(ZT,{}),label:h.jsx(Rr,{to:"/funder/due-diligence",children:"Due Diligence"})},{key:"analytics",icon:h.jsx(Wa,{}),label:h.jsx(Rr,{to:"/funder/analytics",children:"Analytics"})},{key:"documents",icon:h.jsx(Ya,{}),label:h.jsx(Rr,{to:"/funder/documents",children:"Documents"})},{key:"calendar",icon:h.jsx(bo,{}),label:h.jsx(Rr,{to:"/funder/calendar",children:"Calendar"})}],government:[{key:"dashboard",icon:h.jsx(S0,{}),label:h.jsx(Rr,{to:"/government",children:"Dashboard"})},{key:"participants",icon:h.jsx(ar,{}),label:h.jsx(Rr,{to:"/government/participants",children:"Participant Directory"})},{key:"programs",icon:h.jsx(vv,{}),label:h.jsx(Rr,{to:"/government/programs",children:"Support Programs"})},{key:"reports",icon:h.jsx(Wa,{}),label:h.jsx(Rr,{to:"/government/reports",children:"Impact Reports"})},{key:"policy",icon:h.jsx(Sxe,{}),label:h.jsx(Rr,{to:"/government/policy",children:"Policy Alignment"})}],corporate:[{key:"dashboard",icon:h.jsx(S0,{}),label:h.jsx(Rr,{to:"/corporate",children:"Dashboard"})},{key:"participants",icon:h.jsx(ar,{}),label:h.jsx(Rr,{to:"/corporate/participants",children:"Participant Directory"})},{key:"donations",icon:h.jsx(pv,{}),label:h.jsx(Rr,{to:"/corporate/donations",children:"Donations"})},{key:"csr",icon:h.jsx(vv,{}),label:h.jsx(Rr,{to:"/corporate/csr",children:"CSR Initiatives"})},{key:"reports",icon:h.jsx(Wa,{}),label:h.jsx(Rr,{to:"/corporate/reports",children:"Impact Reports"})}],incubatee:[{key:"dashboard",label:h.jsx(Rr,{to:"/incubatee",children:"Dashboard"})},{key:"submit",label:h.jsx(Rr,{to:"/incubatee/submit",children:"Submit Project"})},{key:"documents",label:h.jsx(Rr,{to:"/incubatee/documents",children:"Documents"})}],consultant:[{key:"dashboard",label:h.jsx(Rr,{to:"/consultant",children:"Dashboard"})},{key:"feedback",label:h.jsx(Rr,{to:"/consultant/feedback",children:"Feedback"})},{key:"analytics",label:h.jsx(Rr,{to:"/consultant/analytics",children:"Analytics"})}],operations:[{key:"dashboard",label:h.jsx(Rr,{to:"/operations",children:"Dashboard"})},{key:"participants",label:h.jsx(Rr,{to:"/operations/participants",children:"Participants"})},{key:"approvals",label:h.jsx(Rr,{to:"/operations/approvals",children:"Approvals"})},{key:"reports",label:h.jsx(Rr,{to:"/operations/reports",children:"Reports"})},{key:"resources",label:h.jsx(Rr,{to:"/operations/resources",children:"Resources"})}]},a=async()=>{try{await aae(Mi),localStorage.removeItem("access_token"),_e.success("Successfully logged out"),e("/login")}catch(s){console.error("Logout error:",s),_e.error("Failed to logout. Please try again.")}},o=[{key:"profile",icon:h.jsx(as,{}),label:"My Profile",onClick:()=>e(`/${t}/profile`)},{key:"settings",icon:h.jsx(ox,{}),label:"Account Settings",onClick:()=>e(`/${t}/settings`)},{type:"divider"},{key:"logout",icon:h.jsx(QT,{}),label:"Logout",onClick:a}];return h.jsxs(wr,{children:[h.jsxs(L1t,{children:[h.jsxs("div",{style:{height:"64px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px",fontWeight:"bold",marginBottom:"16px"},children:[t.charAt(0).toUpperCase()+t.slice(1)," Portal"]}),h.jsx(cn,{items:i[t],theme:"dark",mode:"inline",defaultSelectedKeys:["dashboard"]})]}),h.jsxs(wr,{children:[h.jsx(F1t,{style:{padding:"0 24px",background:"#fff",display:"flex",justifyContent:"flex-end",alignItems:"center"},children:h.jsx(iZ,{menu:{items:o},trigger:["click"],children:h.jsxs(me,{style:{cursor:"pointer"},children:[h.jsx(vi,{icon:h.jsx(as,{})}),h.jsx(N1t,{children:r}),h.jsx(aZ,{})]})})}),h.jsxs($1t,{style:{margin:"24px 16px",padding:"24px",minHeight:"calc(100vh - 112px)",background:"#fff"},children:[h.jsx(sm,{})," "]})]})]})},B1t=[{id:"p1",companyName:"AgriTech Pioneers",companyLogo:"https://placehold.co/300x200/16a34a/ffffff?text=AgriTech&font=open-sans",industry:"Agriculture",investedAmount:1e5,equityPercentage:5,currentValuation:13e4,investmentDate:"2023-01-15",performanceMetric:30,status:"Performing",roi:30},{id:"p2",companyName:"EdTech Solutions",companyLogo:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&auto=format&fit=crop&q=60",industry:"Education",investedAmount:75e3,equityPercentage:3.5,currentValuation:85e3,investmentDate:"2023-02-20",performanceMetric:13,status:"Underperforming",roi:13},{id:"p3",companyName:"FinTech Revolution",companyLogo:"https://images.unsplash.com/photo-1563986768609-322da13575f3?w=600&auto=format&fit=crop&q=60",industry:"Finance",investedAmount:15e4,equityPercentage:4,currentValuation:21e4,investmentDate:"2023-04-10",performanceMetric:40,status:"Performing",roi:40},{id:"p4",companyName:"TechSolutions Inc.",companyLogo:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=600&auto=format&fit=crop&q=60",industry:"Software",investedAmount:2e5,equityPercentage:8,currentValuation:24e4,investmentDate:"2023-03-05",performanceMetric:20,status:"Performing",roi:20}],Jhe=t=>{const e=t.reduce((a,o)=>a+o.investedAmount,0),r=t.reduce((a,o)=>a+o.currentValuation,0),n=e>0?(r-e)/e*100:0,i=t.length>0?t.reduce((a,o)=>a+o.roi,0)/t.length:0;return{totalInvested:e,totalCurrentValue:r,totalROI:n,averageROI:i,investmentCount:t.length}},Zhe=async()=>{try{return B1t}catch(t){return console.error("Error fetching portfolio data:",t),[]}},Bt=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Yv=t=>{if(!t)return"default";switch(t.toLowerCase()){case"active":case"funded":case"performing":return"green";case"pending":case"warning":case"at risk":case"underperforming":return"orange";case"closed":case"exited":return"blue";case"rejected":case"defaulted":return"red";default:return"default"}},{Title:gu,Text:tE,Paragraph:Yp}=rt,{TabPane:rE}=Ft,V1t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState({totalInvested:0,totalCurrentValue:0,totalROI:0,averageROI:0,investmentCount:0}),[o,s]=j.useState(!0),[l,u]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(0),[v,g]=j.useState(0),[m,y]=j.useState(!1);ji();const x=k=>Bt(k||0);j.useEffect(()=>{(async()=>{try{s(!0);const O=[{id:"1",name:"TechSolutions Inc.",logo:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=600&auto=format&fit=crop&q=60",industry:"Software",stage:"Early",location:"Cape Town, SA",description:"Cloud-based software solutions for small businesses with focus on automation and efficiency",status:"active",progress:32,fundingGoal:75e4,fundingRaised:24e4,daysLeft:45,team:4,requiredFunding:5e5,valuation:25e5,riskLevel:"Medium",financialHistory:[{year:2022,quarter:4,revenue:12e4,expenses:9e4,profit:3e4},{year:2023,quarter:1,revenue:15e4,expenses:1e5,profit:5e4},{year:2023,quarter:2,revenue:18e4,expenses:11e4,profit:7e4}],documents:[{id:"d1",name:"Business Plan",type:"PDF",uploadDate:"2023-06-15",size:"2.4MB",url:"#"},{id:"d2",name:"Financial Projections",type:"Excel",uploadDate:"2023-07-02",size:"1.8MB",url:"#"},{id:"d3",name:"Pitch Deck",type:"PowerPoint",uploadDate:"2023-07-10",size:"3.5MB",url:"#"}]},{id:"2",name:"GreenEnergy Startup",logo:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=600&auto=format&fit=crop&q=60",industry:"Renewable Energy",stage:"Growth",location:"Johannesburg, SA",description:"Affordable solar solutions for residential and commercial properties with innovative financing models",status:"active",progress:68,fundingGoal:12e5,fundingRaised:816e3,daysLeft:30,team:7,requiredFunding:4e5,valuation:42e5,riskLevel:"Low",financialHistory:[{year:2022,quarter:3,revenue:35e4,expenses:28e4,profit:7e4},{year:2022,quarter:4,revenue:42e4,expenses:31e4,profit:11e4},{year:2023,quarter:1,revenue:48e4,expenses:32e4,profit:16e4},{year:2023,quarter:2,revenue:52e4,expenses:34e4,profit:18e4}],documents:[{id:"d4",name:"Business Plan",type:"PDF",uploadDate:"2023-04-20",size:"3.1MB",url:"#"},{id:"d5",name:"Market Research",type:"PDF",uploadDate:"2023-05-12",size:"4.2MB",url:"#"},{id:"d6",name:"Financial Statements",type:"Excel",uploadDate:"2023-06-05",size:"2.0MB",url:"#"}]},{id:"3",name:"HealthTech Innovations",logo:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600&auto=format&fit=crop&q=60",industry:"Healthcare",stage:"Scaling",location:"Durban, SA",description:"AI-powered diagnostic tools for rural healthcare facilities with limited access to specialists",status:"warning",progress:75,fundingGoal:5e5,fundingRaised:375e3,daysLeft:15,team:5,requiredFunding:125e3,valuation:35e5,riskLevel:"Medium",financialHistory:[{year:2022,quarter:3,revenue:22e4,expenses:18e4,profit:4e4},{year:2022,quarter:4,revenue:28e4,expenses:2e5,profit:8e4},{year:2023,quarter:1,revenue:32e4,expenses:23e4,profit:9e4}],documents:[{id:"d7",name:"Business Plan",type:"PDF",uploadDate:"2023-03-10",size:"2.8MB",url:"#"},{id:"d8",name:"Clinical Validation",type:"PDF",uploadDate:"2023-04-22",size:"5.1MB",url:"#"}]}],D=await Zhe(),B=Jhe(D);e(O),n(D),a(B)}catch(O){console.error("Error fetching data:",O)}finally{s(!1)}})()},[]);const b=k=>{u(k),y(!0)},w=k=>{u(k),d(!0),p(0),g(0)},S=k=>{if(!l||!k){g(0);return}const O=l.valuation||1e6,D=k/O*100;g(Number(D.toFixed(2)))},C=()=>{if(!l||!f){_e.error("Please specify an investment amount");return}if(f>(l.fundingGoal||0)-(l.fundingRaised||0)){_e.error("Investment amount exceeds remaining funding needs");return}_e.success(`Investment of ${Bt(f)} in ${l.name} initiated successfully!`),d(!1);const k={id:`p${r.length+1}`,companyName:l.name,companyLogo:l.logo,industry:l.industry||"Technology",investedAmount:f,equityPercentage:v,currentValuation:f,investmentDate:new Date().toISOString().split("T")[0],performanceMetric:0,status:"New Investment",roi:0};n([...r,k])},E=()=>h.jsx(Le,{loading:o,dataSource:t,rowKey:"id",columns:[{title:"Company",dataIndex:"name",render:(k,O)=>h.jsxs(me,{children:[h.jsx(vi,{src:O.logo,size:"large",shape:"square",style:{marginRight:8}}),h.jsxs("div",{children:[h.jsx(tE,{strong:!0,children:k}),h.jsxs("div",{children:[h.jsx(Me,{color:"blue",children:O.industry}),h.jsx(Me,{children:O.stage})]})]})]})},{title:"Funding",dataIndex:"fundingRaised",render:(k,O)=>h.jsxs("div",{children:[h.jsxs(tE,{children:[Bt(O.fundingRaised||0)," / ",Bt(O.fundingGoal||0)]}),h.jsx(yr,{percent:O.progress||0,size:"small",status:O.status==="closed"?"success":(O.progress||0)<30?"exception":"active"})]})},{title:"Valuation",dataIndex:"valuation",render:k=>x(k)},{title:"Risk Level",dataIndex:"riskLevel",render:k=>{const O=k==="Low"?"green":k==="Medium"?"orange":"red";return h.jsx(Me,{color:O,children:k})}},{title:"Status",dataIndex:"status",render:k=>h.jsx(Me,{color:Yv(k),children:k.charAt(0).toUpperCase()+k.slice(1)})},{title:"Actions",render:(k,O)=>h.jsxs(me,{children:[h.jsx(ie,{type:"primary",ghost:!0,icon:h.jsx(is,{}),onClick:()=>b(O),children:"Details"}),h.jsx(ie,{type:"primary",icon:h.jsx(Oi,{}),disabled:O.status==="closed",onClick:()=>w(O),children:"Invest"})]})}]}),A=()=>h.jsx(Le,{loading:o,dataSource:r,rowKey:"id",columns:[{title:"Company",dataIndex:"companyName",render:(k,O)=>h.jsxs(me,{children:[h.jsx(vi,{src:O.companyLogo,size:"large",shape:"square",style:{marginRight:8}}),h.jsx(tE,{strong:!0,children:k})]})},{title:"Industry",dataIndex:"industry",render:k=>h.jsx(Me,{color:"blue",children:k})},{title:"Investment",dataIndex:"investedAmount",render:k=>Bt(k)},{title:"Equity",dataIndex:"equityPercentage",render:k=>`${k}%`},{title:"Current Value",dataIndex:"currentValuation",render:(k,O)=>h.jsxs(me,{children:[Bt(k),O.roi>0?h.jsxs(Me,{color:"green",children:[h.jsx(oh,{})," ",O.roi,"%"]}):O.roi<0?h.jsxs(Me,{color:"red",children:[h.jsx(Ov,{})," ",Math.abs(O.roi),"%"]}):h.jsx(Me,{color:"default",children:"0%"})]})},{title:"Status",dataIndex:"status",render:k=>h.jsx(Me,{color:Yv(k),children:k})},{title:"Investment Date",dataIndex:"investmentDate"},{title:"Actions",render:(k,O)=>h.jsx(ie,{type:"link",icon:h.jsx(Ub,{}),onClick:()=>console.log("View performance metrics for",O.id),children:"Performance"})}]}),P=()=>{var k,O;return l?h.jsxs(_r,{title:`Investment Opportunity: ${l.name}`,open:m,onCancel:()=>y(!1),footer:[h.jsx(ie,{onClick:()=>y(!1),children:"Close"},"close"),h.jsx(ie,{type:"primary",onClick:()=>{y(!1),w(l)},disabled:l.status==="closed",children:"Invest Now"},"invest")],width:800,children:[h.jsxs("div",{style:{display:"flex",marginBottom:20},children:[h.jsx(vi,{src:l.logo,size:100,shape:"square",style:{marginRight:20}}),h.jsxs("div",{children:[h.jsx(gu,{level:4,children:l.name}),h.jsxs(me,{children:[h.jsx(Me,{color:"blue",children:l.industry}),h.jsx(Me,{children:l.stage}),h.jsx(Me,{color:Yv(l.status||"active"),children:((k=l.status)==null?void 0:k.charAt(0).toUpperCase())+((O=l.status)==null?void 0:O.slice(1))||"Active"})]}),h.jsx(Yp,{style:{marginTop:10},children:l.description})]})]}),h.jsx(pt,{}),h.jsxs(Rt,{title:"Funding Information",bordered:!0,children:[h.jsx(Rt.Item,{label:"Required Funding",children:Bt(l.requiredFunding)}),h.jsx(Rt.Item,{label:"Company Valuation",children:Bt(l.valuation)}),h.jsx(Rt.Item,{label:"Risk Level",children:h.jsx(Me,{color:l.riskLevel==="Low"?"green":l.riskLevel==="Medium"?"orange":"red",children:l.riskLevel})}),h.jsx(Rt.Item,{label:"Current Progress",span:3,children:h.jsxs("div",{style:{width:"100%"},children:[h.jsxs(tE,{children:[Bt(l==null?void 0:l.fundingRaised)," / ",Bt(l==null?void 0:l.fundingGoal)]}),h.jsx(yr,{percent:l==null?void 0:l.progress,status:(l==null?void 0:l.status)==="closed"?"success":((l==null?void 0:l.progress)||0)<30?"exception":"active"})]})}),h.jsxs(Rt.Item,{label:"Team Size",children:[l.team," members"]}),h.jsx(Rt.Item,{label:"Location",children:l.location}),h.jsxs(Rt.Item,{label:"Time Remaining",children:[l.daysLeft," days"]})]}),h.jsx(pt,{}),h.jsx(gu,{level:5,children:"Financial History"}),h.jsx(Le,{dataSource:l.financialHistory,pagination:!1,columns:[{title:"Period",render:(D,B)=>`Q${B.quarter} ${B.year}`},{title:"Revenue",dataIndex:"revenue",render:D=>Bt(D)},{title:"Expenses",dataIndex:"expenses",render:D=>Bt(D)},{title:"Profit",dataIndex:"profit",render:D=>Bt(D)}]}),h.jsx(pt,{}),h.jsx(gu,{level:5,children:"Documents"}),h.jsx(At,{dataSource:l.documents,renderItem:D=>h.jsx(At.Item,{actions:[h.jsx(ie,{type:"link",icon:h.jsx(Ed,{}),children:"Download"})],children:h.jsx(At.Item.Meta,{avatar:h.jsx(Ya,{style:{fontSize:24}}),title:D.name,description:`${D.type}  ${D.size}  Uploaded: ${D.uploadDate}`})})})]}):null},_=()=>{if(!l)return null;const k=(l.fundingGoal||0)-(l.fundingRaised||0);return h.jsxs(_r,{title:`Invest in ${l.name}`,open:c,onCancel:()=>d(!1),footer:[h.jsx(ie,{onClick:()=>d(!1),children:"Cancel"},"cancel"),h.jsx(ie,{type:"primary",onClick:C,disabled:!f||f<=0||f>k,children:"Confirm Investment"},"invest")],children:[h.jsxs("div",{style:{marginBottom:20},children:[h.jsx(od,{message:"Investment Terms & Conditions",description:"By proceeding with this investment, you acknowledge that you have read and agree to the platform's terms and conditions, including the risks associated with startup investments.",type:"info",showIcon:!0,style:{marginBottom:20}}),h.jsxs(Rt,{bordered:!0,children:[h.jsx(Rt.Item,{label:"Company",span:3,children:l.name}),h.jsx(Rt.Item,{label:"Stage",children:l.stage}),h.jsx(Rt.Item,{label:"Valuation",children:Bt(l.valuation)}),h.jsx(Rt.Item,{label:"Risk Level",children:l.riskLevel}),h.jsx(Rt.Item,{label:"Remaining Funding",span:3,children:Bt(k)})]})]}),h.jsxs(ce,{layout:"vertical",children:[h.jsx(ce.Item,{label:"Investment Amount (ZAR)",rules:[{required:!0,message:"Please enter an investment amount"}],extra:`Minimum investment: R10,000. Maximum available: ${Bt(k)}`,children:h.jsx(kv,{style:{width:"100%"},formatter:O=>`R ${O}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:O=>Number(O.replace(/R\s?|(,*)/g,"")),min:1e4,max:k,onChange:O=>{p(Number(O)||0),S(Number(O)||0)}})}),h.jsx(pt,{}),h.jsxs("div",{style:{marginBottom:20},children:[h.jsx(gu,{level:5,children:"Investment Summary"}),h.jsxs(Rt,{bordered:!0,children:[h.jsx(Rt.Item,{label:"Investment Amount",children:Bt(f)}),h.jsxs(Rt.Item,{label:"Potential Equity",children:[v,"%"]}),h.jsx(Rt.Item,{label:"Company Valuation",children:Bt(l.valuation)})]})]})]})]})};return h.jsxs("div",{style:{padding:24},children:[h.jsx(gu,{level:2,children:"Funder Dashboard"}),h.jsx(Yp,{children:"Welcome to your investment dashboard. View opportunities, manage your portfolio, and track performance."}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:20},children:[h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Portfolio Value",value:Bt(i.totalCurrentValue),precision:0,valueStyle:{color:"#3f8600"},prefix:h.jsx(S0,{})})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Invested",value:Bt(i.totalInvested),precision:0,valueStyle:{color:"#1890ff"},prefix:h.jsx(oZ,{})})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Portfolio ROI",value:i.totalROI,precision:2,suffix:"%",valueStyle:{color:i.totalROI>0?"#3f8600":i.totalROI<0?"#cf1322":"#1890ff"},prefix:i.totalROI>0?h.jsx(oh,{}):i.totalROI<0?h.jsx(Ov,{}):h.jsx(Wa,{})})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Investments",value:i.investmentCount,prefix:h.jsx(qf,{}),valueStyle:{color:"#1890ff"}})})})]}),h.jsxs(Ft,{defaultActiveKey:"opportunities",children:[h.jsx(rE,{tab:h.jsxs("span",{children:[h.jsx(is,{})," Investment Opportunities"]}),children:h.jsxs(ue,{children:[h.jsx(gu,{level:4,children:"Available Investment Opportunities"}),h.jsx(Yp,{children:"Browse vetted opportunities that match your investment criteria."}),E()]})},"opportunities"),h.jsx(rE,{tab:h.jsxs("span",{children:[h.jsx(qf,{})," My Portfolio"]}),children:h.jsxs(ue,{children:[h.jsx(gu,{level:4,children:"Your Investment Portfolio"}),h.jsx(Yp,{children:"Track and manage your current investments."}),A()]})},"portfolio"),h.jsx(rE,{tab:h.jsxs("span",{children:[h.jsx(Wa,{})," Analytics"]}),children:h.jsxs(ue,{children:[h.jsx(gu,{level:4,children:"Investment Analytics"}),h.jsx(Yp,{children:"In-depth analysis of your investment performance."}),h.jsx(od,{message:"Analytics Dashboard Coming Soon",description:"Our analytics dashboard is under development. Soon you'll be able to view in-depth performance metrics, ROI analysis, and investment insights.",type:"info",showIcon:!0})]})},"analytics"),h.jsx(rE,{tab:h.jsxs("span",{children:[h.jsx(Ya,{})," Documents"]}),children:h.jsxs(ue,{children:[h.jsx(gu,{level:4,children:"Investment Documents"}),h.jsx(Yp,{children:"Access your investment agreements, reports, and legal documents."}),h.jsx(od,{message:"Document Repository Coming Soon",description:"Our document management system is under development. Here you'll be able to access all your investment agreements, quarterly reports, and other important documentation.",type:"info",showIcon:!0})]})},"documents")]}),P(),_()]})},{Title:DY,Text:KM,Paragraph:MY}=rt,{Option:RY}=He,z1t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(null),[o,s]=j.useState(!1),[l,u]=j.useState(null),[c,d]=j.useState(null),[f,p]=j.useState("");j.useEffect(()=>{(async()=>{try{n(!0),e([{id:"1",name:"TechSolutions Inc.",logo:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?w=600&auto=format&fit=crop&q=60",industry:"Software",stage:"Early",location:"Cape Town, SA",description:"Cloud-based software solutions for small businesses with focus on automation and efficiency",status:"active",progress:32,fundingGoal:75e4,fundingRaised:24e4,daysLeft:45,team:4,requiredFunding:5e5,valuation:25e5,riskLevel:"Medium"},{id:"2",name:"GreenEnergy Startup",logo:"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=600&auto=format&fit=crop&q=60",industry:"Renewable Energy",stage:"Growth",location:"Johannesburg, SA",description:"Affordable solar solutions for residential and commercial properties with innovative financing models",status:"active",progress:68,fundingGoal:12e5,fundingRaised:816e3,daysLeft:30,team:7,requiredFunding:4e5,valuation:42e5,riskLevel:"Low"},{id:"3",name:"HealthTech Innovations",logo:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600&auto=format&fit=crop&q=60",industry:"Healthcare",stage:"Scaling",location:"Durban, SA",description:"AI-powered diagnostic tools for rural healthcare facilities with limited access to specialists",status:"warning",progress:75,fundingGoal:5e5,fundingRaised:375e3,daysLeft:15,team:5,requiredFunding:125e3,valuation:35e5,riskLevel:"Medium"},{id:"4",name:"AgriTech Pioneers",logo:"https://placehold.co/300x200/16a34a/ffffff?text=AgriTech&font=open-sans",industry:"Agriculture",stage:"Early",location:"Stellenbosch, SA",description:"Smart farming solutions using IoT and data analytics to optimize crop yields and reduce resource usage",status:"active",progress:25,fundingGoal:6e5,fundingRaised:15e4,daysLeft:60,team:6,requiredFunding:45e4,valuation:22e5,riskLevel:"High"},{id:"5",name:"EdTech Solutions",logo:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=600&auto=format&fit=crop&q=60",industry:"Education",stage:"Early",location:"Cape Town, SA",description:"Digital platform connecting students with tutors and educational resources tailored for African curriculum",status:"active",progress:15,fundingGoal:3e5,fundingRaised:45e3,daysLeft:60,team:3,requiredFunding:255e3,valuation:12e5,riskLevel:"Medium"}])}catch(C){console.error("Error fetching opportunities data:",C)}finally{n(!1)}})()},[]);const v=t.filter(S=>{const C=f===""||S.name.toLowerCase().includes(f.toLowerCase())||S.description&&S.description.toLowerCase().includes(f.toLowerCase())||S.industry&&S.industry.toLowerCase().includes(f.toLowerCase()),E=!l||S.industry===l,A=!c||S.riskLevel===c;return C&&E&&A}),g=Array.from(new Set(t.map(S=>S.industry))).filter(Boolean),m=Array.from(new Set(t.map(S=>S.riskLevel))).filter(Boolean),y=S=>{a(S),s(!0)},x=S=>{window.location.href=`/funder?invest=${S.id}`},b=[{title:"Company",dataIndex:"name",key:"name",render:(S,C)=>h.jsxs(me,{children:[h.jsx(vi,{src:C.logo,size:"large",shape:"square",style:{marginRight:8}}),h.jsxs("div",{children:[h.jsx(KM,{strong:!0,children:S}),h.jsxs("div",{children:[h.jsx(Me,{color:"blue",children:C.industry}),h.jsx(Me,{children:C.stage})]})]})]})},{title:"Funding",dataIndex:"fundingRaised",key:"fundingRaised",render:(S,C)=>h.jsxs("div",{children:[h.jsxs(KM,{children:[Bt(C.fundingRaised)," / ",Bt(C.fundingGoal)]}),h.jsx(yr,{percent:C.progress,size:"small",status:C.status==="closed"?"success":(C.progress||0)<30?"exception":"active"})]}),sorter:(S,C)=>(S.progress||0)-(C.progress||0)},{title:"Valuation",dataIndex:"valuation",key:"valuation",render:S=>Bt(S),sorter:(S,C)=>(S.valuation||0)-(C.valuation||0)},{title:"Risk Level",dataIndex:"riskLevel",key:"riskLevel",render:S=>{const C=S==="Low"?"green":S==="Medium"?"orange":"red";return h.jsx(Me,{color:C,children:S})},filters:m.map(S=>({text:S,value:S})),onFilter:(S,C)=>C.riskLevel===S},{title:"Status",dataIndex:"status",key:"status",render:S=>h.jsx(Me,{color:Yv(S),children:S.charAt(0).toUpperCase()+S.slice(1)})},{title:"Time Left",dataIndex:"daysLeft",key:"daysLeft",render:S=>`${S} days`,sorter:(S,C)=>(S.daysLeft||0)-(C.daysLeft||0)},{title:"Actions",key:"actions",render:(S,C)=>h.jsxs(me,{children:[h.jsx(ie,{type:"primary",ghost:!0,icon:h.jsx(is,{}),onClick:()=>y(C),children:"Details"}),h.jsx(ie,{type:"primary",icon:h.jsx(Oi,{}),disabled:C.status==="closed",onClick:()=>x(C),children:"Invest"})]})}],w=()=>{var S,C;return i?h.jsxs(_r,{title:`Investment Opportunity: ${i.name}`,open:o,onCancel:()=>s(!1),footer:[h.jsx(ie,{onClick:()=>s(!1),children:"Close"},"close"),h.jsx(ie,{type:"primary",onClick:()=>x(i),disabled:i.status==="closed",children:"Invest Now"},"invest")],width:800,children:[h.jsxs("div",{style:{display:"flex",marginBottom:20},children:[h.jsx(vi,{src:i.logo,size:100,shape:"square",style:{marginRight:20}}),h.jsxs("div",{children:[h.jsx(DY,{level:4,children:i.name}),h.jsxs(me,{children:[h.jsx(Me,{color:"blue",children:i.industry}),h.jsx(Me,{children:i.stage}),h.jsx(Me,{color:Yv(i.status||"active"),children:((S=i.status)==null?void 0:S.charAt(0).toUpperCase())+((C=i.status)==null?void 0:C.slice(1))||"Active"})]}),h.jsx(MY,{style:{marginTop:10},children:i.description})]})]}),h.jsx(pt,{}),h.jsxs(Rt,{title:"Funding Information",bordered:!0,children:[h.jsx(Rt.Item,{label:"Required Funding",children:Bt(i.requiredFunding)}),h.jsx(Rt.Item,{label:"Company Valuation",children:Bt(i.valuation)}),h.jsx(Rt.Item,{label:"Risk Level",children:h.jsx(Me,{color:i.riskLevel==="Low"?"green":i.riskLevel==="Medium"?"orange":"red",children:i.riskLevel})}),h.jsx(Rt.Item,{label:"Current Progress",span:3,children:h.jsxs("div",{style:{width:"100%"},children:[h.jsxs(KM,{children:[Bt(i==null?void 0:i.fundingRaised)," / ",Bt(i==null?void 0:i.fundingGoal)]}),h.jsx(yr,{percent:i==null?void 0:i.progress,status:(i==null?void 0:i.status)==="closed"?"success":((i==null?void 0:i.progress)||0)<30?"exception":"active"})]})}),h.jsxs(Rt.Item,{label:"Team Size",children:[i.team," members"]}),h.jsx(Rt.Item,{label:"Location",children:i.location}),h.jsxs(Rt.Item,{label:"Time Remaining",children:[i.daysLeft," days"]})]})]}):null};return h.jsxs("div",{style:{padding:"24px 0"},children:[h.jsx(DY,{level:2,children:"Investment Opportunities"}),h.jsx(MY,{children:"Browse and filter vetted investment opportunities across various sectors."}),h.jsx(pt,{}),h.jsx(ue,{style:{marginBottom:20},children:h.jsxs(Ye,{gutter:16,align:"middle",children:[h.jsx(oe,{span:8,children:h.jsx(Ve,{placeholder:"Search opportunities",prefix:h.jsx(qu,{}),value:f,onChange:S=>p(S.target.value),style:{width:"100%"}})}),h.jsx(oe,{span:6,children:h.jsx(He,{placeholder:"Filter by Industry",style:{width:"100%"},allowClear:!0,value:l,onChange:S=>u(S),children:g.map((S,C)=>h.jsx(RY,{value:S,children:S},C))})}),h.jsx(oe,{span:6,children:h.jsx(He,{placeholder:"Filter by Risk Level",style:{width:"100%"},allowClear:!0,value:c,onChange:S=>d(S),children:m.map((S,C)=>h.jsx(RY,{value:S,children:S},C))})}),h.jsx(oe,{span:4,children:h.jsx(ie,{icon:h.jsx(zb,{}),onClick:()=>{u(null),d(null),p("")},children:"Reset Filters"})})]})}),h.jsx(ue,{title:`Available Opportunities (${v.length})`,children:h.jsx(Le,{columns:b,dataSource:v,rowKey:"id",loading:r,pagination:{pageSize:10}})}),w()]})},{Title:U1t,Text:QM,Paragraph:jY}=rt,q1t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState({totalInvested:0,totalCurrentValue:0,totalROI:0,averageROI:0,investmentCount:0}),[i,a]=j.useState(!0);j.useEffect(()=>{(async()=>{try{a(!0);const l=await Zhe(),u=Jhe(l);e(l),n(u)}catch(l){console.error("Error fetching portfolio data:",l)}finally{a(!1)}})()},[]);const o=[{title:"Company",dataIndex:"companyName",key:"companyName",render:(s,l)=>h.jsxs(me,{children:[h.jsx(vi,{src:l.companyLogo,size:"large",shape:"square",style:{marginRight:8}}),h.jsx(QM,{strong:!0,children:s})]})},{title:"Industry",dataIndex:"industry",key:"industry",render:s=>h.jsx(Me,{color:"blue",children:s})},{title:"Investment",dataIndex:"investedAmount",key:"investedAmount",render:s=>Bt(s),sorter:(s,l)=>s.investedAmount-l.investedAmount},{title:"Equity",dataIndex:"equityPercentage",key:"equityPercentage",render:s=>`${s}%`},{title:"Current Value",dataIndex:"currentValuation",key:"currentValuation",render:(s,l)=>h.jsxs(me,{children:[Bt(s),l.roi>0?h.jsxs(Me,{color:"green",children:[h.jsx(oh,{})," ",l.roi,"%"]}):l.roi<0?h.jsxs(Me,{color:"red",children:[h.jsx(Ov,{})," ",Math.abs(l.roi),"%"]}):h.jsx(Me,{color:"default",children:"0%"})]}),sorter:(s,l)=>s.currentValuation-l.currentValuation},{title:"ROI",dataIndex:"roi",key:"roi",render:s=>h.jsx(me,{children:s>0?h.jsxs(Me,{color:"green",children:[h.jsx(oh,{})," ",s,"%"]}):s<0?h.jsxs(Me,{color:"red",children:[h.jsx(Ov,{})," ",Math.abs(s),"%"]}):h.jsx(Me,{color:"default",children:"0%"})}),sorter:(s,l)=>s.roi-l.roi},{title:"Status",dataIndex:"status",key:"status",render:s=>h.jsx(Me,{color:Yv(s),children:s})},{title:"Investment Date",dataIndex:"investmentDate",key:"investmentDate",sorter:(s,l)=>new Date(s.investmentDate).getTime()-new Date(l.investmentDate).getTime()},{title:"Actions",key:"actions",render:(s,l)=>h.jsx(ie,{type:"link",icon:h.jsx(Ub,{}),onClick:()=>console.log("View performance metrics for",l.id),children:"Performance"})}];return h.jsxs("div",{style:{padding:"24px 0"},children:[h.jsx(U1t,{level:2,children:"Investment Portfolio"}),h.jsx(jY,{children:"Track the performance of your investments across different companies and sectors."}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:20},children:[h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Portfolio Value",value:Bt(r.totalCurrentValue),precision:0,valueStyle:{color:"#3f8600"},prefix:h.jsx(S0,{})})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Invested",value:Bt(r.totalInvested),precision:0,valueStyle:{color:"#1890ff"},prefix:h.jsx(oZ,{})})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Portfolio ROI",value:r.totalROI,precision:2,suffix:"%",valueStyle:{color:r.totalROI>0?"#3f8600":r.totalROI<0?"#cf1322":"#1890ff"},prefix:r.totalROI>0?h.jsx(oh,{}):r.totalROI<0?h.jsx(Ov,{}):h.jsx(Wa,{})})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Investments",value:r.investmentCount,precision:0,valueStyle:{color:"#1890ff"},prefix:h.jsx(Wa,{})})})})]}),h.jsx(ue,{title:"Investment Portfolio",style:{marginBottom:20},children:h.jsx(Le,{columns:o,dataSource:t,rowKey:"id",loading:i,pagination:{pageSize:10}})}),h.jsx(ue,{title:"Portfolio Performance",children:h.jsxs(Ye,{gutter:[16,16],children:[h.jsxs(oe,{span:24,children:[h.jsx(jY,{children:h.jsx(QM,{strong:!0,children:"Overall Growth:"})}),h.jsx(yr,{percent:r.totalROI,status:r.totalROI>=0?"active":"exception",strokeColor:r.totalROI>=0?"#52c41a":"#f5222d",format:s=>`${(s||0).toFixed(2)}%`})]}),h.jsx(oe,{span:24,children:h.jsx(QM,{type:"secondary",children:"* Performance metrics show the return on investment (ROI) for each company in your portfolio."})})]})})]})},{Title:G1t,Text:JM,Paragraph:W1t}=rt,{RangePicker:H1t}=wo,{Option:Xp}=He,{TabPane:ZM}=Ft,OF=[{month:"Jan",roi:2.5,marketAvg:1.8},{month:"Feb",roi:3.1,marketAvg:2.2},{month:"Mar",roi:2.3,marketAvg:2},{month:"Apr",roi:4.2,marketAvg:2.6},{month:"May",roi:3.8,marketAvg:2.3},{month:"Jun",roi:5.1,marketAvg:2.8},{month:"Jul",roi:4.5,marketAvg:3},{month:"Aug",roi:4.8,marketAvg:2.7},{month:"Sep",roi:5.5,marketAvg:3.2},{month:"Oct",roi:6.2,marketAvg:3.5},{month:"Nov",roi:5.7,marketAvg:3.4},{month:"Dec",roi:6.5,marketAvg:3.8}],Y1t=[...OF.map(t=>({month:t.month,value:t.roi,category:"Your ROI"})),...OF.map(t=>({month:t.month,value:t.marketAvg,category:"Market Average"}))],epe=[{industry:"Agriculture",percentage:15,amount:225e3,roi:22},{industry:"Technology",percentage:35,amount:525e3,roi:40},{industry:"Healthcare",percentage:20,amount:3e5,roi:35},{industry:"Education",percentage:10,amount:15e4,roi:18},{industry:"Renewable Energy",percentage:20,amount:3e5,roi:30}],X1t=epe.map(t=>({type:t.industry,value:t.percentage})),nE=[{company:"TechSolutions Inc.",industry:"Technology",investedAmount:2e5,currentValue:28e4,roi:40,status:"Performing"},{company:"HealthTech Innovations",industry:"Healthcare",investedAmount:15e4,currentValue:202500,roi:35,status:"Performing"},{company:"GreenEnergy Startup",industry:"Renewable Energy",investedAmount:1e5,currentValue:13e4,roi:30,status:"Performing"},{company:"AgriTech Pioneers",industry:"Agriculture",investedAmount:125e3,currentValue:152500,roi:22,status:"Performing"},{company:"EdTech Solutions",industry:"Education",investedAmount:75e3,currentValue:88500,roi:18,status:"Performing"}],tpe=[{year:2023,q1:3.2,q2:4.5,q3:5.1,q4:5.8,annual:4.7},{year:2022,q1:2.8,q2:3.1,q3:3.5,q4:4.2,annual:3.4},{year:2021,q1:2,q2:2.3,q3:2.6,q4:3,annual:2.5}],y0=[];tpe.forEach(t=>{y0.push({year:t.year.toString(),quarter:"Q1",value:t.q1}),y0.push({year:t.year.toString(),quarter:"Q2",value:t.q2}),y0.push({year:t.year.toString(),quarter:"Q3",value:t.q3}),y0.push({year:t.year.toString(),quarter:"Q4",value:t.q4})});const K1t=()=>{const[t,e]=j.useState(!0),[r,n]=j.useState("1y"),[i,a]=j.useState([]);j.useEffect(()=>{const y=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(y)},[]);const o=nE.reduce((y,x)=>y+x.investedAmount,0),s=nE.reduce((y,x)=>y+x.currentValue,0),l=s-o,u=l/o*100,c=Array.from(new Set(nE.map(y=>y.industry))),d={data:Y1t,xField:"month",yField:"value",seriesField:"category",yAxis:{title:{text:"Return (%)"}},legend:{position:"top-right"},smooth:!0,animation:{appear:{animation:"path-in",duration:1e3}},color:["#1890ff","#52c41a"]},f={data:X1t,angleField:"value",colorField:"type",radius:.8,label:{type:"outer",formatter:y=>`${y.type}: ${y.value}%`},interactions:[{type:"element-active"}],legend:{position:"bottom"},animation:{appear:{animation:"fade-in",duration:1e3}}},p={data:y0,isGroup:!0,xField:"quarter",yField:"value",seriesField:"year",yAxis:{title:{text:"Return (%)"}},label:{position:"middle",style:{fill:"#fff",opacity:.6}},legend:{position:"top-right"},animation:{appear:{animation:"wave-in",duration:1e3}}},v=[{title:"Company",dataIndex:"company",key:"company"},{title:"Industry",dataIndex:"industry",key:"industry",render:y=>h.jsx(Me,{color:"blue",children:y})},{title:"Invested Amount",dataIndex:"investedAmount",key:"investedAmount",render:y=>Bt(y)},{title:"Current Value",dataIndex:"currentValue",key:"currentValue",render:y=>Bt(y)},{title:"ROI",dataIndex:"roi",key:"roi",render:y=>{const x=y>=30?"green":y>=15?"blue":"orange";return h.jsxs(Me,{color:x,children:[y,"%"]})}},{title:"Status",dataIndex:"status",key:"status",render:y=>{const x=y==="Performing"?"green":y==="Stable"?"blue":"red";return h.jsx(Me,{color:x,children:y})}}],g=[{title:"Year",dataIndex:"year",key:"year"},{title:"Q1 Return",dataIndex:"q1",key:"q1",render:y=>`${y.toFixed(1)}%`},{title:"Q2 Return",dataIndex:"q2",key:"q2",render:y=>`${y.toFixed(1)}%`},{title:"Q3 Return",dataIndex:"q3",key:"q3",render:y=>`${y.toFixed(1)}%`},{title:"Q4 Return",dataIndex:"q4",key:"q4",render:y=>`${y.toFixed(1)}%`},{title:"Annual Return",dataIndex:"annual",key:"annual",render:y=>{const x=y>=4?"green":y>=3?"blue":"orange";return h.jsxs(Me,{color:x,children:[y.toFixed(1),"%"]})}}],m=[{title:"Industry",dataIndex:"industry",key:"industry",render:y=>h.jsx(Me,{color:"blue",children:y})},{title:"Allocation",dataIndex:"percentage",key:"percentage",render:y=>`${y}%`},{title:"Invested Amount",dataIndex:"amount",key:"amount",render:y=>Bt(y)},{title:"Avg. ROI",dataIndex:"roi",key:"roi",render:y=>{const x=y>=30?"green":y>=15?"blue":"orange";return h.jsxs(Me,{color:x,children:[y,"%"]})}}];return h.jsxs("div",{style:{padding:"24px 0"},children:[h.jsx(G1t,{level:2,children:"Investment Analytics"}),h.jsx(W1t,{children:"Track the performance of your investments with detailed analytics and reporting."}),h.jsx(pt,{}),h.jsx(ue,{style:{marginBottom:20},children:h.jsxs(me,{size:20,align:"center",children:[h.jsxs(me,{children:[h.jsx(JM,{strong:!0,children:"Time Period:"}),h.jsxs(He,{defaultValue:"1y",style:{width:120},onChange:y=>n(y),children:[h.jsx(Xp,{value:"3m",children:"3 Months"}),h.jsx(Xp,{value:"6m",children:"6 Months"}),h.jsx(Xp,{value:"1y",children:"1 Year"}),h.jsx(Xp,{value:"3y",children:"3 Years"}),h.jsx(Xp,{value:"all",children:"All Time"})]})]}),h.jsxs(me,{children:[h.jsx(JM,{strong:!0,children:"Custom Range:"}),h.jsx(H1t,{})]}),h.jsxs(me,{children:[h.jsx(JM,{strong:!0,children:"Industry:"}),h.jsx(He,{mode:"multiple",style:{width:300},placeholder:"Select industries",value:i,onChange:a,allowClear:!0,children:c.map(y=>h.jsx(Xp,{value:y,children:y},y))})]}),h.jsx(ie,{icon:h.jsx(zb,{}),onClick:()=>{n("1y"),a([])},children:"Reset Filters"}),h.jsx(ie,{icon:h.jsx(Ed,{}),type:"primary",children:"Export Report"})]})}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:20},children:[h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Invested",value:Bt(o),prefix:h.jsx(bz,{}),valueStyle:{color:"#1890ff"}})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Current Portfolio Value",value:Bt(s),prefix:h.jsx(bz,{}),valueStyle:{color:"#52c41a"}})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Return",value:Bt(l),prefix:h.jsx(qf,{}),valueStyle:{color:"#52c41a"}})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Average ROI",value:u.toFixed(2),suffix:"%",prefix:h.jsx(Exe,{}),valueStyle:{color:"#52c41a"}})})})]}),h.jsxs(Ft,{defaultActiveKey:"performance",size:"large",children:[h.jsxs(ZM,{tab:h.jsxs("span",{children:[h.jsx(Ub,{})," Performance"]}),children:[h.jsxs(ue,{title:"Portfolio Performance Over Time",style:{marginBottom:20},children:[h.jsx("div",{style:{height:350,padding:"20px 0"},children:h.jsx(h1t,{...d})}),h.jsx(Le,{columns:[{title:"Month",dataIndex:"month",key:"month"},{title:"Your ROI",dataIndex:"roi",key:"roi",render:y=>`${y}%`},{title:"Market Average",dataIndex:"marketAvg",key:"marketAvg",render:y=>`${y}%`}],dataSource:OF,pagination:!1,size:"small",style:{marginTop:20}})]}),h.jsx(ue,{title:"Company Performance",style:{marginBottom:20},children:h.jsx(Le,{columns:v,dataSource:nE,rowKey:"company",pagination:!1})})]},"performance"),h.jsx(ZM,{tab:h.jsxs("span",{children:[h.jsx(_v,{})," Allocation"]}),children:h.jsxs(ue,{title:"Portfolio Allocation by Industry",style:{marginBottom:20},children:[h.jsx("div",{style:{height:350,padding:"20px 0"},children:h.jsx(v1t,{...f})}),h.jsx(Le,{columns:m,dataSource:epe,rowKey:"industry",pagination:!1,style:{marginTop:20}})]})},"allocation"),h.jsx(ZM,{tab:h.jsxs("span",{children:[h.jsx(Wa,{})," Historical Returns"]}),children:h.jsxs(ue,{title:"Historical Investment Returns",style:{marginBottom:20},children:[h.jsx("div",{style:{height:350,padding:"20px 0"},children:h.jsx(d1t,{...p})}),h.jsx(Le,{columns:g,dataSource:tpe,rowKey:"year",pagination:!1,style:{marginTop:20}})]})},"historical")]}),h.jsx(ue,{style:{marginTop:20},children:h.jsx(od,{message:"Analytics Disclaimer",description:"Past performance is not indicative of future results. The analytics provided are for informational purposes only and should not be considered as financial advice. Please consult with a financial advisor before making investment decisions.",type:"warning",showIcon:!0,icon:h.jsx(m$,{})})})]})},{Title:FY,Text:Uo,Paragraph:Q1t}=rt,{Option:mu}=He,J1t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,s]=j.useState(null),[l,u]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState(!1),[v,g]=j.useState(null);j.useEffect(()=>{(async()=>{try{n(!0),e([{id:"d1",name:"TechSolutions Investment Agreement",type:"PDF",uploadDate:"2023-06-15",size:"2.4MB",category:"Legal",company:"TechSolutions Inc.",status:"Signed",url:"#"},{id:"d2",name:"TechSolutions Financial Projections",type:"Excel",uploadDate:"2023-07-02",size:"1.8MB",category:"Financial",company:"TechSolutions Inc.",status:"Active",url:"#"},{id:"d3",name:"TechSolutions Pitch Deck",type:"PowerPoint",uploadDate:"2023-07-10",size:"3.5MB",category:"Presentation",company:"TechSolutions Inc.",status:"Active",url:"#"},{id:"d4",name:"GreenEnergy Business Plan",type:"PDF",uploadDate:"2023-04-20",size:"3.1MB",category:"Business Plan",company:"GreenEnergy Startup",status:"Active",url:"#"},{id:"d5",name:"GreenEnergy Market Research",type:"PDF",uploadDate:"2023-05-12",size:"4.2MB",category:"Research",company:"GreenEnergy Startup",status:"Active",url:"#"},{id:"d6",name:"GreenEnergy Investment Term Sheet",type:"PDF",uploadDate:"2023-06-05",size:"1.2MB",category:"Legal",company:"GreenEnergy Startup",status:"Signed",url:"#"},{id:"d7",name:"HealthTech Due Diligence Report",type:"PDF",uploadDate:"2023-03-10",size:"2.8MB",category:"Due Diligence",company:"HealthTech Innovations",status:"Active",url:"#"},{id:"d8",name:"HealthTech Quarterly Report Q2 2023",type:"PDF",uploadDate:"2023-07-15",size:"1.9MB",category:"Report",company:"HealthTech Innovations",status:"Active",url:"#"},{id:"d9",name:"Investment Portfolio Summary",type:"PDF",uploadDate:"2023-08-01",size:"1.4MB",category:"Report",status:"Active",url:"#"},{id:"d10",name:"Tax Documentation 2023",type:"PDF",uploadDate:"2023-01-30",size:"3.2MB",category:"Tax",status:"Active",url:"#"}])}catch(k){console.error("Error fetching documents data:",k)}finally{n(!1)}})()},[]);const m=t.filter(_=>{const k=i===""||_.name.toLowerCase().includes(i.toLowerCase())||_.company&&_.company.toLowerCase().includes(i.toLowerCase())||_.category.toLowerCase().includes(i.toLowerCase()),O=!o||_.category===o,D=!l||_.type===l;return k&&O&&D}),y=Array.from(new Set(t.map(_=>_.category))),x=Array.from(new Set(t.map(_=>_.type))),b=_=>{g(_),p(!0)},w=_=>{_e.success(`Downloading ${_.name}...`)},S=_=>{_r.confirm({title:"Are you sure you want to delete this document?",content:"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk:()=>{e(t.filter(k=>k.id!==_)),_e.success("Document deleted successfully")}})},C={name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},onChange(_){_.file.status!=="uploading"&&console.log(_.file,_.fileList),_.file.status==="done"?_e.success(`${_.file.name} file uploaded successfully`):_.file.status==="error"&&_e.error(`${_.file.name} file upload failed.`)}},E=_=>{switch(_.toLowerCase()){case"pdf":return h.jsx(b$,{style:{color:"#ff4d4f",fontSize:20}});case"excel":return h.jsx(x$,{style:{color:"#52c41a",fontSize:20}});case"powerpoint":return h.jsx(Axe,{style:{color:"#fa8c16",fontSize:20}});default:return h.jsx(sZ,{style:{color:"#1890ff",fontSize:20}})}},A=_=>{switch(_.toLowerCase()){case"signed":return"green";case"pending":return"orange";case"expired":return"red";default:return"blue"}},P=[{title:"Document Name",dataIndex:"name",key:"name",render:(_,k)=>h.jsxs(me,{children:[E(k.type),h.jsx(Uo,{style:{cursor:"pointer",color:"#1890ff"},onClick:()=>b(k),children:_})]})},{title:"Type",dataIndex:"type",key:"type",render:_=>h.jsx(Me,{children:_})},{title:"Category",dataIndex:"category",key:"category",render:_=>h.jsx(Me,{color:"blue",children:_})},{title:"Company",dataIndex:"company",key:"company"},{title:"Upload Date",dataIndex:"uploadDate",key:"uploadDate",sorter:(_,k)=>new Date(_.uploadDate).getTime()-new Date(k.uploadDate).getTime()},{title:"Size",dataIndex:"size",key:"size"},{title:"Status",dataIndex:"status",key:"status",render:_=>h.jsx(Me,{color:A(_),children:_})},{title:"Actions",key:"actions",render:(_,k)=>h.jsxs(me,{children:[h.jsx(hr,{title:"View",children:h.jsx(ie,{icon:h.jsx(is,{}),size:"small",onClick:()=>b(k)})}),h.jsx(hr,{title:"Download",children:h.jsx(ie,{icon:h.jsx(Ed,{}),size:"small",onClick:()=>w(k)})}),h.jsx(hr,{title:"Delete",children:h.jsx(ie,{icon:h.jsx(Bl,{}),size:"small",danger:!0,onClick:()=>S(k.id)})})]})}];return h.jsxs("div",{style:{padding:"24px 0"},children:[h.jsx(FY,{level:2,children:"Document Management"}),h.jsx(Q1t,{children:"Access and manage all your investment-related documents in one place."}),h.jsx(pt,{}),h.jsx(ue,{style:{marginBottom:20},children:h.jsxs(me,{size:20,wrap:!0,children:[h.jsx(Ve,{placeholder:"Search documents",prefix:h.jsx(qu,{}),value:i,onChange:_=>a(_.target.value),style:{width:300}}),h.jsx(He,{placeholder:"Filter by Category",style:{width:200},allowClear:!0,value:o,onChange:_=>s(_),children:y.map((_,k)=>h.jsx(mu,{value:_,children:_},k))}),h.jsx(He,{placeholder:"Filter by Type",style:{width:200},allowClear:!0,value:l,onChange:_=>u(_),children:x.map((_,k)=>h.jsx(mu,{value:_,children:_},k))}),h.jsx(ie,{icon:h.jsx(zb,{}),onClick:()=>{a(""),s(null),u(null)},children:"Reset Filters"}),h.jsx(ie,{type:"primary",icon:h.jsx(sx,{}),onClick:()=>d(!0),children:"Upload Document"})]})}),h.jsx(ue,{children:h.jsx(Le,{columns:P,dataSource:m,rowKey:"id",loading:r,pagination:{pageSize:10},locale:{emptyText:h.jsx(El,{description:"No documents found",image:El.PRESENTED_IMAGE_SIMPLE})}})}),h.jsx(_r,{title:"Upload Document",open:c,onCancel:()=>d(!1),footer:null,children:h.jsxs(me,{direction:"vertical",style:{width:"100%"},size:"large",children:[h.jsxs(Vb.Dragger,{...C,children:[h.jsx("p",{className:"ant-upload-drag-icon",children:h.jsx(sx,{})}),h.jsx("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),h.jsx("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Allowed file types: PDF, DOCX, XLSX, PPTX"})]}),h.jsxs(me,{direction:"vertical",style:{width:"100%"},children:[h.jsx(Uo,{children:"Document Category:"}),h.jsxs(He,{placeholder:"Select a category",style:{width:"100%"},children:[y.map((_,k)=>h.jsx(mu,{value:_,children:_},k)),h.jsx(mu,{value:"other",children:"Other"})]})]}),h.jsxs(me,{direction:"vertical",style:{width:"100%"},children:[h.jsx(Uo,{children:"Associated Company (Optional):"}),h.jsxs(He,{placeholder:"Select a company",style:{width:"100%"},allowClear:!0,children:[h.jsx(mu,{value:"TechSolutions Inc.",children:"TechSolutions Inc."}),h.jsx(mu,{value:"GreenEnergy Startup",children:"GreenEnergy Startup"}),h.jsx(mu,{value:"HealthTech Innovations",children:"HealthTech Innovations"}),h.jsx(mu,{value:"AgriTech Pioneers",children:"AgriTech Pioneers"}),h.jsx(mu,{value:"EdTech Solutions",children:"EdTech Solutions"})]})]}),h.jsxs("div",{style:{textAlign:"right",marginTop:20},children:[h.jsx(ie,{onClick:()=>d(!1),style:{marginRight:10},children:"Cancel"}),h.jsx(ie,{type:"primary",onClick:()=>{_e.success("Document uploaded successfully"),d(!1)},children:"Upload"})]})]})}),h.jsx(_r,{title:v==null?void 0:v.name,open:f,onCancel:()=>p(!1),footer:[h.jsx(ie,{onClick:()=>p(!1),children:"Close"},"close"),h.jsx(ie,{type:"primary",icon:h.jsx(Ed,{}),onClick:()=>{v&&w(v)},children:"Download"},"download")],width:800,children:v&&h.jsxs("div",{style:{textAlign:"center"},children:[h.jsxs("div",{style:{height:400,background:"#f5f5f5",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",border:"1px solid #d9d9d9",borderRadius:2},children:[E(v.type),h.jsx(Uo,{style:{marginTop:16},children:"Document Preview"}),h.jsx(Uo,{type:"secondary",style:{marginTop:8},children:"In a production environment, this would show an actual document preview."})]}),h.jsxs("div",{style:{textAlign:"left",marginTop:20},children:[h.jsx(FY,{level:5,children:"Document Information"}),h.jsx(pt,{style:{margin:"10px 0"}}),h.jsxs(me,{direction:"vertical",style:{width:"100%"},children:[h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Name:"})," ",v.name]}),h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Type:"})," ",v.type]}),h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Category:"})," ",v.category]}),h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Size:"})," ",v.size]}),h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Uploaded:"})," ",v.uploadDate]}),v.company&&h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Company:"})," ",v.company]}),h.jsxs("div",{children:[h.jsx(Uo,{strong:!0,children:"Status:"})," ",h.jsx(Me,{color:A(v.status),children:v.status})]})]})]})]})})]})},{Title:Z1t,Text:e2,Paragraph:eSt}=rt,{Panel:tSt}=qb,{TextArea:rSt}=Ve,nSt=({title:t="Todo List",description:e,items:r=[],categories:n=[],showCategories:i=!1,showProgress:a=!0,allowAddItem:o=!0,allowDeleteItem:s=!0,allowEditItem:l=!0,allowAddNotes:u=!0,onChange:c})=>{const[d,f]=j.useState(r),[p,v]=j.useState([]),[g,m]=j.useState(""),[y,x]=j.useState(n[0]||""),[b,w]=j.useState(null),[S,C]=j.useState(""),[E,A]=j.useState(!1),[P,_]=j.useState(""),[k,O]=j.useState(null),[D]=ce.useForm();j.useEffect(()=>{f(r)},[r]);const B=()=>{if(d.length===0)return 0;const Q=d.filter(se=>se.isCompleted).length;return Math.round(Q/d.length*100)},$=()=>{const Q={};return i&&n.length>0?(n.forEach(se=>{Q[se]=[]}),d.forEach(se=>{const ne=se.category||"Uncategorized";Q[ne]||(Q[ne]=[]),Q[ne].push(se)})):Q["All Items"]=d,Q},L=Q=>{if(Q.length===0)return 0;const se=Q.filter(ne=>ne.isCompleted).length;return Math.round(se/Q.length*100)},R=(Q,se)=>{const ne=d.map(le=>le.id===Q?{...le,isCompleted:se.target.checked}:le);f(ne),c==null||c(ne)},V=()=>{if(!g.trim())return;const Q={id:`item-${Date.now()}`,text:g,isCompleted:!1,category:i?y:void 0},se=[...d,Q];f(se),m(""),c==null||c(se)},U=Q=>{const se=d.filter(ne=>ne.id!==Q);f(se),c==null||c(se)},q=Q=>{w(Q.id),C(Q.text)},M=()=>{if(!b||!S.trim()){w(null);return}const Q=d.map(se=>se.id===b?{...se,text:S}:se);f(Q),w(null),c==null||c(Q)},G=Q=>{O(Q.id),_(Q.notes||""),D.setFieldsValue({notes:Q.notes||""}),A(!0)},W=()=>{D.validateFields().then(Q=>{if(k){const se=Q.notes.trim();te(k,se),A(!1),D.resetFields()}})},J=()=>{A(!1),D.resetFields()},te=(Q,se)=>{const ne=d.map(le=>le.id===Q?{...le,notes:se}:le);f(ne),c==null||c(ne)},H=Q=>{if(!Q)return null;const se=Q==="High"?"red":Q==="Medium"?"orange":"green";return h.jsx(Me,{color:se,children:Q})},ee=$();return h.jsxs(h.Fragment,{children:[h.jsxs(ue,{title:h.jsxs(me,{direction:"vertical",style:{width:"100%"},children:[h.jsx(Z1t,{level:4,children:t}),e&&h.jsx(eSt,{children:e}),a&&h.jsx(yr,{percent:B(),size:"small",status:B()===100?"success":"active"})]}),children:[o&&h.jsxs(me,{style:{marginBottom:16,width:"100%"},direction:"vertical",children:[h.jsx(Ve,{placeholder:"New item",value:g,onChange:Q=>m(Q.target.value),onPressEnter:V}),i&&n.length>0&&h.jsxs(me,{children:[h.jsx(e2,{children:"Category:"}),h.jsx("select",{value:y,onChange:Q=>x(Q.target.value),style:{padding:"4px 8px",borderRadius:"2px"},children:n.map(Q=>h.jsx("option",{value:Q,children:Q},Q))})]}),h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:V,children:"Add Item"})]}),i?h.jsx(qb,{activeKey:p,onChange:Q=>v(Q),children:Object.entries(ee).map(([Q,se])=>h.jsx(tSt,{header:h.jsxs(me,{children:[h.jsx("span",{children:Q}),a&&h.jsx(yr,{percent:L(se),size:"small",style:{width:120}})]}),children:h.jsx(At,{itemLayout:"horizontal",dataSource:se,renderItem:ne=>re(ne)})},Q))}):h.jsx(At,{itemLayout:"horizontal",dataSource:d,renderItem:Q=>re(Q)})]}),h.jsx(_r,{title:"Add Notes",open:E,onOk:W,onCancel:J,destroyOnClose:!0,children:h.jsx(ce,{form:D,layout:"vertical",children:h.jsx(ce.Item,{name:"notes",label:"Notes",rules:[{required:!1}],children:h.jsx(rSt,{rows:4,placeholder:"Enter notes for this item..."})})})})]});function re(Q){return h.jsx(At.Item,{actions:[u&&h.jsx(hr,{title:"Add Notes",children:h.jsx(ie,{icon:h.jsx(Nl,{}),type:"text",onClick:()=>G(Q)})}),l&&(b===Q.id?h.jsx(ie,{type:"link",onClick:M,children:"Save"}):h.jsx(hr,{title:"Edit Item",children:h.jsx(ie,{icon:h.jsx(Nl,{}),type:"text",onClick:()=>q(Q)})})),s&&h.jsx(hr,{title:"Delete Item",children:h.jsx(ie,{icon:h.jsx(Bl,{}),type:"text",danger:!0,onClick:()=>U(Q.id)})})].filter(Boolean),children:h.jsx(At.Item.Meta,{avatar:h.jsx(ax,{checked:Q.isCompleted,onChange:se=>R(Q.id,se)}),title:h.jsxs(me,{children:[b===Q.id?h.jsx(Ve,{value:S,onChange:se=>C(se.target.value),onPressEnter:M,onBlur:M}):h.jsx(e2,{delete:Q.isCompleted,children:Q.text}),H(Q.priority),Q.dueDate&&h.jsx(Me,{color:"blue",children:Q.dueDate})]}),description:Q.notes&&h.jsxs(e2,{type:"secondary",children:["Notes: ",Q.notes]})})})}},{Title:iSt,Text:xf,Paragraph:LY}=rt,{Step:TYt}=w$,{Panel:IYt}=qb,{TextArea:aSt}=Ve,{TabPane:Kp}=Ft,{Option:Qp}=He,oSt=[{id:"c1",name:"TechSolutions Inc.",industry:"Software",stage:"Early",fundingRequired:5e5,valuation:25e5,pitch:"Cloud-based software solutions for small businesses with focus on automation and efficiency",status:"active"},{id:"c2",name:"GreenEnergy Startup",industry:"Renewable Energy",stage:"Growth",fundingRequired:4e5,valuation:42e5,pitch:"Affordable solar solutions for residential and commercial properties with innovative financing models",status:"active"},{id:"c3",name:"HealthTech Innovations",industry:"Healthcare",stage:"Scaling",fundingRequired:125e3,valuation:35e5,pitch:"AI-powered diagnostic tools for rural healthcare facilities with limited access to specialists",status:"active"}],gA=[{id:"t1",name:"Standard Due Diligence",description:"Standard template for early-stage startups",categories:["Financial","Legal","Market","Team","Technology"],items:[{id:"i1",text:"Review financial statements for the past 3 years",isCompleted:!1,category:"Financial"},{id:"i2",text:"Verify cash flow projections",isCompleted:!1,category:"Financial"},{id:"i3",text:"Analyze revenue model and pricing strategy",isCompleted:!1,category:"Financial"},{id:"i4",text:"Review cap table and equity structure",isCompleted:!1,category:"Financial"},{id:"i5",text:"Check for any pending legal disputes",isCompleted:!1,category:"Legal"},{id:"i6",text:"Verify intellectual property ownership",isCompleted:!1,category:"Legal"},{id:"i7",text:"Review key contracts and agreements",isCompleted:!1,category:"Legal"},{id:"i8",text:"Analyze market size and growth potential",isCompleted:!1,category:"Market"},{id:"i9",text:"Identify key competitors and market positioning",isCompleted:!1,category:"Market"},{id:"i10",text:"Evaluate target customer segments",isCompleted:!1,category:"Market"},{id:"i11",text:"Assess founding team experience and expertise",isCompleted:!1,category:"Team"},{id:"i12",text:"Review team structure and key hires",isCompleted:!1,category:"Team"},{id:"i13",text:"Evaluate technical architecture",isCompleted:!1,category:"Technology"},{id:"i14",text:"Review product roadmap",isCompleted:!1,category:"Technology"},{id:"i15",text:"Assess scalability of technology",isCompleted:!1,category:"Technology"}]},{id:"t2",name:"Tech Startup Due Diligence",description:"Specialized for software and tech startups",categories:["Financial","Legal","Technology","Product","Market"],items:[{id:"i1",text:"Review financial statements",isCompleted:!1,category:"Financial"},{id:"i2",text:"Verify cash burn rate",isCompleted:!1,category:"Financial"},{id:"i3",text:"Analyze customer acquisition costs",isCompleted:!1,category:"Financial"},{id:"i4",text:"Review IP portfolio and patents",isCompleted:!1,category:"Legal"},{id:"i5",text:"Assess technical debt",isCompleted:!1,category:"Technology"},{id:"i6",text:"Review security practices and compliance",isCompleted:!1,category:"Technology"},{id:"i7",text:"Evaluate scalability of architecture",isCompleted:!1,category:"Technology"},{id:"i8",text:"Assess dev team skills and capacity",isCompleted:!1,category:"Technology"},{id:"i9",text:"Review product-market fit evidence",isCompleted:!1,category:"Product"},{id:"i10",text:"Analyze user metrics and engagement",isCompleted:!1,category:"Product"},{id:"i11",text:"Evaluate competitive landscape",isCompleted:!1,category:"Market"}]},{id:"t3",name:"Pre-Seed Investment Checklist",description:"Lightweight due diligence for very early stage startups",categories:["Team","Product","Market","Legal"],items:[{id:"i1",text:"Evaluate founder experience and background",isCompleted:!1,category:"Team"},{id:"i2",text:"Assess founder commitment and vision",isCompleted:!1,category:"Team"},{id:"i3",text:"Review MVP or prototype",isCompleted:!1,category:"Product"},{id:"i4",text:"Evaluate product roadmap",isCompleted:!1,category:"Product"},{id:"i5",text:"Assess market size and opportunity",isCompleted:!1,category:"Market"},{id:"i6",text:"Review company incorporation documents",isCompleted:!1,category:"Legal"},{id:"i7",text:"Verify equity structure and cap table",isCompleted:!1,category:"Legal"}]}],sSt=[{id:"dd1",companyId:"c1",companyName:"TechSolutions Inc.",startDate:"2023-08-01",status:"in-progress",currentStep:2,progress:45,assignedTo:"John Doe",templateId:"t1",checklistItems:gA[0].items.map(t=>({...t})),documents:[{id:"d1",name:"Financial Statements 2022",type:"PDF",uploadDate:"2023-08-03",category:"Financial",status:"reviewed",url:"#"},{id:"d2",name:"Cap Table",type:"Excel",uploadDate:"2023-08-05",category:"Financial",status:"approved",url:"#"},{id:"d3",name:"Intellectual Property Overview",type:"PDF",uploadDate:"2023-08-10",category:"Legal",status:"pending",url:"#"}],notes:"Initial review shows promising financial indicators. Need to follow up on IP ownership questions."},{id:"dd2",companyId:"c2",companyName:"GreenEnergy Startup",startDate:"2023-07-15",status:"in-progress",currentStep:3,progress:78,assignedTo:"Sarah Johnson",templateId:"t2",checklistItems:gA[1].items.map(t=>({...t,isCompleted:Math.random()>.3})),documents:[{id:"d1",name:"Business Plan",type:"PDF",uploadDate:"2023-07-20",category:"Financial",status:"approved",url:"#"},{id:"d2",name:"Market Analysis Report",type:"PDF",uploadDate:"2023-07-25",category:"Market",status:"approved",url:"#"},{id:"d3",name:"Technical Architecture Document",type:"PDF",uploadDate:"2023-08-01",category:"Technology",status:"reviewed",url:"#"}],notes:"Green Energy Startup shows strong market positioning and solid team. Technology implementation appears scalable."},{id:"dd3",companyId:"c3",companyName:"HealthTech Innovations",startDate:"2023-08-10",status:"not-started",currentStep:0,progress:0,assignedTo:"Michael Brown",templateId:"t3",checklistItems:gA[2].items.map(t=>({...t})),documents:[],notes:"Initial inquiry stage. Scheduled kick-off meeting for August 15th."}],lSt=()=>{const[t,e]=j.useState("processes"),[r,n]=j.useState(sSt),[i,a]=j.useState(oSt),[o,s]=j.useState(gA),[l,u]=j.useState(null),[c,d]=j.useState([]),[f,p]=j.useState(!1),[v,g]=j.useState(""),[m,y]=j.useState(""),x=O=>{if(!l)return;const D=O.filter(V=>V.isCompleted).length,B=O.length,$=Math.round(D/B*100),L={...l,checklistItems:O,progress:$},R=r.map(V=>V.id===l.id?L:V);n(R),u(L)},b=(O,D,B)=>{const $=r.map(L=>{if(L.id===O){const R=L.documents.map(V=>V.id===D?{...V,status:B}:V);return{...L,documents:R}}return L});if(n($),l&&l.id===O){const L=$.find(R=>R.id===O);L&&u(L)}_e.success(`Document status updated to ${B}`)},w=()=>{if(!v||!m){_e.error("Please select a company and template");return}const O=i.find($=>$.id===v),D=o.find($=>$.id===m);if(!O||!D){_e.error("Invalid company or template selection");return}const B={id:`dd${Date.now()}`,companyId:O.id,companyName:O.name,startDate:new Date().toISOString().split("T")[0],status:"not-started",currentStep:0,progress:0,assignedTo:"Current User",templateId:D.id,checklistItems:D.items.map($=>({...$})),documents:[],notes:`Initial due diligence process for ${O.name} using ${D.name} template.`};n([...r,B]),p(!1),_e.success(`Due diligence process created for ${O.name}`)},S=O=>{switch(O){case"not-started":return h.jsx(Me,{color:"default",children:"Not Started"});case"in-progress":return h.jsx(Me,{color:"processing",children:"In Progress"});case"completed":return h.jsx(Me,{color:"success",children:"Completed"});case"on-hold":return h.jsx(Me,{color:"warning",children:"On Hold"});default:return h.jsx(Me,{color:"default",children:O})}},C=O=>{switch(O){case"pending":return h.jsx(Me,{color:"default",children:"Pending Review"});case"reviewed":return h.jsx(Me,{color:"processing",children:"Reviewed"});case"approved":return h.jsx(Me,{color:"success",children:"Approved"});case"rejected":return h.jsx(Me,{color:"error",children:"Rejected"});default:return h.jsx(Me,{color:"default",children:O})}},E=O=>{switch(O.toLowerCase()){case"pdf":return h.jsx(b$,{style:{color:"#ff4d4f",fontSize:16}});case"excel":return h.jsx(x$,{style:{color:"#52c41a",fontSize:16}});default:return h.jsx(sZ,{style:{color:"#1890ff",fontSize:16}})}},A=[{title:"Company",dataIndex:"companyName",key:"companyName"},{title:"Start Date",dataIndex:"startDate",key:"startDate"},{title:"Status",dataIndex:"status",key:"status",render:O=>S(O)},{title:"Progress",dataIndex:"progress",key:"progress",render:O=>h.jsx(yr,{percent:O,size:"small"})},{title:"Assigned To",dataIndex:"assignedTo",key:"assignedTo"},{title:"Actions",key:"actions",render:(O,D)=>h.jsx(me,{children:h.jsx(ie,{type:"primary",size:"small",onClick:()=>u(D),children:"View"})})}],P={name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},onChange(O){var D;if(O.file.status!=="uploading"&&console.log(O.file,O.fileList),O.file.status==="done"){if(_e.success(`${O.file.name} file uploaded successfully`),l){const B={id:`d${Date.now()}`,name:O.file.name,type:((D=O.file.name.split(".").pop())==null?void 0:D.toUpperCase())||"PDF",uploadDate:new Date().toISOString().split("T")[0],category:"General",status:"pending",url:"#"},$={...l,documents:[...l.documents,B]},L=r.map(R=>R.id===l.id?$:R);n(L),u($)}}else O.file.status==="error"&&_e.error(`${O.file.name} file upload failed.`)}},_=()=>{if(!l)return null;const O=Array.from(new Set(l.checklistItems.map(D=>D.category))).filter(D=>D!==void 0);return h.jsxs(ue,{title:`Due Diligence: ${l.companyName}`,extra:h.jsx(ie,{onClick:()=>u(null),children:"Back to List"}),children:[h.jsxs(Ye,{gutter:16,style:{marginBottom:16},children:[h.jsx(oe,{span:6,children:h.jsx(ue,{size:"small",title:"Status",children:S(l.status)})}),h.jsx(oe,{span:6,children:h.jsx(ue,{size:"small",title:"Progress",children:h.jsx(yr,{percent:l.progress})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{size:"small",title:"Started",children:l.startDate})}),h.jsx(oe,{span:6,children:h.jsx(ue,{size:"small",title:"Assigned To",children:l.assignedTo})})]}),h.jsxs(Ft,{defaultActiveKey:"checklist",children:[h.jsx(Kp,{tab:"Checklist",children:h.jsx(nSt,{title:"Due Diligence Checklist",description:`Checklist for ${l.companyName}`,items:l.checklistItems,categories:O,showCategories:!0,showProgress:!0,onChange:x})},"checklist"),h.jsxs(Kp,{tab:"Documents",children:[h.jsx(Ye,{style:{marginBottom:16},children:h.jsx(oe,{span:24,children:h.jsx(Vb,{...P,children:h.jsx(ie,{icon:h.jsx(sx,{}),children:"Upload Document"})})})}),h.jsx(Le,{dataSource:l.documents,rowKey:"id",columns:[{title:"Document",dataIndex:"name",key:"name",render:(D,B)=>h.jsxs(me,{children:[E(B.type),h.jsx(xf,{children:D})]})},{title:"Category",dataIndex:"category",key:"category"},{title:"Upload Date",dataIndex:"uploadDate",key:"uploadDate"},{title:"Status",dataIndex:"status",key:"status",render:D=>C(D)},{title:"Actions",key:"actions",render:(D,B)=>h.jsxs(me,{children:[h.jsx(hr,{title:"View",children:h.jsx(ie,{icon:h.jsx(is,{}),size:"small",onClick:()=>{_e.info(`Viewing document: ${B.name}`)}})}),h.jsxs(He,{defaultValue:B.status,style:{width:120},onChange:$=>b(l.id,B.id,$),size:"small",children:[h.jsx(Qp,{value:"pending",children:"Pending"}),h.jsx(Qp,{value:"reviewed",children:"Reviewed"}),h.jsx(Qp,{value:"approved",children:"Approved"}),h.jsx(Qp,{value:"rejected",children:"Rejected"})]})]})}]})]},"documents"),h.jsxs(Kp,{tab:"Notes",children:[h.jsx(aSt,{rows:6,value:l.notes,onChange:D=>{const B=r.map($=>$.id===l.id?{...$,notes:D.target.value}:$);n(B),u({...l,notes:D.target.value})},placeholder:"Enter notes about this due diligence process..."}),h.jsx(ie,{type:"primary",style:{marginTop:16},onClick:()=>_e.success("Notes saved successfully"),children:"Save Notes"})]},"notes"),h.jsx(Kp,{tab:"Company Info",children:(()=>{const D=i.find(B=>B.id===l.companyId);return D?h.jsxs(h.Fragment,{children:[h.jsxs(Rt,{bordered:!0,column:2,children:[h.jsx(Rt.Item,{label:"Company Name",children:D.name}),h.jsx(Rt.Item,{label:"Industry",children:D.industry}),h.jsx(Rt.Item,{label:"Stage",children:D.stage}),h.jsx(Rt.Item,{label:"Funding Required",children:Bt(D.fundingRequired)}),h.jsx(Rt.Item,{label:"Valuation",children:Bt(D.valuation)}),h.jsx(Rt.Item,{label:"Status",children:S(D.status)})]}),h.jsx(pt,{orientation:"left",children:"Pitch"}),h.jsx(LY,{children:D.pitch})]}):h.jsx(xf,{children:"Company information not available"})})()},"company")]})]})},k=()=>h.jsx("div",{children:h.jsxs(Ye,{gutter:[16,16],children:[o.map(O=>h.jsx(oe,{span:8,children:h.jsxs(ue,{title:O.name,extra:h.jsx(hr,{title:"View Details",children:h.jsx(ie,{type:"text",icon:h.jsx(is,{}),onClick:()=>{_r.info({title:O.name,content:h.jsxs("div",{children:[h.jsx("p",{children:O.description}),h.jsx(pt,{}),h.jsxs("p",{children:[h.jsx("strong",{children:"Categories:"})," ",O.categories.join(", ")]}),h.jsx(pt,{}),h.jsxs("p",{children:[h.jsx("strong",{children:"Items:"})," ",O.items.length]}),h.jsx(At,{size:"small",dataSource:O.items.slice(0,5),renderItem:D=>h.jsx(At.Item,{children:D.text}),footer:O.items.length>5?`And ${O.items.length-5} more items...`:null})]}),width:600})}})}),children:[h.jsx("p",{children:O.description}),h.jsxs("p",{children:[h.jsx("strong",{children:"Categories:"})," ",O.categories.join(", ")]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Items:"})," ",O.items.length]}),h.jsxs(me,{style:{marginTop:16},children:[h.jsx(ie,{type:"primary",onClick:()=>{y(O.id),p(!0)},children:"Use Template"}),h.jsx(ie,{children:"Edit"})]})]})},O.id)),h.jsx(oe,{span:8,children:h.jsxs(ue,{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",border:"1px dashed #d9d9d9",backgroundColor:"#fafafa"},children:[h.jsx(ie,{type:"dashed",icon:h.jsx(Sa,{}),style:{marginBottom:16},onClick:()=>{_e.info("Template creation feature would open here")},children:"Create New Template"}),h.jsx(xf,{type:"secondary",children:"Create a custom due diligence template"})]})})]})});return h.jsxs("div",{style:{padding:"24px 0"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h.jsx(iSt,{level:2,children:"Due Diligence Workflow"}),h.jsx(ie,{type:"primary",onClick:()=>p(!0),children:"Start New Due Diligence"})]}),h.jsx(LY,{children:"Manage and track your due diligence processes for potential investments."}),h.jsx(pt,{}),l?_():h.jsxs(Ft,{activeKey:t,onChange:e,children:[h.jsx(Kp,{tab:h.jsxs("span",{children:[h.jsx(Cxe,{})," Active Processes"]}),children:h.jsx(Le,{dataSource:r,columns:A,rowKey:"id"})},"processes"),h.jsx(Kp,{tab:h.jsxs("span",{children:[h.jsx(Txe,{})," Templates"]}),children:k()},"templates")]}),h.jsxs(_r,{title:"Start New Due Diligence Process",open:f,onCancel:()=>p(!1),onOk:w,children:[h.jsxs("div",{style:{marginBottom:16},children:[h.jsx(xf,{strong:!0,children:"Select Company:"}),h.jsx(He,{style:{width:"100%",marginTop:8},placeholder:"Select a company",value:v,onChange:g,children:i.map(O=>h.jsx(Qp,{value:O.id,children:O.name},O.id))})]}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx(xf,{strong:!0,children:"Select Template:"}),h.jsx(He,{style:{width:"100%",marginTop:8},placeholder:"Select a template",value:m,onChange:y,children:o.map(O=>h.jsx(Qp,{value:O.id,children:O.name},O.id))})]}),h.jsxs("div",{children:[h.jsx(xf,{strong:!0,children:"Assigned To:"}),h.jsx(Ve,{style:{marginTop:8},defaultValue:"Current User",disabled:!0}),h.jsx(xf,{type:"secondary",style:{display:"block",marginTop:4},children:"In a real app, you could select from team members"})]})]})]})},{Title:uSt,Text:cSt}=rt;var st=(t=>(t.FundingRound="funding-round",t.FinancialReport="financial-report",t.FounderMeeting="founder-meeting",t.Other="other",t))(st||{});const dSt=({events:t})=>{const[e,r]=j.useState(null),[n,i]=j.useState(!1),[a,o]=j.useState([]),s=f=>{switch(f){case"funding-round":return{status:"success",text:"Funding Round"};case"financial-report":return{status:"warning",text:"Financial Report"};case"founder-meeting":return{status:"processing",text:"Founder Meeting"};default:return{status:"default",text:"Other"}}},l=f=>{const p=f.format("YYYY-MM-DD"),v=t.filter(g=>g.date.startsWith(p));return h.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:v.map(g=>h.jsx("li",{style:{marginBottom:"2px"},children:h.jsx(Ar,{status:s(g.type).status,text:g.title.length>12?`${g.title.substring(0,12)}...`:g.title,style:{fontSize:"12px"}})},g.id))})},u=f=>{const p=f.format("YYYY-MM"),v=t.filter(g=>g.date.startsWith(p));return v.length===0?null:h.jsxs("div",{style:{padding:"8px 0"},children:[h.jsx(Ar,{count:v.length,style:{backgroundColor:"#52c41a"}}),h.jsx("span",{style:{marginLeft:8},children:"Events"})]})},c=f=>{const p=f.format("YYYY-MM-DD"),v=t.filter(g=>g.date.startsWith(p));r(f),o(v),i(v.length>0)},d=(f,p)=>{console.log(f.format("YYYY-MM-DD"),p)};return h.jsxs("div",{className:"funder-calendar",children:[h.jsx(Ixe,{dateCellRender:l,monthCellRender:u,onSelect:c,onPanelChange:d}),h.jsx(_r,{title:(e==null?void 0:e.format("MMMM D, YYYY"))??"Events",open:n,footer:[h.jsx(ie,{onClick:()=>i(!1),children:"Close"},"close")],onCancel:()=>i(!1),children:h.jsx("div",{children:a.map(f=>h.jsxs("div",{style:{marginBottom:"16px",borderBottom:"1px solid #f0f0f0",paddingBottom:"8px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx(uSt,{level:5,style:{margin:0},children:f.title}),h.jsx(Ar,{status:s(f.type).status,text:s(f.type).text})]}),f.time&&h.jsx(cSt,{type:"secondary",children:f.time}),f.description&&h.jsx("p",{style:{marginTop:"8px"},children:f.description})]},f.id))})})]})},{Title:fSt}=rt,{Option:$y}=He,$Y=[{id:"1",title:"Series A Funding Round",date:"2023-11-15",time:"9:00 AM",description:"Final presentation and closing of Series A funding round for EcoSolutions.",type:st.FundingRound},{id:"2",title:"Q3 Financial Report",date:"2023-11-10",time:"2:00 PM",description:"Quarterly financial report for all portfolio companies.",type:st.FinancialReport},{id:"3",title:"Meeting with TechStart Founders",date:"2023-11-05",time:"11:00 AM",description:"Discussion about product roadmap and future growth plans.",type:st.FounderMeeting},{id:"4",title:"Due Diligence Completion",date:"2023-11-20",time:"4:00 PM",description:"Completion of due diligence process for AgriTech startup.",type:st.Other},{id:"5",title:"Annual Financial Review",date:"2023-12-15",time:"10:00 AM",description:"End of year financial performance review for all investments.",type:st.FinancialReport},{id:"6",title:"Seed Round - HealthTech",date:"2023-12-05",time:"3:00 PM",description:"Initial seed funding round for promising HealthTech startup.",type:st.FundingRound},{id:"7",title:"Pre-Seed Round - EdTech",date:"2023-11-25",time:"11:30 AM",description:"Early stage investment opportunity in educational technology startup focusing on rural access.",type:st.FundingRound},{id:"8",title:"Monthly KPI Review",date:"2023-11-30",time:"2:30 PM",description:"Monthly review of key performance indicators across portfolio companies.",type:st.FinancialReport},{id:"9",title:"Series B Planning",date:"2023-12-10",time:"10:00 AM",description:"Strategic planning meeting for upcoming Series B funding round for TechInnovate.",type:st.FundingRound},{id:"10",title:"Financial Compliance Workshop",date:"2023-12-12",time:"9:00 AM",description:"Workshop on South African financial regulations and compliance for startups.",type:st.FinancialReport},{id:"11",title:"Founder Pitch Day",date:"2023-12-18",time:"1:00 PM",description:"Five startup founders presenting their companies for potential investment.",type:st.FounderMeeting},{id:"12",title:"Quarterly Strategy Meeting",date:"2024-01-05",time:"10:00 AM",description:"First quarter strategy alignment meeting with portfolio company executives.",type:st.FounderMeeting},{id:"13",title:"Angel Investment Round",date:"2024-01-15",time:"3:30 PM",description:"Angel investment opportunity in FinTech startup focusing on microfinance solutions.",type:st.FundingRound},{id:"14",title:"Q4 Financial Reports",date:"2024-01-25",time:"11:00 AM",description:"Review of Q4 financial performance across all portfolio investments.",type:st.FinancialReport},{id:"15",title:"Founder Mentorship Session",date:"2024-01-30",time:"2:00 PM",description:"Mentorship session with CleanTech founders on scaling their business model.",type:st.FounderMeeting},{id:"16",title:"Exit Strategy Workshop",date:"2024-02-08",time:"10:30 AM",description:"Workshop on planning successful exit strategies for mature portfolio companies.",type:st.Other},{id:"17",title:"Series C Due Diligence",date:"2024-02-15",time:"9:00 AM",description:"Due diligence process begins for major Series C investment in AgriTech scale-up.",type:st.FundingRound},{id:"18",title:"Tax Planning Session",date:"2024-02-20",time:"1:00 PM",description:"Tax planning session for investment portfolio optimization.",type:st.FinancialReport},{id:"19",title:"Founder-Investor Networking",date:"2024-02-28",time:"6:00 PM",description:"Networking event connecting startup founders with potential investors.",type:st.FounderMeeting},{id:"20",title:"Impact Investment Round",date:"2024-03-10",time:"11:00 AM",description:"Funding round focused on social impact startups in South Africa.",type:st.FundingRound},{id:"21",title:"Q1 2025 Portfolio Review",date:"2025-04-02",time:"9:00 AM",description:"Comprehensive review of Q1 2025 performance across all portfolio companies.",type:st.FinancialReport},{id:"22",title:"Seed Round - RenewTech",date:"2025-04-05",time:"11:30 AM",description:"Seed funding opportunity for renewable energy tech startup with innovative solar solutions.",type:st.FundingRound},{id:"23",title:"Founder Strategy Session",date:"2025-04-08",time:"2:00 PM",description:"Strategic alignment session with the founding team of MedTech Solutions.",type:st.FounderMeeting},{id:"24",title:"Series D Investment Committee",date:"2025-04-10",time:"10:00 AM",description:"Investment committee meeting to evaluate Series D funding for established e-commerce platform.",type:st.FundingRound},{id:"25",title:"Financial Forecasting Workshop",date:"2025-04-14",time:"1:00 PM",description:"Workshop on advanced financial forecasting techniques for high-growth startups.",type:st.FinancialReport},{id:"26",title:"Multi-founder Networking Lunch",date:"2025-04-15",time:"12:30 PM",description:"Networking lunch with founders from five portfolio companies to discuss ecosystem challenges.",type:st.FounderMeeting},{id:"27",title:"Angel Syndicate Round",date:"2025-04-18",time:"3:00 PM",description:"Syndicated investment opportunity for early-stage fintech addressing financial inclusion.",type:st.FundingRound},{id:"28",title:"ESG Compliance Meeting",date:"2025-04-21",time:"9:30 AM",description:"Meeting to review Environmental, Social, and Governance compliance across investment portfolio.",type:st.FinancialReport},{id:"29",title:"Founder Pitch Competition",date:"2025-04-23",time:"2:00 PM",description:"Live pitch competition featuring ten pre-screened startups seeking seed funding.",type:st.FounderMeeting},{id:"30",title:"Pre-IPO Strategy Session",date:"2025-04-25",time:"10:00 AM",description:"Strategic planning for potential IPO of mature portfolio company in logistics sector.",type:st.Other},{id:"31",title:"Growth Round - AI Startups",date:"2025-04-28",time:"11:00 AM",description:"Growth funding round focused on artificial intelligence startups with proven market traction.",type:st.FundingRound},{id:"32",title:"Q2 Investment Planning",date:"2025-04-30",time:"2:30 PM",description:"Planning session for Q2 2025 investment strategy and portfolio allocation.",type:st.FinancialReport},{id:"33",title:"Venture Capital Forum",date:"2025-03-05",time:"9:00 AM",description:"Annual forum bringing together VCs and promising startups from across Southern Africa.",type:st.FundingRound},{id:"34",title:"End of FY Financial Review",date:"2025-03-10",time:"10:30 AM",description:"Comprehensive review of financial performance for the fiscal year ending February 2025.",type:st.FinancialReport},{id:"35",title:"Founders Breakfast Series",date:"2025-03-12",time:"8:00 AM",description:"Exclusive breakfast session with founders of high-performing portfolio companies.",type:st.FounderMeeting},{id:"36",title:"Series B Extension Round",date:"2025-03-17",time:"2:00 PM",description:"Extension funding round for LogisticsTech company expanding into neighboring countries.",type:st.FundingRound},{id:"37",title:"Tax Year Planning",date:"2025-03-20",time:"1:00 PM",description:"Strategic tax planning session for the new financial year with accounting specialists.",type:st.FinancialReport},{id:"38",title:"Emerging Founders Meetup",date:"2025-03-24",time:"4:00 PM",description:"Networking event with first-time founders in the tech ecosystem.",type:st.FounderMeeting},{id:"39",title:"Blockchain Startup Pitch Day",date:"2025-03-27",time:"11:00 AM",description:"Special pitch day focused on blockchain and Web3 startups seeking seed funding.",type:st.FundingRound},{id:"40",title:"Regulatory Compliance Workshop",date:"2025-03-31",time:"9:30 AM",description:"Workshop on navigating updated financial regulations affecting investment activities.",type:st.Other},{id:"41",title:"Impact Investment Symposium",date:"2025-05-02",time:"10:00 AM",description:"Symposium on social impact investing with focus on sustainable development goals.",type:st.FundingRound},{id:"42",title:"Q1 Earnings Reports Review",date:"2025-05-05",time:"2:30 PM",description:"Analysis of Q1 2025 earnings reports for all portfolio companies.",type:st.FinancialReport},{id:"43",title:"Founder Resilience Workshop",date:"2025-05-08",time:"9:00 AM",description:"Workshop for founders on building resilience and managing stress in high-growth environments.",type:st.FounderMeeting},{id:"44",title:"Healthcare Startups Funding Round",date:"2025-05-12",time:"11:30 AM",description:"Specialized funding round for startups in the healthcare and biotech sectors.",type:st.FundingRound},{id:"45",title:"Investment Committee Meeting",date:"2025-05-15",time:"10:00 AM",description:"Quarterly investment committee meeting to review pipeline and approve new investments.",type:st.FinancialReport},{id:"46",title:"Female Founders Summit",date:"2025-05-19",time:"9:30 AM",description:"Full-day summit featuring female founders from across the African tech ecosystem.",type:st.FounderMeeting},{id:"47",title:"Late-Stage Growth Round",date:"2025-05-22",time:"1:00 PM",description:"Major growth funding round for scale-up company preparing for international expansion.",type:st.FundingRound},{id:"48",title:"Portfolio Diversification Strategy",date:"2025-05-26",time:"3:00 PM",description:"Strategic session on optimizing investment portfolio diversification across sectors and stages.",type:st.Other},{id:"49",title:"Monthly Financial Reporting Deadline",date:"2025-05-28",time:"5:00 PM",description:"Deadline for monthly financial reports from all portfolio companies.",type:st.FinancialReport},{id:"50",title:"Cross-Portfolio Collaboration Day",date:"2025-05-30",time:"10:00 AM",description:"Facilitated session to foster collaboration between founders across the investment portfolio.",type:st.FounderMeeting}],hSt=()=>{const[t,e]=j.useState($Y),[r,n]=j.useState(!1),[i,a]=j.useState("all");j.useEffect(()=>{n(!0),setTimeout(()=>{e($Y),n(!1)},1e3)},[]);const o=i==="all"?t:t.filter(l=>l.type===i),s=l=>{a(l)};return h.jsxs("div",{children:[h.jsxs(Ye,{gutter:[16,16],align:"middle",justify:"space-between",children:[h.jsx(oe,{children:h.jsx(fSt,{level:2,children:"Calendar"})}),h.jsx(oe,{children:h.jsxs(He,{defaultValue:"all",style:{width:200},onChange:s,children:[h.jsx($y,{value:"all",children:"All Events"}),h.jsx($y,{value:st.FundingRound,children:h.jsx(Me,{color:"green",children:"Funding Rounds"})}),h.jsx($y,{value:st.FinancialReport,children:h.jsx(Me,{color:"orange",children:"Financial Reports"})}),h.jsx($y,{value:st.FounderMeeting,children:h.jsx(Me,{color:"blue",children:"Founder Meetings"})}),h.jsx($y,{value:st.Other,children:h.jsx(Me,{children:"Other Events"})})]})})]}),h.jsx(ue,{style:{marginTop:16},children:r?h.jsxs("div",{style:{textAlign:"center",padding:"50px 0"},children:[h.jsx(yi,{size:"large"}),h.jsx("p",{style:{marginTop:16},children:"Loading events..."})]}):h.jsx(h.Fragment,{children:o.length===0?h.jsx(od,{message:"No events found",description:"There are no events matching your selected filter.",type:"info",showIcon:!0}):h.jsx(dSt,{events:o})})})]})},{Title:pSt,Text:oo,Paragraph:PYt}=rt,vSt=()=>{const t=ji(),[e,r]=j.useState(!0),[n,i]=j.useState([]),[a,o]=j.useState([]),[s,l]=j.useState([]),[u,c]=j.useState([]),[d,f]=j.useState([]),[p,v]=j.useState({totalParticipants:0,activeParticipants:0,totalPrograms:0,activePrograms:0,completedPrograms:0,totalBudget:0,jobsCreated:0,revenueGenerated:0});j.useEffect(()=>{g()},[]);const g=async()=>{r(!0);try{const E=await m();i(E);const A=await y();o(A);const P=b(A);l(P);const _=w();c(_);const k=A.filter(O=>O.status==="planned"||O.status==="active").sort((O,D)=>O.startDate.toDate().getTime()-D.startDate.toDate().getTime()).slice(0,5);f(k),S(E,A,P)}catch(E){console.error("Error fetching dashboard data:",E)}finally{r(!1)}},m=async()=>{const E=dn(Dt,"participants"),A=So(E,Dd("status","!=","deleted"));return(await za(A)).docs.map(_=>({id:_.id,..._.data()}))},y=async()=>{try{const E=dn(Dt,"supportPrograms"),A=So(E,kh("createdAt","desc")),P=await za(A);return P.empty?x():P.docs.map(_=>({id:_.id,..._.data()}))}catch(E){return console.error("Error fetching programs:",E),x()}},x=()=>{const E=new Date,A=new Date;A.setMonth(A.getMonth()-1);const P=new Date;P.setMonth(P.getMonth()+1);const _=new Date;return _.setMonth(_.getMonth()+3),[{id:"demo1",participantId:"demo-participant-1",participantName:"EcoSolutions",programName:"Green Innovation Grant",programType:"Grant Funding",startDate:je.fromDate(A),endDate:je.fromDate(P),description:"Supporting renewable energy solutions",budget:25e4,status:"active",createdBy:"admin",createdAt:je.fromDate(A)},{id:"demo2",participantId:"demo-participant-2",participantName:"HealthTech Solutions",programName:"Digital Health Accelerator",programType:"Technical Assistance",startDate:je.fromDate(A),endDate:je.fromDate(_),description:"Providing technical support for health technology startups",budget:15e4,status:"active",createdBy:"admin",createdAt:je.fromDate(A)},{id:"demo3",participantId:"demo-participant-3",participantName:"AgriTech Innovations",programName:"Farming Technology Grant",programType:"Market Access Support",startDate:je.fromDate(E),endDate:je.fromDate(P),description:"Supporting agricultural technology solutions",budget:2e5,status:"planned",createdBy:"admin",createdAt:je.fromDate(E)},{id:"demo4",participantId:"demo-participant-4",participantName:"EduTech Connect",programName:"Education Technology Program",programType:"Mentorship",startDate:je.fromDate(A),endDate:je.fromDate(E),description:"Mentorship program for education technology companies",budget:1e5,status:"completed",createdBy:"admin",createdAt:je.fromDate(A)},{id:"demo5",participantId:"demo-participant-5",participantName:"FinTech Solutions",programName:"Financial Inclusion Initiative",programType:"Grant Funding",startDate:je.fromDate(P),endDate:je.fromDate(_),description:"Supporting financial inclusion initiatives",budget:3e5,status:"planned",createdBy:"admin",createdAt:je.fromDate(E)}]},b=E=>{const A=[];let P=1;return E.forEach(_=>{(_.status==="completed"||_.status==="active")&&(A.push({id:`metric-${P++}`,programId:_.id,programName:_.programName,participantId:_.participantId,participantName:_.participantName,metricType:"economic",metricName:"Jobs Created",value:Math.floor(Math.random()*20)+5,unit:"jobs",date:_.endDate,notes:`Jobs created through ${_.programName}`}),A.push({id:`metric-${P++}`,programId:_.id,programName:_.programName,participantId:_.participantId,participantName:_.participantName,metricType:"economic",metricName:"Revenue Generated",value:(Math.floor(Math.random()*1e3)+100)*1e3,unit:"R",date:_.endDate,notes:`Revenue generated through ${_.programName}`}))}),A},w=()=>{const E=new Date,A=new Date(E);A.setDate(A.getDate()-1);const P=new Date(E);P.setDate(P.getDate()-2);const _=new Date(E);return _.setDate(_.getDate()-3),[{id:"notif1",title:"New Participant Registered",description:"TechInnovate Solutions has joined the platform",type:"info",date:je.fromDate(A),read:!1,link:"/government/participants"},{id:"notif2",title:"Program Completed",description:"Education Technology Program has been completed successfully",type:"success",date:je.fromDate(P),read:!0,link:"/government/programs"},{id:"notif3",title:"Budget Alert",description:"Green Innovation Grant has exceeded 80% of allocated budget",type:"warning",date:je.fromDate(_),read:!1,link:"/government/programs"},{id:"notif4",title:"Quarterly Report Due",description:"Quarterly impact report is due in 5 days",type:"warning",date:je.fromDate(E),read:!1,link:"/government/reports"},{id:"notif5",title:"New Support Request",description:"HealthTech Solutions has requested additional technical support",type:"info",date:je.fromDate(E),read:!0,link:"/government/participants"}]},S=(E,A,P)=>{const _=E.filter(L=>L.status==="active").length,k=A.filter(L=>L.status==="active").length,O=A.filter(L=>L.status==="completed").length,D=A.reduce((L,R)=>L+(R.budget||0),0),B=P.filter(L=>L.metricName==="Jobs Created").reduce((L,R)=>L+R.value,0),$=P.filter(L=>L.metricName==="Revenue Generated").reduce((L,R)=>L+R.value,0);v({totalParticipants:E.length,activeParticipants:_,totalPrograms:A.length,activePrograms:k,completedPrograms:O,totalBudget:D,jobsCreated:B,revenueGenerated:$})},C=E=>{switch(E){case"info":return h.jsx(lk,{style:{color:"#1890ff"}});case"success":return h.jsx(Ga,{style:{color:"#52c41a"}});case"warning":return h.jsx(CA,{style:{color:"#faad14"}});case"error":return h.jsx(CA,{style:{color:"#f5222d"}});default:return h.jsx(lk,{})}};return h.jsxs("div",{style:{padding:24},children:[h.jsxs(Ye,{gutter:[16,16],align:"middle",style:{marginBottom:24},children:[h.jsxs(oe,{flex:"auto",children:[h.jsx(pSt,{level:3,children:"Government Entity Dashboard"}),h.jsx(oo,{type:"secondary",children:"Overview of participant performance, support programs, and economic impact"})]}),h.jsx(oe,{children:h.jsx(me,{children:h.jsx(ie,{type:"primary",onClick:()=>t("/government/reports"),children:"View Full Reports"})})})]}),e?h.jsxs("div",{style:{textAlign:"center",padding:100},children:[h.jsx(yi,{size:"large"}),h.jsx("div",{style:{marginTop:16},children:"Loading dashboard data..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:24},children:[h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Participants",value:p.totalParticipants,prefix:h.jsx(ar,{}),suffix:h.jsxs(oo,{type:"secondary",style:{fontSize:14},children:[p.activeParticipants," active"]})}),h.jsx("div",{style:{marginTop:8},children:h.jsx(ie,{type:"link",size:"small",onClick:()=>t("/government/participants"),style:{padding:0},children:"View Directory"})})]})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Support Programs",value:p.totalPrograms,prefix:h.jsx(Ya,{}),suffix:h.jsxs(me,{children:[h.jsx(Ar,{status:"success"}),h.jsxs(oo,{type:"secondary",style:{fontSize:14},children:[p.activePrograms," active"]})]})}),h.jsx("div",{style:{marginTop:8},children:h.jsx(ie,{type:"link",size:"small",onClick:()=>t("/government/programs"),style:{padding:0},children:"View Programs"})})]})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Jobs Created",value:p.jobsCreated,valueStyle:{color:"#3f8600"},prefix:h.jsx(ar,{}),suffix:h.jsx(oh,{})}),h.jsx("div",{style:{marginTop:8},children:h.jsx(ie,{type:"link",size:"small",onClick:()=>t("/government/reports"),style:{padding:0},children:"View Impact"})})]})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Total Budget",value:p.totalBudget,precision:0,valueStyle:{color:"#cf1322"},prefix:h.jsx(Oi,{}),formatter:E=>`R${E.toLocaleString()}`}),h.jsx("div",{style:{marginTop:8},children:h.jsx(ie,{type:"link",size:"small",onClick:()=>t("/government/programs"),style:{padding:0},children:"View Details"})})]})})]}),h.jsxs(Ye,{gutter:[16,16],children:[h.jsxs(oe,{xs:24,md:16,children:[h.jsxs(ue,{title:"Program Status Overview",style:{marginBottom:16},extra:h.jsx(ie,{type:"link",onClick:()=>t("/government/programs"),children:"View All"}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{span:8,children:h.jsxs(ue,{bordered:!1,children:[h.jsx(De,{title:"Active Programs",value:p.activePrograms,valueStyle:{color:"#52c41a"}}),h.jsx(yr,{percent:Math.round(p.activePrograms/(p.totalPrograms||1)*100),status:"active",showInfo:!1,strokeColor:"#52c41a"})]})}),h.jsx(oe,{span:8,children:h.jsxs(ue,{bordered:!1,children:[h.jsx(De,{title:"Completed",value:p.completedPrograms,valueStyle:{color:"#722ed1"}}),h.jsx(yr,{percent:Math.round(p.completedPrograms/(p.totalPrograms||1)*100),status:"success",showInfo:!1,strokeColor:"#722ed1"})]})}),h.jsx(oe,{span:8,children:h.jsxs(ue,{bordered:!1,children:[h.jsx(De,{title:"Planned",value:p.totalPrograms-p.activePrograms-p.completedPrograms,valueStyle:{color:"#1890ff"}}),h.jsx(yr,{percent:Math.round((p.totalPrograms-p.activePrograms-p.completedPrograms)/(p.totalPrograms||1)*100),showInfo:!1,strokeColor:"#1890ff"})]})})]}),h.jsx(pt,{}),h.jsx(At,{itemLayout:"horizontal",dataSource:a.slice(0,5),renderItem:E=>h.jsxs(At.Item,{children:[h.jsx(At.Item.Meta,{title:h.jsxs(me,{children:[E.programName,h.jsx(Me,{color:E.status==="active"?"green":E.status==="planned"?"blue":E.status==="completed"?"purple":"red",children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})]}),description:h.jsxs(me,{children:[h.jsx(oo,{type:"secondary",children:E.programType}),h.jsx(pt,{type:"vertical"}),h.jsx(oo,{type:"secondary",children:E.participantName})]})}),h.jsx("div",{children:h.jsxs(oo,{strong:!0,children:["R",(E.budget||0).toLocaleString()]})})]})})]}),h.jsxs(ue,{title:"Recent Economic Impact",style:{marginBottom:16},extra:h.jsx(ie,{type:"link",onClick:()=>t("/government/reports"),children:"View Full Reports"}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{span:12,children:h.jsxs(ue,{bordered:!1,children:[h.jsx(De,{title:"Jobs Created",value:p.jobsCreated,valueStyle:{color:"#52c41a"},prefix:h.jsx(ar,{})}),h.jsx(yr,{percent:Math.min(Math.round(p.jobsCreated/200*100),100),status:p.jobsCreated>=200?"success":"active",format:()=>`${Math.min(Math.round(p.jobsCreated/200*100),100)}% of goal`})]})}),h.jsx(oe,{span:12,children:h.jsxs(ue,{bordered:!1,children:[h.jsx(De,{title:"Revenue Generated",value:p.revenueGenerated,valueStyle:{color:"#1890ff"},prefix:h.jsx(Oi,{}),formatter:E=>`R${Number(E).toLocaleString()}`}),h.jsx(yr,{percent:Math.min(Math.round(p.revenueGenerated/1e7*100),100),status:p.revenueGenerated>=1e7?"success":"active",format:()=>`${Math.min(Math.round(p.revenueGenerated/1e7*100),100)}% of goal`})]})})]}),h.jsx(pt,{}),h.jsx(At,{itemLayout:"horizontal",dataSource:s.slice(0,5),renderItem:E=>h.jsxs(At.Item,{children:[h.jsx(At.Item.Meta,{title:E.metricName,description:h.jsxs(me,{children:[h.jsx(oo,{type:"secondary",children:E.programName}),h.jsx(pt,{type:"vertical"}),h.jsx(oo,{type:"secondary",children:E.participantName})]})}),h.jsx("div",{children:h.jsx(oo,{strong:!0,children:E.metricName.includes("Revenue")?`R${E.value.toLocaleString()}`:`${E.value} ${E.unit}`})})]})})]})]}),h.jsxs(oe,{xs:24,md:8,children:[h.jsx(ue,{title:h.jsxs(me,{children:[h.jsx(lk,{}),h.jsx("span",{children:"Notifications"}),h.jsx(Ar,{count:u.filter(E=>!E.read).length,style:{backgroundColor:"#52c41a"}})]}),style:{marginBottom:16},children:h.jsx(At,{itemLayout:"horizontal",dataSource:u,renderItem:E=>h.jsx(At.Item,{children:h.jsx(At.Item.Meta,{avatar:C(E.type),title:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[h.jsx(oo,{strong:!E.read,children:E.title}),h.jsx(oo,{type:"secondary",style:{fontSize:"12px"},children:ir(E.date.toDate()).format("MMM D, HH:mm")})]}),description:E.description})})})}),h.jsxs(ue,{title:h.jsxs(me,{children:[h.jsx(bo,{}),h.jsx("span",{children:"Upcoming Program Events"})]}),children:[h.jsx(At,{itemLayout:"horizontal",dataSource:d,renderItem:E=>h.jsx(At.Item,{children:h.jsx(At.Item.Meta,{avatar:h.jsx(vi,{style:{backgroundColor:E.status==="active"?"#52c41a":"#1890ff"},children:E.status==="active"?"A":"P"}),title:E.programName,description:h.jsxs(h.Fragment,{children:[h.jsxs(me,{children:[h.jsx(bo,{}),h.jsx(oo,{type:"secondary",children:E.status==="active"?`Ends: ${ir(E.endDate.toDate()).format("MMM D, YYYY")}`:`Starts: ${ir(E.startDate.toDate()).format("MMM D, YYYY")}`})]}),h.jsx("br",{}),h.jsx(oo,{type:"secondary",children:E.participantName})]})})})}),h.jsx(pt,{}),h.jsx("div",{style:{textAlign:"center"},children:h.jsx(ie,{type:"primary",icon:h.jsx(bo,{}),onClick:()=>t("/government/programs"),children:"View All Programs"})})]})]})]})]})]})},{Title:gSt,Text:Ii,Paragraph:NY}=rt,{Option:Ht}=He,{Search:mSt}=Ve,{TextArea:BY}=Ve,ySt=()=>{var sn,Gt,Tr;console.log("Rendering ParticipantDirectory component");const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,s]=j.useState(""),[l,u]=j.useState(null),[c,d]=j.useState(!1),[f,p]=j.useState([]),[v,g]=j.useState([]),[m,y]=j.useState([]),[x,b]=j.useState([]),[w,S]=j.useState([]),[C,E]=j.useState([]),[A,P]=j.useState(!1),[_]=ce.useForm(),[k,O]=j.useState(!1),[D,B]=j.useState(!1),[$]=ce.useForm(),[L,R]=j.useState(!1),[V,U]=j.useState([]),[q,M]=j.useState(!1),[G,W]=j.useState("1");j.useEffect(()=>{J(),H(),re()},[]);const J=async()=>{a(!0);try{const de=dn(Dt,"participants"),Oe=So(de,Dd("status","!=","deleted")),pe=(await za(Oe)).docs.map(tt=>({id:tt.id,...tt.data()}));if(console.log("Fetched participants from Firebase:",pe.length),pe.length===0){const tt=ee();for(const Er of tt){const{id:cr,...Hn}=Er;await Yf(dn(Dt,"participants"),{...Hn,createdAt:hu()})}console.log("Added sample data to Firebase");const ot=(await za(Oe)).docs.map(Er=>({id:Er.id,...Er.data()}));te(ot)}else te(pe)}catch(de){console.error("Error fetching participants:",de),_e.error("Failed to load participants. Please try again later."),e([]),n([]),p([]),g([])}finally{a(!1)}},te=de=>{e(de),n(de);const Oe=[...new Set(de.map(pe=>pe.industry))],ft=[...new Set(de.map(pe=>pe.location))];p(Oe),g(ft)},H=()=>{const de=localStorage.getItem("govFavoriteParticipants");de&&E(JSON.parse(de))};j.useEffect(()=>{Q()},[o,m,x,w,t]);const ee=()=>[{id:"1",name:"GreenTech Solutions",industry:"Renewable Energy",location:"Cape Town",description:"Developing affordable solar solutions for rural communities.",foundedYear:2018,teamSize:12,stage:"Growth",status:"active",developmentNeeds:["Funding","Technical Support","Market Access"],contact:{email:"info@greentechsolutions.co.za",phone:"+27 21 555 1234",website:"www.greentechsolutions.co.za"},logo:"https://images.unsplash.com/photo-1620121692029-d088224ddc74?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fHNvbGFyfGVufDB8fDB8fHww"},{id:"2",name:"AgriProcess Innovations",industry:"Agriculture",location:"Stellenbosch",description:"Agricultural processing technology for small-scale farmers.",foundedYear:2019,teamSize:8,stage:"Early Growth",status:"active",developmentNeeds:["Mentorship","Equipment","Regulatory Support"],contact:{email:"contact@agriprocess.co.za",phone:"+27 21 882 7700",website:"www.agriprocess.co.za"},logo:"https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YWdyaWN1bHR1cmV8ZW58MHx8MHx8fDA%3D"},{id:"3",name:"HealthTech Connect",industry:"Healthcare",location:"Johannesburg",description:"Digital health platform connecting patients with healthcare providers.",foundedYear:2020,teamSize:15,stage:"Scaling",status:"active",developmentNeeds:["Funding","Partnerships","Regulatory Compliance"],contact:{email:"info@healthtechconnect.co.za",phone:"+27 11 789 2345",website:"www.healthtechconnect.co.za"},logo:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8aGVhbHRoY2FyZXxlbnwwfHwwfHx8MA%3D%3D"},{id:"4",name:"EduAccess",industry:"Education",location:"Pretoria",description:"Making education accessible to underprivileged communities through technology.",foundedYear:2017,teamSize:11,stage:"Established",status:"active",developmentNeeds:["Partnerships","Technology Infrastructure","Content Development"],contact:{email:"contact@eduaccess.org.za",phone:"+27 12 342 5678",website:"www.eduaccess.org.za"},logo:"https://images.unsplash.com/photo-1509062522246-3755977927d7?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8ZWR1Y2F0aW9ufGVufDB8fDB8fHww"},{id:"5",name:"LogiTech Solutions",industry:"Logistics",location:"Durban",description:"Optimizing supply chain logistics for small to medium businesses.",foundedYear:2016,teamSize:20,stage:"Scaling",status:"active",developmentNeeds:["Funding","Technology Infrastructure","International Market Access"],contact:{email:"info@logitechsolutions.co.za",phone:"+27 31 765 4321",website:"www.logitechsolutions.co.za"},logo:"https://images.unsplash.com/photo-1579618385542-d49d30dde412?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8bG9naXN0aWNzfGVufDB8fDB8fHww"}],re=async()=>{try{const de=dn(Dt,"supportPrograms");if((await za(de)).empty){console.log("Adding sample support programs...");const ft=[{participantId:"1",programName:"Green Energy Innovation Grant",programType:"Grant Funding",startDate:je.fromDate(new Date(2023,9,1)),endDate:je.fromDate(new Date(2024,2,31)),description:"Funding to support research and development of next-generation solar technologies for rural applications.",budget:5e5,status:"active",outcomes:["Product Development","Job Creation","Technology Transfer"],createdBy:"System",createdAt:hu()},{participantId:"1",programName:"Market Access Facilitation",programType:"Market Access Support",startDate:je.fromDate(new Date(2023,6,15)),endDate:je.fromDate(new Date(2023,11,15)),description:"Supporting access to new markets through trade show participation and business matchmaking.",budget:15e4,status:"completed",outcomes:["Market Expansion","Increased Revenue"],createdBy:"System",createdAt:hu()},{participantId:"2",programName:"Agricultural Equipment Subsidy",programType:"Infrastructure Access",startDate:je.fromDate(new Date(2023,8,1)),endDate:je.fromDate(new Date(2024,7,31)),description:"Subsidizing the acquisition of essential agricultural processing equipment for small-scale farmers.",budget:75e4,status:"active",outcomes:["Capacity Building","Job Creation"],createdBy:"System",createdAt:hu()},{participantId:"3",programName:"Healthcare Regulatory Compliance Support",programType:"Regulatory Support",startDate:je.fromDate(new Date(2023,10,1)),endDate:je.fromDate(new Date(2024,3,30)),description:"Assistance with navigating healthcare regulations and compliance requirements for digital health platforms.",budget:2e5,status:"active",outcomes:["Regulatory Compliance","Market Access"],createdBy:"System",createdAt:hu()},{participantId:"4",programName:"Educational Content Development Workshop",programType:"Training & Skills Development",startDate:je.fromDate(new Date(2024,1,15)),endDate:je.fromDate(new Date(2024,4,15)),description:"Workshop series for developing high-quality educational content for underprivileged communities.",budget:12e4,status:"planned",outcomes:["Capacity Building","Content Development"],createdBy:"System",createdAt:hu()},{participantId:"5",programName:"Supply Chain Optimization Mentorship",programType:"Mentorship",startDate:je.fromDate(new Date(2023,7,1)),endDate:je.fromDate(new Date(2023,9,30)),description:"Expert mentorship to optimize supply chain logistics for small to medium businesses.",budget:8e4,status:"completed",outcomes:["Capacity Building","Increased Revenue"],createdBy:"System",createdAt:hu()}];for(const pe of ft)await Yf(dn(Dt,"supportPrograms"),pe);console.log("Sample support programs added successfully")}}catch(de){console.error("Error adding sample support programs:",de)}},Q=()=>{if(!t.length)return;let de=[...t];if(o){const Oe=o.toLowerCase();de=de.filter(ft=>{var pe;return ft.name.toLowerCase().includes(Oe)||((pe=ft.description)==null?void 0:pe.toLowerCase().includes(Oe))||ft.industry.toLowerCase().includes(Oe)||ft.location.toLowerCase().includes(Oe)})}m.length>0&&(de=de.filter(Oe=>m.includes(Oe.industry))),x.length>0&&(de=de.filter(Oe=>x.includes(Oe.location))),w.length>0&&(de=de.filter(Oe=>Oe.developmentNeeds&&Oe.developmentNeeds.some(ft=>w.includes(ft)))),n(de)},se=de=>{let Oe;C.includes(de)?Oe=C.filter(ft=>ft!==de):Oe=[...C,de],E(Oe),localStorage.setItem("govFavoriteParticipants",JSON.stringify(Oe))},ne=de=>{u(de),d(!0),W("1"),le(de.id)},le=async de=>{M(!0);try{const Oe=dn(Dt,"supportPrograms"),ft=So(Oe,Dd("participantId","==",de),kh("createdAt","desc")),tt=(await za(ft)).docs.map(It=>({id:It.id,...It.data()}));U(tt)}catch(Oe){console.error("Error fetching support programs:",Oe),_e.error("Failed to load support programs"),U([])}finally{M(!1)}},ge=de=>{$.resetFields(),B(!0)},be=async de=>{if(l){R(!0);try{const Oe={participantId:l.id,programName:de.programName,programType:de.programType,startDate:je.fromDate(de.dateRange[0].toDate()),endDate:je.fromDate(de.dateRange[1].toDate()),description:de.description,budget:de.budget,status:"planned",outcomes:de.outcomes||[],createdBy:"Government User",createdAt:hu()},ft=await Yf(dn(Dt,"supportPrograms"),Oe),pe={...Oe,id:ft.id,createdAt:je.now()};U([pe,...V]),_e.success("Support program created successfully"),B(!1),W("2")}catch(Oe){console.error("Error creating support program:",Oe),_e.error("Failed to create support program")}finally{R(!1)}}},Pe=de=>{const Oe={planned:"blue",active:"green",completed:"purple",cancelled:"red"};return h.jsx(Me,{color:Oe[de],children:de.charAt(0).toUpperCase()+de.slice(1)})},Ce=()=>{const de=t.filter(Oe=>Oe.developmentNeeds&&Array.isArray(Oe.developmentNeeds)).flatMap(Oe=>Oe.developmentNeeds||[]);return[...new Set(de)]},Ue=de=>!de||!Array.isArray(de)||de.length===0?h.jsx(Ii,{type:"secondary",children:"None specified"}):h.jsx(me,{size:[0,8],wrap:!0,children:de.map((Oe,ft)=>h.jsx(Me,{color:"blue",children:Oe},ft))}),we=de=>de.location,Re=()=>{console.log("Exporting participants list:",r)},ze=async de=>{O(!0);try{const Oe={name:de.name,industry:de.industry,location:de.location,description:de.description,foundedYear:de.foundedYear,teamSize:de.teamSize,stage:de.stage,status:"active",developmentNeeds:de.developmentNeeds||[],contact:{email:de.email,phone:de.phone,website:de.website},logo:de.logo,createdAt:hu()},ft=await Yf(dn(Dt,"participants"),Oe),pe={...Oe,id:ft.id};e([pe,...t]),n([pe,...r]),f.includes(de.industry)||p([...f,de.industry]),v.includes(de.location)||g([...v,de.location]),_e.success("Participant added successfully"),P(!1),_.resetFields()}catch(Oe){console.error("Error adding participant:",Oe),_e.error("Failed to add participant")}finally{O(!1)}},dt=()=>{if(q)return h.jsxs("div",{style:{textAlign:"center",padding:20},children:[h.jsx(yi,{}),h.jsx("div",{style:{marginTop:8},children:"Loading support programs..."})]});if(V.length===0)return h.jsx(El,{description:"No support programs yet",image:El.PRESENTED_IMAGE_SIMPLE});const de={active:V.filter(Oe=>Oe.status==="active"),planned:V.filter(Oe=>Oe.status==="planned"),completed:V.filter(Oe=>Oe.status==="completed"),cancelled:V.filter(Oe=>Oe.status==="cancelled")};return h.jsxs(h.Fragment,{children:[de.active.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(pt,{orientation:"left",children:h.jsx(Ar,{status:"success",text:"Active Programs"})}),h.jsx($f,{mode:"left",children:de.active.map(Mt)})]}),de.planned.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(pt,{orientation:"left",children:h.jsx(Ar,{status:"processing",text:"Planned Programs"})}),h.jsx($f,{mode:"left",children:de.planned.map(Mt)})]}),de.completed.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(pt,{orientation:"left",children:h.jsx(Ar,{status:"default",text:"Completed Programs"})}),h.jsx($f,{mode:"left",children:de.completed.map(Mt)})]}),de.cancelled.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(pt,{orientation:"left",children:h.jsx(Ar,{status:"error",text:"Cancelled Programs"})}),h.jsx($f,{mode:"left",children:de.cancelled.map(Mt)})]})]})},Mt=de=>{var It,ot;const Oe={planned:"blue",active:"green",completed:"purple",cancelled:"red"},ft={"Grant Funding":h.jsx(Fxe,{style:{fontSize:"16px"}}),"Technical Assistance":h.jsx(jxe,{style:{fontSize:"16px"}}),Mentorship:h.jsx(as,{style:{fontSize:"16px"}}),"Market Access Support":h.jsx(y$,{style:{fontSize:"16px"}}),"Infrastructure Access":h.jsx(Rxe,{style:{fontSize:"16px"}}),"Training & Skills Development":h.jsx(Mxe,{style:{fontSize:"16px"}}),"Regulatory Support":h.jsx(Dxe,{style:{fontSize:"16px"}})},pe=h.jsx(Ya,{style:{fontSize:"16px"}}),tt=de.programType&&ft[de.programType]?ft[de.programType]:pe;return h.jsx($f.Item,{dot:tt,color:Oe[de.status],children:h.jsxs(ue,{size:"small",style:{marginBottom:16},title:h.jsxs(me,{align:"center",children:[h.jsx(Ii,{strong:!0,children:de.programName}),Pe(de.status)]}),extra:h.jsxs(me,{children:[h.jsx(ie,{size:"small",type:"text",icon:h.jsx(Nl,{}),onClick:()=>console.log("Edit program",de.id),children:"Edit"}),h.jsx(ie,{size:"small",type:"text",danger:!0,icon:h.jsx(Bl,{}),onClick:()=>console.log("Delete program",de.id),children:"Delete"})]}),children:[h.jsx(NY,{children:de.description}),h.jsxs(Ye,{gutter:16,children:[h.jsx(oe,{span:12,children:h.jsxs(Ii,{type:"secondary",children:[h.jsx(bo,{})," ",(It=de.startDate)==null?void 0:It.toDate().toLocaleDateString()," - ",(ot=de.endDate)==null?void 0:ot.toDate().toLocaleDateString()]})}),h.jsx(oe,{span:12,children:h.jsxs(me,{children:[h.jsx(Me,{color:"blue",children:de.programType}),de.budget&&h.jsxs(Me,{color:"green",children:["R",de.budget.toLocaleString()]})]})})]}),de.outcomes&&de.outcomes.length>0&&h.jsxs("div",{style:{marginTop:8},children:[h.jsx(Ii,{type:"secondary",children:"Expected Outcomes:"}),h.jsx("div",{style:{marginTop:4},children:de.outcomes.map((Er,cr)=>h.jsx(Me,{style:{marginBottom:4},children:Er},cr))})]})]})},de.id)};return h.jsxs("div",{style:{padding:24},children:[h.jsxs(Ye,{gutter:[16,16],align:"middle",style:{marginBottom:24},children:[h.jsxs(oe,{flex:"auto",children:[h.jsx(gSt,{level:3,children:"Participant Directory"}),h.jsx(Ii,{type:"secondary",children:"Browse and search for participants to support with your programs and initiatives"})]}),h.jsx(oe,{children:h.jsxs(me,{children:[h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>P(!0),children:"Add Participant"}),h.jsx(ie,{type:"default",icon:h.jsx(Ed,{}),onClick:Re,children:"Export List"})]})})]}),h.jsx(ue,{style:{marginBottom:24},children:h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:8,children:h.jsx(mSt,{placeholder:"Search participants...",allowClear:!0,enterButton:h.jsx(qu,{}),size:"large",value:o,onChange:de=>s(de.target.value)})}),h.jsx(oe,{xs:24,md:5,children:h.jsx(He,{mode:"multiple",style:{width:"100%"},placeholder:"Filter by Industry",value:m,onChange:y,maxTagCount:2,children:f.map(de=>h.jsx(Ht,{value:de,children:de},de))})}),h.jsx(oe,{xs:24,md:5,children:h.jsx(He,{mode:"multiple",style:{width:"100%"},placeholder:"Filter by Location",value:x,onChange:b,maxTagCount:2,children:v.map(de=>h.jsx(Ht,{value:de,children:de},de))})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(He,{mode:"multiple",style:{width:"100%"},placeholder:"Development Needs",value:w,onChange:S,maxTagCount:2,children:Ce().map(de=>h.jsx(Ht,{value:de,children:de},de))})})]})}),i?h.jsxs("div",{style:{textAlign:"center",padding:100},children:[h.jsx(yi,{size:"large"}),h.jsx("div",{style:{marginTop:16},children:"Loading participants..."})]}):r.length===0?h.jsx(El,{description:"No participants found matching your filters",image:El.PRESENTED_IMAGE_SIMPLE}):h.jsx(Ye,{gutter:[16,16],children:r.map(de=>h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{hoverable:!0,cover:h.jsxs("div",{style:{height:160,overflow:"hidden",position:"relative"},children:[de.logo?h.jsx("img",{alt:de.name,src:de.logo,style:{width:"100%",height:"100%",objectFit:"cover"}}):h.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:h.jsx(ar,{style:{fontSize:40,color:"#d9d9d9"}})}),h.jsx("div",{style:{position:"absolute",top:8,right:8},children:h.jsx(ie,{type:"text",icon:C.includes(de.id)?h.jsx(wz,{style:{color:"#faad14"}}):h.jsx(aR,{}),onClick:Oe=>{Oe.stopPropagation(),se(de.id)}})})]}),onClick:()=>ne(de),children:h.jsx(ue.Meta,{title:de.name,description:h.jsx(h.Fragment,{children:h.jsxs(me,{direction:"vertical",style:{width:"100%"},children:[h.jsxs(me,{children:[h.jsx(Pxe,{}),h.jsx(Ii,{children:de.industry})]}),h.jsxs(me,{children:[h.jsx(_xe,{}),h.jsx(Ii,{children:de.location})]}),h.jsxs("div",{children:[h.jsx(Ii,{type:"secondary",children:"Development Needs:"}),h.jsx("div",{style:{marginTop:5},children:Ue(de.developmentNeeds)})]})]})})})})},de.id))}),h.jsx(wh,{title:(l==null?void 0:l.name)||"Participant Details",placement:"right",width:600,onClose:()=>d(!1),open:c,extra:h.jsx(ie,{icon:C.includes((l==null?void 0:l.id)||"")?h.jsx(wz,{style:{color:"#faad14"}}):h.jsx(aR,{}),onClick:()=>l&&se(l.id),children:C.includes((l==null?void 0:l.id)||"")?"Favorited":"Favorite"}),children:l&&h.jsxs(h.Fragment,{children:[h.jsxs(Ft,{activeKey:G,onChange:W,children:[h.jsx(Ft.TabPane,{tab:"Details",children:h.jsxs("div",{children:[h.jsx("div",{style:{textAlign:"center",marginBottom:20},children:l.logo?h.jsx(vi,{src:l.logo,size:100}):h.jsx(vi,{icon:h.jsx(ar,{}),size:100})}),h.jsx(NY,{children:l.description}),h.jsx(pt,{}),h.jsxs(At,{children:[h.jsxs(At.Item,{children:[h.jsx(Ii,{strong:!0,children:"Industry:"}),h.jsx(Me,{color:"blue",children:l.industry})]}),h.jsxs(At.Item,{children:[h.jsx(Ii,{strong:!0,children:"Location:"}),h.jsx(Ii,{children:we(l)})]}),h.jsxs(At.Item,{children:[h.jsx(Ii,{strong:!0,children:"Stage:"}),h.jsx(Ii,{children:l.stage||"Not specified"})]}),h.jsxs(At.Item,{children:[h.jsx(Ii,{strong:!0,children:"Founded:"}),h.jsx(Ii,{children:l.foundedYear||"Not specified"})]}),h.jsxs(At.Item,{children:[h.jsx(Ii,{strong:!0,children:"Team Size:"}),h.jsx(Ii,{children:l.teamSize||"Not specified"})]})]}),h.jsx(pt,{orientation:"left",children:"Development Needs"}),Ue(l.developmentNeeds),h.jsx(pt,{orientation:"left",children:"Contact Information"}),h.jsxs(At,{children:[((sn=l.contact)==null?void 0:sn.email)&&h.jsx(At.Item,{children:h.jsxs(me,{children:[h.jsx(Oxe,{}),h.jsx("a",{href:`mailto:${l.contact.email}`,children:l.contact.email})]})}),((Gt=l.contact)==null?void 0:Gt.phone)&&h.jsx(At.Item,{children:h.jsxs(me,{children:[h.jsx(kxe,{}),h.jsx("a",{href:`tel:${l.contact.phone}`,children:l.contact.phone})]})}),((Tr=l.contact)==null?void 0:Tr.website)&&h.jsx(At.Item,{children:h.jsxs(me,{children:[h.jsx(m$,{}),h.jsx("a",{href:`https://${l.contact.website}`,target:"_blank",rel:"noopener noreferrer",children:l.contact.website})]})})]})]})},"1"),h.jsx(Ft.TabPane,{tab:"Support Programs",children:h.jsxs("div",{children:[h.jsx("div",{style:{marginBottom:16},children:h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>ge(l.id),children:"Create Support Program"})}),dt()]})},"2")]}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{span:24,children:h.jsx(ie,{type:"primary",block:!0,icon:h.jsx(Sa,{}),onClick:()=>{ge(l.id)},children:"Create Support Program"})}),h.jsx(oe,{span:24,children:h.jsx(ie,{block:!0,onClick:()=>console.log("Contact this participant",l.id),children:"Contact Participant"})})]})]})}),h.jsx(_r,{title:"Add New Participant",open:A,onCancel:()=>P(!1),footer:null,width:800,children:h.jsxs(ce,{form:_,layout:"vertical",onFinish:ze,children:[h.jsxs(Ye,{gutter:16,children:[h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"name",label:"Company Name",rules:[{required:!0,message:"Please enter company name"}],children:h.jsx(Ve,{placeholder:"Enter company name"})})}),h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"industry",label:"Industry",rules:[{required:!0,message:"Please select industry"}],children:h.jsxs(He,{placeholder:"Select industry",showSearch:!0,allowClear:!0,children:[f.map(de=>h.jsx(Ht,{value:de,children:de},de)),h.jsx(Ht,{value:"custom",children:"+ Add New"})]})})}),h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"location",label:"Location",rules:[{required:!0,message:"Please enter location"}],children:h.jsxs(He,{placeholder:"Select location",showSearch:!0,allowClear:!0,children:[v.map(de=>h.jsx(Ht,{value:de,children:de},de)),h.jsx(Ht,{value:"custom",children:"+ Add New"})]})})}),h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"description",label:"Description",children:h.jsx(BY,{rows:4,placeholder:"Enter company description"})})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"foundedYear",label:"Founded Year",children:h.jsx(kv,{min:1900,max:2030,style:{width:"100%"}})})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"teamSize",label:"Team Size",children:h.jsx(kv,{min:1,style:{width:"100%"}})})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"stage",label:"Stage",children:h.jsxs(He,{placeholder:"Select stage",children:[h.jsx(Ht,{value:"Ideation",children:"Ideation"}),h.jsx(Ht,{value:"Validation",children:"Validation"}),h.jsx(Ht,{value:"Early Growth",children:"Early Growth"}),h.jsx(Ht,{value:"Growth",children:"Growth"}),h.jsx(Ht,{value:"Scaling",children:"Scaling"}),h.jsx(Ht,{value:"Established",children:"Established"})]})})}),h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"developmentNeeds",label:"Development Needs",children:h.jsxs(He,{mode:"tags",placeholder:"Select or add development needs",style:{width:"100%"},children:[h.jsx(Ht,{value:"Funding",children:"Funding"}),h.jsx(Ht,{value:"Mentorship",children:"Mentorship"}),h.jsx(Ht,{value:"Technical Support",children:"Technical Support"}),h.jsx(Ht,{value:"Market Access",children:"Market Access"}),h.jsx(Ht,{value:"Regulatory Support",children:"Regulatory Support"}),h.jsx(Ht,{value:"Equipment",children:"Equipment"}),h.jsx(Ht,{value:"Partnerships",children:"Partnerships"}),h.jsx(Ht,{value:"Technology Infrastructure",children:"Technology Infrastructure"}),h.jsx(Ht,{value:"Content Development",children:"Content Development"}),h.jsx(Ht,{value:"International Market Access",children:"International Market Access"})]})})}),h.jsx(oe,{span:24,children:h.jsx(pt,{orientation:"left",children:"Contact Information"})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"email",label:"Email",rules:[{type:"email",message:"Please enter a valid email"}],children:h.jsx(Ve,{placeholder:"Email address"})})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"phone",label:"Phone",children:h.jsx(Ve,{placeholder:"Phone number"})})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"website",label:"Website",children:h.jsx(Ve,{placeholder:"Website URL (without http://)"})})}),h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"logo",label:"Logo URL",children:h.jsx(Ve,{placeholder:"Enter logo image URL"})})})]}),h.jsx(ce.Item,{children:h.jsxs(me,{children:[h.jsx(ie,{type:"primary",htmlType:"submit",loading:k,children:"Create Participant"}),h.jsx(ie,{onClick:()=>P(!1),children:"Cancel"})]})})]})}),h.jsx(_r,{title:"Create Support Program",open:D,onCancel:()=>B(!1),footer:null,width:800,children:h.jsxs(ce,{form:$,layout:"vertical",onFinish:be,children:[h.jsxs(Ye,{gutter:16,children:[h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"programName",label:"Program Name",rules:[{required:!0,message:"Please enter program name"}],children:h.jsx(Ve,{placeholder:"Enter program name"})})}),h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"programType",label:"Program Type",rules:[{required:!0,message:"Please select program type"}],children:h.jsxs(He,{placeholder:"Select program type",children:[h.jsx(Ht,{value:"Grant Funding",children:"Grant Funding"}),h.jsx(Ht,{value:"Technical Assistance",children:"Technical Assistance"}),h.jsx(Ht,{value:"Mentorship",children:"Mentorship"}),h.jsx(Ht,{value:"Market Access Support",children:"Market Access Support"}),h.jsx(Ht,{value:"Infrastructure Access",children:"Infrastructure Access"}),h.jsx(Ht,{value:"Training & Skills Development",children:"Training & Skills Development"}),h.jsx(Ht,{value:"Regulatory Support",children:"Regulatory Support"})]})})}),h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"dateRange",label:"Program Duration",rules:[{required:!0,message:"Please select program duration"}],children:h.jsx(wo.RangePicker,{style:{width:"100%"}})})}),h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"description",label:"Program Description",rules:[{required:!0,message:"Please enter program description"}],children:h.jsx(BY,{rows:4,placeholder:"Describe the support program"})})}),h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"budget",label:"Budget (ZAR)",children:h.jsx(kv,{style:{width:"100%"},min:0,step:1e3,formatter:de=>de?`R ${de}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:de=>{if(!de)return 0;const Oe=de.replace(/R\s?|(,*)/g,"");return Number(Oe)||0}})})}),h.jsx(oe,{span:24,children:h.jsx(ce.Item,{name:"outcomes",label:"Expected Outcomes",children:h.jsxs(He,{mode:"tags",placeholder:"Add expected outcomes",style:{width:"100%"},children:[h.jsx(Ht,{value:"Increased Revenue",children:"Increased Revenue"}),h.jsx(Ht,{value:"Job Creation",children:"Job Creation"}),h.jsx(Ht,{value:"Market Expansion",children:"Market Expansion"}),h.jsx(Ht,{value:"Product Development",children:"Product Development"}),h.jsx(Ht,{value:"Capacity Building",children:"Capacity Building"}),h.jsx(Ht,{value:"Regulatory Compliance",children:"Regulatory Compliance"})]})})})]}),h.jsx(ce.Item,{children:h.jsxs(me,{children:[h.jsx(ie,{type:"primary",htmlType:"submit",loading:L,children:"Create Program"}),h.jsx(ie,{onClick:()=>B(!1),children:"Cancel"})]})})]})})]})},{Title:xSt,Text:bf,Paragraph:_Yt}=rt,{Option:qo}=He,{RangePicker:bSt}=wo,{Search:wSt}=Ve,SSt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,s]=j.useState([]),[l,u]=j.useState(""),[c,d]=j.useState([]),[f,p]=j.useState([]),[v,g]=j.useState([]),[m,y]=j.useState(null),[x,b]=j.useState({totalPrograms:0,activePrograms:0,plannedPrograms:0,completedPrograms:0,totalBudget:0,participantsSupported:0});j.useEffect(()=>{w(),S()},[]),j.useEffect(()=>{E()},[l,c,f,v,m,t]);const w=async()=>{a(!0);try{const O=dn(Dt,"supportPrograms"),D=So(O,kh("createdAt","desc")),$=(await za(D)).docs.map(L=>({id:L.id,...L.data()}));e($),n($),C($)}catch(O){console.error("Error fetching support programs:",O)}finally{a(!1)}},S=async()=>{try{const O=dn(Dt,"participants"),D=So(O,Dd("status","!=","deleted")),$=(await za(D)).docs.map(L=>({id:L.id,name:L.data().name}));if(s($),t.length>0){const L=t.map(R=>{const V=$.find(U=>U.id===R.participantId);return{...R,participantName:(V==null?void 0:V.name)||"Unknown Participant"}});e(L),n(L)}}catch(O){console.error("Error fetching participants:",O)}},C=O=>{const D=O.filter(V=>V.status==="active"),B=O.filter(V=>V.status==="planned"),$=O.filter(V=>V.status==="completed"),L=O.reduce((V,U)=>V+(U.budget||0),0),R=new Set(O.map(V=>V.participantId));b({totalPrograms:O.length,activePrograms:D.length,plannedPrograms:B.length,completedPrograms:$.length,totalBudget:L,participantsSupported:R.size})},E=()=>{if(!t.length)return;let O=[...t];if(l){const D=l.toLowerCase();O=O.filter(B=>{var $;return B.programName.toLowerCase().includes(D)||B.description.toLowerCase().includes(D)||B.programType.toLowerCase().includes(D)||(($=B.participantName)==null?void 0:$.toLowerCase().includes(D))})}if(c.length>0&&(O=O.filter(D=>c.includes(D.status))),f.length>0&&(O=O.filter(D=>f.includes(D.programType))),v.length>0&&(O=O.filter(D=>v.includes(D.participantId))),m&&m[0]&&m[1]){const D=m[0].startOf("day").toDate().getTime(),B=m[1].endOf("day").toDate().getTime();O=O.filter($=>{const L=$.startDate.toDate().getTime(),R=$.endDate.toDate().getTime();return L<=B&&R>=D})}n(O)},A=O=>{const D={planned:"blue",active:"green",completed:"purple",cancelled:"red"};return h.jsx(Me,{color:D[O],children:O.charAt(0).toUpperCase()+O.slice(1)})},P=O=>{const D=o.find(B=>B.id===O);return(D==null?void 0:D.name)||"Unknown Participant"},_=()=>{console.log("Exporting programs list:",r)},k=[{title:"Program Name",dataIndex:"programName",key:"programName",render:(O,D)=>h.jsxs(me,{direction:"vertical",size:0,children:[h.jsx(bf,{strong:!0,children:O}),h.jsx(bf,{type:"secondary",children:D.programType})]})},{title:"Participant",dataIndex:"participantId",key:"participant",render:(O,D)=>h.jsx(bf,{children:D.participantName||P(O)})},{title:"Timeline",key:"timeline",render:(O,D)=>h.jsxs(me,{direction:"vertical",size:0,children:[h.jsxs(bf,{children:["Start: ",D.startDate.toDate().toLocaleDateString()]}),h.jsxs(bf,{children:["End: ",D.endDate.toDate().toLocaleDateString()]})]})},{title:"Budget",dataIndex:"budget",key:"budget",render:O=>O?`R${O.toLocaleString()}`:"N/A",sorter:(O,D)=>(O.budget||0)-(D.budget||0)},{title:"Status",dataIndex:"status",key:"status",render:O=>A(O),filters:[{text:"Planned",value:"planned"},{text:"Active",value:"active"},{text:"Completed",value:"completed"},{text:"Cancelled",value:"cancelled"}],onFilter:(O,D)=>D.status===O},{title:"Actions",key:"actions",render:(O,D)=>h.jsxs(me,{children:[h.jsx(ie,{type:"link",onClick:()=>console.log("View details",D.id),children:"Details"}),h.jsx(ie,{type:"link",onClick:()=>console.log("Edit program",D.id),children:"Edit"})]})}];return h.jsxs("div",{style:{padding:24},children:[h.jsxs(Ye,{gutter:[16,16],align:"middle",style:{marginBottom:24},children:[h.jsxs(oe,{flex:"auto",children:[h.jsx(xSt,{level:3,children:"Support Programs"}),h.jsx(bf,{type:"secondary",children:"Manage and track support programs for incubated participants"})]}),h.jsx(oe,{children:h.jsxs(me,{children:[h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>console.log("Add program clicked"),children:"Create Program"}),h.jsx(ie,{type:"default",icon:h.jsx(HJ,{}),onClick:_,children:"Export List"})]})})]}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:24},children:[h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Programs",value:x.totalPrograms,valueStyle:{color:"#1890ff"},prefix:h.jsx(Ya,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Programs",value:x.activePrograms,valueStyle:{color:"#52c41a"},prefix:h.jsx(Ar,{status:"success"})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Planned Programs",value:x.plannedPrograms,valueStyle:{color:"#1890ff"},prefix:h.jsx(Ar,{status:"processing"})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Completed Programs",value:x.completedPrograms,valueStyle:{color:"#722ed1"},prefix:h.jsx(Ar,{status:"default"})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Budget",value:x.totalBudget,valueStyle:{color:"#faad14"},prefix:h.jsx(Oi,{}),formatter:O=>`R${Number(O).toLocaleString()}`})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Participants Supported",value:x.participantsSupported,valueStyle:{color:"#eb2f96"},prefix:h.jsx(ar,{})})})})]}),h.jsx(ue,{style:{marginBottom:24},children:h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,md:6,children:h.jsx(wSt,{placeholder:"Search programs...",allowClear:!0,enterButton:h.jsx(qu,{}),value:l,onChange:O=>u(O.target.value)})}),h.jsx(oe,{xs:24,md:6,children:h.jsxs(He,{mode:"multiple",style:{width:"100%"},placeholder:"Filter by Status",value:c,onChange:d,maxTagCount:2,children:[h.jsx(qo,{value:"planned",children:"Planned"}),h.jsx(qo,{value:"active",children:"Active"}),h.jsx(qo,{value:"completed",children:"Completed"}),h.jsx(qo,{value:"cancelled",children:"Cancelled"})]})}),h.jsx(oe,{xs:24,md:6,children:h.jsxs(He,{mode:"multiple",style:{width:"100%"},placeholder:"Filter by Program Type",value:f,onChange:p,maxTagCount:2,children:[h.jsx(qo,{value:"Grant Funding",children:"Grant Funding"}),h.jsx(qo,{value:"Technical Assistance",children:"Technical Assistance"}),h.jsx(qo,{value:"Mentorship",children:"Mentorship"}),h.jsx(qo,{value:"Market Access Support",children:"Market Access Support"}),h.jsx(qo,{value:"Infrastructure Access",children:"Infrastructure Access"}),h.jsx(qo,{value:"Training & Skills Development",children:"Training & Skills Development"}),h.jsx(qo,{value:"Regulatory Support",children:"Regulatory Support"})]})}),h.jsx(oe,{xs:24,md:6,children:h.jsx(He,{mode:"multiple",style:{width:"100%"},placeholder:"Filter by Participant",value:v,onChange:g,maxTagCount:2,showSearch:!0,optionFilterProp:"children",children:o.map(O=>h.jsx(qo,{value:O.id,children:O.name},O.id))})}),h.jsx(oe,{xs:24,md:12,children:h.jsxs(me,{children:[h.jsx(bf,{children:"Date Range:"}),h.jsx(bSt,{value:m,onChange:O=>y(O)})]})}),h.jsx(oe,{xs:24,md:12,style:{textAlign:"right"},children:h.jsx(ie,{onClick:()=>{u(""),d([]),p([]),g([]),y(null)},children:"Clear Filters"})})]})}),h.jsx(ue,{children:i?h.jsxs("div",{style:{textAlign:"center",padding:100},children:[h.jsx(yi,{size:"large"}),h.jsx("div",{style:{marginTop:16},children:"Loading support programs..."})]}):h.jsx(Le,{dataSource:r,columns:k,rowKey:"id",pagination:{pageSize:10,showTotal:(O,D)=>`${D[0]}-${D[1]} of ${O} programs`}})})]})};function rpe(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=rpe(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Nt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=rpe(t))&&(n&&(n+=" "),n+=e);return n}var ESt=y4,ASt=jw;function CSt(t,e){e=ESt(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[ASt(e[r++])];return r&&r==n?t:void 0}var s3=CSt,TSt=s3;function ISt(t,e,r){var n=t==null?void 0:TSt(t,e);return n===void 0?r:n}var npe=ISt;const To=_t(npe);function PSt(t){return t==null}var _St=PSt;const jt=_t(_St);var OSt=xc,kSt=eo,DSt=wc,MSt="[object String]";function RSt(t){return typeof t=="string"||!kSt(t)&&DSt(t)&&OSt(t)==MSt}var jSt=RSt;const Gh=_t(jSt);var FSt=xc,LSt=wc,$St="[object Number]";function NSt(t){return typeof t=="number"||LSt(t)&&FSt(t)==$St}var ipe=NSt;const BSt=_t(ipe);var VSt=ipe;function zSt(t){return VSt(t)&&t!=+t}var USt=zSt;const Zw=_t(USt);var xa=function(e){return e===0?0:e>0?1:-1},rh=function(e){return Gh(e)&&e.indexOf("%")===e.length-1},$e=function(e){return BSt(e)&&!Zw(e)},ei=function(e){return $e(e)||Gh(e)},qSt=0,Um=function(e){var r=++qSt;return"".concat(e||"").concat(r)},ba=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&!Gh(e))return n;var a;if(rh(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Zw(a)&&(a=n),i&&a>r&&(a=r),a},Xc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},GSt=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},vo=function(e,r){return $e(e)&&$e(r)?function(n){return e+n*(r-e)}:function(){return r}};function VC(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):To(n,e))===r})}var WSt=function(e,r){return $e(e)&&$e(r)?e-r:Gh(e)&&Gh(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Xv(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function kF(t){"@babel/helpers - typeof";return kF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kF(t)}var HSt=["viewBox","children"],YSt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VY=["points","pathLength"],t2={svg:HSt,polygon:VY,polyline:VY},l3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zC=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Tm(n))return null;var i={};return Object.keys(n).forEach(function(a){l3.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},XSt=function(e,r,n){return function(i){return e(r,n,i),null}},Wh=function(e,r,n){if(!Tm(e)||kF(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];l3.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=XSt(o,r,n))}),i},KSt=["children"],QSt=["children"];function zY(t,e){if(t==null)return{};var r=JSt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JSt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DF(t){"@babel/helpers - typeof";return DF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DF(t)}var UY={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},qY=null,r2=null,u3=function t(e){if(e===qY&&Array.isArray(r2))return r2;var r=[];return j.Children.forEach(e,function(n){jt(n)||(Lxe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),r2=r,qY=e,r};function Io(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Bu(i)}):n=[Bu(e)],u3(t).forEach(function(i){var a=To(i,"type.displayName")||To(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ho(t,e){var r=Io(t,e);return r&&r[0]}var GY=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!$e(n)||n<=0||!$e(i)||i<=0)},ZSt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eEt=function(e){return e&&e.type&&Gh(e.type)&&ZSt.indexOf(e.type)>=0},tEt=function(e){return e&&DF(e)==="object"&&"clipDot"in e},rEt=function(e,r,n,i){var a,o=(a=t2==null?void 0:t2[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ct(e)&&(i&&o.includes(r)||YSt.includes(r))||n&&l3.includes(r)},vt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Tm(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;rEt((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},MF=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return WY(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!WY(a,o))return!1}return!0},WY=function(e,r){if(jt(e)&&jt(r))return!0;if(!jt(e)&&!jt(r)){var n=e.props||{},i=n.children,a=zY(n,KSt),o=r.props||{},s=o.children,l=zY(o,QSt);return i&&s?Xv(a,l)&&MF(i,s):!i&&!s?Xv(a,l):!1}return!1},HY=function(e,r){var n=[],i={};return u3(e).forEach(function(a,o){if(eEt(a))n.push(a);else if(a){var s=Bu(a.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(a,s,o);n.push(d),i[s]=!0}}}),n},nEt=function(e){var r=e&&e.type;return r&&UY[r]?UY[r]:null},iEt=function(e,r){return u3(r).indexOf(e)},aEt=["children","width","height","viewBox","className","style","title","desc"];function RF(){return RF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RF.apply(this,arguments)}function oEt(t,e){if(t==null)return{};var r=sEt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sEt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jF(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=oEt(t,aEt),c=i||{width:r,height:n,x:0,y:0},d=Nt("recharts-surface",a);return I.createElement("svg",RF({},vt(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),I.createElement("title",null,s),I.createElement("desc",null,l),e)}var lEt=["children","className"];function FF(){return FF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FF.apply(this,arguments)}function uEt(t,e){if(t==null)return{};var r=cEt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cEt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var br=I.forwardRef(function(t,e){var r=t.children,n=t.className,i=uEt(t,lEt),a=Nt("recharts-layer",n);return I.createElement("g",FF({className:a},vt(i,!0),{ref:e}),r)}),Us=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function dEt(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var fEt=dEt,hEt=fEt;function pEt(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:hEt(t,e,r)}var vEt=pEt,gEt="\\ud800-\\udfff",mEt="\\u0300-\\u036f",yEt="\\ufe20-\\ufe2f",xEt="\\u20d0-\\u20ff",bEt=mEt+yEt+xEt,wEt="\\ufe0e\\ufe0f",SEt="\\u200d",EEt=RegExp("["+SEt+gEt+bEt+wEt+"]");function AEt(t){return EEt.test(t)}var ape=AEt;function CEt(t){return t.split("")}var TEt=CEt,ope="\\ud800-\\udfff",IEt="\\u0300-\\u036f",PEt="\\ufe20-\\ufe2f",_Et="\\u20d0-\\u20ff",OEt=IEt+PEt+_Et,kEt="\\ufe0e\\ufe0f",DEt="["+ope+"]",LF="["+OEt+"]",$F="\\ud83c[\\udffb-\\udfff]",MEt="(?:"+LF+"|"+$F+")",spe="[^"+ope+"]",lpe="(?:\\ud83c[\\udde6-\\uddff]){2}",upe="[\\ud800-\\udbff][\\udc00-\\udfff]",REt="\\u200d",cpe=MEt+"?",dpe="["+kEt+"]?",jEt="(?:"+REt+"(?:"+[spe,lpe,upe].join("|")+")"+dpe+cpe+")*",FEt=dpe+cpe+jEt,LEt="(?:"+[spe+LF+"?",LF,lpe,upe,DEt].join("|")+")",$Et=RegExp($F+"(?="+$F+")|"+LEt+FEt,"g");function NEt(t){return t.match($Et)||[]}var BEt=NEt,VEt=TEt,zEt=ape,UEt=BEt;function qEt(t){return zEt(t)?UEt(t):VEt(t)}var GEt=qEt,WEt=vEt,HEt=ape,YEt=GEt,XEt=cle;function KEt(t){return function(e){e=XEt(e);var r=HEt(e)?YEt(e):void 0,n=r?r[0]:e.charAt(0),i=r?WEt(r,1).join(""):e.slice(1);return n[t]()+i}}var QEt=KEt,JEt=QEt,ZEt=JEt("toUpperCase"),eAt=ZEt;const H_=_t(eAt);function Wr(t){return function(){return t}}const fpe=Math.cos,UC=Math.sin,rl=Math.sqrt,qC=Math.PI,Y_=2*qC,NF=Math.PI,BF=2*NF,Rf=1e-6,tAt=BF-Rf;function hpe(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function rAt(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hpe;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class nAt{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hpe:rAt(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,c=o-e,d=s-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>Rf)if(!(Math.abs(d*l-u*c)>Rf)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-s,g=l*l+u*u,m=p*p+v*v,y=Math.sqrt(g),x=Math.sqrt(f),b=a*Math.tan((NF-Math.acos((g+f-m)/(2*y*x)))/2),w=b/x,S=b/y;Math.abs(w-1)>Rf&&this._append`L${e+w*c},${r+w*d}`,this._append`A${a},${a},0,0,${+(d*p>c*v)},${this._x1=e+S*l},${this._y1=r+S*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Rf||Math.abs(this._y1-c)>Rf)&&this._append`L${u},${c}`,n&&(f<0&&(f=f%BF+BF),f>tAt?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:f>Rf&&this._append`A${n},${n},0,${+(f>=NF)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function c3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new nAt(e)}function d3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ppe(t){this._context=t}ppe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function X_(t){return new ppe(t)}function vpe(t){return t[0]}function gpe(t){return t[1]}function mpe(t,e){var r=Wr(!0),n=null,i=X_,a=null,o=c3(s);t=typeof t=="function"?t:t===void 0?vpe:Wr(t),e=typeof e=="function"?e:e===void 0?gpe:Wr(e);function s(l){var u,c=(l=d3(l)).length,d,f=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Wr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function iE(t,e,r){var n=null,i=Wr(!0),a=null,o=X_,s=null,l=c3(u);t=typeof t=="function"?t:t===void 0?vpe:Wr(+t),e=typeof e=="function"?e:Wr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?gpe:Wr(+r);function u(d){var f,p,v,g=(d=d3(d)).length,m,y=!1,x,b=new Array(g),w=new Array(g);for(a==null&&(s=o(x=l())),f=0;f<=g;++f){if(!(f<g&&i(m=d[f],f,d))===y)if(y=!y)p=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=p;--v)s.point(b[v],w[v]);s.lineEnd(),s.areaEnd()}y&&(b[f]=+t(m,f,d),w[f]=+e(m,f,d),s.point(n?+n(m,f,d):b[f],r?+r(m,f,d):w[f]))}if(x)return s=null,x+""||null}function c(){return mpe().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Wr(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Wr(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Wr(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Wr(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Wr(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Wr(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Wr(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class ype{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function iAt(t){return new ype(t,!0)}function aAt(t){return new ype(t,!1)}const f3={draw(t,e){const r=rl(e/qC);t.moveTo(r,0),t.arc(0,0,r,0,Y_)}},oAt={draw(t,e){const r=rl(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xpe=rl(1/3),sAt=xpe*2,lAt={draw(t,e){const r=rl(e/sAt),n=r*xpe;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},uAt={draw(t,e){const r=rl(e),n=-r/2;t.rect(n,n,r,r)}},cAt=.8908130915292852,bpe=UC(qC/10)/UC(7*qC/10),dAt=UC(Y_/10)*bpe,fAt=-fpe(Y_/10)*bpe,hAt={draw(t,e){const r=rl(e*cAt),n=dAt*r,i=fAt*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Y_*a/5,s=fpe(o),l=UC(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},n2=rl(3),pAt={draw(t,e){const r=-rl(e/(n2*3));t.moveTo(0,r*2),t.lineTo(-n2*r,-r),t.lineTo(n2*r,-r),t.closePath()}},Go=-.5,Wo=rl(3)/2,VF=1/rl(12),vAt=(VF/2+1)*3,gAt={draw(t,e){const r=rl(e/vAt),n=r/2,i=r*VF,a=n,o=r*VF+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Go*n-Wo*i,Wo*n+Go*i),t.lineTo(Go*a-Wo*o,Wo*a+Go*o),t.lineTo(Go*s-Wo*l,Wo*s+Go*l),t.lineTo(Go*n+Wo*i,Go*i-Wo*n),t.lineTo(Go*a+Wo*o,Go*o-Wo*a),t.lineTo(Go*s+Wo*l,Go*l-Wo*s),t.closePath()}};function mAt(t,e){let r=null,n=c3(i);t=typeof t=="function"?t:Wr(t||f3),e=typeof e=="function"?e:Wr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function GC(){}function WC(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wpe(t){this._context=t}wpe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:WC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:WC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yAt(t){return new wpe(t)}function Spe(t){this._context=t}Spe.prototype={areaStart:GC,areaEnd:GC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:WC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xAt(t){return new Spe(t)}function Epe(t){this._context=t}Epe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:WC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bAt(t){return new Epe(t)}function Ape(t){this._context=t}Ape.prototype={areaStart:GC,areaEnd:GC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wAt(t){return new Ape(t)}function YY(t){return t<0?-1:1}function XY(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(YY(a)+YY(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KY(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function i2(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function HC(t){this._context=t}HC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i2(this,this._t0,KY(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,i2(this,KY(this,r=XY(this,t,e)),r);break;default:i2(this,this._t0,r=XY(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Cpe(t){this._context=new Tpe(t)}(Cpe.prototype=Object.create(HC.prototype)).point=function(t,e){HC.prototype.point.call(this,e,t)};function Tpe(t){this._context=t}Tpe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function SAt(t){return new HC(t)}function EAt(t){return new Cpe(t)}function Ipe(t){this._context=t}Ipe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=QY(t),i=QY(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QY(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function AAt(t){return new Ipe(t)}function K_(t,e){this._context=t,this._t=e}K_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function CAt(t){return new K_(t,.5)}function TAt(t){return new K_(t,0)}function IAt(t){return new K_(t,1)}function Tg(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function zF(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function PAt(t,e){return t[e]}function _At(t){const e=[];return e.key=t,e}function OAt(){var t=Wr([]),e=zF,r=Tg,n=PAt;function i(a){var o=Array.from(t.apply(this,arguments),_At),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=d3(e(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Wr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?zF:typeof a=="function"?a:Wr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Tg,i):r},i}function kAt(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Tg(t,e)}}function DAt(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Tg(t,e)}}function MAt(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],d=c[n][1]||0,f=c[n-1][1]||0,p=(d-f)/2,v=0;v<s;++v){var g=t[e[v]],m=g[n][1]||0,y=g[n-1][1]||0;p+=m-y}l+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Tg(t,e)}}function tb(t){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}var RAt=["type","size","sizeType"];function UF(){return UF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UF.apply(this,arguments)}function JY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JY(Object(r),!0).forEach(function(n){jAt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jAt(t,e,r){return e=FAt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FAt(t){var e=LAt(t,"string");return tb(e)=="symbol"?e:e+""}function LAt(t,e){if(tb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $At(t,e){if(t==null)return{};var r=NAt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NAt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ppe={symbolCircle:f3,symbolCross:oAt,symbolDiamond:lAt,symbolSquare:uAt,symbolStar:hAt,symbolTriangle:pAt,symbolWye:gAt},BAt=Math.PI/180,VAt=function(e){var r="symbol".concat(H_(e));return Ppe[r]||f3},zAt=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*BAt;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UAt=function(e,r){Ppe["symbol".concat(H_(e))]=r},h3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=$At(e,RAt),u=ZY(ZY({},l),{},{type:n,size:a,sizeType:s}),c=function(){var m=VAt(n),y=mAt().type(m).size(zAt(a,s,n));return y()},d=u.className,f=u.cx,p=u.cy,v=vt(u,!0);return f===+f&&p===+p&&a===+a?I.createElement("path",UF({},v,{className:Nt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};h3.registerSymbol=UAt;function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function qF(){return qF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qF.apply(this,arguments)}function e7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qAt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(r),!0).forEach(function(n){rb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GAt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WAt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ope(n.key),n)}}function HAt(t,e,r){return e&&WAt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YAt(t,e,r){return e=YC(e),XAt(t,_pe()?Reflect.construct(e,r||[],YC(t).constructor):e.apply(t,r))}function XAt(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KAt(t)}function KAt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _pe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_pe=function(){return!!t})()}function YC(t){return YC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YC(t)}function QAt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GF(t,e)}function GF(t,e){return GF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GF(t,e)}function rb(t,e,r){return e=Ope(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ope(t){var e=JAt(t,"string");return Ig(e)=="symbol"?e:e+""}function JAt(t,e){if(Ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Os=32,p3=function(t){function e(){return GAt(this,e),YAt(this,e,arguments)}return QAt(e,t),HAt(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Os/2,o=Os/6,s=Os/3,l=n.inactive?i:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Os,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Os,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Os/8,"h").concat(Os,"v").concat(Os*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=qAt({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(h3,{fill:l,cx:a,cy:a,size:Os,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Os,height:Os},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var g=p.formatter||l,m=Nt(rb(rb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Ct(p.value)?null:p.value;Us(!Ct(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return I.createElement("li",qF({className:m,style:d,key:"legend-item-".concat(v)},Wh(n.props,p,v)),I.createElement(jF,{width:o,height:o,viewBox:c,style:f},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);rb(p3,"displayName","Legend");rb(p3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZAt=$P;function eCt(){this.__data__=new ZAt,this.size=0}var tCt=eCt;function rCt(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var nCt=rCt;function iCt(t){return this.__data__.get(t)}var aCt=iCt;function oCt(t){return this.__data__.has(t)}var sCt=oCt,lCt=$P,uCt=p4,cCt=v4,dCt=200;function fCt(t,e){var r=this.__data__;if(r instanceof lCt){var n=r.__data__;if(!uCt||n.length<dCt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new cCt(n)}return r.set(t,e),this.size=r.size,this}var hCt=fCt,pCt=$P,vCt=tCt,gCt=nCt,mCt=aCt,yCt=sCt,xCt=hCt;function qm(t){var e=this.__data__=new pCt(t);this.size=e.size}qm.prototype.clear=vCt;qm.prototype.delete=gCt;qm.prototype.get=mCt;qm.prototype.has=yCt;qm.prototype.set=xCt;var kpe=qm,bCt="__lodash_hash_undefined__";function wCt(t){return this.__data__.set(t,bCt),this}var SCt=wCt;function ECt(t){return this.__data__.has(t)}var ACt=ECt,CCt=v4,TCt=SCt,ICt=ACt;function XC(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new CCt;++e<r;)this.add(t[e])}XC.prototype.add=XC.prototype.push=TCt;XC.prototype.has=ICt;var Dpe=XC;function PCt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Mpe=PCt;function _Ct(t,e){return t.has(e)}var Rpe=_Ct,OCt=Dpe,kCt=Mpe,DCt=Rpe,MCt=1,RCt=2;function jCt(t,e,r,n,i,a){var o=r&MCt,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,p=r&RCt?new OCt:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var v=t[d],g=e[d];if(n)var m=o?n(g,v,d,e,t,a):n(v,g,d,t,e,a);if(m!==void 0){if(m)continue;f=!1;break}if(p){if(!kCt(e,function(y,x){if(!DCt(p,x)&&(v===y||i(v,y,r,n,a)))return p.push(x)})){f=!1;break}}else if(!(v===g||i(v,g,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var jpe=jCt,FCt=iu,LCt=FCt.Uint8Array,$Ct=LCt;function NCt(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var BCt=NCt;function VCt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var v3=VCt,t7=Rw,r7=$Ct,zCt=jP,UCt=jpe,qCt=BCt,GCt=v3,WCt=1,HCt=2,YCt="[object Boolean]",XCt="[object Date]",KCt="[object Error]",QCt="[object Map]",JCt="[object Number]",ZCt="[object RegExp]",eTt="[object Set]",tTt="[object String]",rTt="[object Symbol]",nTt="[object ArrayBuffer]",iTt="[object DataView]",n7=t7?t7.prototype:void 0,a2=n7?n7.valueOf:void 0;function aTt(t,e,r,n,i,a,o){switch(r){case iTt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nTt:return!(t.byteLength!=e.byteLength||!a(new r7(t),new r7(e)));case YCt:case XCt:case JCt:return zCt(+t,+e);case KCt:return t.name==e.name&&t.message==e.message;case ZCt:case tTt:return t==e+"";case QCt:var s=qCt;case eTt:var l=n&WCt;if(s||(s=GCt),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=HCt,o.set(t,e);var c=UCt(s(t),s(e),n,i,a,o);return o.delete(t),c;case rTt:if(a2)return a2.call(t)==a2.call(e)}return!1}var oTt=aTt;function sTt(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Fpe=sTt,lTt=Fpe,uTt=eo;function cTt(t,e,r){var n=e(t);return uTt(t)?n:lTt(n,r(t))}var dTt=cTt;function fTt(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var hTt=fTt;function pTt(){return[]}var vTt=pTt,gTt=hTt,mTt=vTt,yTt=Object.prototype,xTt=yTt.propertyIsEnumerable,i7=Object.getOwnPropertySymbols,bTt=i7?function(t){return t==null?[]:(t=Object(t),gTt(i7(t),function(e){return xTt.call(t,e)}))}:mTt,wTt=bTt;function STt(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ETt=STt,ATt=xc,CTt=wc,TTt="[object Arguments]";function ITt(t){return CTt(t)&&ATt(t)==TTt}var PTt=ITt,a7=PTt,_Tt=wc,Lpe=Object.prototype,OTt=Lpe.hasOwnProperty,kTt=Lpe.propertyIsEnumerable,DTt=a7(function(){return arguments}())?a7:function(t){return _Tt(t)&&OTt.call(t,"callee")&&!kTt.call(t,"callee")},g3=DTt,KC={exports:{}};function MTt(){return!1}var RTt=MTt;KC.exports;(function(t,e){var r=iu,n=RTt,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(KC,KC.exports);var $pe=KC.exports,jTt=9007199254740991;function FTt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jTt}var m3=FTt,LTt=xc,$Tt=m3,NTt=wc,BTt="[object Arguments]",VTt="[object Array]",zTt="[object Boolean]",UTt="[object Date]",qTt="[object Error]",GTt="[object Function]",WTt="[object Map]",HTt="[object Number]",YTt="[object Object]",XTt="[object RegExp]",KTt="[object Set]",QTt="[object String]",JTt="[object WeakMap]",ZTt="[object ArrayBuffer]",eIt="[object DataView]",tIt="[object Float32Array]",rIt="[object Float64Array]",nIt="[object Int8Array]",iIt="[object Int16Array]",aIt="[object Int32Array]",oIt="[object Uint8Array]",sIt="[object Uint8ClampedArray]",lIt="[object Uint16Array]",uIt="[object Uint32Array]",tn={};tn[tIt]=tn[rIt]=tn[nIt]=tn[iIt]=tn[aIt]=tn[oIt]=tn[sIt]=tn[lIt]=tn[uIt]=!0;tn[BTt]=tn[VTt]=tn[ZTt]=tn[zTt]=tn[eIt]=tn[UTt]=tn[qTt]=tn[GTt]=tn[WTt]=tn[HTt]=tn[YTt]=tn[XTt]=tn[KTt]=tn[QTt]=tn[JTt]=!1;function cIt(t){return NTt(t)&&$Tt(t.length)&&!!tn[LTt(t)]}var dIt=cIt;function fIt(t){return function(e){return t(e)}}var Npe=fIt,QC={exports:{}};QC.exports;(function(t,e){var r=rle,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(QC,QC.exports);var hIt=QC.exports,pIt=dIt,vIt=Npe,o7=hIt,s7=o7&&o7.isTypedArray,gIt=s7?vIt(s7):pIt,Bpe=gIt,mIt=ETt,yIt=g3,xIt=eo,bIt=$pe,wIt=BP,SIt=Bpe,EIt=Object.prototype,AIt=EIt.hasOwnProperty;function CIt(t,e){var r=xIt(t),n=!r&&yIt(t),i=!r&&!n&&bIt(t),a=!r&&!n&&!i&&SIt(t),o=r||n||i||a,s=o?mIt(t.length,String):[],l=s.length;for(var u in t)(e||AIt.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wIt(u,l)))&&s.push(u);return s}var TIt=CIt,IIt=Object.prototype;function PIt(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||IIt;return t===r}var _It=PIt;function OIt(t,e){return function(r){return t(e(r))}}var Vpe=OIt,kIt=Vpe,DIt=kIt(Object.keys,Object),MIt=DIt,RIt=_It,jIt=MIt,FIt=Object.prototype,LIt=FIt.hasOwnProperty;function $It(t){if(!RIt(t))return jIt(t);var e=[];for(var r in Object(t))LIt.call(t,r)&&r!="constructor"&&e.push(r);return e}var NIt=$It,BIt=f4,VIt=m3;function zIt(t){return t!=null&&VIt(t.length)&&!BIt(t)}var e1=zIt,UIt=TIt,qIt=NIt,GIt=e1;function WIt(t){return GIt(t)?UIt(t):qIt(t)}var Q_=WIt,HIt=dTt,YIt=wTt,XIt=Q_;function KIt(t){return HIt(t,XIt,YIt)}var QIt=KIt,l7=QIt,JIt=1,ZIt=Object.prototype,ePt=ZIt.hasOwnProperty;function tPt(t,e,r,n,i,a){var o=r&JIt,s=l7(t),l=s.length,u=l7(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=s[d];if(!(o?f in e:ePt.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=o;++d<l;){f=s[d];var y=t[f],x=e[f];if(n)var b=o?n(x,y,f,e,t,a):n(y,x,f,t,e,a);if(!(b===void 0?y===x||i(y,x,r,n,a):b)){g=!1;break}m||(m=f=="constructor")}if(g&&!m){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(t),a.delete(e),g}var rPt=tPt,nPt=pp,iPt=iu,aPt=nPt(iPt,"DataView"),oPt=aPt,sPt=pp,lPt=iu,uPt=sPt(lPt,"Promise"),cPt=uPt,dPt=pp,fPt=iu,hPt=dPt(fPt,"Set"),zpe=hPt,pPt=pp,vPt=iu,gPt=pPt(vPt,"WeakMap"),mPt=gPt,WF=oPt,HF=p4,YF=cPt,XF=zpe,KF=mPt,Upe=xc,Gm=ile,u7="[object Map]",yPt="[object Object]",c7="[object Promise]",d7="[object Set]",f7="[object WeakMap]",h7="[object DataView]",xPt=Gm(WF),bPt=Gm(HF),wPt=Gm(YF),SPt=Gm(XF),EPt=Gm(KF),jf=Upe;(WF&&jf(new WF(new ArrayBuffer(1)))!=h7||HF&&jf(new HF)!=u7||YF&&jf(YF.resolve())!=c7||XF&&jf(new XF)!=d7||KF&&jf(new KF)!=f7)&&(jf=function(t){var e=Upe(t),r=e==yPt?t.constructor:void 0,n=r?Gm(r):"";if(n)switch(n){case xPt:return h7;case bPt:return u7;case wPt:return c7;case SPt:return d7;case EPt:return f7}return e});var APt=jf,o2=kpe,CPt=jpe,TPt=oTt,IPt=rPt,p7=APt,v7=eo,g7=$pe,PPt=Bpe,_Pt=1,m7="[object Arguments]",y7="[object Array]",aE="[object Object]",OPt=Object.prototype,x7=OPt.hasOwnProperty;function kPt(t,e,r,n,i,a){var o=v7(t),s=v7(e),l=o?y7:p7(t),u=s?y7:p7(e);l=l==m7?aE:l,u=u==m7?aE:u;var c=l==aE,d=u==aE,f=l==u;if(f&&g7(t)){if(!g7(e))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new o2),o||PPt(t)?CPt(t,e,r,n,i,a):TPt(t,e,l,r,n,i,a);if(!(r&_Pt)){var p=c&&x7.call(t,"__wrapped__"),v=d&&x7.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,m=v?e.value():e;return a||(a=new o2),i(g,m,r,n,a)}}return f?(a||(a=new o2),IPt(t,e,r,n,i,a)):!1}var DPt=kPt,MPt=DPt,b7=wc;function qpe(t,e,r,n,i){return t===e?!0:t==null||e==null||!b7(t)&&!b7(e)?t!==t&&e!==e:MPt(t,e,r,n,qpe,i)}var y3=qpe,RPt=kpe,jPt=y3,FPt=1,LPt=2;function $Pt(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new RPt;if(n)var f=n(u,c,l,t,e,d);if(!(f===void 0?jPt(c,u,FPt|LPt,n,d):f))return!1}}return!0}var NPt=$Pt,BPt=bc;function VPt(t){return t===t&&!BPt(t)}var Gpe=VPt,zPt=Gpe,UPt=Q_;function qPt(t){for(var e=UPt(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,zPt(i)]}return e}var GPt=qPt;function WPt(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var Wpe=WPt,HPt=NPt,YPt=GPt,XPt=Wpe;function KPt(t){var e=YPt(t);return e.length==1&&e[0][2]?XPt(e[0][0],e[0][1]):function(r){return r===t||HPt(r,t,e)}}var QPt=KPt;function JPt(t,e){return t!=null&&e in Object(t)}var ZPt=JPt,e_t=y4,t_t=g3,r_t=eo,n_t=BP,i_t=m3,a_t=jw;function o_t(t,e,r){e=e_t(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=a_t(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&i_t(i)&&n_t(o,i)&&(r_t(t)||t_t(t)))}var s_t=o_t,l_t=ZPt,u_t=s_t;function c_t(t,e){return t!=null&&u_t(t,e,l_t)}var d_t=c_t,f_t=y3,h_t=npe,p_t=d_t,v_t=h4,g_t=Gpe,m_t=Wpe,y_t=jw,x_t=1,b_t=2;function w_t(t,e){return v_t(t)&&g_t(e)?m_t(y_t(t),e):function(r){var n=h_t(r,t);return n===void 0&&n===e?p_t(r,t):f_t(e,n,x_t|b_t)}}var S_t=w_t;function E_t(t){return t}var Wm=E_t;function A_t(t){return function(e){return e==null?void 0:e[t]}}var C_t=A_t,T_t=s3;function I_t(t){return function(e){return T_t(e,t)}}var P_t=I_t,__t=C_t,O_t=P_t,k_t=h4,D_t=jw;function M_t(t){return k_t(t)?__t(D_t(t)):O_t(t)}var R_t=M_t,j_t=QPt,F_t=S_t,L_t=Wm,$_t=eo,N_t=R_t;function B_t(t){return typeof t=="function"?t:t==null?L_t:typeof t=="object"?$_t(t)?F_t(t[0],t[1]):j_t(t):N_t(t)}var lu=B_t;function V_t(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Hpe=V_t;function z_t(t){return t!==t}var U_t=z_t;function q_t(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var G_t=q_t,W_t=Hpe,H_t=U_t,Y_t=G_t;function X_t(t,e,r){return e===e?Y_t(t,e,r):W_t(t,H_t,r)}var K_t=X_t,Q_t=K_t;function J_t(t,e){var r=t==null?0:t.length;return!!r&&Q_t(t,e,0)>-1}var Z_t=J_t;function eOt(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var tOt=eOt;function rOt(){}var nOt=rOt,s2=zpe,iOt=nOt,aOt=v3,oOt=1/0,sOt=s2&&1/aOt(new s2([,-0]))[1]==oOt?function(t){return new s2(t)}:iOt,lOt=sOt,uOt=Dpe,cOt=Z_t,dOt=tOt,fOt=Rpe,hOt=lOt,pOt=v3,vOt=200;function gOt(t,e,r){var n=-1,i=cOt,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=dOt;else if(a>=vOt){var u=e?null:hOt(t);if(u)return pOt(u);o=!1,i=fOt,l=new uOt}else l=e?[]:s;e:for(;++n<a;){var c=t[n],d=e?e(c):c;if(c=r||c!==0?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,r)||(l!==s&&l.push(d),s.push(c))}return s}var mOt=gOt,yOt=lu,xOt=mOt;function bOt(t,e){return t&&t.length?xOt(t,yOt(e)):[]}var wOt=bOt;const w7=_t(wOt);function Ype(t,e,r){return e===!0?w7(t,r):Ct(e)?w7(t,e):t}function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}var SOt=["ref"];function S7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(r),!0).forEach(function(n){J_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EOt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kpe(n.key),n)}}function AOt(t,e,r){return e&&E7(t.prototype,e),r&&E7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function COt(t,e,r){return e=JC(e),TOt(t,Xpe()?Reflect.construct(e,r||[],JC(t).constructor):e.apply(t,r))}function TOt(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IOt(t)}function IOt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xpe=function(){return!!t})()}function JC(t){return JC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JC(t)}function POt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QF(t,e)}function QF(t,e){return QF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QF(t,e)}function J_(t,e,r){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kpe(t){var e=_Ot(t,"string");return Pg(e)=="symbol"?e:e+""}function _Ot(t,e){if(Pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OOt(t,e){if(t==null)return{};var r=kOt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kOt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DOt(t){return t.value}function MOt(t,e){if(I.isValidElement(t))return I.cloneElement(t,e);if(typeof t=="function")return I.createElement(t,e);e.ref;var r=OOt(e,SOt);return I.createElement(p3,r)}var A7=1,po=function(t){function e(){var r;EOt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=COt(this,e,[].concat(i)),J_(r,"lastBoundingBox",{width:-1,height:-1}),r}return POt(e,t),AOt(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>A7||Math.abs(i.height-this.lastBoundingBox.height)>A7)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();f={top:((c||0)-v.height)/2}}else f=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return yu(yu({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=yu(yu({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},MOt(a,yu(yu({},this.props),{},{payload:Ype(c,u,DOt)})))}}],[{key:"getWithHeight",value:function(n,i){var a=yu(yu({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&$e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);J_(po,"displayName","Legend");J_(po,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var C7=Rw,ROt=g3,jOt=eo,T7=C7?C7.isConcatSpreadable:void 0;function FOt(t){return jOt(t)||ROt(t)||!!(T7&&t&&t[T7])}var LOt=FOt,$Ot=Fpe,NOt=LOt;function Qpe(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=NOt),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?Qpe(s,e-1,r,n,i):$Ot(i,s):n||(i[i.length]=s)}return i}var Jpe=Qpe;function BOt(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var VOt=BOt,zOt=VOt,UOt=zOt(),qOt=UOt,GOt=qOt,WOt=Q_;function HOt(t,e){return t&&GOt(t,e,WOt)}var Zpe=HOt,YOt=e1;function XOt(t,e){return function(r,n){if(r==null)return r;if(!YOt(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var KOt=XOt,QOt=Zpe,JOt=KOt,ZOt=JOt(QOt),x3=ZOt,ekt=x3,tkt=e1;function rkt(t,e){var r=-1,n=tkt(t)?Array(t.length):[];return ekt(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var eve=rkt;function nkt(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var ikt=nkt,I7=Im;function akt(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=I7(t),o=e!==void 0,s=e===null,l=e===e,u=I7(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var okt=akt,skt=okt;function lkt(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=skt(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ukt=lkt,l2=m4,ckt=s3,dkt=lu,fkt=eve,hkt=ikt,pkt=Npe,vkt=ukt,gkt=Wm,mkt=eo;function ykt(t,e,r){e.length?e=l2(e,function(a){return mkt(a)?function(o){return ckt(o,a.length===1?a[0]:a)}:a}):e=[gkt];var n=-1;e=l2(e,pkt(dkt));var i=fkt(t,function(a,o,s){var l=l2(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return hkt(i,function(a,o){return vkt(a,o,r)})}var xkt=ykt;function bkt(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var wkt=bkt,Skt=wkt,P7=Math.max;function Ekt(t,e,r){return e=P7(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=P7(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),Skt(t,this,s)}}var Akt=Ekt;function Ckt(t){return function(){return t}}var Tkt=Ckt,Ikt=Tkt,_7=ale,Pkt=Wm,_kt=_7?function(t,e){return _7(t,"toString",{configurable:!0,enumerable:!1,value:Ikt(e),writable:!0})}:Pkt,Okt=_kt,kkt=800,Dkt=16,Mkt=Date.now;function Rkt(t){var e=0,r=0;return function(){var n=Mkt(),i=Dkt-(n-r);if(r=n,i>0){if(++e>=kkt)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jkt=Rkt,Fkt=Okt,Lkt=jkt,$kt=Lkt(Fkt),Nkt=$kt,Bkt=Wm,Vkt=Akt,zkt=Nkt;function Ukt(t,e){return zkt(Vkt(t,e,Bkt),t+"")}var qkt=Ukt,Gkt=jP,Wkt=e1,Hkt=BP,Ykt=bc;function Xkt(t,e,r){if(!Ykt(r))return!1;var n=typeof e;return(n=="number"?Wkt(r)&&Hkt(e,r.length):n=="string"&&e in r)?Gkt(r[e],t):!1}var Z_=Xkt,Kkt=Jpe,Qkt=xkt,Jkt=qkt,O7=Z_,Zkt=Jkt(function(t,e){if(t==null)return[];var r=e.length;return r>1&&O7(t,e[0],e[1])?e=[]:r>2&&O7(e[0],e[1],e[2])&&(e=[e[0]]),Qkt(t,Kkt(e,1),[])}),eDt=Zkt;const b3=_t(eDt);function nb(t){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function JF(){return JF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JF.apply(this,arguments)}function tDt(t,e){return aDt(t)||iDt(t,e)||nDt(t,e)||rDt()}function rDt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDt(t,e){if(t){if(typeof t=="string")return k7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k7(t,e)}}function k7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iDt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function aDt(t){if(Array.isArray(t))return t}function D7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(r),!0).forEach(function(n){oDt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oDt(t,e,r){return e=sDt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sDt(t){var e=lDt(t,"string");return nb(e)=="symbol"?e:e+""}function lDt(t,e){if(nb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uDt(t){return Array.isArray(t)&&ei(t[0])&&ei(t[1])?t.join(" ~ "):t}var cDt=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,g=e.label,m=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,b=function(){if(c&&c.length){var O={padding:0,margin:0},D=(f?b3(c,f):c).map(function(B,$){if(B.type==="none")return null;var L=u2({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),R=B.formatter||d||uDt,V=B.value,U=B.name,q=V,M=U;if(R&&q!=null&&M!=null){var G=R(V,U,B,$,c);if(Array.isArray(G)){var W=tDt(G,2);q=W[0],M=W[1]}else q=G}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:L},ei(M)?I.createElement("span",{className:"recharts-tooltip-item-name"},M):null,ei(M)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},q),I.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},w=u2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=u2({margin:0},u),C=!jt(g),E=C?g:"",A=Nt("recharts-default-tooltip",p),P=Nt("recharts-tooltip-label",v);C&&m&&c!==void 0&&c!==null&&(E=m(g,c));var _=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",JF({className:A,style:w},_),I.createElement("p",{className:P,style:S},I.isValidElement(E)?E:"".concat(E)),b())};function ib(t){"@babel/helpers - typeof";return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function oE(t,e,r){return e=dDt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dDt(t){var e=fDt(t,"string");return ib(e)=="symbol"?e:e+""}function fDt(t,e){if(ib(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ny="recharts-tooltip-wrapper",hDt={visibility:"hidden"};function pDt(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Nt(Ny,oE(oE(oE(oE({},"".concat(Ny,"-right"),$e(r)&&e&&$e(e.x)&&r>=e.x),"".concat(Ny,"-left"),$e(r)&&e&&$e(e.x)&&r<e.x),"".concat(Ny,"-bottom"),$e(n)&&e&&$e(e.y)&&n>=e.y),"".concat(Ny,"-top"),$e(n)&&e&&$e(e.y)&&n<e.y))}function M7(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&$e(a[n]))return a[n];var c=r[n]-s-i,d=r[n]+i;if(e[n])return o[n]?c:d;if(o[n]){var f=c,p=l[n];return f<p?Math.max(d,l[n]):Math.max(c,l[n])}var v=d+s,g=l[n]+u;return v>g?Math.max(c,l[n]):Math.max(d,l[n])}function vDt(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function gDt(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&r?(c=M7({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=M7({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=vDt({translateX:c,translateY:d,useTranslate3d:s})):u=hDt,{cssProperties:u,cssClasses:pDt({translateX:c,translateY:d,coordinate:r})}}function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function R7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mDt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yDt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rve(n.key),n)}}function xDt(t,e,r){return e&&yDt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bDt(t,e,r){return e=ZC(e),wDt(t,tve()?Reflect.construct(e,r||[],ZC(t).constructor):e.apply(t,r))}function wDt(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SDt(t)}function SDt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tve=function(){return!!t})()}function ZC(t){return ZC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ZC(t)}function EDt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZF(t,e)}function ZF(t,e){return ZF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZF(t,e)}function eL(t,e,r){return e=rve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rve(t){var e=ADt(t,"string");return _g(e)=="symbol"?e:e+""}function ADt(t,e){if(_g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F7=1,CDt=function(t){function e(){var r;mDt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bDt(this,e,[].concat(i)),eL(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eL(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return EDt(e,t),xDt(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>F7||Math.abs(n.height-this.state.lastBoundingBox.height)>F7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,p=i.offset,v=i.position,g=i.reverseDirection,m=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,b=gDt({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:y}),w=b.cssClasses,S=b.cssProperties,C=j7(j7({transition:f&&a?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:w,style:C,ref:function(A){n.wrapperNode=A}},u)}}])}(j.PureComponent),TDt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wp={isSsr:TDt()};function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function L7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L7(Object(r),!0).forEach(function(n){w3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IDt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PDt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ive(n.key),n)}}function _Dt(t,e,r){return e&&PDt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ODt(t,e,r){return e=eT(e),kDt(t,nve()?Reflect.construct(e,r||[],eT(t).constructor):e.apply(t,r))}function kDt(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DDt(t)}function DDt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nve=function(){return!!t})()}function eT(t){return eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eT(t)}function MDt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tL(t,e)}function tL(t,e){return tL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tL(t,e)}function w3(t,e,r){return e=ive(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ive(t){var e=RDt(t,"string");return Og(e)=="symbol"?e:e+""}function RDt(t,e){if(Og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jDt(t){return t.dataKey}function FDt(t,e){return I.isValidElement(t)?I.cloneElement(t,e):typeof t=="function"?I.createElement(t,e):I.createElement(cDt,e)}var Zi=function(t){function e(){return IDt(this,e),ODt(this,e,arguments)}return MDt(e,t),_Dt(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,f=i.isAnimationActive,p=i.offset,v=i.payload,g=i.payloadUniqBy,m=i.position,y=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,S=v??[];d&&S.length&&(S=Ype(v.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),g,jDt));var C=S.length>0;return I.createElement(CDt,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:f,active:a,coordinate:c,hasPayload:C,offset:p,position:m,reverseDirection:y,useTranslate3d:x,viewBox:b,wrapperStyle:w},FDt(u,$7($7({},this.props),{},{payload:S})))}}])}(j.PureComponent);w3(Zi,"displayName","Tooltip");w3(Zi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var LDt=iu,$Dt=function(){return LDt.Date.now()},NDt=$Dt,BDt=/\s/;function VDt(t){for(var e=t.length;e--&&BDt.test(t.charAt(e)););return e}var zDt=VDt,UDt=zDt,qDt=/^\s+/;function GDt(t){return t&&t.slice(0,UDt(t)+1).replace(qDt,"")}var WDt=GDt,HDt=WDt,N7=bc,YDt=Im,B7=NaN,XDt=/^[-+]0x[0-9a-f]+$/i,KDt=/^0b[01]+$/i,QDt=/^0o[0-7]+$/i,JDt=parseInt;function ZDt(t){if(typeof t=="number")return t;if(YDt(t))return B7;if(N7(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=N7(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=HDt(t);var r=KDt.test(t);return r||QDt.test(t)?JDt(t.slice(2),r?2:8):XDt.test(t)?B7:+t}var ave=ZDt,eMt=bc,c2=NDt,V7=ave,tMt="Expected a function",rMt=Math.max,nMt=Math.min;function iMt(t,e,r){var n,i,a,o,s,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(tMt);e=V7(e)||0,eMt(r)&&(c=!!r.leading,d="maxWait"in r,a=d?rMt(V7(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function p(C){var E=n,A=i;return n=i=void 0,u=C,o=t.apply(A,E),o}function v(C){return u=C,s=setTimeout(y,e),c?p(C):o}function g(C){var E=C-l,A=C-u,P=e-E;return d?nMt(P,a-A):P}function m(C){var E=C-l,A=C-u;return l===void 0||E>=e||E<0||d&&A>=a}function y(){var C=c2();if(m(C))return x(C);s=setTimeout(y,g(C))}function x(C){return s=void 0,f&&n?p(C):(n=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function w(){return s===void 0?o:x(c2())}function S(){var C=c2(),E=m(C);if(n=arguments,i=this,l=C,E){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=b,S.flush=w,S}var aMt=iMt,oMt=aMt,sMt=bc,lMt="Expected a function";function uMt(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(lMt);return sMt(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),oMt(t,e,{leading:n,maxWait:e,trailing:i})}var cMt=uMt;const ove=_t(cMt);function ab(t){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function z7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(r),!0).forEach(function(n){dMt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dMt(t,e,r){return e=fMt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fMt(t){var e=hMt(t,"string");return ab(e)=="symbol"?e:e+""}function hMt(t,e){if(ab(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pMt(t,e){return yMt(t)||mMt(t,e)||gMt(t,e)||vMt()}function vMt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gMt(t,e){if(t){if(typeof t=="string")return U7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U7(t,e)}}function U7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mMt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yMt(t){if(Array.isArray(t))return t}var wf=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,g=v===void 0?0:v,m=t.id,y=t.className,x=t.onResize,b=t.style,w=b===void 0?{}:b,S=j.useRef(null),C=j.useRef();C.current=x,j.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=j.useState({containerWidth:i.width,containerHeight:i.height}),A=pMt(E,2),P=A[0],_=A[1],k=j.useCallback(function(D,B){_(function($){var L=Math.round(D),R=Math.round(B);return $.containerWidth===L&&$.containerHeight===R?$:{containerWidth:L,containerHeight:R}})},[]);j.useEffect(function(){var D=function(U){var q,M=U[0].contentRect,G=M.width,W=M.height;k(G,W),(q=C.current)===null||q===void 0||q.call(C,G,W)};g>0&&(D=ove(D,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(D),$=S.current.getBoundingClientRect(),L=$.width,R=$.height;return k(L,R),B.observe(S.current),function(){B.disconnect()}},[k,g]);var O=j.useMemo(function(){var D=P.containerWidth,B=P.containerHeight;if(D<0||B<0)return null;Us(rh(o)||rh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Us(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=rh(o)?D:o,L=rh(l)?B:l;r&&r>0&&($?L=$/r:L&&($=L*r),f&&L>f&&(L=f)),Us($>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,L,o,l,c,d,r);var R=!Array.isArray(p)&&Bu(p.type).endsWith("Chart");return I.Children.map(p,function(V){return I.isValidElement(V)?j.cloneElement(V,sE({width:$,height:L},R?{style:sE({height:"100%",width:"100%",maxHeight:L,maxWidth:$},V.props.style)}:{})):V})},[r,p,l,f,d,c,P,o]);return I.createElement("div",{id:m?"".concat(m):void 0,className:Nt("recharts-responsive-container",y),style:sE(sE({},w),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:S},O)}),Kv=function(e){return null};Kv.displayName="Cell";function ob(t){"@babel/helpers - typeof";return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(r),!0).forEach(function(n){xMt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xMt(t,e,r){return e=bMt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bMt(t){var e=wMt(t,"string");return ob(e)=="symbol"?e:e+""}function wMt(t,e){if(ob(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jp={widthCache:{},cacheCount:0},SMt=2e3,EMt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},G7="recharts_measurement_span";function AMt(t){var e=rL({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var X0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wp.isSsr)return{width:0,height:0};var n=AMt(r),i=JSON.stringify({text:e,copyStyle:n});if(Jp.widthCache[i])return Jp.widthCache[i];try{var a=document.getElementById(G7);a||(a=document.createElement("span"),a.setAttribute("id",G7),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=rL(rL({},EMt),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Jp.widthCache[i]=l,++Jp.cacheCount>SMt&&(Jp.cacheCount=0,Jp.widthCache={}),l}catch{return{width:0,height:0}}},CMt=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function sb(t){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(t)}function tT(t,e){return _Mt(t)||PMt(t,e)||IMt(t,e)||TMt()}function TMt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IMt(t,e){if(t){if(typeof t=="string")return W7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W7(t,e)}}function W7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PMt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _Mt(t){if(Array.isArray(t))return t}function OMt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DMt(n.key),n)}}function kMt(t,e,r){return e&&H7(t.prototype,e),r&&H7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DMt(t){var e=MMt(t,"string");return sb(e)=="symbol"?e:e+""}function MMt(t,e){if(sb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RMt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jMt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sve={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FMt=Object.keys(sve),Ev="NaN";function LMt(t,e){return t*sve[e]}var lE=function(){function t(e,r){OMt(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!RMt.test(r)&&(this.num=NaN,this.unit=""),FMt.includes(r)&&(this.num=LMt(e,r),this.unit="px")}return kMt(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=jMt.exec(r))!==null&&n!==void 0?n:[],a=tT(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function lve(t){if(t.includes(Ev))return Ev;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Y7.exec(e))!==null&&r!==void 0?r:[],i=tT(n,4),a=i[1],o=i[2],s=i[3],l=lE.parse(a??""),u=lE.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ev;e=e.replace(Y7,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=X7.exec(e))!==null&&d!==void 0?d:[],p=tT(f,4),v=p[1],g=p[2],m=p[3],y=lE.parse(v??""),x=lE.parse(m??""),b=g==="+"?y.add(x):y.subtract(x);if(b.isNaN())return Ev;e=e.replace(X7,b.toString())}return e}var K7=/\(([^()]*)\)/;function $Mt(t){for(var e=t;e.includes("(");){var r=K7.exec(e),n=tT(r,2),i=n[1];e=e.replace(K7,lve(i))}return e}function NMt(t){var e=t.replace(/\s+/g,"");return e=$Mt(e),e=lve(e),e}function BMt(t){try{return NMt(t)}catch{return Ev}}function d2(t){var e=BMt(t.slice(5,-1));return e===Ev?"":e}var VMt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zMt=["dx","dy","angle","className","breakAll"];function nL(){return nL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nL.apply(this,arguments)}function Q7(t,e){if(t==null)return{};var r=UMt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UMt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J7(t,e){return HMt(t)||WMt(t,e)||GMt(t,e)||qMt()}function qMt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMt(t,e){if(t){if(typeof t=="string")return Z7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z7(t,e)}}function Z7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WMt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function HMt(t){if(Array.isArray(t))return t}var uve=/[ \f\n\r\t\v\u2028\u2029]+/,cve=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];jt(r)||(n?a=r.toString().split(""):a=r.toString().split(uve));var o=a.map(function(l){return{word:l,width:X0(l,i).width}}),s=n?0:X0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},YMt=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=$e(o),d=s,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(L,R){var V=R.word,U=R.width,q=L[L.length-1];if(q&&(i==null||a||q.width+U+n<Number(i)))q.words.push(V),q.width+=U+n;else{var M={words:[V],width:U};L.push(M)}return L},[])},p=f(r),v=function($){return $.reduce(function(L,R){return L.width>R.width?L:R})};if(!c)return p;for(var g="",m=function($){var L=d.slice(0,$),R=cve({breakAll:u,style:l,children:L+g}).wordsWithComputedWidth,V=f(R),U=V.length>o||v(V).width>Number(i);return[U,V]},y=0,x=d.length-1,b=0,w;y<=x&&b<=d.length-1;){var S=Math.floor((y+x)/2),C=S-1,E=m(C),A=J7(E,2),P=A[0],_=A[1],k=m(S),O=J7(k,1),D=O[0];if(!P&&!D&&(y=S+1),P&&D&&(x=S-1),!P&&D){w=_;break}b++}return w||p},eX=function(e){var r=jt(e)?[]:e.toString().split(uve);return[{words:r}]},XMt=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!wp.isSsr){var l,u,c=cve({breakAll:o,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,f=c.spaceWidth;l=d,u=f}else return eX(i);return YMt({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return eX(i)},tX="#808080",Hh=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,g=v===void 0?"end":v,m=e.fill,y=m===void 0?tX:m,x=Q7(e,VMt),b=j.useMemo(function(){return XMt({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),w=x.dx,S=x.dy,C=x.angle,E=x.className,A=x.breakAll,P=Q7(x,zMt);if(!ei(n)||!ei(a))return null;var _=n+($e(w)?w:0),k=a+($e(S)?S:0),O;switch(g){case"start":O=d2("calc(".concat(u,")"));break;case"middle":O=d2("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=d2("calc(".concat(b.length-1," * -").concat(s,")"));break}var D=[];if(d){var B=b[0].width,$=x.width;D.push("scale(".concat(($e($)?$/B:1)/B,")"))}return C&&D.push("rotate(".concat(C,", ").concat(_,", ").concat(k,")")),D.length&&(P.transform=D.join(" ")),I.createElement("text",nL({},vt(P,!0),{x:_,y:k,className:Nt("recharts-text",E),textAnchor:p,fill:y.includes("url")?tX:y}),b.map(function(L,R){var V=L.words.join(A?"":" ");return I.createElement("tspan",{x:_,dy:R===0?O:s,key:"".concat(V,"-").concat(R)},V)}))};function xd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KMt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function S3(t){let e,r,n;t.length!==2?(e=xd,r=(s,l)=>xd(t(s),l),n=(s,l)=>t(s)-l):(e=t===xd||t===KMt?t:QMt,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function QMt(){return 0}function dve(t){return t===null?NaN:+t}function*JMt(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ZMt=S3(xd),t1=ZMt.right;S3(dve).center;class rX extends Map{constructor(e,r=r2t){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(nX(this,e))}has(e){return super.has(nX(this,e))}set(e,r){return super.set(e2t(this,e),r)}delete(e){return super.delete(t2t(this,e))}}function nX({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function e2t({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function t2t({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function r2t(t){return t!==null&&typeof t=="object"?t.valueOf():t}function n2t(t=xd){if(t===xd)return fve;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fve(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const i2t=Math.sqrt(50),a2t=Math.sqrt(10),o2t=Math.sqrt(2);function rT(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=i2t?10:a>=a2t?5:a>=o2t?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?rT(t,e,r*2):[s,l,u]}function iL(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?rT(e,t,r):rT(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function aL(t,e,r){return e=+e,t=+t,r=+r,rT(t,e,r)[2]}function oL(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?aL(e,t,r):aL(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function iX(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function aX(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hve(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?fve:n2t(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*d/l+f)),v=Math.min(n,Math.floor(e+(l-u)*d/l+f));hve(t,e,p,v,i)}const a=t[e];let o=r,s=n;for(By(t,r,e),i(t[n],a)>0&&By(t,r,n);o<s;){for(By(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?By(t,r,s):(++s,By(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function By(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function s2t(t,e,r){if(t=Float64Array.from(JMt(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return aX(t);if(e>=1)return iX(t);var n,i=(n-1)*e,a=Math.floor(i),o=iX(hve(t,a).subarray(0,a+1)),s=aX(t.subarray(a+1));return o+(s-o)*(i-a)}}function l2t(t,e,r=dve){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function u2t(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Es(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sL=Symbol("implicit");function E3(){var t=new rX,e=[],r=[],n=sL;function i(a){let o=t.get(a);if(o===void 0){if(n!==sL)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new rX;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return E3(e,r).unknown(n)},Es.apply(i,arguments),i}function lb(){var t=E3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var f=e().length,p=i<n,v=p?i:n,g=p?n:i;a=(g-v)/Math.max(1,f-l+u*2),s&&(a=Math.floor(a)),v+=(g-v-a*(f-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var m=u2t(f).map(function(y){return v+a*y});return r(p?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(s=!!f,d()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return lb(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Es.apply(d(),arguments)}function pve(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pve(e())},t}function K0(){return pve(lb.apply(null,arguments).paddingInner(1))}function c2t(t){return function(){return t}}function nT(t){return+t}var oX=[0,1];function wa(t){return t}function lL(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:c2t(isNaN(e)?NaN:.5)}function d2t(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function f2t(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=lL(i,n),a=r(o,a)):(n=lL(n,i),a=r(a,o)),function(s){return a(n(s))}}function h2t(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=lL(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=t1(t,s,1,n)-1;return a[l](i[l](s))}}function r1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eO(){var t=oX,e=oX,r=jd,n,i,a,o=wa,s,l,u;function c(){var f=Math.min(t.length,e.length);return o!==wa&&(o=d2t(t[0],t[f-1])),s=f>2?h2t:f2t,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(t.map(n),e,r)))(n(o(f)))}return d.invert=function(f){return o(i((u||(u=s(e,t.map(n),wC)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,nT),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=O4,c()},d.clamp=function(f){return arguments.length?(o=f?!0:wa,c()):o!==wa},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return n=f,i=p,c()}}function A3(){return eO()(wa,wa)}function p2t(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function iT(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function kg(t){return t=iT(Math.abs(t)),t?t[1]:NaN}function v2t(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function g2t(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var m2t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ub(t){if(!(e=m2t.exec(t)))throw new Error("invalid format: "+t);var e;return new C3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ub.prototype=C3.prototype;function C3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}C3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y2t(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var vve;function x2t(t,e){var r=iT(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(vve=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+iT(t,Math.max(0,e+a-1))[0]}function sX(t,e){var r=iT(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const lX={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:p2t,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sX(t*100,e),r:sX,s:x2t,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uX(t){return t}var cX=Array.prototype.map,dX=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function b2t(t){var e=t.grouping===void 0||t.thousands===void 0?uX:v2t(cX.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uX:g2t(cX.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=ub(d);var f=d.fill,p=d.align,v=d.sign,g=d.symbol,m=d.zero,y=d.width,x=d.comma,b=d.precision,w=d.trim,S=d.type;S==="n"?(x=!0,S="g"):lX[S]||(b===void 0&&(b=12),w=!0,S="g"),(m||f==="0"&&p==="=")&&(m=!0,f="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?n:/[%p]/.test(S)?o:"",A=lX[S],P=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function _(k){var O=C,D=E,B,$,L;if(S==="c")D=A(k)+D,k="";else{k=+k;var R=k<0||1/k<0;if(k=isNaN(k)?l:A(Math.abs(k),b),w&&(k=y2t(k)),R&&+k==0&&v!=="+"&&(R=!1),O=(R?v==="("?v:s:v==="-"||v==="("?"":v)+O,D=(S==="s"?dX[8+vve/3]:"")+D+(R&&v==="("?")":""),P){for(B=-1,$=k.length;++B<$;)if(L=k.charCodeAt(B),48>L||L>57){D=(L===46?i+k.slice(B+1):k.slice(B))+D,k=k.slice(0,B);break}}}x&&!m&&(k=e(k,1/0));var V=O.length+k.length+D.length,U=V<y?new Array(y-V+1).join(f):"";switch(x&&m&&(k=e(U+k,U.length?y-D.length:1/0),U=""),p){case"<":k=O+k+D+U;break;case"=":k=O+U+k+D;break;case"^":k=U.slice(0,V=U.length>>1)+O+k+D+U.slice(V);break;default:k=U+O+k+D;break}return a(k)}return _.toString=function(){return d+""},_}function c(d,f){var p=u((d=ub(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(kg(f)/3)))*3,g=Math.pow(10,-v),m=dX[8+v/3];return function(y){return p(g*y)+m}}return{format:u,formatPrefix:c}}var uE,T3,gve;w2t({thousands:",",grouping:[3],currency:["$",""]});function w2t(t){return uE=b2t(t),T3=uE.format,gve=uE.formatPrefix,uE}function S2t(t){return Math.max(0,-kg(Math.abs(t)))}function E2t(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kg(e)/3)))*3-kg(Math.abs(t)))}function A2t(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kg(e)-kg(t))+1}function mve(t,e,r,n){var i=oL(t,e,r),a;switch(n=ub(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=E2t(i,o))&&(n.precision=a),gve(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=A2t(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=S2t(i))&&(n.precision=a-(n.type==="%")*2);break}}return T3(n)}function of(t){var e=t.domain;return t.ticks=function(r){var n=e();return iL(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return mve(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=aL(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function aT(){var t=A3();return t.copy=function(){return r1(t,aT())},Es.apply(t,arguments),of(t)}function yve(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,nT),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return yve(t).unknown(e)},t=arguments.length?Array.from(t,nT):[0,1],of(r)}function xve(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function fX(t){return Math.log(t)}function hX(t){return Math.exp(t)}function C2t(t){return-Math.log(-t)}function T2t(t){return-Math.exp(-t)}function I2t(t){return isFinite(t)?+("1e"+t):t<0?0:t}function P2t(t){return t===10?I2t:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _2t(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pX(t){return(e,r)=>-t(-e,r)}function I3(t){const e=t(fX,hX),r=e.domain;let n=10,i,a;function o(){return i=_2t(n),a=P2t(n),r()[0]<0?(i=pX(i),a=pX(a),t(C2t,T2t)):t(fX,hX),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),p=i(c),v,g;const m=s==null?10:+s;let y=[];if(!(n%1)&&p-f<m){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<n;++v)if(g=f<0?v/a(-f):v*a(f),!(g<u)){if(g>c)break;y.push(g)}}else for(;f<=p;++f)for(v=n-1;v>=1;--v)if(g=f>0?v/a(-f):v*a(f),!(g<u)){if(g>c)break;y.push(g)}y.length*2<m&&(y=iL(u,c,m))}else y=iL(f,p,Math.min(p-f,m)).map(a);return d?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ub(l)).precision==null&&(l.trim=!0),l=T3(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},e.nice=()=>r(xve(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function bve(){const t=I3(eO()).domain([1,10]);return t.copy=()=>r1(t,bve()).base(t.base()),Es.apply(t,arguments),t}function vX(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gX(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function P3(t){var e=1,r=t(vX(e),gX(e));return r.constant=function(n){return arguments.length?t(vX(e=+n),gX(e)):e},of(r)}function wve(){var t=P3(eO());return t.copy=function(){return r1(t,wve()).constant(t.constant())},Es.apply(t,arguments)}function mX(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function O2t(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function k2t(t){return t<0?-t*t:t*t}function _3(t){var e=t(wa,wa),r=1;function n(){return r===1?t(wa,wa):r===.5?t(O2t,k2t):t(mX(r),mX(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},of(e)}function O3(){var t=_3(eO());return t.copy=function(){return r1(t,O3()).exponent(t.exponent())},Es.apply(t,arguments),t}function D2t(){return O3.apply(null,arguments).exponent(.5)}function yX(t){return Math.sign(t)*t*t}function M2t(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Sve(){var t=A3(),e=[0,1],r=!1,n;function i(a){var o=M2t(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(yX(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,nT)).map(yX)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Sve(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Es.apply(i,arguments),of(i)}function Eve(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=l2t(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[t1(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xd),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Eve().domain(t).range(e).unknown(n)},Es.apply(a,arguments)}function Ave(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[t1(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Ave().domain([t,e]).range(i).unknown(a)},Es.apply(of(o),arguments)}function Cve(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[t1(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Cve().domain(t).range(e).unknown(r)},Es.apply(i,arguments)}const f2=new Date,h2=new Date;function ii(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>ii(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(f2.setTime(+a),h2.setTime(+o),t(f2),t(h2),Math.floor(r(f2,h2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const oT=ii(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);oT.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ii(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):oT);oT.range;const Du=1e3,es=Du*60,Mu=es*60,nc=Mu*24,k3=nc*7,xX=nc*30,p2=nc*365,nh=ii(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Du)},(t,e)=>(e-t)/Du,t=>t.getUTCSeconds());nh.range;const D3=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Du)},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getMinutes());D3.range;const M3=ii(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getUTCMinutes());M3.range;const R3=ii(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Du-t.getMinutes()*es)},(t,e)=>{t.setTime(+t+e*Mu)},(t,e)=>(e-t)/Mu,t=>t.getHours());R3.range;const j3=ii(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Mu)},(t,e)=>(e-t)/Mu,t=>t.getUTCHours());j3.range;const n1=ii(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*es)/nc,t=>t.getDate()-1);n1.range;const tO=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nc,t=>t.getUTCDate()-1);tO.range;const Tve=ii(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nc,t=>Math.floor(t/nc));Tve.range;function Sp(t){return ii(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*es)/k3)}const rO=Sp(0),sT=Sp(1),R2t=Sp(2),j2t=Sp(3),Dg=Sp(4),F2t=Sp(5),L2t=Sp(6);rO.range;sT.range;R2t.range;j2t.range;Dg.range;F2t.range;L2t.range;function Ep(t){return ii(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/k3)}const nO=Ep(0),lT=Ep(1),$2t=Ep(2),N2t=Ep(3),Mg=Ep(4),B2t=Ep(5),V2t=Ep(6);nO.range;lT.range;$2t.range;N2t.range;Mg.range;B2t.range;V2t.range;const F3=ii(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());F3.range;const L3=ii(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());L3.range;const ic=ii(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ic.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ic.range;const ac=ii(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ac.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ii(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ac.range;function Ive(t,e,r,n,i,a){const o=[[nh,1,Du],[nh,5,5*Du],[nh,15,15*Du],[nh,30,30*Du],[a,1,es],[a,5,5*es],[a,15,15*es],[a,30,30*es],[i,1,Mu],[i,3,3*Mu],[i,6,6*Mu],[i,12,12*Mu],[n,1,nc],[n,2,2*nc],[r,1,k3],[e,1,xX],[e,3,3*xX],[t,1,p2]];function s(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),v=p?p.range(u,+c+1):[];return f?v.reverse():v}function l(u,c,d){const f=Math.abs(c-u)/d,p=S3(([,,m])=>m).right(o,f);if(p===o.length)return t.every(oL(u/p2,c/p2,d));if(p===0)return oT.every(Math.max(oL(u,c,d),1));const[v,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return v.every(g)}return[s,l]}const[z2t,U2t]=Ive(ac,L3,nO,Tve,j3,M3),[q2t,G2t]=Ive(ic,F3,rO,n1,R3,D3);function v2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function g2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function W2t(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=zy(i),c=Uy(i),d=zy(a),f=Uy(a),p=zy(o),v=Uy(o),g=zy(s),m=Uy(s),y=zy(l),x=Uy(l),b={a:R,A:V,b:U,B:q,c:null,d:CX,e:CX,f:vRt,g:CRt,G:IRt,H:fRt,I:hRt,j:pRt,L:Pve,m:gRt,M:mRt,p:M,q:G,Q:PX,s:_X,S:yRt,u:xRt,U:bRt,V:wRt,w:SRt,W:ERt,x:null,X:null,y:ARt,Y:TRt,Z:PRt,"%":IX},w={a:W,A:J,b:te,B:H,c:null,d:TX,e:TX,f:DRt,g:zRt,G:qRt,H:_Rt,I:ORt,j:kRt,L:Ove,m:MRt,M:RRt,p:ee,q:re,Q:PX,s:_X,S:jRt,u:FRt,U:LRt,V:$Rt,w:NRt,W:BRt,x:null,X:null,y:VRt,Y:URt,Z:GRt,"%":IX},S={a:_,A:k,b:O,B:D,c:B,d:EX,e:EX,f:lRt,g:SX,G:wX,H:AX,I:AX,j:iRt,L:sRt,m:nRt,M:aRt,p:P,q:rRt,Q:cRt,s:dRt,S:oRt,u:Q2t,U:J2t,V:Z2t,w:K2t,W:eRt,x:$,X:L,y:SX,Y:wX,Z:tRt,"%":uRt};b.x=C(r,b),b.X=C(n,b),b.c=C(e,b),w.x=C(r,w),w.X=C(n,w),w.c=C(e,w);function C(Q,se){return function(ne){var le=[],ge=-1,be=0,Pe=Q.length,Ce,Ue,we;for(ne instanceof Date||(ne=new Date(+ne));++ge<Pe;)Q.charCodeAt(ge)===37&&(le.push(Q.slice(be,ge)),(Ue=bX[Ce=Q.charAt(++ge)])!=null?Ce=Q.charAt(++ge):Ue=Ce==="e"?" ":"0",(we=se[Ce])&&(Ce=we(ne,Ue)),le.push(Ce),be=ge+1);return le.push(Q.slice(be,ge)),le.join("")}}function E(Q,se){return function(ne){var le=Vy(1900,void 0,1),ge=A(le,Q,ne+="",0),be,Pe;if(ge!=ne.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(se&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(be=g2(Vy(le.y,0,1)),Pe=be.getUTCDay(),be=Pe>4||Pe===0?lT.ceil(be):lT(be),be=tO.offset(be,(le.V-1)*7),le.y=be.getUTCFullYear(),le.m=be.getUTCMonth(),le.d=be.getUTCDate()+(le.w+6)%7):(be=v2(Vy(le.y,0,1)),Pe=be.getDay(),be=Pe>4||Pe===0?sT.ceil(be):sT(be),be=n1.offset(be,(le.V-1)*7),le.y=be.getFullYear(),le.m=be.getMonth(),le.d=be.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Pe="Z"in le?g2(Vy(le.y,0,1)).getUTCDay():v2(Vy(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Pe+5)%7:le.w+le.U*7-(Pe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,g2(le)):v2(le)}}function A(Q,se,ne,le){for(var ge=0,be=se.length,Pe=ne.length,Ce,Ue;ge<be;){if(le>=Pe)return-1;if(Ce=se.charCodeAt(ge++),Ce===37){if(Ce=se.charAt(ge++),Ue=S[Ce in bX?se.charAt(ge++):Ce],!Ue||(le=Ue(Q,ne,le))<0)return-1}else if(Ce!=ne.charCodeAt(le++))return-1}return le}function P(Q,se,ne){var le=u.exec(se.slice(ne));return le?(Q.p=c.get(le[0].toLowerCase()),ne+le[0].length):-1}function _(Q,se,ne){var le=p.exec(se.slice(ne));return le?(Q.w=v.get(le[0].toLowerCase()),ne+le[0].length):-1}function k(Q,se,ne){var le=d.exec(se.slice(ne));return le?(Q.w=f.get(le[0].toLowerCase()),ne+le[0].length):-1}function O(Q,se,ne){var le=y.exec(se.slice(ne));return le?(Q.m=x.get(le[0].toLowerCase()),ne+le[0].length):-1}function D(Q,se,ne){var le=g.exec(se.slice(ne));return le?(Q.m=m.get(le[0].toLowerCase()),ne+le[0].length):-1}function B(Q,se,ne){return A(Q,e,se,ne)}function $(Q,se,ne){return A(Q,r,se,ne)}function L(Q,se,ne){return A(Q,n,se,ne)}function R(Q){return o[Q.getDay()]}function V(Q){return a[Q.getDay()]}function U(Q){return l[Q.getMonth()]}function q(Q){return s[Q.getMonth()]}function M(Q){return i[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function W(Q){return o[Q.getUTCDay()]}function J(Q){return a[Q.getUTCDay()]}function te(Q){return l[Q.getUTCMonth()]}function H(Q){return s[Q.getUTCMonth()]}function ee(Q){return i[+(Q.getUTCHours()>=12)]}function re(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var se=C(Q+="",b);return se.toString=function(){return Q},se},parse:function(Q){var se=E(Q+="",!1);return se.toString=function(){return Q},se},utcFormat:function(Q){var se=C(Q+="",w);return se.toString=function(){return Q},se},utcParse:function(Q){var se=E(Q+="",!0);return se.toString=function(){return Q},se}}}var bX={"-":"",_:" ",0:"0"},Si=/^\s*\d+/,H2t=/^%/,Y2t=/[\\^$*+?|[\]().{}]/g;function Sr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function X2t(t){return t.replace(Y2t,"\\$&")}function zy(t){return new RegExp("^(?:"+t.map(X2t).join("|")+")","i")}function Uy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function K2t(t,e,r){var n=Si.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Q2t(t,e,r){var n=Si.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function J2t(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Z2t(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function eRt(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function wX(t,e,r){var n=Si.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function SX(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tRt(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rRt(t,e,r){var n=Si.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function nRt(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function EX(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function iRt(t,e,r){var n=Si.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function AX(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function aRt(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function oRt(t,e,r){var n=Si.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function sRt(t,e,r){var n=Si.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function lRt(t,e,r){var n=Si.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uRt(t,e,r){var n=H2t.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function cRt(t,e,r){var n=Si.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function dRt(t,e,r){var n=Si.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function CX(t,e){return Sr(t.getDate(),e,2)}function fRt(t,e){return Sr(t.getHours(),e,2)}function hRt(t,e){return Sr(t.getHours()%12||12,e,2)}function pRt(t,e){return Sr(1+n1.count(ic(t),t),e,3)}function Pve(t,e){return Sr(t.getMilliseconds(),e,3)}function vRt(t,e){return Pve(t,e)+"000"}function gRt(t,e){return Sr(t.getMonth()+1,e,2)}function mRt(t,e){return Sr(t.getMinutes(),e,2)}function yRt(t,e){return Sr(t.getSeconds(),e,2)}function xRt(t){var e=t.getDay();return e===0?7:e}function bRt(t,e){return Sr(rO.count(ic(t)-1,t),e,2)}function _ve(t){var e=t.getDay();return e>=4||e===0?Dg(t):Dg.ceil(t)}function wRt(t,e){return t=_ve(t),Sr(Dg.count(ic(t),t)+(ic(t).getDay()===4),e,2)}function SRt(t){return t.getDay()}function ERt(t,e){return Sr(sT.count(ic(t)-1,t),e,2)}function ARt(t,e){return Sr(t.getFullYear()%100,e,2)}function CRt(t,e){return t=_ve(t),Sr(t.getFullYear()%100,e,2)}function TRt(t,e){return Sr(t.getFullYear()%1e4,e,4)}function IRt(t,e){var r=t.getDay();return t=r>=4||r===0?Dg(t):Dg.ceil(t),Sr(t.getFullYear()%1e4,e,4)}function PRt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Sr(e/60|0,"0",2)+Sr(e%60,"0",2)}function TX(t,e){return Sr(t.getUTCDate(),e,2)}function _Rt(t,e){return Sr(t.getUTCHours(),e,2)}function ORt(t,e){return Sr(t.getUTCHours()%12||12,e,2)}function kRt(t,e){return Sr(1+tO.count(ac(t),t),e,3)}function Ove(t,e){return Sr(t.getUTCMilliseconds(),e,3)}function DRt(t,e){return Ove(t,e)+"000"}function MRt(t,e){return Sr(t.getUTCMonth()+1,e,2)}function RRt(t,e){return Sr(t.getUTCMinutes(),e,2)}function jRt(t,e){return Sr(t.getUTCSeconds(),e,2)}function FRt(t){var e=t.getUTCDay();return e===0?7:e}function LRt(t,e){return Sr(nO.count(ac(t)-1,t),e,2)}function kve(t){var e=t.getUTCDay();return e>=4||e===0?Mg(t):Mg.ceil(t)}function $Rt(t,e){return t=kve(t),Sr(Mg.count(ac(t),t)+(ac(t).getUTCDay()===4),e,2)}function NRt(t){return t.getUTCDay()}function BRt(t,e){return Sr(lT.count(ac(t)-1,t),e,2)}function VRt(t,e){return Sr(t.getUTCFullYear()%100,e,2)}function zRt(t,e){return t=kve(t),Sr(t.getUTCFullYear()%100,e,2)}function URt(t,e){return Sr(t.getUTCFullYear()%1e4,e,4)}function qRt(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Mg(t):Mg.ceil(t),Sr(t.getUTCFullYear()%1e4,e,4)}function GRt(){return"+0000"}function IX(){return"%"}function PX(t){return+t}function _X(t){return Math.floor(+t/1e3)}var Zp,Dve,Mve;WRt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WRt(t){return Zp=W2t(t),Dve=Zp.format,Zp.parse,Mve=Zp.utcFormat,Zp.utcParse,Zp}function HRt(t){return new Date(t)}function YRt(t){return t instanceof Date?+t:+new Date(+t)}function $3(t,e,r,n,i,a,o,s,l,u){var c=A3(),d=c.invert,f=c.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),x=u("%b %d"),b=u("%B"),w=u("%Y");function S(C){return(l(C)<C?p:s(C)<C?v:o(C)<C?g:a(C)<C?m:n(C)<C?i(C)<C?y:x:r(C)<C?b:w)(C)}return c.invert=function(C){return new Date(d(C))},c.domain=function(C){return arguments.length?f(Array.from(C,YRt)):f().map(HRt)},c.ticks=function(C){var E=f();return t(E[0],E[E.length-1],C??10)},c.tickFormat=function(C,E){return E==null?S:u(E)},c.nice=function(C){var E=f();return(!C||typeof C.range!="function")&&(C=e(E[0],E[E.length-1],C??10)),C?f(xve(E,C)):c},c.copy=function(){return r1(c,$3(t,e,r,n,i,a,o,s,l,u))},c}function XRt(){return Es.apply($3(q2t,G2t,ic,F3,rO,n1,R3,D3,nh,Dve).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KRt(){return Es.apply($3(z2t,U2t,ac,L3,nO,tO,j3,M3,nh,Mve).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iO(){var t=0,e=1,r,n,i,a,o=wa,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(f){var p,v;return arguments.length?([p,v]=f,o=d(p,v),u):[o(0),o(1)]}}return u.range=c(jd),u.rangeRound=c(O4),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function sf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Rve(){var t=of(iO()(wa));return t.copy=function(){return sf(t,Rve())},Sc.apply(t,arguments)}function jve(){var t=I3(iO()).domain([1,10]);return t.copy=function(){return sf(t,jve()).base(t.base())},Sc.apply(t,arguments)}function Fve(){var t=P3(iO());return t.copy=function(){return sf(t,Fve()).constant(t.constant())},Sc.apply(t,arguments)}function N3(){var t=_3(iO());return t.copy=function(){return sf(t,N3()).exponent(t.exponent())},Sc.apply(t,arguments)}function QRt(){return N3.apply(null,arguments).exponent(.5)}function Lve(){var t=[],e=wa;function r(n){if(n!=null&&!isNaN(n=+n))return e((t1(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>s2t(t,a/n))},r.copy=function(){return Lve(e).domain(t)},Sc.apply(r,arguments)}function aO(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=wa,c,d=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+c(g))-a)*(n*g<n*a?s:l),u(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=c(t=+t),a=c(e=+e),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(m){var y,x,b;return arguments.length?([y,x,b]=m,u=Krt(g,[y,x,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(jd),p.rangeRound=v(O4),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return c=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function $ve(){var t=of(aO()(wa));return t.copy=function(){return sf(t,$ve())},Sc.apply(t,arguments)}function Nve(){var t=I3(aO()).domain([.1,1,10]);return t.copy=function(){return sf(t,Nve()).base(t.base())},Sc.apply(t,arguments)}function Bve(){var t=P3(aO());return t.copy=function(){return sf(t,Bve()).constant(t.constant())},Sc.apply(t,arguments)}function B3(){var t=_3(aO());return t.copy=function(){return sf(t,B3()).exponent(t.exponent())},Sc.apply(t,arguments)}function JRt(){return B3.apply(null,arguments).exponent(.5)}const OX=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lb,scaleDiverging:$ve,scaleDivergingLog:Nve,scaleDivergingPow:B3,scaleDivergingSqrt:JRt,scaleDivergingSymlog:Bve,scaleIdentity:yve,scaleImplicit:sL,scaleLinear:aT,scaleLog:bve,scaleOrdinal:E3,scalePoint:K0,scalePow:O3,scaleQuantile:Eve,scaleQuantize:Ave,scaleRadial:Sve,scaleSequential:Rve,scaleSequentialLog:jve,scaleSequentialPow:N3,scaleSequentialQuantile:Lve,scaleSequentialSqrt:QRt,scaleSequentialSymlog:Fve,scaleSqrt:D2t,scaleSymlog:wve,scaleThreshold:Cve,scaleTime:XRt,scaleUtc:KRt,tickFormat:mve},Symbol.toStringTag,{value:"Module"}));var ZRt=Im;function ejt(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!ZRt(o):r(o,s)))var s=o,l=a}return l}var oO=ejt;function tjt(t,e){return t>e}var Vve=tjt,rjt=oO,njt=Vve,ijt=Wm;function ajt(t){return t&&t.length?rjt(t,ijt,njt):void 0}var ojt=ajt;const sO=_t(ojt);function sjt(t,e){return t<e}var zve=sjt,ljt=oO,ujt=zve,cjt=Wm;function djt(t){return t&&t.length?ljt(t,cjt,ujt):void 0}var fjt=djt;const lO=_t(fjt);var hjt=m4,pjt=lu,vjt=eve,gjt=eo;function mjt(t,e){var r=gjt(t)?hjt:vjt;return r(t,pjt(e))}var yjt=mjt,xjt=Jpe,bjt=yjt;function wjt(t,e){return xjt(bjt(t,e),1)}var Sjt=wjt;const Ejt=_t(Sjt);var Ajt=y3;function Cjt(t,e){return Ajt(t,e)}var Tjt=Cjt;const i1=_t(Tjt);var Hm=1e9,Ijt={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z3,fn=!0,ds="[DecimalError] ",yh=ds+"Invalid argument: ",V3=ds+"Exponent out of range: ",Ym=Math.floor,Ff=Math.pow,Pjt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,go,li=1e7,nn=7,Uve=9007199254740991,uT=Ym(Uve/nn),Ze={};Ze.absoluteValue=Ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ze.comparedTo=Ze.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*nn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(t){return Vu(this,new this.constructor(t))};Ze.dividedToIntegerBy=Ze.idiv=function(t){var e=this,r=e.constructor;return Nr(Vu(e,new r(t),0,1),r.precision)};Ze.equals=Ze.eq=function(t){return!this.cmp(t)};Ze.exponent=function(){return qn(this)};Ze.greaterThan=Ze.gt=function(t){return this.cmp(t)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(t){return this.cmp(t)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(t){return this.cmp(t)<0};Ze.lessThanOrEqualTo=Ze.lte=function(t){return this.cmp(t)<1};Ze.logarithm=Ze.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(go))throw Error(ds+"NaN");if(r.s<1)throw Error(ds+(r.s?"NaN":"-Infinity"));return r.eq(go)?new n(0):(fn=!1,e=Vu(cb(r,a),cb(t,a),a),fn=!0,Nr(e,i))};Ze.minus=Ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wve(e,t):qve(e,(t.s=-t.s,t))};Ze.modulo=Ze.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ds+"NaN");return r.s?(fn=!1,e=Vu(r,t,0,1).times(t),fn=!0,r.minus(e)):Nr(new n(r),i)};Ze.naturalExponential=Ze.exp=function(){return Gve(this)};Ze.naturalLogarithm=Ze.ln=function(){return cb(this)};Ze.negated=Ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ze.plus=Ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qve(e,t):Wve(e,(t.s=-t.s,t))};Ze.precision=Ze.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(yh+t);if(e=qn(i)+1,n=i.d.length-1,r=n*nn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ze.squareRoot=Ze.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ds+"NaN")}for(t=qn(s),fn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Il(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ym((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Vu(s,a,o+2)).times(.5),Il(a.d).slice(0,o)===(e=Il(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Nr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return fn=!0,Nr(n,r)};Ze.times=Ze.mul=function(t){var e,r,n,i,a,o,s,l,u,c=this,d=c.constructor,f=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,r=c.e+t.e,l=f.length,u=p.length,l<u&&(a=f,f=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*f[i-n-1]+e,a[i--]=s%li|0,e=s/li|0;a[i]=(a[i]+e)%li|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,fn?Nr(t,d.precision):t};Ze.toDecimalPlaces=Ze.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Xl(t,0,Hm),e===void 0?e=n.rounding:Xl(e,0,8),Nr(r,t+qn(r)+1,e))};Ze.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Yh(n,!0):(Xl(t,0,Hm),e===void 0?e=i.rounding:Xl(e,0,8),n=Nr(new i(n),t+1,e),r=Yh(n,!0,t+1)),r};Ze.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Yh(i):(Xl(t,0,Hm),e===void 0?e=a.rounding:Xl(e,0,8),n=Nr(new a(i),t+qn(i)+1,e),r=Yh(n.abs(),!1,t+qn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var t=this,e=t.constructor;return Nr(new e(t),qn(t)+1,e.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(go);if(s=new l(s),!s.s){if(t.s<1)throw Error(ds+"Infinity");return s}if(s.eq(go))return s;if(n=l.precision,t.eq(go))return Nr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=c<0?-c:c)<=Uve){for(i=new l(go),e=Math.ceil(n/nn+4),fn=!1;r%2&&(i=i.times(s),DX(i.d,e)),r=Ym(r/2),r!==0;)s=s.times(s),DX(s.d,e);return fn=!0,t.s<0?new l(go).div(i):Nr(i,n)}}else if(a<0)throw Error(ds+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,fn=!1,i=t.times(cb(s,n+u)),fn=!0,i=Gve(i),i.s=a,i};Ze.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=qn(i),n=Yh(i,r<=a.toExpNeg||r>=a.toExpPos)):(Xl(t,1,Hm),e===void 0?e=a.rounding:Xl(e,0,8),i=Nr(new a(i),t,e),r=qn(i),n=Yh(i,t<=r||r<=a.toExpNeg,t)),n};Ze.toSignificantDigits=Ze.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Xl(t,1,Hm),e===void 0?e=n.rounding:Xl(e,0,8)),Nr(new n(r),t,e)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qn(t),r=t.constructor;return Yh(t,e<=r.toExpNeg||e>=r.toExpPos)};function qve(t,e){var r,n,i,a,o,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),fn?Nr(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/nn),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/li|0,l[a]%=li;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,fn?Nr(e,d):e}function Xl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(yh+t)}function Il(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=nn-n.length,r&&(a+=zc(r)),a+=n;o=t[e],n=o+"",r=nn-n.length,r&&(a+=zc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Vu=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%li|0,o=a/li|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*li+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,f,p,v,g,m,y,x,b,w,S,C,E,A,P=n.constructor,_=n.s==i.s?1:-1,k=n.d,O=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(ds+"Division by zero");for(l=n.e-i.e,E=O.length,S=k.length,p=new P(_),v=p.d=[],u=0;O[u]==(k[u]||0);)++u;if(O[u]>(k[u]||0)&&--l,a==null?x=a=P.precision:o?x=a+(qn(n)-qn(i))+1:x=a,x<0)return new P(0);if(x=x/nn+2|0,u=0,E==1)for(c=0,O=O[0],x++;(u<S||c)&&x--;u++)b=c*li+(k[u]||0),v[u]=b/O|0,c=b%O|0;else{for(c=li/(O[0]+1)|0,c>1&&(O=t(O,c),k=t(k,c),E=O.length,S=k.length),w=E,g=k.slice(0,E),m=g.length;m<E;)g[m++]=0;A=O.slice(),A.unshift(0),C=O[0],O[1]>=li/2&&++C;do c=0,s=e(O,g,E,m),s<0?(y=g[0],E!=m&&(y=y*li+(g[1]||0)),c=y/C|0,c>1?(c>=li&&(c=li-1),d=t(O,c),f=d.length,m=g.length,s=e(d,g,f,m),s==1&&(c--,r(d,E<f?A:O,f))):(c==0&&(s=c=1),d=O.slice()),f=d.length,f<m&&d.unshift(0),r(g,d,m),s==-1&&(m=g.length,s=e(O,g,E,m),s<1&&(c++,r(g,E<m?A:O,m))),m=g.length):s===0&&(c++,g=[0]),v[u++]=c,s&&g[0]?g[m++]=k[w]||0:(g=[k[w]],m=1);while((w++<S||g[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=l,Nr(p,o?a+qn(p)+1:a)}}();function Gve(t,e){var r,n,i,a,o,s,l=0,u=0,c=t.constructor,d=c.precision;if(qn(t)>16)throw Error(V3+qn(t));if(!t.s)return new c(go);for(fn=!1,s=d,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Ff(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(go),c.precision=s;;){if(i=Nr(i.times(t),s),r=r.times(++l),o=a.plus(Vu(i,r,s)),Il(o.d).slice(0,s)===Il(a.d).slice(0,s)){for(;u--;)a=Nr(a.times(a),s);return c.precision=d,e==null?(fn=!0,Nr(a,d)):a}a=o}}function qn(t){for(var e=t.e*nn,r=t.d[0];r>=10;r/=10)e++;return e}function m2(t,e,r){if(e>t.LN10.sd())throw fn=!0,r&&(t.precision=r),Error(ds+"LN10 precision limit exceeded");return Nr(new t(t.LN10),e)}function zc(t){for(var e="";t--;)e+="0";return e}function cb(t,e){var r,n,i,a,o,s,l,u,c,d=1,f=10,p=t,v=p.d,g=p.constructor,m=g.precision;if(p.s<1)throw Error(ds+(p.s?"NaN":"-Infinity"));if(p.eq(go))return new g(0);if(e==null?(fn=!1,u=m):u=e,p.eq(10))return e==null&&(fn=!0),m2(g,u);if(u+=f,g.precision=u,r=Il(v),n=r.charAt(0),a=qn(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Il(p.d),n=r.charAt(0),d++;a=qn(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=m2(g,u+2,m).times(a+""),p=cb(new g(n+"."+r.slice(1)),u-f).plus(l),g.precision=m,e==null?(fn=!0,Nr(p,m)):p;for(s=o=p=Vu(p.minus(go),p.plus(go),u),c=Nr(p.times(p),u),i=3;;){if(o=Nr(o.times(c),u),l=s.plus(Vu(o,new g(i),u)),Il(l.d).slice(0,u)===Il(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(m2(g,u+2,m).times(a+""))),s=Vu(s,new g(d),u),g.precision=m,e==null?(fn=!0,Nr(s,m)):s;s=l,i+=2}}function kX(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ym(r/nn),t.d=[],n=(r+1)%nn,r<0&&(n+=nn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=nn;n<i;)t.d.push(+e.slice(n,n+=nn));e=e.slice(n),n=nn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),fn&&(t.e>uT||t.e<-uT))throw Error(V3+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nr(t,e,r){var n,i,a,o,s,l,u,c,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=nn,i=e,u=d[c=0];else{if(c=Math.ceil((n+1)/nn),a=d.length,c>=a)return t;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=nn,i=n-nn+o}if(r!==void 0&&(a=Ff(10,o-i-1),s=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Ff(10,o-i):0:d[c-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=qn(t),d.length=1,e=e-a-1,d[0]=Ff(10,(nn-e%nn)%nn),t.e=Ym(-e/nn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Ff(10,nn-n),d[c]=i>0?(u/Ff(10,o-i)%Ff(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==li&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=li)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(fn&&(t.e>uT||t.e<-uT))throw Error(V3+qn(t));return t}function Wve(t,e){var r,n,i,a,o,s,l,u,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),fn?Nr(e,p):e;if(l=t.d,d=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(p/nn),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=li-1;--l[a],l[i]+=li}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,fn?Nr(e,p):e):new f(0)}function Yh(t,e,r){var n,i=qn(t),a=Il(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+zc(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zc(-i-1)+a,r&&(n=r-o)>0&&(a+=zc(n))):i>=o?(a+=zc(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+zc(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=zc(n))),t.s<0?"-"+a:a}function DX(t,e){if(t.length>e)return t.length=e,!0}function Hve(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(yh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return kX(o,a.toString())}else if(typeof a!="string")throw Error(yh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Pjt.test(a))kX(o,a);else throw Error(yh+a)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Hve,i.config=i.set=_jt,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function _jt(t){if(!t||typeof t!="object")throw Error(ds+"Object expected");var e,r,n,i=["precision",1,Hm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ym(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(yh+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yh+r+": "+n);return this}var z3=Hve(Ijt);go=new z3(1);const jr=z3;function Ojt(t){return Rjt(t)||Mjt(t)||Djt(t)||kjt()}function kjt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Djt(t,e){if(t){if(typeof t=="string")return uL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uL(t,e)}}function Mjt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rjt(t){if(Array.isArray(t))return uL(t)}function uL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jjt=function(e){return e},Yve={},Xve=function(e){return e===Yve},MX=function(e){return function r(){return arguments.length===0||arguments.length===1&&Xve(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Fjt=function t(e,r){return e===1?r:MX(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Yve}).length;return o>=e?r.apply(void 0,i):t(e-o,MX(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return Xve(d)?l.shift():d});return r.apply(void 0,Ojt(c).concat(l))}))})},uO=function(e){return Fjt(e.length,e)},cL=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Ljt=uO(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),$jt=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return jjt;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},dL=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Kve=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Njt(t){var e;return t===0?e=1:e=Math.floor(new jr(t).abs().log(10).toNumber())+1,e}function Bjt(t,e,r){for(var n=new jr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Vjt=uO(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),zjt=uO(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Ujt=uO(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const cO={rangeStep:Bjt,getDigitCount:Njt,interpolateNumber:Vjt,uninterpolateNumber:zjt,uninterpolateTruncation:Ujt};function fL(t){return Wjt(t)||Gjt(t)||Qve(t)||qjt()}function qjt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gjt(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Wjt(t){if(Array.isArray(t))return hL(t)}function db(t,e){return Xjt(t)||Yjt(t,e)||Qve(t,e)||Hjt()}function Hjt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t,e){if(t){if(typeof t=="string")return hL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yjt(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Xjt(t){if(Array.isArray(t))return t}function Jve(t){var e=db(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Zve(t,e,r){if(t.lte(0))return new jr(0);var n=cO.getDigitCount(t.toNumber()),i=new jr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new jr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new jr(Math.ceil(l))}function Kjt(t,e,r){var n=1,i=new jr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new jr(10).pow(cO.getDigitCount(t)-1),i=new jr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new jr(Math.floor(t)))}else t===0?i=new jr(Math.floor((e-1)/2)):r||(i=new jr(Math.floor(t)));var o=Math.floor((e-1)/2),s=$jt(Ljt(function(l){return i.add(new jr(l-o).mul(n)).toNumber()}),cL);return s(0,e)}function ege(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var a=Zve(new jr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new jr(0):(o=new jr(t).add(e).div(2),o=o.sub(new jr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new jr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?ege(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new jr(s).mul(a)),tickMax:o.add(new jr(l).mul(a))})}function Qjt(t){var e=db(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Jve([r,n]),l=db(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(fL(cL(0,i-1).map(function(){return 1/0}))):[].concat(fL(cL(0,i-1).map(function(){return-1/0})),[c]);return r>n?dL(d):d}if(u===c)return Kjt(u,i,a);var f=ege(u,c,o,a),p=f.step,v=f.tickMin,g=f.tickMax,m=cO.rangeStep(v,g.add(new jr(.1).mul(p)),p);return r>n?dL(m):m}function Jjt(t,e){var r=db(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Jve([n,i]),s=db(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),d=Zve(new jr(u).sub(l).div(c-1),a,0),f=[].concat(fL(cO.rangeStep(new jr(l),new jr(u).sub(new jr(.99).mul(d)),d)),[u]);return n>i?dL(f):f}var Zjt=Kve(Qjt),eFt=Kve(Jjt),tFt="Invariant failed";function qd(t,e){throw new Error(tFt)}var rFt=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cT.apply(this,arguments)}function nFt(t,e){return sFt(t)||oFt(t,e)||aFt(t,e)||iFt()}function iFt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFt(t,e){if(t){if(typeof t=="string")return RX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RX(t,e)}}function RX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oFt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sFt(t){if(Array.isArray(t))return t}function lFt(t,e){if(t==null)return{};var r=uFt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uFt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cFt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dFt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nge(n.key),n)}}function fFt(t,e,r){return e&&dFt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hFt(t,e,r){return e=dT(e),pFt(t,tge()?Reflect.construct(e,r||[],dT(t).constructor):e.apply(t,r))}function pFt(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vFt(t)}function vFt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tge=function(){return!!t})()}function dT(t){return dT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dT(t)}function gFt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pL(t,e)}function pL(t,e){return pL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pL(t,e)}function rge(t,e,r){return e=nge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nge(t){var e=mFt(t,"string");return Rg(e)=="symbol"?e:e+""}function mFt(t,e){if(Rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a1=function(t){function e(){return cFt(this,e),hFt(this,e,arguments)}return gFt(e,t),fFt(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,d=n.yAxis,f=lFt(n,rFt),p=vt(f,!1);this.props.direction==="x"&&c.type!=="number"&&qd();var v=l.map(function(g){var m=u(g,s),y=m.x,x=m.y,b=m.value,w=m.errorVal;if(!w)return null;var S=[],C,E;if(Array.isArray(w)){var A=nFt(w,2);C=A[0],E=A[1]}else C=E=w;if(a==="vertical"){var P=c.scale,_=x+i,k=_+o,O=_-o,D=P(b-C),B=P(b+E);S.push({x1:B,y1:k,x2:B,y2:O}),S.push({x1:D,y1:_,x2:B,y2:_}),S.push({x1:D,y1:k,x2:D,y2:O})}else if(a==="horizontal"){var $=d.scale,L=y+i,R=L-o,V=L+o,U=$(b-C),q=$(b+E);S.push({x1:R,y1:q,x2:V,y2:q}),S.push({x1:L,y1:U,x2:L,y2:q}),S.push({x1:R,y1:U,x2:V,y2:U})}return I.createElement(br,cT({className:"recharts-errorBar",key:"bar-".concat(S.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},p),S.map(function(M){return I.createElement("line",cT({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return I.createElement(br,{className:"recharts-errorBars"},v)}}])}(I.Component);rge(a1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rge(a1,"displayName","ErrorBar");function fb(t){"@babel/helpers - typeof";return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function jX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jX(Object(r),!0).forEach(function(n){yFt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yFt(t,e,r){return e=xFt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xFt(t){var e=bFt(t,"string");return fb(e)=="symbol"?e:e+""}function bFt(t,e){if(fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ige=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ho(r,po);if(!o)return null;var s=po.defaultProps,l=s!==void 0?Sf(Sf({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(c,d){var f=d.item,p=d.props,v=p.sectors||p.data||[];return c.concat(v.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(c){var d=c.item,f=d.type.defaultProps,p=f!==void 0?Sf(Sf({},f),d.props):{},v=p.dataKey,g=p.name,m=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||m||"square",color:U3(d),value:g||v,payload:p}}),Sf(Sf(Sf({},l),po.getWithHeight(o,i)),{},{payload:u,item:o})};function hb(t){"@babel/helpers - typeof";return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function FX(t){return AFt(t)||EFt(t)||SFt(t)||wFt()}function wFt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SFt(t,e){if(t){if(typeof t=="string")return vL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vL(t,e)}}function EFt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AFt(t){if(Array.isArray(t))return vL(t)}function vL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LX(Object(r),!0).forEach(function(n){Qv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qv(t,e,r){return e=CFt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CFt(t){var e=TFt(t,"string");return hb(e)=="symbol"?e:e+""}function TFt(t,e){if(hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jn(t,e,r){return jt(t)||jt(e)?r:ei(e)?To(t,e,r):Ct(e)?e(t):r}function Q0(t,e,r,n){var i=Ejt(t,function(s){return Jn(s,e)});if(r==="number"){var a=i.filter(function(s){return $e(s)||parseFloat(s)});return a.length?[lO(a),sO(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!jt(s)}):i;return o.map(function(s){return ei(s)||s instanceof Date?s:""})}var IFt=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,f=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(xa(d-c)!==xa(f-d)){var v=[];if(xa(f-d)===xa(l[1]-l[0])){p=f;var g=d+l[1]-l[0];v[0]=Math.min(g,(g+c)/2),v[1]=Math.max(g,(g+c)/2)}else{p=c;var m=f+l[1]-l[0];v[0]=Math.min(d,(m+d)/2),v[1]=Math.max(d,(m+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var x=Math.min(c,f),b=Math.max(c,f);if(e>(x+d)/2&&e<=(b+d)/2){o=i[u].index;break}}}else for(var w=0;w<s;w++)if(w===0&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<s-1&&e>(n[w].coordinate+n[w-1].coordinate)/2&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w===s-1&&e>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},U3=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},PFt=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,d=Object.keys(c),f=0,p=d.length;f<p;f++){var v=c[d[f]],g=v.items,m=v.cateAxisId,y=g.filter(function(E){return Bu(E.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,b=x!==void 0?An(An({},x),y[0].props):y[0].props,w=b.barSize,S=b[m];o[S]||(o[S]=[]);var C=jt(w)?r:w;o[S].push({item:y[0],stackList:y.slice(1),barSize:jt(C)?void 0:ba(C,n,0)})}}return o},_Ft=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ba(r,i,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/l,v=o.reduce(function(w,S){return w+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(f=!0,p*=.9,v=l*p);var g=(i-v)/2>>0,m={offset:g-u,size:0};c=o.reduce(function(w,S){var C={item:S.item,position:{offset:m.offset+m.size+u,size:f?p:S.barSize}},E=[].concat(FX(w),[C]);return m=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:m})}),E},d)}else{var y=ba(n,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var b=s===+s?Math.min(x,s):x;c=o.reduce(function(w,S,C){var E=[].concat(FX(w),[{item:S.item,position:{offset:y+(x+u)*C+(x-b)/2,size:b}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},d)}return c},OFt=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=ige({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,f=c.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&$e(e[p]))return An(An({},e),{},Qv({},p,e[p]+(d||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&$e(e[v]))return An(An({},e),{},Qv({},v,e[v]+(f||0)))}return e},kFt=function(e,r,n){return jt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},age=function(e,r,n,i,a){var o=r.props.children,s=Io(o,a1).filter(function(u){return kFt(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Jn(c,n);if(jt(d))return u;var f=Array.isArray(d)?[lO(d),sO(d)]:[d,d],p=l.reduce(function(v,g){var m=Jn(c,g,0),y=f[0]-Math.abs(Array.isArray(m)?m[0]:m),x=f[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},DFt=function(e,r,n,i,a){var o=r.map(function(s){return age(e,s,n,a,i)}).filter(function(s){return!jt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},oge=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&age(e,l,u,i)||Q0(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},sge=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},lge=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Ru=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?xa(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return c.filter(function(d){return!Zw(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:a?a[d]:d,index:f,offset:u}})},y2=new WeakMap,cE=function(e,r){if(typeof r!="function")return e;y2.has(e)||y2.set(e,new WeakMap);var n=y2.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},uge=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:lb(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:aT(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:K0(),realScaleType:"point"}:a==="category"?{scale:lb(),realScaleType:"band"}:{scale:aT(),realScaleType:"linear"};if(Gh(i)){var l="scale".concat(H_(i));return{scale:(OX[l]||K0)(),realScaleType:OX[l]?l:"point"}}return Ct(i)?{scale:i}:{scale:K0(),realScaleType:"point"}},$X=1e-4,cge=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-$X,o=Math.max(i[0],i[1])+$X,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},MFt=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},RFt=function(e,r){if(!r||r.length!==2||!$e(r[0])||!$e(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!$e(e[0])||e[0]<n)&&(a[0]=n),(!$e(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},jFt=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Zw(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},FFt=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Zw(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},LFt={sign:jFt,expand:kAt,none:Tg,silhouette:DAt,wiggle:MAt,positive:FFt},$Ft=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=LFt[n],o=OAt().keys(i).value(function(s,l){return+Jn(s,l,0)}).order(zF).offset(a);return o(e)},NFt=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(d,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?An(An({},f.type.defaultProps),f.props):f.props,g=v.stackId,m=v.hide;if(m)return d;var y=v[n],x=d[y]||{hasStack:!1,stackGroups:{}};if(ei(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(f),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[Um("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return An(An({},d),{},Qv({},y,x))},l),c={};return Object.keys(u).reduce(function(d,f){var p=u[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,m){var y=p.stackGroups[m];return An(An({},g),{},Qv({},m,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:$Ft(e,y.items,a)}))},v)}return An(An({},d),{},Qv({},f,p))},c)},dge=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Zjt(u,a,s);return e.domain([lO(c),sO(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),f=eFt(d,a,s);return{niceTicks:f}}return null};function NX(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!jt(i[e.dataKey])){var s=VC(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Jn(i,jt(o)?e.dataKey:o);return jt(l)?null:e.scale(l)}var BX=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Jn(o,r.dataKey,r.domain[s]);return jt(l)?null:r.scale(l)-a/2+i},BFt=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},VFt=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ei(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},zFt=function(e){return e.reduce(function(r,n){return[lO(n.concat([r[0]]).filter($e)),sO(n.concat([r[1]]).filter($e))]},[1/0,-1/0])},fge=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var d=zFt(c.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gL=function(e,r,n){if(Ct(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if($e(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(VX.test(e[0])){var a=+VX.exec(e[0])[1];i[0]=r[0]-a}else Ct(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if($e(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(zX.test(e[1])){var o=+zX.exec(e[1])[1];i[1]=r[1]+o}else Ct(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},fT=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=b3(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},UX=function(e,r,n){return!e||!e.length||i1(e,To(n,"type.defaultProps.domain"))?r:e},hge=function(e,r){var n=e.type.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return An(An({},vt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:U3(e),value:Jn(r,i),type:l,payload:r,chartType:u,hide:c})};function pb(t){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function qX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qX(Object(r),!0).forEach(function(n){pge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pge(t,e,r){return e=UFt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UFt(t){var e=qFt(t,"string");return pb(e)=="symbol"?e:e+""}function qFt(t,e){if(pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GFt(t,e){return XFt(t)||YFt(t,e)||HFt(t,e)||WFt()}function WFt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HFt(t,e){if(t){if(typeof t=="string")return GX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GX(t,e)}}function GX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YFt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function XFt(t){if(Array.isArray(t))return t}var hT=Math.PI/180,KFt=function(e){return e*180/Math.PI},Yr=function(e,r,n,i){return{x:e+Math.cos(-hT*i)*n,y:r+Math.sin(-hT*i)*n}},vge=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},QFt=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ba(e.cx,o,o/2),d=ba(e.cy,s,s/2),f=vge(o,s,n),p=ba(e.innerRadius,f,0),v=ba(e.outerRadius,f,f*.8),g=Object.keys(r);return g.reduce(function(m,y){var x=r[y],b=x.domain,w=x.reversed,S;if(jt(x.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[p,v]),w&&(S=[S[1],S[0]]);else{S=x.range;var C=S,E=GFt(C,2);l=E[0],u=E[1]}var A=uge(x,a),P=A.realScaleType,_=A.scale;_.domain(b).range(S),cge(_);var k=dge(_,bu(bu({},x),{},{realScaleType:P})),O=bu(bu(bu({},x),k),{},{range:S,radius:v,realScaleType:P,scale:_,cx:c,cy:d,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return bu(bu({},m),{},pge({},y,O))},{})},JFt=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},ZFt=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=JFt({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:KFt(u),angleInRadian:u}},eLt=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},tLt=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},WX=function(e,r){var n=e.x,i=e.y,a=ZFt({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=eLt(r),d=c.startAngle,f=c.endAngle,p=s,v;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=d}return v?bu(bu({},r),{},{radius:o,angle:tLt(p,r)}):null},gge=function(e){return!j.isValidElement(e)&&!Ct(e)&&typeof e!="boolean"?e.className:""};function vb(t){"@babel/helpers - typeof";return vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(t)}var rLt=["offset"];function nLt(t){return sLt(t)||oLt(t)||aLt(t)||iLt()}function iLt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aLt(t,e){if(t){if(typeof t=="string")return mL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mL(t,e)}}function oLt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sLt(t){if(Array.isArray(t))return mL(t)}function mL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lLt(t,e){if(t==null)return{};var r=uLt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uLt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HX(Object(r),!0).forEach(function(n){cLt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cLt(t,e,r){return e=dLt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dLt(t){var e=fLt(t,"string");return vb(e)=="symbol"?e:e+""}function fLt(t,e){if(vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}var hLt=function(e){var r=e.value,n=e.formatter,i=jt(e.children)?r:e.children;return Ct(n)?n(i):i},pLt=function(e,r){var n=xa(r-e),i=Math.min(Math.abs(r-e),360);return n*i},vLt=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,f=l.outerRadius,p=l.startAngle,v=l.endAngle,g=l.clockWise,m=(d+f)/2,y=pLt(p,v),x=y>=0?1:-1,b,w;i==="insideStart"?(b=p+x*o,w=g):i==="insideEnd"?(b=v-x*o,w=!g):i==="end"&&(b=v+x*o,w=g),w=y<=0?w:!w;var S=Yr(u,c,m,b),C=Yr(u,c,m,b+(w?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(C.x,",").concat(C.y),A=jt(e.id)?Um("recharts-radial-line-"):e.id;return I.createElement("text",gb({},n,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",s)}),I.createElement("defs",null,I.createElement("path",{id:A,d:E})),I.createElement("textPath",{xlinkHref:"#".concat(A)},r))},gLt=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,f=(c+d)/2;if(i==="outside"){var p=Yr(o,s,u+n,f),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(l+u)/2,y=Yr(o,s,m,f),x=y.x,b=y.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},mLt=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,f=d*i,p=d>0?"end":"start",v=d>0?"start":"end",g=u>=0?1:-1,m=g*i,y=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return Yn(Yn({},b),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var w={x:s+u/2,y:l+c+f,textAnchor:"middle",verticalAnchor:v};return Yn(Yn({},w),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var S={x:s-m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Yn(Yn({},S),n?{width:Math.max(S.x-n.x,0),height:c}:{})}if(a==="right"){var C={x:s+u+m,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Yn(Yn({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:c}:{})}var E=n?{width:u,height:c}:{};return a==="insideLeft"?Yn({x:s+m,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideRight"?Yn({x:s+u-m,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?Yn({x:s+u/2,y:l+f,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?Yn({x:s+u/2,y:l+c-f,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?Yn({x:s+m,y:l+f,textAnchor:x,verticalAnchor:v},E):a==="insideTopRight"?Yn({x:s+u-m,y:l+f,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?Yn({x:s+m,y:l+c-f,textAnchor:x,verticalAnchor:p},E):a==="insideBottomRight"?Yn({x:s+u-m,y:l+c-f,textAnchor:y,verticalAnchor:p},E):Tm(a)&&($e(a.x)||rh(a.x))&&($e(a.y)||rh(a.y))?Yn({x:s+ba(a.x,u),y:l+ba(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):Yn({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},yLt=function(e){return"cx"in e&&$e(e.cx)};function fi(t){var e=t.offset,r=e===void 0?5:e,n=lLt(t,rLt),i=Yn({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,f=i.textBreakAll;if(!a||jt(s)&&jt(l)&&!j.isValidElement(u)&&!Ct(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(Ct(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=hLt(i);var v=yLt(a),g=vt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return vLt(i,p,g);var m=v?gLt(i):mLt(i);return I.createElement(Hh,gb({className:Nt("recharts-label",d)},g,m,{breakAll:f}),p)}fi.displayName="Label";var mge=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,f=e.y,p=e.top,v=e.left,g=e.width,m=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if($e(g)&&$e(m)){if($e(d)&&$e(f))return{x:d,y:f,width:g,height:m};if($e(p)&&$e(v))return{x:p,y:v,width:g,height:m}}return $e(d)&&$e(f)?{x:d,y:f,width:0,height:0}:$e(r)&&$e(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},xLt=function(e,r){return e?e===!0?I.createElement(fi,{key:"label-implicit",viewBox:r}):ei(e)?I.createElement(fi,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===fi?j.cloneElement(e,{key:"label-implicit",viewBox:r}):I.createElement(fi,{key:"label-implicit",content:e,viewBox:r}):Ct(e)?I.createElement(fi,{key:"label-implicit",content:e,viewBox:r}):Tm(e)?I.createElement(fi,gb({viewBox:r},e,{key:"label-implicit"})):null:null},bLt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=mge(e),o=Io(i,fi).map(function(l,u){return j.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=xLt(e.label,r||a);return[s].concat(nLt(o))};fi.parseViewBox=mge;fi.renderCallByParent=bLt;function wLt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var SLt=wLt;const ELt=_t(SLt);function mb(t){"@babel/helpers - typeof";return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}var ALt=["valueAccessor"],CLt=["data","dataKey","clockWise","id","textBreakAll"];function TLt(t){return OLt(t)||_Lt(t)||PLt(t)||ILt()}function ILt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PLt(t,e){if(t){if(typeof t=="string")return yL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yL(t,e)}}function _Lt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OLt(t){if(Array.isArray(t))return yL(t)}function yL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}function YX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YX(Object(r),!0).forEach(function(n){kLt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kLt(t,e,r){return e=DLt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DLt(t){var e=MLt(t,"string");return mb(e)=="symbol"?e:e+""}function MLt(t,e){if(mb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KX(t,e){if(t==null)return{};var r=RLt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RLt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jLt=function(e){return Array.isArray(e.value)?ELt(e.value):e.value};function zu(t){var e=t.valueAccessor,r=e===void 0?jLt:e,n=KX(t,ALt),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=KX(n,CLt);return!i||!i.length?null:I.createElement(br,{className:"recharts-label-list"},i.map(function(c,d){var f=jt(a)?r(c,d):Jn(c&&c.payload,a),p=jt(s)?{}:{id:"".concat(s,"-").concat(d)};return I.createElement(fi,pT({},vt(c,!0),u,p,{parentViewBox:c.parentViewBox,value:f,textBreakAll:l,viewBox:fi.parseViewBox(jt(o)?c:XX(XX({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}zu.displayName="LabelList";function FLt(t,e){return t?t===!0?I.createElement(zu,{key:"labelList-implicit",data:e}):I.isValidElement(t)||Ct(t)?I.createElement(zu,{key:"labelList-implicit",data:e,content:t}):Tm(t)?I.createElement(zu,pT({data:e},t,{key:"labelList-implicit"})):null:null}function LLt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Io(n,zu).map(function(o,s){return j.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=FLt(t.label,e);return[a].concat(TLt(i))}zu.renderCallByParent=LLt;function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function xL(){return xL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xL.apply(this,arguments)}function QX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QX(Object(r),!0).forEach(function(n){$Lt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Lt(t,e,r){return e=NLt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NLt(t){var e=BLt(t,"string");return yb(e)=="symbol"?e:e+""}function BLt(t,e){if(yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VLt=function(e,r){var n=xa(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},dE=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/hT,f=u?a:a+o*d,p=Yr(r,n,c,f),v=Yr(r,n,i,f),g=u?a-o*d:a,m=Yr(r,n,c*Math.cos(d*hT),g);return{center:p,circleTangency:v,lineTangency:m,theta:d}},yge=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=VLt(o,s),u=o+l,c=Yr(r,n,a,o),d=Yr(r,n,a,u),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Yr(r,n,i,o),v=Yr(r,n,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},zLt=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=xa(c-u),f=dE({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),p=f.circleTangency,v=f.lineTangency,g=f.theta,m=dE({cx:r,cy:n,radius:a,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),y=m.circleTangency,x=m.lineTangency,b=m.theta,w=l?Math.abs(u-c):Math.abs(u-c)-g-b;if(w<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):yge({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=dE({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=C.circleTangency,A=C.lineTangency,P=C.theta,_=dE({cx:r,cy:n,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=_.circleTangency,O=_.lineTangency,D=_.theta,B=l?Math.abs(u-c):Math.abs(u-c)-P-D;if(B<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},ULt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xge=function(e){var r=JX(JX({},ULt),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,d=r.endAngle,f=r.className;if(o<a||c===d)return null;var p=Nt("recharts-sector",f),v=o-a,g=ba(s,v,0,!0),m;return g>0&&Math.abs(c-d)<360?m=zLt({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):m=yge({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}),I.createElement("path",xL({},vt(r,!0),{className:p,d:m,role:"img"}))};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function bL(){return bL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bL.apply(this,arguments)}function ZX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZX(Object(r),!0).forEach(function(n){qLt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qLt(t,e,r){return e=GLt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GLt(t){var e=WLt(t,"string");return xb(e)=="symbol"?e:e+""}function WLt(t,e){if(xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tK={curveBasisClosed:xAt,curveBasisOpen:bAt,curveBasis:yAt,curveBumpX:iAt,curveBumpY:aAt,curveLinearClosed:wAt,curveLinear:X_,curveMonotoneX:SAt,curveMonotoneY:EAt,curveNatural:AAt,curveStep:CAt,curveStepAfter:IAt,curveStepBefore:TAt},fE=function(e){return e.x===+e.x&&e.y===+e.y},qy=function(e){return e.x},Gy=function(e){return e.y},HLt=function(e,r){if(Ct(e))return e;var n="curve".concat(H_(e));return(n==="curveMonotone"||n==="curveBump")&&r?tK["".concat(n).concat(r==="vertical"?"Y":"X")]:tK[n]||X_},YLt=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=HLt(n,s),d=u?a.filter(function(g){return fE(g)}):a,f;if(Array.isArray(o)){var p=u?o.filter(function(g){return fE(g)}):o,v=d.map(function(g,m){return eK(eK({},g),{},{base:p[m]})});return s==="vertical"?f=iE().y(Gy).x1(qy).x0(function(g){return g.base.x}):f=iE().x(qy).y1(Gy).y0(function(g){return g.base.y}),f.defined(fE).curve(c),f(v)}return s==="vertical"&&$e(o)?f=iE().y(Gy).x1(qy).x0(o):$e(o)?f=iE().x(qy).y1(Gy).y0(o):f=mpe().x(qy).y(Gy),f.defined(fE).curve(c),f(d)},vT=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?YLt(e):i;return I.createElement("path",bL({},vt(e,!1),zC(e),{className:Nt("recharts-curve",r),d:o,ref:a}))},XLt=Object.getOwnPropertyNames,KLt=Object.getOwnPropertySymbols,QLt=Object.prototype.hasOwnProperty;function rK(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function hE(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function nK(t){return XLt(t).concat(KLt(t))}var JLt=Object.hasOwn||function(t,e){return QLt.call(t,e)};function Ap(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ZLt="__v",e$t="__o",t$t="_owner",iK=Object.getOwnPropertyDescriptor,aK=Object.keys;function r$t(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function n$t(t,e){return Ap(t.getTime(),e.getTime())}function i$t(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function a$t(t,e){return t===e}function oK(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var f=o.value,p=s.value;if(r.equals(f[0],p[0],l,d,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var o$t=Ap;function s$t(t,e,r){var n=aK(t),i=n.length;if(aK(e).length!==i)return!1;for(;i-- >0;)if(!bge(t,e,r,n[i]))return!1;return!0}function Wy(t,e,r){var n=nK(t),i=n.length;if(nK(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!bge(t,e,r,a)||(o=iK(t,a),s=iK(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function l$t(t,e){return Ap(t.valueOf(),e.valueOf())}function u$t(t,e){return t.source===e.source&&t.flags===e.flags}function sK(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function c$t(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function d$t(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function bge(t,e,r,n){return(n===t$t||n===e$t||n===ZLt)&&(t.$$typeof||e.$$typeof)?!0:JLt(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var f$t="[object Arguments]",h$t="[object Boolean]",p$t="[object Date]",v$t="[object Error]",g$t="[object Map]",m$t="[object Number]",y$t="[object Object]",x$t="[object RegExp]",b$t="[object Set]",w$t="[object String]",S$t="[object URL]",E$t=Array.isArray,lK=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uK=Object.assign,A$t=Object.prototype.toString.call.bind(Object.prototype.toString);function C$t(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(v,g,m){if(v===g)return!0;if(v==null||g==null)return!1;var y=typeof v;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(v,g,m):y==="function"?i(v,g,m):!1;var x=v.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(v,g,m);if(E$t(v))return e(v,g,m);if(lK!=null&&lK(v))return d(v,g,m);if(x===Date)return r(v,g,m);if(x===RegExp)return u(v,g,m);if(x===Map)return a(v,g,m);if(x===Set)return c(v,g,m);var b=A$t(v);return b===p$t?r(v,g,m):b===x$t?u(v,g,m):b===g$t?a(v,g,m):b===b$t?c(v,g,m):b===y$t?typeof v.then!="function"&&typeof g.then!="function"&&s(v,g,m):b===S$t?f(v,g,m):b===v$t?n(v,g,m):b===f$t?s(v,g,m):b===h$t||b===m$t||b===w$t?l(v,g,m):!1}}function T$t(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Wy:r$t,areDatesEqual:n$t,areErrorsEqual:i$t,areFunctionsEqual:a$t,areMapsEqual:n?rK(oK,Wy):oK,areNumbersEqual:o$t,areObjectsEqual:n?Wy:s$t,arePrimitiveWrappersEqual:l$t,areRegExpsEqual:u$t,areSetsEqual:n?rK(sK,Wy):sK,areTypedArraysEqual:n?Wy:c$t,areUrlsEqual:d$t};if(r&&(i=uK({},i,r(i))),e){var a=hE(i.areArraysEqual),o=hE(i.areMapsEqual),s=hE(i.areObjectsEqual),l=hE(i.areSetsEqual);i=uK({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function I$t(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function P$t(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var c=n(),d=c.cache,f=d===void 0?e?new WeakMap:void 0:d,p=c.meta;return r(l,u,{cache:f,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var _$t=lf();lf({strict:!0});lf({circular:!0});lf({circular:!0,strict:!0});lf({createInternalComparator:function(){return Ap}});lf({strict:!0,createInternalComparator:function(){return Ap}});lf({circular:!0,createInternalComparator:function(){return Ap}});lf({circular:!0,createInternalComparator:function(){return Ap},strict:!0});function lf(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=T$t(t),l=C$t(s),u=n?n(l):I$t(l);return P$t({circular:r,comparator:l,createState:i,equals:u,strict:o})}function O$t(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function cK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):O$t(i)};requestAnimationFrame(n)}function wL(t){"@babel/helpers - typeof";return wL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wL(t)}function k$t(t){return j$t(t)||R$t(t)||M$t(t)||D$t()}function D$t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$t(t,e){if(t){if(typeof t=="string")return dK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dK(t,e)}}function dK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R$t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j$t(t){if(Array.isArray(t))return t}function F$t(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=k$t(o),l=s[0],u=s.slice(1);if(typeof l=="number"){cK(i.bind(null,u),l);return}i(l),cK(i.bind(null,u));return}wL(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}function fK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fK(Object(r),!0).forEach(function(n){wge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wge(t,e,r){return e=L$t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L$t(t){var e=$$t(t,"string");return bb(e)==="symbol"?e:String(e)}function $$t(t,e){if(bb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N$t=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},B$t=function(e){return e},V$t=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},J0=function(e,r){return Object.keys(r).reduce(function(n,i){return hK(hK({},n),{},wge({},i,e(i,r[i])))},{})},pK=function(e,r,n){return e.map(function(i){return"".concat(V$t(i)," ").concat(r,"ms ").concat(n)}).join(",")};function z$t(t,e){return G$t(t)||q$t(t,e)||Sge(t,e)||U$t()}function U$t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$t(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function G$t(t){if(Array.isArray(t))return t}function W$t(t){return X$t(t)||Y$t(t)||Sge(t)||H$t()}function H$t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(t,e){if(t){if(typeof t=="string")return SL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(t,e)}}function Y$t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X$t(t){if(Array.isArray(t))return SL(t)}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gT=1e-4,Ege=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Age=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},vK=function(e,r){return function(n){var i=Ege(e,r);return Age(i,n)}},K$t=function(e,r){return function(n){var i=Ege(e,r),a=[].concat(W$t(i.map(function(o,s){return o*s}).slice(1)),[0]);return Age(a,n)}},gK=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),c=z$t(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var d=vK(i,o),f=vK(a,s),p=K$t(i,o),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,b=x,w=0;w<8;++w){var S=d(b)-x,C=p(b);if(Math.abs(S-x)<gT||C<gT)return f(b);b=v(b-S/C)}return f(b)};return g.isStepper=!1,g},Q$t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,d,f){var p=-(c-d)*n,v=f*a,g=f+(p-v)*s/1e3,m=f*s/1e3+c;return Math.abs(m-d)<gT&&Math.abs(g)<gT?[d,0]:[m,g]};return l.isStepper=!0,l.dt=s,l},J$t=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gK(i);case"spring":return Q$t();default:if(i.split("(")[0]==="cubic-bezier")return gK(i)}return typeof i=="function"?i:null};function wb(t){"@babel/helpers - typeof";return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function mK(t){return tNt(t)||eNt(t)||Cge(t)||Z$t()}function Z$t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eNt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tNt(t){if(Array.isArray(t))return AL(t)}function yK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yK(Object(r),!0).forEach(function(n){EL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EL(t,e,r){return e=rNt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rNt(t){var e=nNt(t,"string");return wb(e)==="symbol"?e:String(e)}function nNt(t,e){if(wb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iNt(t,e){return sNt(t)||oNt(t,e)||Cge(t,e)||aNt()}function aNt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cge(t,e){if(t){if(typeof t=="string")return AL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AL(t,e)}}function AL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oNt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sNt(t){if(Array.isArray(t))return t}var mT=function(e,r,n){return e+(r-e)*n},CL=function(e){var r=e.from,n=e.to;return r!==n},lNt=function t(e,r,n){var i=J0(function(a,o){if(CL(o)){var s=e(o.from,o.to,o.velocity),l=iNt(s,2),u=l[0],c=l[1];return _i(_i({},o),{},{from:u,velocity:c})}return o},r);return n<1?J0(function(a,o){return CL(o)?_i(_i({},o),{},{velocity:mT(o.velocity,i[a].velocity,n),from:mT(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const uNt=function(t,e,r,n,i){var a=N$t(t,e),o=a.reduce(function(m,y){return _i(_i({},m),{},EL({},y,[t[y],e[y]]))},{}),s=a.reduce(function(m,y){return _i(_i({},m),{},EL({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,d=function(){return null},f=function(){return J0(function(y,x){return x.from},s)},p=function(){return!Object.values(s).filter(CL).length},v=function(y){u||(u=y);var x=y-u,b=x/r.dt;s=lNt(r,s,b),i(_i(_i(_i({},t),e),f())),u=y,p()||(l=requestAnimationFrame(d))},g=function(y){c||(c=y);var x=(y-c)/n,b=J0(function(S,C){return mT.apply(void 0,mK(C).concat([r(x)]))},o);if(i(_i(_i(_i({},t),e),b)),x<1)l=requestAnimationFrame(d);else{var w=J0(function(S,C){return mT.apply(void 0,mK(C).concat([r(1)]))},o);i(_i(_i(_i({},t),e),w))}};return d=r.isStepper?v:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}var cNt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dNt(t,e){if(t==null)return{};var r=fNt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fNt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function x2(t){return gNt(t)||vNt(t)||pNt(t)||hNt()}function hNt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pNt(t,e){if(t){if(typeof t=="string")return TL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TL(t,e)}}function vNt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gNt(t){if(Array.isArray(t))return TL(t)}function TL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(r),!0).forEach(function(n){x0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x0(t,e,r){return e=Tge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mNt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yNt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tge(n.key),n)}}function xNt(t,e,r){return e&&yNt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tge(t){var e=bNt(t,"string");return jg(e)==="symbol"?e:String(e)}function bNt(t,e){if(jg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wNt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IL(t,e)}function IL(t,e){return IL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IL(t,e)}function SNt(t){var e=ENt();return function(){var n=yT(t),i;if(e){var a=yT(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return PL(this,i)}}function PL(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _L(t)}function _L(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ENt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yT(t){return yT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yT(t)}var Kl=function(t){wNt(r,t);var e=SNt(r);function r(n,i){var a;mNt(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,f=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(_L(a)),a.changeStyle=a.changeStyle.bind(_L(a)),!s||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:c}),PL(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof f=="function")return a.state={style:u},PL(a);a.state={style:l?x0({},l,u):u}}else a.state={style:{}};return a}return xNt(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,f=this.state.style;if(s){if(!o){var p={style:l?x0({},l,c):c};this.state&&f&&(l&&f[l]!==c||!l&&f!==c)&&this.setState(p);return}if(!(_$t(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?d:i.to;if(this.state&&f){var m={style:l?x0({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(m)}this.runAnimation(ks(ks({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,p=uNt(o,s,J$t(u),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([f,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,d=u.duration,f=d===void 0?0:d,p=function(g,m,y){if(y===0)return g;var x=m.duration,b=m.easing,w=b===void 0?"ease":b,S=m.style,C=m.properties,E=m.onAnimationEnd,A=y>0?o[y-1]:m,P=C||Object.keys(S);if(typeof w=="function"||w==="spring")return[].concat(x2(g),[a.runJSAnimation.bind(a,{from:A.style,to:S,duration:x,easing:w}),x]);var _=pK(P,x,w),k=ks(ks(ks({},A.style),S),{},{transition:_});return[].concat(x2(g),[k,x,E]).filter(B$t)};return this.manager.start([l].concat(x2(o.reduce(p,[c,Math.max(f,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=F$t());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=s?x0({},s,l):l,m=pK(Object.keys(g),o,u);v.start([c,a,ks(ks({},g),{},{transition:m}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=dNt(i,cNt),u=j.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var d=function(p){var v=p.props,g=v.style,m=g===void 0?{}:g,y=v.className,x=j.cloneElement(p,ks(ks({},l),{},{style:ks(ks({},m),c),className:y}));return x};return u===1?d(j.Children.only(a)):I.createElement("div",null,j.Children.map(a,function(f){return d(f)}))}}]),r}(j.PureComponent);Kl.displayName="Animate";Kl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kl.propTypes={from:Ir.oneOfType([Ir.object,Ir.string]),to:Ir.oneOfType([Ir.object,Ir.string]),attributeName:Ir.string,duration:Ir.number,begin:Ir.number,easing:Ir.oneOfType([Ir.string,Ir.func]),steps:Ir.arrayOf(Ir.shape({duration:Ir.number.isRequired,style:Ir.object.isRequired,easing:Ir.oneOfType([Ir.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ir.func]),properties:Ir.arrayOf("string"),onAnimationEnd:Ir.func})),children:Ir.oneOfType([Ir.node,Ir.func]),isActive:Ir.bool,canBegin:Ir.bool,onAnimationEnd:Ir.func,shouldReAnimate:Ir.bool,onAnimationStart:Ir.func,onAnimationReStart:Ir.func};function Ige(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$xe(t,e)}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xT.apply(this,arguments)}function ANt(t,e){return PNt(t)||INt(t,e)||TNt(t,e)||CNt()}function CNt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNt(t,e){if(t){if(typeof t=="string")return bK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bK(t,e)}}function bK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function INt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function PNt(t){if(Array.isArray(t))return t}function wK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wK(Object(r),!0).forEach(function(n){_Nt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Nt(t,e,r){return e=ONt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ONt(t){var e=kNt(t,"string");return Sb(e)=="symbol"?e:e+""}function kNt(t,e){if(Sb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EK=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=a[f]>o?o:a[f];c="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(r)),c+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*d[1])),c+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),c+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*d[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(r,`
            L `).concat(e+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*v,`
            L `).concat(e+n,",").concat(r+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-l*v,",").concat(r+i,`
            L `).concat(e+l*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*v," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},DNt=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(o,o+l),f=Math.max(o,o+l);return n>=u&&n<=c&&i>=d&&i<=f}return!1},MNt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q3=function(e){var r=SK(SK({},MNt),e),n=j.useRef(),i=j.useState(-1),a=ANt(i,2),o=a[0],s=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,c=r.width,d=r.height,f=r.radius,p=r.className,v=r.animationEasing,g=r.animationDuration,m=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var b=Nt("recharts-rectangle",p);return x?I.createElement(Kl,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:g,animationEasing:v,isActive:x},function(w){var S=w.width,C=w.height,E=w.x,A=w.y;return I.createElement(Kl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,isActive:y,easing:v},I.createElement("path",xT({},vt(r,!0),{className:b,d:EK(E,A,S,C,f),ref:n})))}):I.createElement("path",xT({},vt(r,!0),{className:b,d:EK(l,u,c,d,f)}))},RNt=["points","className","baseLinePoints","connectNulls"];function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}function jNt(t,e){if(t==null)return{};var r=FNt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FNt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AK(t){return BNt(t)||NNt(t)||$Nt(t)||LNt()}function LNt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Nt(t,e){if(t){if(typeof t=="string")return OL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(t,e)}}function NNt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BNt(t){if(Array.isArray(t))return OL(t)}function OL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CK=function(e){return e&&e.x===+e.x&&e.y===+e.y},VNt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){CK(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),CK(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Z0=function(e,r){var n=VNt(e);r&&(n=[n.reduce(function(a,o){return[].concat(AK(a),AK(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},zNt=function(e,r,n){var i=Z0(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Z0(r.reverse(),n).slice(1))},UNt=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=jNt(e,RNt);if(!r||!r.length)return null;var s=Nt("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=zNt(r,i,a);return I.createElement("g",{className:s},I.createElement("path",Av({},vt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?I.createElement("path",Av({},vt(o,!0),{fill:"none",d:Z0(r,a)})):null,l?I.createElement("path",Av({},vt(o,!0),{fill:"none",d:Z0(i,a)})):null)}var c=Z0(r,a);return I.createElement("path",Av({},vt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function kL(){return kL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kL.apply(this,arguments)}var dO=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Nt("recharts-dot",a);return r===+r&&n===+n&&i===+i?I.createElement("circle",kL({},vt(e,!1),zC(e),{className:o,cx:r,cy:n,r:i})):null};function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}var qNt=["x","y","top","left","width","height","className"];function DL(){return DL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DL.apply(this,arguments)}function TK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GNt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(r),!0).forEach(function(n){WNt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WNt(t,e,r){return e=HNt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HNt(t){var e=YNt(t,"string");return Eb(e)=="symbol"?e:e+""}function YNt(t,e){if(Eb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XNt(t,e){if(t==null)return{};var r=KNt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KNt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var QNt=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},JNt=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,f=e.height,p=f===void 0?0:f,v=e.className,g=XNt(e,qNt),m=GNt({x:n,y:a,top:s,left:u,width:d,height:p},g);return!$e(n)||!$e(a)||!$e(d)||!$e(p)||!$e(s)||!$e(u)?null:I.createElement("path",DL({},vt(m,!0),{className:Nt("recharts-cross",v),d:QNt(n,a,d,p,s,u)}))},ZNt=oO,eBt=Vve,tBt=lu;function rBt(t,e){return t&&t.length?ZNt(t,tBt(e),eBt):void 0}var nBt=rBt;const iBt=_t(nBt);var aBt=oO,oBt=lu,sBt=zve;function lBt(t,e){return t&&t.length?aBt(t,oBt(e),sBt):void 0}var uBt=lBt;const cBt=_t(uBt);var dBt=["cx","cy","angle","ticks","axisLine"],fBt=["ticks","tick","angle","tickFormatter","stroke"];function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}function IK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ef(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IK(Object(r),!0).forEach(function(n){fO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PK(t,e){if(t==null)return{};var r=hBt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hBt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pBt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _K(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ge(n.key),n)}}function vBt(t,e,r){return e&&_K(t.prototype,e),r&&_K(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gBt(t,e,r){return e=bT(e),mBt(t,Pge()?Reflect.construct(e,r||[],bT(t).constructor):e.apply(t,r))}function mBt(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yBt(t)}function yBt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pge=function(){return!!t})()}function bT(t){return bT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bT(t)}function xBt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ML(t,e)}function ML(t,e){return ML=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ML(t,e)}function fO(t,e,r){return e=_ge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ge(t){var e=bBt(t,"string");return Fg(e)=="symbol"?e:e+""}function bBt(t,e){if(Fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hO=function(t){function e(){return pBt(this,e),gBt(this,e,arguments)}return xBt(e,t),vBt(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Yr(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=iBt(s,function(c){return c.coordinate||0}),u=cBt(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=PK(n,dBt),c=s.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),d=Yr(i,a,c[0],o),f=Yr(i,a,c[1],o),p=Ef(Ef(Ef({},vt(u,!1)),{},{fill:"none"},vt(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return I.createElement("line",ex({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=PK(i,fBt),d=this.getTickTextAnchor(),f=vt(c,!1),p=vt(o,!1),v=a.map(function(g,m){var y=n.getTickValueCoord(g),x=Ef(Ef(Ef(Ef({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:m},y),{},{payload:g});return I.createElement(br,ex({className:Nt("recharts-polar-radius-axis-tick",gge(o)),key:"tick-".concat(g.coordinate)},Wh(n.props,g,m)),e.renderTickItem(o,x,l?l(g.value,m):g.value))});return I.createElement(br,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:I.createElement(br,{className:Nt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),fi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ct(n)?o=n(i):o=I.createElement(Hh,ex({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);fO(hO,"displayName","PolarRadiusAxis");fO(hO,"axisType","radiusAxis");fO(hO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uf.apply(this,arguments)}function OK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OK(Object(r),!0).forEach(function(n){pO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wBt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kge(n.key),n)}}function SBt(t,e,r){return e&&kK(t.prototype,e),r&&kK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EBt(t,e,r){return e=wT(e),ABt(t,Oge()?Reflect.construct(e,r||[],wT(t).constructor):e.apply(t,r))}function ABt(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CBt(t)}function CBt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oge=function(){return!!t})()}function wT(t){return wT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wT(t)}function TBt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RL(t,e)}function RL(t,e){return RL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RL(t,e)}function pO(t,e,r){return e=kge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kge(t){var e=IBt(t,"string");return Lg(e)=="symbol"?e:e+""}function IBt(t,e){if(Lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PBt=Math.PI/180,_Bt=1e-5,vO=function(t){function e(){return wBt(this,e),EBt(this,e,arguments)}return TBt(e,t),SBt(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Yr(a,o,s,n.coordinate),f=Yr(a,o,s+(l==="inner"?-1:1)*c,n.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*PBt),o;return a>_Bt?o=i==="outer"?"start":"end":a<-1e-5?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=Af(Af({},vt(this.props,!1)),{},{fill:"none"},vt(s,!1));if(l==="circle")return I.createElement(dO,Uf({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,d=c.map(function(f){return Yr(i,a,o,f.coordinate)});return I.createElement(UNt,Uf({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=vt(this.props,!1),d=vt(o,!1),f=Af(Af({},c),{},{fill:"none"},vt(s,!1)),p=a.map(function(v,g){var m=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=Af(Af(Af({textAnchor:y},c),{},{stroke:"none",fill:u},d),{},{index:g,payload:v,x:m.x2,y:m.y2});return I.createElement(br,Uf({className:Nt("recharts-polar-angle-axis-tick",gge(o)),key:"tick-".concat(v.coordinate)},Wh(n.props,v,g)),s&&I.createElement("line",Uf({className:"recharts-polar-angle-axis-tick-line"},f,m)),o&&e.renderTickItem(o,x,l?l(v.value,g):v.value))});return I.createElement(br,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:I.createElement(br,{className:Nt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ct(n)?o=n(i):o=I.createElement(Hh,Uf({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);pO(vO,"displayName","PolarAngleAxis");pO(vO,"axisType","angleAxis");pO(vO,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var OBt=Vpe,kBt=OBt(Object.getPrototypeOf,Object),DBt=kBt,MBt=xc,RBt=DBt,jBt=wc,FBt="[object Object]",LBt=Function.prototype,$Bt=Object.prototype,Dge=LBt.toString,NBt=$Bt.hasOwnProperty,BBt=Dge.call(Object);function VBt(t){if(!jBt(t)||MBt(t)!=FBt)return!1;var e=RBt(t);if(e===null)return!0;var r=NBt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Dge.call(r)==BBt}var zBt=VBt;const UBt=_t(zBt);var qBt=xc,GBt=wc,WBt="[object Boolean]";function HBt(t){return t===!0||t===!1||GBt(t)&&qBt(t)==WBt}var YBt=HBt;const XBt=_t(YBt);function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ST.apply(this,arguments)}function KBt(t,e){return e4t(t)||ZBt(t,e)||JBt(t,e)||QBt()}function QBt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JBt(t,e){if(t){if(typeof t=="string")return DK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DK(t,e)}}function DK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZBt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function e4t(t){if(Array.isArray(t))return t}function MK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MK(Object(r),!0).forEach(function(n){t4t(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t4t(t,e,r){return e=r4t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4t(t){var e=n4t(t,"string");return Ab(e)=="symbol"?e:e+""}function n4t(t,e){if(Ab(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jK=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},i4t={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},a4t=function(e){var r=RK(RK({},i4t),e),n=j.useRef(),i=j.useState(-1),a=KBt(i,2),o=a[0],s=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,d=r.lowerWidth,f=r.height,p=r.className,v=r.animationEasing,g=r.animationDuration,m=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var x=Nt("recharts-trapezoid",p);return y?I.createElement(Kl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:f,x:l,y:u},duration:g,animationEasing:v,isActive:y},function(b){var w=b.upperWidth,S=b.lowerWidth,C=b.height,E=b.x,A=b.y;return I.createElement(Kl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:g,easing:v},I.createElement("path",ST({},vt(r,!0),{className:x,d:jK(E,A,w,S,C),ref:n})))}):I.createElement("g",null,I.createElement("path",ST({},vt(r,!0),{className:x,d:jK(l,u,c,d,f)})))},o4t=["option","shapeType","propTransformer","activeClassName","isActive"];function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function s4t(t,e){if(t==null)return{};var r=l4t(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l4t(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ET(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FK(Object(r),!0).forEach(function(n){u4t(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u4t(t,e,r){return e=c4t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c4t(t){var e=d4t(t,"string");return Cb(e)=="symbol"?e:e+""}function d4t(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f4t(t,e){return ET(ET({},e),t)}function h4t(t,e){return t==="symbols"}function LK(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return I.createElement(q3,r);case"trapezoid":return I.createElement(a4t,r);case"sector":return I.createElement(xge,r);case"symbols":if(h4t(e))return I.createElement(h3,r);break;default:return null}}function p4t(t){return j.isValidElement(t)?t.props:t}function Mge(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?f4t:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=s4t(t,o4t),u;if(j.isValidElement(e))u=j.cloneElement(e,ET(ET({},l),p4t(e)));else if(Ct(e))u=e(l);else if(UBt(e)&&!XBt(e)){var c=i(e,l);u=I.createElement(LK,{shapeType:r,elementProps:c})}else{var d=l;u=I.createElement(LK,{shapeType:r,elementProps:d})}return s?I.createElement(br,{className:o},u):u}function gO(t,e){return e!=null&&"trapezoids"in t.props}function mO(t,e){return e!=null&&"sectors"in t.props}function Tb(t,e){return e!=null&&"points"in t.props}function v4t(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function g4t(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function m4t(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function y4t(t,e){var r;return gO(t,e)?r=v4t:mO(t,e)?r=g4t:Tb(t,e)&&(r=m4t),r}function x4t(t,e){var r;return gO(t,e)?r="trapezoids":mO(t,e)?r="sectors":Tb(t,e)&&(r="points"),r}function b4t(t,e){if(gO(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mO(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Tb(t,e)?e.payload:{}}function w4t(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=x4t(r,e),a=b4t(r,e),o=n.filter(function(l,u){var c=i1(a,l),d=r.props[i].filter(function(v){var g=y4t(r,e);return g(v,e)}),f=r.props[i].indexOf(d[d.length-1]),p=u===f;return c&&p}),s=n.indexOf(o[o.length-1]);return s}var mA;function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function $K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jge(n.key),n)}}function E4t(t,e,r){return e&&NK(t.prototype,e),r&&NK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A4t(t,e,r){return e=AT(e),C4t(t,Rge()?Reflect.construct(e,r||[],AT(t).constructor):e.apply(t,r))}function C4t(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T4t(t)}function T4t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rge=function(){return!!t})()}function AT(t){return AT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},AT(t)}function I4t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jL(t,e)}function jL(t,e){return jL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jL(t,e)}function Jo(t,e,r){return e=jge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jge(t){var e=P4t(t,"string");return $g(e)=="symbol"?e:e+""}function P4t(t,e){if($g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qs=function(t){function e(r){var n;return S4t(this,e),n=A4t(this,e,[r]),Jo(n,"pieRef",null),Jo(n,"sectorRefs",[]),Jo(n,"id",Um("recharts-pie-")),Jo(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ct(i)&&i()}),Jo(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ct(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return I4t(e,t),E4t(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=vt(this.props,!1),d=vt(o,!1),f=vt(s,!1),p=o&&o.offsetRadius||20,v=n.map(function(g,m){var y=(g.startAngle+g.endAngle)/2,x=Yr(g.cx,g.cy,g.outerRadius+p,y),b=Gr(Gr(Gr(Gr({},c),g),{},{stroke:"none"},d),{},{index:m,textAnchor:e.getTextAnchor(x.x,g.cx)},x),w=Gr(Gr(Gr(Gr({},c),g),{},{fill:"none",stroke:g.fill},f),{},{index:m,points:[Yr(g.cx,g.cy,g.outerRadius,y),x]}),S=l;return jt(l)&&jt(u)?S="value":jt(l)&&(S=u),I.createElement(br,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(m)},s&&e.renderLabelLineItem(s,w,"line"),e.renderLabelItem(o,b,Jn(g,S)))});return I.createElement(br,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(c),f=l&&i.hasActiveIndex()?l:null,p=d?o:f,v=Gr(Gr({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return I.createElement(br,Cv({ref:function(m){m&&!i.sectorRefs.includes(m)&&i.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},Wh(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),I.createElement(Mge,Cv({option:p,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,f=d.prevSectors,p=d.prevIsAnimationActive;return I.createElement(Kl,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,m=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(b,w){var S=f&&f[w],C=w>0?To(b,"paddingAngle",0):0;if(S){var E=vo(S.endAngle-S.startAngle,b.endAngle-b.startAngle),A=Gr(Gr({},b),{},{startAngle:x+C,endAngle:x+E(g)+C});m.push(A),x=A.endAngle}else{var P=b.endAngle,_=b.startAngle,k=vo(0,P-_),O=k(g),D=Gr(Gr({},b),{},{startAngle:x+C,endAngle:x+O+C});m.push(D),x=D.endAngle}}),I.createElement(br,null,n.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!i1(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!$e(u)||!$e(c)||!$e(d)||!$e(f))return null;var g=Nt("recharts-pie",s);return I.createElement(br,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),fi.renderCallByParent(this.props,null,!1),(!p||v)&&zu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);if(Ct(n))return n(i);var o=Nt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(vT,Cv({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(I.isValidElement(n))return I.cloneElement(n,i);var o=a;if(Ct(n)&&(o=n(i),I.isValidElement(o)))return o;var s=Nt("recharts-pie-label-text",typeof n!="boolean"&&!Ct(n)?n.className:"");return I.createElement(Hh,Cv({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(j.PureComponent);mA=qs;Jo(qs,"displayName","Pie");Jo(qs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Jo(qs,"parseDeltaAngle",function(t,e){var r=xa(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Jo(qs,"getRealPieData",function(t){var e=t.data,r=t.children,n=vt(t,!1),i=Io(r,Kv);return e&&e.length?e.map(function(a,o){return Gr(Gr(Gr({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Gr(Gr({},n),a.props)}):[]});Jo(qs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=vge(i,a),s=n+ba(t.cx,i,i/2),l=r+ba(t.cy,a,a/2),u=ba(t.innerRadius,o,0),c=ba(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});Jo(qs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Gr(Gr({},e.type.defaultProps),e.props):e.props,i=mA.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,c=n.nameKey,d=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),v=mA.parseCoordinateOfPie(n,r),g=mA.parseDeltaAngle(o,s),m=Math.abs(g),y=u;jt(u)&&jt(d)?(Us(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):jt(u)&&(Us(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var x=i.filter(function(A){return Jn(A,y,0)!==0}).length,b=(m>=360?x:x-1)*l,w=m-x*p-b,S=i.reduce(function(A,P){var _=Jn(P,y,0);return A+($e(_)?_:0)},0),C;if(S>0){var E;C=i.map(function(A,P){var _=Jn(A,y,0),k=Jn(A,c,P),O=($e(_)?_:0)/S,D;P?D=E.endAngle+xa(g)*l*(_!==0?1:0):D=o;var B=D+xa(g)*((_!==0?p:0)+O*w),$=(D+B)/2,L=(v.innerRadius+v.outerRadius)/2,R=[{name:k,value:_,payload:A,dataKey:y,type:f}],V=Yr(v.cx,v.cy,L,$);return E=Gr(Gr(Gr({percent:O,cornerRadius:a,name:k,tooltipPayload:R,midAngle:$,middleRadius:L,tooltipPosition:V},A),v),{},{value:Jn(A,y),startAngle:D,endAngle:B,payload:A,paddingAngle:xa(g)*l}),E})}return Gr(Gr({},v),{},{sectors:C,data:i})});var _4t=Math.ceil,O4t=Math.max;function k4t(t,e,r,n){for(var i=-1,a=O4t(_4t((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var D4t=k4t,M4t=ave,R4t=1/0,j4t=17976931348623157e292;function F4t(t){if(!t)return t===0?t:0;if(t=M4t(t),t===R4t||t===-1/0){var e=t<0?-1:1;return e*j4t}return t===t?t:0}var Fge=F4t,L4t=D4t,$4t=Z_,b2=Fge;function N4t(t){return function(e,r,n){return n&&typeof n!="number"&&$4t(e,r,n)&&(r=n=void 0),e=b2(e),r===void 0?(r=e,e=0):r=b2(r),n=n===void 0?e<r?1:-1:b2(n),L4t(e,r,n,t)}}var B4t=N4t,V4t=B4t,z4t=V4t(),U4t=z4t;const CT=_t(U4t);function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function BK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BK(Object(r),!0).forEach(function(n){Lge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lge(t,e,r){return e=q4t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q4t(t){var e=G4t(t,"string");return Ib(e)=="symbol"?e:e+""}function G4t(t,e){if(Ib(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ib(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W4t=["Webkit","Moz","O","ms"],H4t=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=W4t.reduce(function(a,o){return VK(VK({},a),{},Lge({},o+n,r))},{});return i[e]=r,i};function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TT.apply(this,arguments)}function zK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zK(Object(r),!0).forEach(function(n){co(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y4t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nge(n.key),n)}}function X4t(t,e,r){return e&&UK(t.prototype,e),r&&UK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K4t(t,e,r){return e=IT(e),Q4t(t,$ge()?Reflect.construct(e,r||[],IT(t).constructor):e.apply(t,r))}function Q4t(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4t(t)}function J4t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ge=function(){return!!t})()}function IT(t){return IT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},IT(t)}function Z4t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FL(t,e)}function FL(t,e){return FL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FL(t,e)}function co(t,e,r){return e=Nge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nge(t){var e=e5t(t,"string");return Ng(e)=="symbol"?e:e+""}function e5t(t,e){if(Ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t5t=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=K0().domain(CT(0,l)).range([a,a+o-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},qK=function(e){return e.changedTouches&&!!e.changedTouches.length},Bg=function(t){function e(r){var n;return Y4t(this,e),n=K4t(this,e,[r]),co(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),co(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),co(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),co(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),co(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),co(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),co(n,"handleSlideDragStart",function(i){var a=qK(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Z4t(e,t),X4t(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,a),f=Math.max(i,a),p=e.getIndexInRange(o,d),v=e.getIndexInRange(o,f);return{startIndex:p-p%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Jn(a[n],s,n);return Ct(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,f=l.startIndex,p=l.endIndex,v=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+c-d-s,u+c-d-o):g<0&&(g=Math.max(g,u-o,u-s));var m=this.getIndex({startX:o+g,endX:s+g});(m.startIndex!==f||m.endIndex!==p)&&v&&v(m),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=qK(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,d=c.x,f=c.width,p=c.travellerWidth,v=c.onChange,g=c.gap,m=c.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,d+f-p-u):x<0&&(x=Math.max(x,d-u)),y[o]=u+x;var b=this.getIndex(y),w=b.startIndex,S=b.endIndex,C=function(){var A=m.length-1;return o==="startX"&&(s>l?w%g===0:S%g===0)||s<l&&S===A||o==="endX"&&(s>l?S%g===0:w%g===0)||s>l&&S===A};this.setState(co(co({},o,u+x),"brushMoveStartX",n.pageX),function(){v&&C()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var f=d+n;if(!(f===-1||f>=s.length)){var p=s[f];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(co({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,d=j.Children.only(u);return d?I.cloneElement(d,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,f=l.traveller,p=l.ariaLabel,v=l.data,g=l.startIndex,m=l.endIndex,y=Math.max(n,this.props.x),x=w2(w2({},vt(this.props,!1)),{},{x:y,y:u,width:c,height:d}),b=p||"Min value: ".concat((a=v[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[m])===null||o===void 0?void 0:o.name);return I.createElement(br,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,d=c.startX,f=c.endX,p=5,v={pointerEvents:"none",fill:u};return I.createElement(br,{className:"recharts-brush-texts"},I.createElement(Hh,TT({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-p,y:o+s/2},v),this.getTextOfTick(i)),I.createElement(Hh,TT({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+p,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,c=n.height,d=n.alwaysShowText,f=this.state,p=f.startX,v=f.endX,g=f.isTextActive,m=f.isSlideMoving,y=f.isTravellerMoving,x=f.isTravellerFocused;if(!i||!i.length||!$e(s)||!$e(l)||!$e(u)||!$e(c)||u<=0||c<=0)return null;var b=Nt("recharts-brush",a),w=I.Children.count(o)===1,S=H4t("userSelect","none");return I.createElement(br,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||m||y||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),I.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return I.isValidElement(n)?a=I.cloneElement(n,i):Ct(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,d=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return w2({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?t5t({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(j.PureComponent);co(Bg,"displayName","Brush");co(Bg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var r5t=x3;function n5t(t,e){var r;return r5t(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var i5t=n5t,a5t=Mpe,o5t=lu,s5t=i5t,l5t=eo,u5t=Z_;function c5t(t,e,r){var n=l5t(t)?a5t:s5t;return r&&u5t(t,e,r)&&(e=void 0),n(t,o5t(e))}var d5t=c5t;const f5t=_t(d5t);var $l=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},h5t=ole,p5t=Zpe,v5t=lu;function g5t(t,e){var r={};return e=v5t(e),p5t(t,function(n,i,a){h5t(r,i,e(n,i,a))}),r}var m5t=g5t;const y5t=_t(m5t);function x5t(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var b5t=x5t,w5t=x3;function S5t(t,e){var r=!0;return w5t(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var E5t=S5t,A5t=b5t,C5t=E5t,T5t=lu,I5t=eo,P5t=Z_;function _5t(t,e,r){var n=I5t(t)?A5t:C5t;return r&&P5t(t,e,r)&&(e=void 0),n(t,T5t(e))}var O5t=_5t;const Bge=_t(O5t);var k5t=["x","y"];function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function LL(){return LL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LL.apply(this,arguments)}function GK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GK(Object(r),!0).forEach(function(n){D5t(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D5t(t,e,r){return e=M5t(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5t(t){var e=R5t(t,"string");return Pb(e)=="symbol"?e:e+""}function R5t(t,e){if(Pb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j5t(t,e){if(t==null)return{};var r=F5t(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F5t(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L5t(t,e){var r=t.x,n=t.y,i=j5t(t,k5t),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Hy(Hy(Hy(Hy(Hy({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function WK(t){return I.createElement(Mge,LL({shapeType:"rectangle",propTransformer:L5t,activeClassName:"recharts-active-bar"},t))}var $5t=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||qd(),r)}},N5t=["value","background"],Vge;function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function B5t(t,e){if(t==null)return{};var r=V5t(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V5t(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PT(){return PT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PT.apply(this,arguments)}function HK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HK(Object(r),!0).forEach(function(n){nd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z5t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uge(n.key),n)}}function U5t(t,e,r){return e&&YK(t.prototype,e),r&&YK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q5t(t,e,r){return e=_T(e),G5t(t,zge()?Reflect.construct(e,r||[],_T(t).constructor):e.apply(t,r))}function G5t(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W5t(t)}function W5t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zge(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zge=function(){return!!t})()}function _T(t){return _T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_T(t)}function H5t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$L(t,e)}function $L(t,e){return $L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$L(t,e)}function nd(t,e,r){return e=Uge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uge(t){var e=Y5t(t,"string");return Vg(e)=="symbol"?e:e+""}function Y5t(t,e){if(Vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){var r;z5t(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=q5t(this,e,[].concat(i)),nd(r,"state",{isAnimationFinished:!1}),nd(r,"id",Um("recharts-bar-")),nd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),nd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return H5t(e,t),U5t(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=vt(this.props,!1);return n&&n.map(function(d,f){var p=f===l,v=p?u:o,g=Bn(Bn(Bn({},c),d),{},{isActive:p,option:v,index:f,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return I.createElement(br,PT({className:"recharts-bar-rectangle"},Wh(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),I.createElement(WK,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevData;return I.createElement(Kl,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=a.map(function(m,y){var x=f&&f[y];if(x){var b=vo(x.x,m.x),w=vo(x.y,m.y),S=vo(x.width,m.width),C=vo(x.height,m.height);return Bn(Bn({},m),{},{x:b(v),y:w(v),width:S(v),height:C(v)})}if(o==="horizontal"){var E=vo(0,m.height),A=E(v);return Bn(Bn({},m),{},{y:m.y+m.height-A,height:A})}var P=vo(0,m.width),_=P(v);return Bn(Bn({},m),{},{width:_})});return I.createElement(br,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!i1(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=vt(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,f=B5t(u,N5t);if(!d)return null;var p=Bn(Bn(Bn(Bn(Bn({},f),{},{fill:"#eee"},d),l),Wh(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return I.createElement(WK,PT({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=Io(c,a1);if(!d)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(m,y){var x=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:x,errorVal:Jn(m,y)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(br,v,d.map(function(g){return I.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,d=n.width,f=n.height,p=n.isAnimationActive,v=n.background,g=n.id;if(i||!a||!a.length)return null;var m=this.state.isAnimationFinished,y=Nt("recharts-bar",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=x||b,S=jt(g)?this.id:g;return I.createElement(br,{className:y},x||b?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(S)},I.createElement("rect",{x:x?u:u-d/2,y:b?c:c-f/2,width:x?d:d*2,height:b?f:f*2}))):null,I.createElement(br,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,S),(!p||m)&&zu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);Vge=Uu;nd(Uu,"displayName","Bar");nd(Uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nd(Uu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,f=t.offset,p=MFt(n,r);if(!p)return null;var v=e.layout,g=r.type.defaultProps,m=g!==void 0?Bn(Bn({},g),r.props):r.props,y=m.dataKey,x=m.children,b=m.minPointSize,w=v==="horizontal"?o:a,S=u?w.scale.domain():null,C=BFt({numericAxis:w}),E=Io(x,Kv),A=d.map(function(P,_){var k,O,D,B,$,L;u?k=RFt(u[c+_],S):(k=Jn(P,y),Array.isArray(k)||(k=[C,k]));var R=$5t(b,Vge.defaultProps.minPointSize)(k[1],_);if(v==="horizontal"){var V,U=[o.scale(k[0]),o.scale(k[1])],q=U[0],M=U[1];O=BX({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:P,index:_}),D=(V=M??q)!==null&&V!==void 0?V:void 0,B=p.size;var G=q-M;if($=Number.isNaN(G)?0:G,L={x:O,y:o.y,width:B,height:o.height},Math.abs(R)>0&&Math.abs($)<Math.abs(R)){var W=xa($||R)*(Math.abs(R)-Math.abs($));D-=W,$+=W}}else{var J=[a.scale(k[0]),a.scale(k[1])],te=J[0],H=J[1];if(O=te,D=BX({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:P,index:_}),B=H-te,$=p.size,L={x:a.x,y:D,width:a.width,height:$},Math.abs(R)>0&&Math.abs(B)<Math.abs(R)){var ee=xa(B||R)*(Math.abs(R)-Math.abs(B));B+=ee}}return Bn(Bn(Bn({},P),{},{x:O,y:D,width:B,height:$,value:u?k:k[1],payload:P,background:L},E&&E[_]&&E[_].props),{},{tooltipPayload:[hge(r,P)],tooltipPosition:{x:O+B/2,y:D+$/2}})});return Bn({data:A,layout:v},f)});function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function X5t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qge(n.key),n)}}function K5t(t,e,r){return e&&XK(t.prototype,e),r&&XK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KK(Object(r),!0).forEach(function(n){yO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yO(t,e,r){return e=qge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qge(t){var e=Q5t(t,"string");return _b(e)=="symbol"?e:e+""}function Q5t(t,e){if(_b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gge=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},f=!!ho(u,Uu);return c.reduce(function(p,v){var g=r[v],m=g.orientation,y=g.domain,x=g.padding,b=x===void 0?{}:x,w=g.mirror,S=g.reversed,C="".concat(m).concat(w?"Mirror":""),E,A,P,_,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=y[1]-y[0],D=1/0,B=g.categoricalDomain.sort(WSt);if(B.forEach(function(J,te){te>0&&(D=Math.min((J||0)-(B[te-1]||0),D))}),Number.isFinite(D)){var $=D/O,L=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(E=$*L/2),g.padding==="no-gap"){var R=ba(e.barCategoryGap,$*L),V=$*L/2;E=V-R-(V-R)/L*R}}}i==="xAxis"?A=[n.left+(b.left||0)+(E||0),n.left+n.width-(b.right||0)-(E||0)]:i==="yAxis"?A=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(E||0),n.top+n.height-(b.bottom||0)-(E||0)]:A=g.range,S&&(A=[A[1],A[0]]);var U=uge(g,a,f),q=U.scale,M=U.realScaleType;q.domain(y).range(A),cge(q);var G=dge(q,Rs(Rs({},g),{},{realScaleType:M}));i==="xAxis"?(k=m==="top"&&!w||m==="bottom"&&w,P=n.left,_=d[C]-k*g.height):i==="yAxis"&&(k=m==="left"&&!w||m==="right"&&w,P=d[C]-k*g.width,_=n.top);var W=Rs(Rs(Rs({},g),G),{},{realScaleType:M,x:P,y:_,scale:q,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return W.bandSize=fT(W,G),!g.hide&&i==="xAxis"?d[C]+=(k?-1:1)*W.height:g.hide||(d[C]+=(k?-1:1)*W.width),Rs(Rs({},p),{},yO({},v,W))},{})},Wge=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},J5t=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Wge({x:r,y:n},{x:i,y:a})},Hge=function(){function t(e){X5t(this,t),this.scale=e}return K5t(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();yO(Hge,"EPS",1e-4);var G3=function(e){var r=Object.keys(e).reduce(function(n,i){return Rs(Rs({},n),{},yO({},i,Hge.create(e[i])))},{});return Rs(Rs({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return y5t(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Bge(i,function(a,o){return r[o].isInRange(a)})}})};function Z5t(t){return(t%180+180)%180}var e3t=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Z5t(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},t3t=lu,r3t=e1,n3t=Q_;function i3t(t){return function(e,r,n){var i=Object(e);if(!r3t(e)){var a=t3t(r);e=n3t(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var a3t=i3t,o3t=Fge;function s3t(t){var e=o3t(t),r=e%1;return e===e?r?e-r:e:0}var l3t=s3t,u3t=Hpe,c3t=lu,d3t=l3t,f3t=Math.max;function h3t(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:d3t(r);return i<0&&(i=f3t(n+i,0)),u3t(t,c3t(e),i)}var p3t=h3t,v3t=a3t,g3t=p3t,m3t=v3t(g3t),y3t=m3t;const x3t=_t(y3t);var b3t=MZe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),W3=j.createContext(void 0),H3=j.createContext(void 0),Yge=j.createContext(void 0),Xge=j.createContext({}),Kge=j.createContext(void 0),Qge=j.createContext(0),Jge=j.createContext(0),QK=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=b3t(a);return I.createElement(W3.Provider,{value:n},I.createElement(H3.Provider,{value:i},I.createElement(Xge.Provider,{value:a},I.createElement(Yge.Provider,{value:c},I.createElement(Kge.Provider,{value:o},I.createElement(Qge.Provider,{value:u},I.createElement(Jge.Provider,{value:l},s)))))))},w3t=function(){return j.useContext(Kge)},Zge=function(e){var r=j.useContext(W3);r==null&&qd();var n=r[e];return n==null&&qd(),n},S3t=function(){var e=j.useContext(W3);return Xc(e)},E3t=function(){var e=j.useContext(H3),r=x3t(e,function(n){return Bge(n.domain,Number.isFinite)});return r||Xc(e)},eme=function(e){var r=j.useContext(H3);r==null&&qd();var n=r[e];return n==null&&qd(),n},A3t=function(){var e=j.useContext(Yge);return e},C3t=function(){return j.useContext(Xge)},Y3=function(){return j.useContext(Jge)},X3=function(){return j.useContext(Qge)};function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function T3t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rme(n.key),n)}}function P3t(t,e,r){return e&&I3t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _3t(t,e,r){return e=OT(e),O3t(t,tme()?Reflect.construct(e,r||[],OT(t).constructor):e.apply(t,r))}function O3t(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k3t(t)}function k3t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tme=function(){return!!t})()}function OT(t){return OT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},OT(t)}function D3t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NL(t,e)}function NL(t,e){return NL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NL(t,e)}function JK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JK(Object(r),!0).forEach(function(n){K3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K3(t,e,r){return e=rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rme(t){var e=M3t(t,"string");return zg(e)=="symbol"?e:e+""}function M3t(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R3t(t,e){return $3t(t)||L3t(t,e)||F3t(t,e)||j3t()}function j3t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3t(t,e){if(t){if(typeof t=="string")return eQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eQ(t,e)}}function eQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L3t(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $3t(t){if(Array.isArray(t))return t}function BL(){return BL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BL.apply(this,arguments)}var N3t=function(e,r){var n;return I.isValidElement(e)?n=I.cloneElement(e,r):Ct(e)?n=e(r):n=I.createElement("line",BL({},r,{className:"recharts-reference-line-line"})),n},B3t=function(e,r,n,i,a,o,s,l,u){var c=a.x,d=a.y,f=a.width,p=a.height;if(n){var v=u.y,g=e.y.apply(v,{position:o});if($l(u,"discard")&&!e.y.isInRange(g))return null;var m=[{x:c+f,y:g},{x:c,y:g}];return l==="left"?m.reverse():m}if(r){var y=u.x,x=e.x.apply(y,{position:o});if($l(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:d+p},{x,y:d}];return s==="top"?b.reverse():b}if(i){var w=u.segment,S=w.map(function(C){return e.apply(C,{position:o})});return $l(u,"discard")&&f5t(S,function(C){return!e.isInRange(C)})?null:S}return null};function V3t(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=w3t(),c=Zge(i),d=eme(a),f=A3t();if(!u||!f)return null;Us(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=G3({x:c.scale,y:d.scale}),v=ei(e),g=ei(r),m=n&&n.length===2,y=B3t(p,v,g,m,f,t.position,c.orientation,d.orientation,t);if(!y)return null;var x=R3t(y,2),b=x[0],w=b.x,S=b.y,C=x[1],E=C.x,A=C.y,P=$l(t,"hidden")?"url(#".concat(u,")"):void 0,_=ZK(ZK({clipPath:P},vt(t,!0)),{},{x1:w,y1:S,x2:E,y2:A});return I.createElement(br,{className:Nt("recharts-reference-line",s)},N3t(o,_),fi.renderCallByParent(t,J5t({x1:w,y1:S,x2:E,y2:A})))}var Q3=function(t){function e(){return T3t(this,e),_3t(this,e,arguments)}return D3t(e,t),P3t(e,[{key:"render",value:function(){return I.createElement(V3t,this.props)}}])}(I.Component);K3(Q3,"displayName","ReferenceLine");K3(Q3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VL(){return VL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VL.apply(this,arguments)}function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function tQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tQ(Object(r),!0).forEach(function(n){xO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z3t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U3t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ime(n.key),n)}}function q3t(t,e,r){return e&&U3t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G3t(t,e,r){return e=kT(e),W3t(t,nme()?Reflect.construct(e,r||[],kT(t).constructor):e.apply(t,r))}function W3t(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H3t(t)}function H3t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nme=function(){return!!t})()}function kT(t){return kT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kT(t)}function Y3t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zL(t,e)}function zL(t,e){return zL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zL(t,e)}function xO(t,e,r){return e=ime(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ime(t){var e=X3t(t,"string");return Ug(e)=="symbol"?e:e+""}function X3t(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K3t=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=G3({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return $l(e,"discard")&&!o.isInRange(s)?null:s},bO=function(t){function e(){return z3t(this,e),G3t(this,e,arguments)}return Y3t(e,t),q3t(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=ei(i),c=ei(a);if(Us(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=K3t(this.props);if(!d)return null;var f=d.x,p=d.y,v=this.props,g=v.shape,m=v.className,y=$l(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=rQ(rQ({clipPath:y},vt(this.props,!0)),{},{cx:f,cy:p});return I.createElement(br,{className:Nt("recharts-reference-dot",m)},e.renderDot(g,x),fi.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);xO(bO,"displayName","ReferenceDot");xO(bO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xO(bO,"renderDot",function(t,e){var r;return I.isValidElement(t)?r=I.cloneElement(t,e):Ct(t)?r=t(e):r=I.createElement(dO,VL({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function UL(){return UL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UL.apply(this,arguments)}function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function nQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nQ(Object(r),!0).forEach(function(n){wO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q3t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J3t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ome(n.key),n)}}function Z3t(t,e,r){return e&&J3t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eVt(t,e,r){return e=DT(e),tVt(t,ame()?Reflect.construct(e,r||[],DT(t).constructor):e.apply(t,r))}function tVt(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rVt(t)}function rVt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ame(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ame=function(){return!!t})()}function DT(t){return DT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DT(t)}function nVt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qL(t,e)}function qL(t,e){return qL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qL(t,e)}function wO(t,e,r){return e=ome(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ome(t){var e=iVt(t,"string");return qg(e)=="symbol"?e:e+""}function iVt(t,e){if(qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aVt=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var f=G3({x:c.scale,y:d.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(s,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return $l(a,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:Wge(p,v)},SO=function(t){function e(){return Q3t(this,e),eVt(this,e,arguments)}return nVt(e,t),Z3t(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;Us(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=ei(i),f=ei(a),p=ei(o),v=ei(s),g=this.props.shape;if(!d&&!f&&!p&&!v&&!g)return null;var m=aVt(d,f,p,v,this.props);if(!m&&!g)return null;var y=$l(this.props,"hidden")?"url(#".concat(c,")"):void 0;return I.createElement(br,{className:Nt("recharts-reference-area",l)},e.renderRect(g,iQ(iQ({clipPath:y},vt(this.props,!0)),m)),fi.renderCallByParent(this.props,m))}}])}(I.Component);wO(SO,"displayName","ReferenceArea");wO(SO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wO(SO,"renderRect",function(t,e){var r;return I.isValidElement(t)?r=I.cloneElement(t,e):Ct(t)?r=t(e):r=I.createElement(q3,UL({},e,{className:"recharts-reference-area-rect"})),r});function sme(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function oVt(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return e3t(n,r)}function sVt(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function MT(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function lVt(t,e){return sme(t,e+1)}function uVt(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,d=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:sme(n,u)};var g=l,m,y=function(){return m===void 0&&(m=r(v,g)),m},x=v.coordinate,b=l===0||MT(t,x,y,c,s);b||(l=0,c=o,u+=1),b&&(c=x+t*(y()/2+i),l+=u)},f;u<=a.length;)if(f=d(),f)return f.v;return[]}function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function aQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aQ(Object(r),!0).forEach(function(n){cVt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cVt(t,e,r){return e=dVt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dVt(t){var e=fVt(t,"string");return Ob(e)=="symbol"?e:e+""}function fVt(t,e){if(Ob(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ob(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hVt(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(f){var p=a[f],v,g=function(){return v===void 0&&(v=r(p,f)),v};if(f===o-1){var m=t*(p.coordinate+t*g()/2-l);a[f]=p=Ki(Ki({},p),{},{tickCoord:m>0?p.coordinate-m*t:p.coordinate})}else a[f]=p=Ki(Ki({},p),{},{tickCoord:p.coordinate});var y=MT(t,p.tickCoord,g,s,l);y&&(l=p.tickCoord-t*(g()/2+i),a[f]=Ki(Ki({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function pVt(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=n[s-1],d=r(c,s-1),f=t*(c.coordinate+t*d/2-u);o[s-1]=c=Ki(Ki({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var p=MT(t,c.tickCoord,function(){return d},l,u);p&&(u=c.tickCoord-t*(d/2+i),o[s-1]=Ki(Ki({},c),{},{isShow:!0}))}for(var v=a?s-1:s,g=function(x){var b=o[x],w,S=function(){return w===void 0&&(w=r(b,x)),w};if(x===0){var C=t*(b.coordinate-t*S()/2-l);o[x]=b=Ki(Ki({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else o[x]=b=Ki(Ki({},b),{},{tickCoord:b.coordinate});var E=MT(t,b.tickCoord,S,l,u);E&&(l=b.tickCoord+t*(S()/2+i),o[x]=Ki(Ki({},b),{},{isShow:!0}))},m=0;m<v;m++)g(m);return o}function J3(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if($e(l)||wp.isSsr)return lVt(i,typeof l=="number"&&$e(l)?l:0);var f=[],p=s==="top"||s==="bottom"?"width":"height",v=c&&p==="width"?X0(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,w){var S=Ct(u)?u(b.value,w):b.value;return p==="width"?oVt(X0(S,{fontSize:e,letterSpacing:r}),v,d):X0(S,{fontSize:e,letterSpacing:r})[p]},m=i.length>=2?xa(i[1].coordinate-i[0].coordinate):1,y=sVt(a,m,p);return l==="equidistantPreserveStart"?uVt(m,y,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=pVt(m,y,g,i,o,l==="preserveStartEnd"):f=hVt(m,y,g,i,o),f.filter(function(x){return x.isShow}))}var vVt=["viewBox"],gVt=["viewBox"],mVt=["ticks"];function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tv.apply(this,arguments)}function oQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oQ(Object(r),!0).forEach(function(n){Z3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S2(t,e){if(t==null)return{};var r=yVt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yVt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xVt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ume(n.key),n)}}function bVt(t,e,r){return e&&sQ(t.prototype,e),r&&sQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wVt(t,e,r){return e=RT(e),SVt(t,lme()?Reflect.construct(e,r||[],RT(t).constructor):e.apply(t,r))}function SVt(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EVt(t)}function EVt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lme=function(){return!!t})()}function RT(t){return RT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RT(t)}function AVt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GL(t,e)}function GL(t,e){return GL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GL(t,e)}function Z3(t,e,r){return e=ume(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ume(t){var e=CVt(t,"string");return Gg(e)=="symbol"?e:e+""}function CVt(t,e){if(Gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xm=function(t){function e(r){var n;return xVt(this,e),n=wVt(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return AVt(e,t),bVt(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=S2(n,vVt),s=this.props,l=s.viewBox,u=S2(s,gVt);return!Xv(a,l)||!Xv(o,u)||!Xv(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,f=i.tickMargin,p,v,g,m,y,x,b=d?-1:1,w=n.tickSize||c,S=$e(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,m=o+ +!d*l,g=m-b*w,x=g-b*f,y=S;break;case"left":g=m=n.coordinate,v=a+ +!d*s,p=v-b*w,y=p-b*f,x=S;break;case"right":g=m=n.coordinate,v=a+ +d*s,p=v+b*w,y=p+b*f,x=S;break;default:p=v=n.coordinate,m=o+ +d*l,g=m+b*w,x=g+b*f,y=S;break}return{line:{x1:p,y1:g,x2:v,y2:m},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,d=pa(pa(pa({},vt(this.props,!1)),vt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=pa(pa({},d),{},{x1:i,y1:a+f*s,x2:i+o,y2:a+f*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=pa(pa({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return I.createElement("line",Tv({},d,{className:Nt("recharts-cartesian-axis-line",To(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,f=s.unit,p=J3(pa(pa({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),m=vt(this.props,!1),y=vt(c,!1),x=pa(pa({},m),{},{fill:"none"},vt(l,!1)),b=p.map(function(w,S){var C=o.getTickLineCoord(w),E=C.line,A=C.tick,P=pa(pa(pa(pa({textAnchor:v,verticalAnchor:g},m),{},{stroke:"none",fill:u},y),A),{},{index:S,payload:w,visibleTicksCount:p.length,tickFormatter:d});return I.createElement(br,Tv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Wh(o.props,w,S)),l&&I.createElement("line",Tv({},x,E,{className:Nt("recharts-cartesian-axis-tick-line",To(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(Ct(d)?d(w.value,S):w.value).concat(f||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,f=d.ticks,p=S2(d,mVt),v=f;return Ct(l)&&(v=f&&f.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:I.createElement(br,{className:Nt("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return I.isValidElement(n)?o=I.cloneElement(n,i):Ct(n)?o=n(i):o=I.createElement(Hh,Tv({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);Z3(Xm,"displayName","CartesianAxis");Z3(Xm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var TVt=["x1","y1","x2","y2","key"],IVt=["offset"];function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function lQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lQ(Object(r),!0).forEach(function(n){PVt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PVt(t,e,r){return e=_Vt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Vt(t){var e=OVt(t,"string");return Xh(e)=="symbol"?e:e+""}function OVt(t,e){if(Xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ih.apply(this,arguments)}function uQ(t,e){if(t==null)return{};var r=kVt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kVt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DVt=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return I.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cme(t,e){var r;if(I.isValidElement(t))r=I.cloneElement(t,e);else if(Ct(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=uQ(e,TVt),u=vt(l,!1);u.offset;var c=uQ(u,IVt);r=I.createElement("line",ih({},c,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function MVt(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=ta(ta({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return cme(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function RVt(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=ta(ta({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return cme(i,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jVt(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==c[0]&&c.unshift(0);var d=c.map(function(f,p){var v=!c[p+1],g=v?i+o-f:c[p+1]-f;if(g<=0)return null;var m=p%e.length;return I.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:a,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function FVt(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==c[0]&&c.unshift(0);var d=c.map(function(f,p){var v=!c[p+1],g=v?a+s-f:c[p+1]-f;if(g<=0)return null;var m=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:g,height:l,stroke:"none",fill:n[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var LVt=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return lge(J3(ta(ta(ta({},Xm.defaultProps),n),{},{ticks:Ru(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},$Vt=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return lge(J3(ta(ta(ta({},Xm.defaultProps),n),{},{ticks:Ru(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},ev={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function b0(t){var e,r,n,i,a,o,s=Y3(),l=X3(),u=C3t(),c=ta(ta({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ev.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ev.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ev.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ev.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ev.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ev.verticalFill,x:$e(t.x)?t.x:u.left,y:$e(t.y)?t.y:u.top,width:$e(t.width)?t.width:u.width,height:$e(t.height)?t.height:u.height}),d=c.x,f=c.y,p=c.width,v=c.height,g=c.syncWithTicks,m=c.horizontalValues,y=c.verticalValues,x=S3t(),b=E3t();if(!$e(p)||p<=0||!$e(v)||v<=0||!$e(d)||d!==+d||!$e(f)||f!==+f)return null;var w=c.verticalCoordinatesGenerator||LVt,S=c.horizontalCoordinatesGenerator||$Vt,C=c.horizontalPoints,E=c.verticalPoints;if((!C||!C.length)&&Ct(S)){var A=m&&m.length,P=S({yAxis:b?ta(ta({},b),{},{ticks:A?m:b.ticks}):void 0,width:s,height:l,offset:u},A?!0:g);Us(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xh(P),"]")),Array.isArray(P)&&(C=P)}if((!E||!E.length)&&Ct(w)){var _=y&&y.length,k=w({xAxis:x?ta(ta({},x),{},{ticks:_?y:x.ticks}):void 0,width:s,height:l,offset:u},_?!0:g);Us(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xh(k),"]")),Array.isArray(k)&&(E=k)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(DVt,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),I.createElement(MVt,ih({},c,{offset:u,horizontalPoints:C,xAxis:x,yAxis:b})),I.createElement(RVt,ih({},c,{offset:u,verticalPoints:E,xAxis:x,yAxis:b})),I.createElement(jVt,ih({},c,{horizontalPoints:C})),I.createElement(FVt,ih({},c,{verticalPoints:E})))}b0.displayName="CartesianGrid";var NVt=["type","layout","connectNulls","ref"],BVt=["key"];function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function cQ(t,e){if(t==null)return{};var r=VVt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VVt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function dQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function so(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dQ(Object(r),!0).forEach(function(n){js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tv(t){return GVt(t)||qVt(t)||UVt(t)||zVt()}function zVt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UVt(t,e){if(t){if(typeof t=="string")return WL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WL(t,e)}}function qVt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GVt(t){if(Array.isArray(t))return WL(t)}function WL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WVt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fme(n.key),n)}}function HVt(t,e,r){return e&&fQ(t.prototype,e),r&&fQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YVt(t,e,r){return e=jT(e),XVt(t,dme()?Reflect.construct(e,r||[],jT(t).constructor):e.apply(t,r))}function XVt(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KVt(t)}function KVt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dme=function(){return!!t})()}function jT(t){return jT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jT(t)}function QVt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HL(t,e)}function HL(t,e){return HL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HL(t,e)}function js(t,e,r){return e=fme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fme(t){var e=JVt(t,"string");return Wg(e)=="symbol"?e:e+""}function JVt(t,e){if(Wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o1=function(t){function e(){var r;WVt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=YVt(this,e,[].concat(i)),js(r,"state",{isAnimationFinished:!0,totalLength:0}),js(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),js(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(y,x){return y+x});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),d=o%u,f=s-o,p=[],v=0,g=0;v<l.length;g+=l[v],++v)if(g+l[v]>d){p=[].concat(tv(l.slice(0,v)),[d-g]);break}var m=p.length%2===0?[0,f]:[f];return[].concat(tv(e.repeat(l,c)),tv(p),m).map(function(y){return"".concat(y,"px")}).join(", ")}),js(r,"id",Um("recharts-line-")),js(r,"pathRef",function(o){r.mainCurve=o}),js(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),js(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return QVt(e,t),HVt(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=Io(c,a1);if(!d)return null;var f=function(g,m){return{x:g.x,y:g.y,value:g.value,errorVal:Jn(g.payload,m)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return I.createElement(br,p,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,d=vt(this.props,!1),f=vt(l,!0),p=u.map(function(g,m){var y=so(so(so({key:"dot-".concat(m),r:3},d),f),{},{index:m,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return I.createElement(br,tx({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var d=cQ(s,NVt),f=so(so(so({},vt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:c});return I.createElement(vT,tx({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,d=o.animationDuration,f=o.animationEasing,p=o.animationId,v=o.animateNewValues,g=o.width,m=o.height,y=this.state,x=y.prevPoints,b=y.totalLength;return I.createElement(Kl,{begin:c,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(x){var C=x.length/s.length,E=s.map(function(O,D){var B=Math.floor(D*C);if(x[B]){var $=x[B],L=vo($.x,O.x),R=vo($.y,O.y);return so(so({},O),{},{x:L(S),y:R(S)})}if(v){var V=vo(g*2,O.x),U=vo(m/2,O.y);return so(so({},O),{},{x:V(S),y:U(S)})}return so(so({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(E,n,i)}var A=vo(0,b),P=A(S),_;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});_=a.getStrokeDasharray(P,b,k)}else _=a.generateSimpleStrokeDasharray(b,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:_})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!i1(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,f=i.left,p=i.width,v=i.height,g=i.isAnimationActive,m=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=s.length===1,b=Nt("recharts-line",l),w=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,C=w||S,E=jt(m)?this.id:m,A=(n=vt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=A.r,_=P===void 0?3:P,k=A.strokeWidth,O=k===void 0?2:k,D=tEt(o)?o:{},B=D.clipDot,$=B===void 0?!0:B,L=_*2+O;return I.createElement(br,{className:b},w||S?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(E)},I.createElement("rect",{x:w?f:f-p/2,y:S?d:d-v/2,width:w?p:p*2,height:S?v:v*2})),!$&&I.createElement("clipPath",{id:"clipPath-dots-".concat(E)},I.createElement("rect",{x:f-L/2,y:d-L/2,width:p+L,height:v+L}))):null,!x&&this.renderCurve(C,E),this.renderErrorBar(C,E),(x||o)&&this.renderDots(C,$,E),(!g||y)&&zu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(tv(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(tv(o),tv(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(I.isValidElement(n))a=I.cloneElement(n,i);else if(Ct(n))a=n(i);else{var o=i.key,s=cQ(i,BVt),l=Nt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=I.createElement(dO,tx({key:o},s,{className:l}))}return a}}])}(j.PureComponent);js(o1,"displayName","Line");js(o1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});js(o1,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(f,p){var v=Jn(f,o);return c==="horizontal"?{x:NX({axis:r,ticks:i,bandSize:s,entry:f,index:p}),y:jt(v)?null:n.scale(v),value:v,payload:f}:{x:jt(v)?null:r.scale(v),y:NX({axis:n,ticks:a,bandSize:s,entry:f,index:p}),value:v,payload:f}});return so({points:d,layout:c},u)});function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function ZVt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ezt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vme(n.key),n)}}function tzt(t,e,r){return e&&ezt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rzt(t,e,r){return e=FT(e),nzt(t,hme()?Reflect.construct(e,r||[],FT(t).constructor):e.apply(t,r))}function nzt(t,e){if(e&&(Hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return izt(t)}function izt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hme=function(){return!!t})()}function FT(t){return FT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FT(t)}function azt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YL(t,e)}function YL(t,e){return YL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YL(t,e)}function pme(t,e,r){return e=vme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vme(t){var e=ozt(t,"string");return Hg(e)=="symbol"?e:e+""}function ozt(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XL(){return XL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XL.apply(this,arguments)}function szt(t){var e=t.xAxisId,r=Y3(),n=X3(),i=Zge(e);return i==null?null:I.createElement(Xm,XL({},i,{className:Nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ru(o,!0)}}))}var id=function(t){function e(){return ZVt(this,e),rzt(this,e,arguments)}return azt(e,t),tzt(e,[{key:"render",value:function(){return I.createElement(szt,this.props)}}])}(I.Component);pme(id,"displayName","XAxis");pme(id,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function lzt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uzt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yme(n.key),n)}}function czt(t,e,r){return e&&uzt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dzt(t,e,r){return e=LT(e),fzt(t,gme()?Reflect.construct(e,r||[],LT(t).constructor):e.apply(t,r))}function fzt(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hzt(t)}function hzt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gme=function(){return!!t})()}function LT(t){return LT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},LT(t)}function pzt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KL(t,e)}function KL(t,e){return KL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KL(t,e)}function mme(t,e,r){return e=yme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yme(t){var e=vzt(t,"string");return Yg(e)=="symbol"?e:e+""}function vzt(t,e){if(Yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QL(){return QL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QL.apply(this,arguments)}var gzt=function(e){var r=e.yAxisId,n=Y3(),i=X3(),a=eme(r);return a==null?null:I.createElement(Xm,QL({},a,{className:Nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Ru(s,!0)}}))},ad=function(t){function e(){return lzt(this,e),dzt(this,e,arguments)}return pzt(e,t),czt(e,[{key:"render",value:function(){return I.createElement(gzt,this.props)}}])}(I.Component);mme(ad,"displayName","YAxis");mme(ad,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hQ(t){return bzt(t)||xzt(t)||yzt(t)||mzt()}function mzt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yzt(t,e){if(t){if(typeof t=="string")return JL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(t,e)}}function xzt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bzt(t){if(Array.isArray(t))return JL(t)}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZL=function(e,r,n,i,a){var o=Io(e,Q3),s=Io(e,bO),l=[].concat(hQ(o),hQ(s)),u=Io(e,SO),c="".concat(i,"Id"),d=i[0],f=r;if(l.length&&(f=l.reduce(function(g,m){if(m.props[c]===n&&$l(m.props,"extendDomain")&&$e(m.props[d])){var y=m.props[d];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},f)),u.length){var p="".concat(d,"1"),v="".concat(d,"2");f=u.reduce(function(g,m){if(m.props[c]===n&&$l(m.props,"extendDomain")&&$e(m.props[p])&&$e(m.props[v])){var y=m.props[p],x=m.props[v];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},f)}return a&&a.length&&(f=a.reduce(function(g,m){return $e(m)?[Math.min(g[0],m),Math.max(g[1],m)]:g},f)),f},xme={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,f),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,v=new Array(p);f<p;f++)v[f]=d[f].fn;return v},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,f,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var m=this._events[g],y=arguments.length,x,b;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,f),!0;case 5:return m.fn.call(m.context,c,d,f,p),!0;case 6:return m.fn.call(m.context,c,d,f,p,v),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];m.fn.apply(m.context,x)}else{var w=m.length,S;for(b=0;b<w;b++)switch(m[b].once&&this.removeListener(u,m[b].fn,void 0,!0),y){case 1:m[b].fn.call(m[b].context);break;case 2:m[b].fn.call(m[b].context,c);break;case 3:m[b].fn.call(m[b].context,c,d);break;case 4:m[b].fn.call(m[b].context,c,d,f);break;default:if(!x)for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];m[b].fn.apply(m[b].context,x)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,f){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!f||v.once)&&(!d||v.context===d)&&o(this,p);else{for(var g=0,m=[],y=v.length;g<y;g++)(v[g].fn!==c||f&&!v[g].once||d&&v[g].context!==d)&&m.push(v[g]);m.length?this._events[p]=m.length===1?m[0]:m:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(xme);var wzt=xme.exports;const Szt=_t(wzt);var E2=new Szt,A2="recharts.syncMouseEvents";function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function Ezt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Azt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bme(n.key),n)}}function Czt(t,e,r){return e&&Azt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C2(t,e,r){return e=bme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bme(t){var e=Tzt(t,"string");return kb(e)=="symbol"?e:e+""}function Tzt(t,e){if(kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Izt=function(){function t(){Ezt(this,t),C2(this,"activeIndex",0),C2(this,"coordinateList",[]),C2(this,"layout","horizontal")}return Czt(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,c=r.offset,d=c===void 0?null:c,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+u,f=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function Pzt(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&$e(n)&&$e(i))return!0}return!1}function _zt(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function wme(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Yr(e,r,n,i),s=Yr(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Ozt(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,f=Yr(s,l,u,d),p=Yr(s,l,c,d);n=f.x,i=f.y,a=p.x,o=p.y}else return wme(e);return[{x:n,y:i},{x:a,y:o}]}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function pQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pQ(Object(r),!0).forEach(function(n){kzt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kzt(t,e,r){return e=Dzt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dzt(t){var e=Mzt(t,"string");return Db(e)=="symbol"?e:e+""}function Mzt(t,e){if(Db(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Db(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rzt(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,g=vT;if(f==="ScatterChart")v=o,g=JNt;else if(f==="BarChart")v=_zt(d,o,l,c),g=q3;else if(d==="radial"){var m=wme(o),y=m.cx,x=m.cy,b=m.radius,w=m.startAngle,S=m.endAngle;v={cx:y,cy:x,startAngle:w,endAngle:S,innerRadius:b,outerRadius:b},g=xge}else v={points:Ozt(d,o,l)},g=vT;var C=pE(pE(pE(pE({stroke:"#ccc",pointerEvents:"none"},l),v),vt(p,!1)),{},{payload:s,payloadIndex:u,className:Nt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,C):j.createElement(g,C)}var jzt=["item"],Fzt=["children","className","width","height","style","compact","title","desc"];function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function vQ(t,e){return Nzt(t)||$zt(t,e)||Eme(t,e)||Lzt()}function Lzt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $zt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Nzt(t){if(Array.isArray(t))return t}function gQ(t,e){if(t==null)return{};var r=Bzt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bzt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vzt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zzt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ame(n.key),n)}}function Uzt(t,e,r){return e&&zzt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qzt(t,e,r){return e=$T(e),Gzt(t,Sme()?Reflect.construct(e,r||[],$T(t).constructor):e.apply(t,r))}function Gzt(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wzt(t)}function Wzt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sme=function(){return!!t})()}function $T(t){return $T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$T(t)}function Hzt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e$(t,e)}function e$(t,e){return e$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e$(t,e)}function Kg(t){return Kzt(t)||Xzt(t)||Eme(t)||Yzt()}function Yzt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eme(t,e){if(t){if(typeof t=="string")return t$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t$(t,e)}}function Xzt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kzt(t){if(Array.isArray(t))return t$(t)}function t$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mQ(Object(r),!0).forEach(function(n){mt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mt(t,e,r){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ame(t){var e=Qzt(t,"string");return Xg(e)=="symbol"?e:e+""}function Qzt(t,e){if(Xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jzt={xAxis:["bottom","top"],yAxis:["left","right"]},Zzt={width:"100%",height:"100%"},Cme={x:0,y:0};function vE(t){return t}var e6t=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},t6t=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Se(Se(Se({},i),Yr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Se(Se(Se({},i),Yr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Cme},EO=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Kg(s),Kg(u)):s},[]);return o.length>0?o:e&&e.length&&$e(i)&&$e(a)?e.slice(i,a+1):[]};function Tme(t){return t==="number"?[0,"auto"]:void 0}var r$=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=EO(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;f=VC(p,o.dataKey,i)}else f=d&&d[n]||s[n];return f?[].concat(Kg(l),[hge(u,f)]):l},[])},yQ=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=e6t(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=IFt(o,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,f=r$(e,r,c,d),p=t6t(n,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:f,activeCoordinate:p}}return null},r6t=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,f=e.stackOffset,p=sge(c,a);return n.reduce(function(v,g){var m,y=g.type.defaultProps!==void 0?Se(Se({},g.type.defaultProps),g.props):g.props,x=y.type,b=y.dataKey,w=y.allowDataOverflow,S=y.allowDuplicatedCategory,C=y.scale,E=y.ticks,A=y.includeHidden,P=y[o];if(v[P])return v;var _=EO(e.data,{graphicalItems:i.filter(function(G){var W,J=o in G.props?G.props[o]:(W=G.type.defaultProps)===null||W===void 0?void 0:W[o];return J===P}),dataStartIndex:l,dataEndIndex:u}),k=_.length,O,D,B;Pzt(y.domain,w,x)&&(O=gL(y.domain,null,w),p&&(x==="number"||C!=="auto")&&(B=Q0(_,b,"category")));var $=Tme(x);if(!O||O.length===0){var L,R=(L=y.domain)!==null&&L!==void 0?L:$;if(b){if(O=Q0(_,b,x),x==="category"&&p){var V=GSt(O);S&&V?(D=O,O=CT(0,k)):S||(O=UX(R,O,g).reduce(function(G,W){return G.indexOf(W)>=0?G:[].concat(Kg(G),[W])},[]))}else if(x==="category")S?O=O.filter(function(G){return G!==""&&!jt(G)}):O=UX(R,O,g).reduce(function(G,W){return G.indexOf(W)>=0||W===""||jt(W)?G:[].concat(Kg(G),[W])},[]);else if(x==="number"){var U=DFt(_,i.filter(function(G){var W,J,te=o in G.props?G.props[o]:(W=G.type.defaultProps)===null||W===void 0?void 0:W[o],H="hide"in G.props?G.props.hide:(J=G.type.defaultProps)===null||J===void 0?void 0:J.hide;return te===P&&(A||!H)}),b,a,c);U&&(O=U)}p&&(x==="number"||C!=="auto")&&(B=Q0(_,b,"category"))}else p?O=CT(0,k):s&&s[P]&&s[P].hasStack&&x==="number"?O=f==="expand"?[0,1]:fge(s[P].stackGroups,l,u):O=oge(_,i.filter(function(G){var W=o in G.props?G.props[o]:G.type.defaultProps[o],J="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return W===P&&(A||!J)}),x,c,!0);if(x==="number")O=ZL(d,O,P,a,E),R&&(O=gL(R,O,w));else if(x==="category"&&R){var q=R,M=O.every(function(G){return q.indexOf(G)>=0});M&&(O=q)}}return Se(Se({},v),{},mt({},P,Se(Se({},y),{},{axisType:a,domain:O,categoricalDomain:B,duplicateDomain:D,originalDomain:(m=y.domain)!==null&&m!==void 0?m:$,isCategorical:p,layout:c})))},{})},n6t=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,d=e.children,f=EO(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=f.length,v=sge(c,a),g=-1;return n.reduce(function(m,y){var x=y.type.defaultProps!==void 0?Se(Se({},y.type.defaultProps),y.props):y.props,b=x[o],w=Tme("number");if(!m[b]){g++;var S;return v?S=CT(0,p):s&&s[b]&&s[b].hasStack?(S=fge(s[b].stackGroups,l,u),S=ZL(d,S,b,a)):(S=gL(w,oge(f,n.filter(function(C){var E,A,P=o in C.props?C.props[o]:(E=C.type.defaultProps)===null||E===void 0?void 0:E[o],_="hide"in C.props?C.props.hide:(A=C.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===b&&!_}),"number",c),i.defaultProps.allowDataOverflow),S=ZL(d,S,b,a)),Se(Se({},m),{},mt({},b,Se(Se({axisType:a},i.defaultProps),{},{hide:!0,orientation:To(Jzt,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:w,isCategorical:v,layout:c})))}return m},{})},i6t=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,d="".concat(i,"Id"),f=Io(c,a),p={};return f&&f.length?p=r6t(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=n6t(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},a6t=function(e){var r=Xc(e),n=Ru(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:b3(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:fT(r,n)}},xQ=function(e){var r=e.children,n=e.defaultShowTooltip,i=ho(r,Bg),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},o6t=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bu(r&&r.type);return n&&n.indexOf("Bar")>=0})},bQ=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},s6t=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,d=n.children,f=n.margin||{},p=ho(d,Bg),v=ho(d,po),g=Object.keys(l).reduce(function(S,C){var E=l[C],A=E.orientation;return!E.mirror&&!E.hide?Se(Se({},S),{},mt({},A,S[A]+E.width)):S},{left:f.left||0,right:f.right||0}),m=Object.keys(o).reduce(function(S,C){var E=o[C],A=E.orientation;return!E.mirror&&!E.hide?Se(Se({},S),{},mt({},A,To(S,"".concat(A))+E.height)):S},{top:f.top||0,bottom:f.bottom||0}),y=Se(Se({},m),g),x=y.bottom;p&&(y.bottom+=p.props.height||Bg.defaultProps.height),v&&r&&(y=OFt(y,i,n,r));var b=u-y.left-y.right,w=c-y.top-y.bottom;return Se(Se({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(w,0)})},l6t=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},eV=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,f=function(y,x){var b=x.graphicalItems,w=x.stackGroups,S=x.offset,C=x.updateId,E=x.dataStartIndex,A=x.dataEndIndex,P=y.barSize,_=y.layout,k=y.barGap,O=y.barCategoryGap,D=y.maxBarSize,B=bQ(_),$=B.numericAxisName,L=B.cateAxisName,R=o6t(b),V=[];return b.forEach(function(U,q){var M=EO(y.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:A}),G=U.type.defaultProps!==void 0?Se(Se({},U.type.defaultProps),U.props):U.props,W=G.dataKey,J=G.maxBarSize,te=G["".concat($,"Id")],H=G["".concat(L,"Id")],ee={},re=l.reduce(function(dt,Mt){var sn=x["".concat(Mt.axisType,"Map")],Gt=G["".concat(Mt.axisType,"Id")];sn&&sn[Gt]||Mt.axisType==="zAxis"||qd();var Tr=sn[Gt];return Se(Se({},dt),{},mt(mt({},Mt.axisType,Tr),"".concat(Mt.axisType,"Ticks"),Ru(Tr)))},ee),Q=re[L],se=re["".concat(L,"Ticks")],ne=w&&w[te]&&w[te].hasStack&&VFt(U,w[te].stackGroups),le=Bu(U.type).indexOf("Bar")>=0,ge=fT(Q,se),be=[],Pe=R&&PFt({barSize:P,stackGroups:w,totalSize:l6t(re,L)});if(le){var Ce,Ue,we=jt(J)?D:J,Re=(Ce=(Ue=fT(Q,se,!0))!==null&&Ue!==void 0?Ue:we)!==null&&Ce!==void 0?Ce:0;be=_Ft({barGap:k,barCategoryGap:O,bandSize:Re!==ge?Re:ge,sizeList:Pe[H],maxBarSize:we}),Re!==ge&&(be=be.map(function(dt){return Se(Se({},dt),{},{position:Se(Se({},dt.position),{},{offset:dt.position.offset-Re/2})})}))}var ze=U&&U.type&&U.type.getComposedData;ze&&V.push({props:Se(Se({},ze(Se(Se({},re),{},{displayedData:M,props:y,dataKey:W,item:U,bandSize:ge,barPosition:be,offset:S,stackedData:ne,layout:_,dataStartIndex:E,dataEndIndex:A}))),{},mt(mt(mt({key:U.key||"item-".concat(q)},$,re[$]),L,re[L]),"animationId",C)),childIndex:iEt(U,y.children),item:U})}),V},p=function(y,x){var b=y.props,w=y.dataStartIndex,S=y.dataEndIndex,C=y.updateId;if(!GY({props:b}))return null;var E=b.children,A=b.layout,P=b.stackOffset,_=b.data,k=b.reverseStackOrder,O=bQ(A),D=O.numericAxisName,B=O.cateAxisName,$=Io(E,n),L=NFt(_,$,"".concat(D,"Id"),"".concat(B,"Id"),P,k),R=l.reduce(function(G,W){var J="".concat(W.axisType,"Map");return Se(Se({},G),{},mt({},J,i6t(b,Se(Se({},W),{},{graphicalItems:$,stackGroups:W.axisType===D&&L,dataStartIndex:w,dataEndIndex:S}))))},{}),V=s6t(Se(Se({},R),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(R).forEach(function(G){R[G]=c(b,R[G],V,G.replace("Map",""),r)});var U=R["".concat(B,"Map")],q=a6t(U),M=f(b,Se(Se({},R),{},{dataStartIndex:w,dataEndIndex:S,updateId:C,graphicalItems:$,stackGroups:L,offset:V}));return Se(Se({formattedGraphicalItems:M,graphicalItems:$,offset:V,stackGroups:L},q),R)},v=function(m){function y(x){var b,w,S;return Vzt(this,y),S=qzt(this,y,[x]),mt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(S,"accessibilityManager",new Izt),mt(S,"handleLegendBBoxUpdate",function(C){if(C){var E=S.state,A=E.dataStartIndex,P=E.dataEndIndex,_=E.updateId;S.setState(Se({legendBBox:C},p({props:S.props,dataStartIndex:A,dataEndIndex:P,updateId:_},Se(Se({},S.state),{},{legendBBox:C}))))}}),mt(S,"handleReceiveSyncEvent",function(C,E,A){if(S.props.syncId===C){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),mt(S,"handleBrushChange",function(C){var E=C.startIndex,A=C.endIndex;if(E!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Se({dataStartIndex:E,dataEndIndex:A},p({props:S.props,dataStartIndex:E,dataEndIndex:A,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),mt(S,"handleMouseEnter",function(C){var E=S.getMouseInfo(C);if(E){var A=Se(Se({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var P=S.props.onMouseEnter;Ct(P)&&P(A,C)}}),mt(S,"triggeredAfterMouseMove",function(C){var E=S.getMouseInfo(C),A=E?Se(Se({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var P=S.props.onMouseMove;Ct(P)&&P(A,C)}),mt(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),mt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),mt(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),mt(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var A=S.props.onMouseLeave;Ct(A)&&A(E,C)}),mt(S,"handleOuterEvent",function(C){var E=nEt(C),A=To(S.props,"".concat(E));if(E&&Ct(A)){var P,_;/.*touch.*/i.test(E)?_=S.getMouseInfo(C.changedTouches[0]):_=S.getMouseInfo(C),A((P=_)!==null&&P!==void 0?P:{},C)}}),mt(S,"handleClick",function(C){var E=S.getMouseInfo(C);if(E){var A=Se(Se({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var P=S.props.onClick;Ct(P)&&P(A,C)}}),mt(S,"handleMouseDown",function(C){var E=S.props.onMouseDown;if(Ct(E)){var A=S.getMouseInfo(C);E(A,C)}}),mt(S,"handleMouseUp",function(C){var E=S.props.onMouseUp;if(Ct(E)){var A=S.getMouseInfo(C);E(A,C)}}),mt(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),mt(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),mt(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),mt(S,"handleDoubleClick",function(C){var E=S.props.onDoubleClick;if(Ct(E)){var A=S.getMouseInfo(C);E(A,C)}}),mt(S,"handleContextMenu",function(C){var E=S.props.onContextMenu;if(Ct(E)){var A=S.getMouseInfo(C);E(A,C)}}),mt(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&E2.emit(A2,S.props.syncId,C,S.eventEmitterSymbol)}),mt(S,"applySyncEvent",function(C){var E=S.props,A=E.layout,P=E.syncMethod,_=S.state.updateId,k=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Se({dataStartIndex:k,dataEndIndex:O},p({props:S.props,dataStartIndex:k,dataEndIndex:O,updateId:_},S.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,B=C.chartY,$=C.activeTooltipIndex,L=S.state,R=L.offset,V=L.tooltipTicks;if(!R)return;if(typeof P=="function")$=P(V,C);else if(P==="value"){$=-1;for(var U=0;U<V.length;U++)if(V[U].value===C.activeLabel){$=U;break}}var q=Se(Se({},R),{},{x:R.left,y:R.top}),M=Math.min(D,q.x+q.width),G=Math.min(B,q.y+q.height),W=V[$]&&V[$].value,J=r$(S.state,S.props.data,$),te=V[$]?{x:A==="horizontal"?V[$].coordinate:M,y:A==="horizontal"?G:V[$].coordinate}:Cme;S.setState(Se(Se({},C),{},{activeLabel:W,activeCoordinate:te,activePayload:J,activeTooltipIndex:$}))}else S.setState(C)}),mt(S,"renderCursor",function(C){var E,A=S.state,P=A.isTooltipActive,_=A.activeCoordinate,k=A.activePayload,O=A.offset,D=A.activeTooltipIndex,B=A.tooltipAxisBandSize,$=S.getTooltipEventType(),L=(E=C.props.active)!==null&&E!==void 0?E:P,R=S.props.layout,V=C.key||"_recharts-cursor";return I.createElement(Rzt,{key:V,activeCoordinate:_,activePayload:k,activeTooltipIndex:D,chartName:r,element:C,isActive:L,layout:R,offset:O,tooltipAxisBandSize:B,tooltipEventType:$})}),mt(S,"renderPolarAxis",function(C,E,A){var P=To(C,"type.axisType"),_=To(S.state,"".concat(P,"Map")),k=C.type.defaultProps,O=k!==void 0?Se(Se({},k),C.props):C.props,D=_&&_[O["".concat(P,"Id")]];return j.cloneElement(C,Se(Se({},D),{},{className:Nt(P,D.className),key:C.key||"".concat(E,"-").concat(A),ticks:Ru(D,!0)}))}),mt(S,"renderPolarGrid",function(C){var E=C.props,A=E.radialLines,P=E.polarAngles,_=E.polarRadius,k=S.state,O=k.radiusAxisMap,D=k.angleAxisMap,B=Xc(O),$=Xc(D),L=$.cx,R=$.cy,V=$.innerRadius,U=$.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(P)?P:Ru($,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(_)?_:Ru(B,!0).map(function(q){return q.coordinate}),cx:L,cy:R,innerRadius:V,outerRadius:U,key:C.key||"polar-grid",radialLines:A})}),mt(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,E=S.props,A=E.children,P=E.width,_=E.height,k=S.props.margin||{},O=P-(k.left||0)-(k.right||0),D=ige({children:A,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!D)return null;var B=D.item,$=gQ(D,jzt);return j.cloneElement(B,Se(Se({},$),{},{chartWidth:P,chartHeight:_,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),mt(S,"renderTooltip",function(){var C,E=S.props,A=E.children,P=E.accessibilityLayer,_=ho(A,Zi);if(!_)return null;var k=S.state,O=k.isTooltipActive,D=k.activeCoordinate,B=k.activePayload,$=k.activeLabel,L=k.offset,R=(C=_.props.active)!==null&&C!==void 0?C:O;return j.cloneElement(_,{viewBox:Se(Se({},L),{},{x:L.left,y:L.top}),active:R,label:$,payload:R?B:[],coordinate:D,accessibilityLayer:P})}),mt(S,"renderBrush",function(C){var E=S.props,A=E.margin,P=E.data,_=S.state,k=_.offset,O=_.dataStartIndex,D=_.dataEndIndex,B=_.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:cE(S.handleBrushChange,C.props.onChange),data:P,x:$e(C.props.x)?C.props.x:k.left,y:$e(C.props.y)?C.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:$e(C.props.width)?C.props.width:k.width,startIndex:O,endIndex:D,updateId:"brush-".concat(B)})}),mt(S,"renderReferenceElement",function(C,E,A){if(!C)return null;var P=S,_=P.clipPathId,k=S.state,O=k.xAxisMap,D=k.yAxisMap,B=k.offset,$=C.type.defaultProps||{},L=C.props,R=L.xAxisId,V=R===void 0?$.xAxisId:R,U=L.yAxisId,q=U===void 0?$.yAxisId:U;return j.cloneElement(C,{key:C.key||"".concat(E,"-").concat(A),xAxis:O[V],yAxis:D[q],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:_})}),mt(S,"renderActivePoints",function(C){var E=C.item,A=C.activePoint,P=C.basePoint,_=C.childIndex,k=C.isRange,O=[],D=E.props.key,B=E.item.type.defaultProps!==void 0?Se(Se({},E.item.type.defaultProps),E.item.props):E.item.props,$=B.activeDot,L=B.dataKey,R=Se(Se({index:_,dataKey:L,cx:A.x,cy:A.y,r:4,fill:U3(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},vt($,!1)),zC($));return O.push(y.renderActiveDot($,R,"".concat(D,"-activePoint-").concat(_))),P?O.push(y.renderActiveDot($,Se(Se({},R),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(_))):k&&O.push(null),O}),mt(S,"renderGraphicChild",function(C,E,A){var P=S.filterFormatItem(C,E,A);if(!P)return null;var _=S.getTooltipEventType(),k=S.state,O=k.isTooltipActive,D=k.tooltipAxis,B=k.activeTooltipIndex,$=k.activeLabel,L=S.props.children,R=ho(L,Zi),V=P.props,U=V.points,q=V.isRange,M=V.baseLine,G=P.item.type.defaultProps!==void 0?Se(Se({},P.item.type.defaultProps),P.item.props):P.item.props,W=G.activeDot,J=G.hide,te=G.activeBar,H=G.activeShape,ee=!!(!J&&O&&R&&(W||te||H)),re={};_!=="axis"&&R&&R.props.trigger==="click"?re={onClick:cE(S.handleItemMouseEnter,C.props.onClick)}:_!=="axis"&&(re={onMouseLeave:cE(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:cE(S.handleItemMouseEnter,C.props.onMouseEnter)});var Q=j.cloneElement(C,Se(Se({},P.props),re));function se(Mt){return typeof D.dataKey=="function"?D.dataKey(Mt.payload):null}if(ee)if(B>=0){var ne,le;if(D.dataKey&&!D.allowDuplicatedCategory){var ge=typeof D.dataKey=="function"?se:"payload.".concat(D.dataKey.toString());ne=VC(U,ge,$),le=q&&M&&VC(M,ge,$)}else ne=U==null?void 0:U[B],le=q&&M&&M[B];if(H||te){var be=C.props.activeIndex!==void 0?C.props.activeIndex:B;return[j.cloneElement(C,Se(Se(Se({},P.props),re),{},{activeIndex:be})),null,null]}if(!jt(ne))return[Q].concat(Kg(S.renderActivePoints({item:P,activePoint:ne,basePoint:le,childIndex:B,isRange:q})))}else{var Pe,Ce=(Pe=S.getItemByXY(S.state.activeCoordinate))!==null&&Pe!==void 0?Pe:{graphicalItem:Q},Ue=Ce.graphicalItem,we=Ue.item,Re=we===void 0?C:we,ze=Ue.childIndex,dt=Se(Se(Se({},P.props),re),{},{activeIndex:ze});return[j.cloneElement(Re,dt),null,null]}return q?[Q,null,null]:[Q,null]}),mt(S,"renderCustomized",function(C,E,A){return j.cloneElement(C,Se(Se({key:"recharts-customized-".concat(A)},S.props),S.state))}),mt(S,"renderMap",{CartesianGrid:{handler:vE,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:vE},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:vE},YAxis:{handler:vE},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Um("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=ove(S.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),S.state={},S}return Hzt(y,m),Uzt(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,S=b.data,C=b.height,E=b.layout,A=ho(w,Zi);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var _=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=r$(this.state,S,P,_),O=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+C)/2,B=E==="horizontal",$=B?{x:O,y:D}:{y:O,x:D},L=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});L&&($=Se(Se({},$),L.props.points[P].tooltipPosition),k=L.props.points[P].tooltipPayload);var R={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:_,activePayload:k,activeCoordinate:$};this.setState(R),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){MF([ho(b.children,Zi)],[ho(this.props.children,Zi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ho(this.props.children,Zi);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return s.indexOf(w)>=0?w:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),C=CMt(S),E={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},A=S.width/w.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,A);if(!P)return null;var _=this.state,k=_.xAxisMap,O=_.yAxisMap,D=this.getTooltipEventType(),B=yQ(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&k&&O){var $=Xc(k).scale,L=Xc(O).scale,R=$&&$.invert?$.invert(E.chartX):null,V=L&&L.invert?L.invert(E.chartY):null;return Se(Se({},E),{},{xValue:R,yValue:V},B)}return B?Se(Se({},E),B):null}},{key:"inRange",value:function(b,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=b/S,A=w/S;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,_=E>=P.left&&E<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return _?{x:E,y:A}:null}var k=this.state,O=k.angleAxisMap,D=k.radiusAxisMap;if(O&&D){var B=Xc(O);return WX({x:E,y:A},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),S=ho(b,Zi),C={};S&&w==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=zC(this.props,this.handleOuterEvent);return Se(Se({},E),C)}},{key:"addListener",value:function(){E2.on(A2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E2.removeListener(A2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,S){for(var C=this.state.formattedGraphicalItems,E=0,A=C.length;E<A;E++){var P=C[E];if(P.item===b||P.props.key===b.key||w===Bu(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,S=w.left,C=w.top,E=w.height,A=w.width;return I.createElement("defs",null,I.createElement("clipPath",{id:b},I.createElement("rect",{x:S,y:C,height:E,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,S){var C=vQ(S,2),E=C[0],A=C[1];return Se(Se({},w),{},mt({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,S){var C=vQ(S,2),E=C[0],A=C[1];return Se(Se({},w),{},mt({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,S=w.formattedGraphicalItems,C=w.activeItem;if(S&&S.length)for(var E=0,A=S.length;E<A;E++){var P=S[E],_=P.props,k=P.item,O=k.type.defaultProps!==void 0?Se(Se({},k.type.defaultProps),k.props):k.props,D=Bu(k.type);if(D==="Bar"){var B=(_.data||[]).find(function(V){return DNt(b,V)});if(B)return{graphicalItem:P,payload:B}}else if(D==="RadialBar"){var $=(_.data||[]).find(function(V){return WX(b,V)});if($)return{graphicalItem:P,payload:$}}else if(gO(P,C)||mO(P,C)||Tb(P,C)){var L=w4t({graphicalItem:P,activeTooltipItem:C,itemData:O.data}),R=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:Se(Se({},P),{},{childIndex:R}),payload:Tb(P,C)?O.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!GY(this))return null;var w=this.props,S=w.children,C=w.className,E=w.width,A=w.height,P=w.style,_=w.compact,k=w.title,O=w.desc,D=gQ(w,Fzt),B=vt(D,!1);if(_)return I.createElement(QK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(jF,Iv({},B,{width:E,height:A,title:k,desc:O}),this.renderClipPath(),HY(S,this.renderMap)));if(this.props.accessibilityLayer){var $,L;B.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,B.role=(L=this.props.role)!==null&&L!==void 0?L:"application",B.onKeyDown=function(V){b.accessibilityManager.keyboardEvent(V)},B.onFocus=function(){b.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return I.createElement(QK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Iv({className:Nt("recharts-wrapper",C),style:Se({position:"relative",cursor:"default",width:E,height:A},P)},R,{ref:function(U){b.container=U}}),I.createElement(jF,Iv({},B,{width:E,height:A,title:k,desc:O,style:Zzt}),this.renderClipPath(),HY(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);mt(v,"displayName",r),mt(v,"defaultProps",Se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),mt(v,"getDerivedStateFromProps",function(m,y){var x=m.dataKey,b=m.data,w=m.children,S=m.width,C=m.height,E=m.layout,A=m.stackOffset,P=m.margin,_=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var O=xQ(m);return Se(Se(Se({},O),{},{updateId:0},p(Se(Se({props:m},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:A,prevMargin:P,prevChildren:w})}if(x!==y.prevDataKey||b!==y.prevData||S!==y.prevWidth||C!==y.prevHeight||E!==y.prevLayout||A!==y.prevStackOffset||!Xv(P,y.prevMargin)){var D=xQ(m),B={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=Se(Se({},yQ(y,b,E)),{},{updateId:y.updateId+1}),L=Se(Se(Se({},D),B),$);return Se(Se(Se({},L),p(Se({props:m},L),y)),{},{prevDataKey:x,prevData:b,prevWidth:S,prevHeight:C,prevLayout:E,prevStackOffset:A,prevMargin:P,prevChildren:w})}if(!MF(w,y.prevChildren)){var R,V,U,q,M=ho(w,Bg),G=M&&(R=(V=M.props)===null||V===void 0?void 0:V.startIndex)!==null&&R!==void 0?R:_,W=M&&(U=(q=M.props)===null||q===void 0?void 0:q.endIndex)!==null&&U!==void 0?U:k,J=G!==_||W!==k,te=!jt(b),H=te&&!J?y.updateId:y.updateId+1;return Se(Se({updateId:H},p(Se(Se({props:m},y),{},{updateId:H,dataStartIndex:G,dataEndIndex:W}),y)),{},{prevChildren:w,dataStartIndex:G,dataEndIndex:W})}return null}),mt(v,"renderActiveDot",function(m,y,x){var b;return j.isValidElement(m)?b=j.cloneElement(m,y):Ct(m)?b=m(y):b=I.createElement(dO,y),I.createElement(br,{className:"recharts-active-dot",key:x},b)});var g=j.forwardRef(function(y,x){return I.createElement(v,Iv({},y,{ref:x}))});return g.displayName=v.displayName,g},u6t=eV({chartName:"LineChart",GraphicalChild:o1,axisComponents:[{axisType:"xAxis",AxisComp:id},{axisType:"yAxis",AxisComp:ad}],formatAxisMap:Gge}),T2=eV({chartName:"BarChart",GraphicalChild:Uu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:id},{axisType:"yAxis",AxisComp:ad}],formatAxisMap:Gge}),I2=eV({chartName:"PieChart",GraphicalChild:qs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vO},{axisType:"radiusAxis",AxisComp:hO}],formatAxisMap:QFt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});ir.extend(B5e);const{Title:c6t,Text:dl,Paragraph:OYt}=rt,{Option:Ds}=He,{RangePicker:kYt}=wo,{TabPane:P2}=Ft,d6t=(t,e)=>{const r=[],n=["economic","social","environmental"],i={economic:["Jobs Created","Revenue Generated (R)","Investment Attracted (R)","New Markets Accessed"],social:["People Trained","Communities Impacted","Beneficiaries Reached","Services Provided"],environmental:["CO2 Reduction (tons)","Renewable Energy Generated (kWh)","Waste Reduced (tons)","Water Saved (liters)"]};let a=1;return t.forEach(o=>{if(o.status!=="active"&&o.status!=="completed")return;const s=e.get(o.participantId);if(!s)return;let l=[...n];o.programType==="Grant Funding"||o.programType==="Market Access Support"?l=["economic","social"]:o.programType==="Technical Assistance"||o.programType==="Mentorship"?l=["economic","social"]:o.programType==="Infrastructure Access"&&(l=["economic","environmental"]),l.forEach(u=>{const c=Math.floor(Math.random()*3)+1,d=i[u];for(let f=0;f<c;f++){const p=d[Math.floor(Math.random()*d.length)];let v=0;p==="Jobs Created"?v=Math.floor(Math.random()*50)+5:p.includes("Revenue")?v=(Math.floor(Math.random()*1e4)+1e3)*1e3:p.includes("Investment")?v=(Math.floor(Math.random()*5e3)+500)*1e3:p==="New Markets Accessed"?v=Math.floor(Math.random()*5)+1:p.includes("Trained")?v=Math.floor(Math.random()*200)+20:p.includes("Communities")?v=Math.floor(Math.random()*10)+1:p.includes("Beneficiaries")?v=Math.floor(Math.random()*1e3)+100:p.includes("Services")?v=Math.floor(Math.random()*500)+50:p.includes("CO2")?v=Math.floor(Math.random()*1e3)+100:p.includes("Energy")?v=Math.floor(Math.random()*1e4)+1e3:p.includes("Waste")?v=Math.floor(Math.random()*100)+10:p.includes("Water")&&(v=Math.floor(Math.random()*1e5)+1e4);const g=o.startDate.toDate().getTime(),m=o.endDate.toDate().getTime()||new Date().getTime(),y=g+Math.random()*(m-g);r.push({id:String(a++),programId:o.id,programName:o.programName,participantId:o.participantId,participantName:s.name,metricType:u,metricName:p,value:v,unit:p.includes("(")?p.split("(")[1].replace(")",""):"count",date:je.fromDate(new Date(y)),notes:`Impact from ${o.programType} program`})}})}),r},fl=(t,e)=>{if(e==="byType"){const r={};return t.forEach(n=>{r[n.metricType]||(r[n.metricType]=0),r[n.metricType]+=1}),Object.keys(r).map(n=>({name:n.charAt(0).toUpperCase()+n.slice(1),value:r[n]}))}else if(e==="byProgram"){const r={};return t.forEach(n=>{n.programName&&(r[n.programName]||(r[n.programName]=0),r[n.programName]+=1)}),Object.keys(r).map(n=>({name:n,value:r[n]}))}else if(e==="byTime"){const r={};return t.forEach(n=>{const i=n.date.toDate(),a=`Q${ir(i).quarter()} ${ir(i).year()}`;r[a]||(r[a]=0),r[a]+=1}),Object.keys(r).map(n=>({name:n,value:r[n]})).sort((n,i)=>{const a=parseInt(n.name.split(" ")[1]),o=parseInt(i.name.split(" ")[1]);if(a!==o)return a-o;const s=parseInt(n.name.split("Q")[1].split(" ")[0]),l=parseInt(i.name.split("Q")[1].split(" ")[0]);return s-l})}else if(e==="jobsCreated"){const r=t.filter(i=>i.metricName==="Jobs Created"),n={};return r.forEach(i=>{i.participantName&&(n[i.participantName]||(n[i.participantName]=0),n[i.participantName]+=i.value)}),Object.keys(n).map(i=>({name:i,jobs:n[i]})).sort((i,a)=>a.jobs-i.jobs).slice(0,5)}else if(e==="investment"){const r=t.filter(i=>i.metricName.includes("Investment")),n={};return r.forEach(i=>{i.participantName&&(n[i.participantName]||(n[i.participantName]=0),n[i.participantName]+=i.value)}),Object.keys(n).map(i=>({name:i,investment:n[i]/1e6})).sort((i,a)=>a.investment-i.investment).slice(0,5)}else if(e==="environmentalImpact"){const r=t.filter(i=>i.metricType==="environmental"),n={};return r.forEach(i=>{n[i.metricName]||(n[i.metricName]=0),n[i.metricName]+=i.value}),Object.keys(n).map(i=>({name:i.split(" (")[0],value:n[i]}))}else if(e==="communities"){const r=t.filter(i=>i.metricName.includes("Communities")||i.metricName.includes("Beneficiaries")),n={};return r.forEach(i=>{i.programName&&(n[i.programName]||(n[i.programName]=0),n[i.programName]+=i.value)}),Object.keys(n).map(i=>({name:i,beneficiaries:n[i]})).sort((i,a)=>a.beneficiaries-i.beneficiaries)}return[]},rv=["#0088FE","#00C49F","#FFBB28","#FF8042","#A28DFF","#FF6B6B","#4ECDC4","#FFA69E"],f6t=()=>{const[t,e]=j.useState(!0),[r,n]=j.useState([]),[i,a]=j.useState(new Map),[o,s]=j.useState([]),[l,u]=j.useState("1"),[c,d]=j.useState(String(new Date().getFullYear())),[f,p]=j.useState("all"),[v,g]=j.useState("all"),[m,y]=j.useState("all"),[x,b]=j.useState({totalPrograms:0,activePrograms:0,completedPrograms:0,totalBudget:0,jobsCreated:0,communitiesImpacted:0,revenueGenerated:0,environmentalMetrics:0}),[w,S]=j.useState([]),[C,E]=j.useState([]),[A,P]=j.useState([]);j.useEffect(()=>{_()},[]),j.useEffect(()=>{if(o.length>0){const R=D();B(R)}},[c,f,v,m,o]);const _=async()=>{e(!0);try{const R=await k(),V=await O(),U=d6t(R,V);s(U);const q=new Set;U.forEach(W=>{q.add(String(W.date.toDate().getFullYear()))}),S(Array.from(q).sort());const M=new Set,G=new Set;V.forEach(W=>{W.location&&M.add(W.location),W.industry&&G.add(W.industry)}),E(Array.from(M).sort()),P(Array.from(G).sort()),B(U)}catch(R){console.error("Error fetching data:",R)}finally{e(!1)}},k=async()=>{try{const R=dn(Dt,"supportPrograms"),V=So(R,kh("createdAt","desc")),q=(await za(V)).docs.map(M=>({id:M.id,...M.data()}));return n(q),q}catch(R){return console.error("Error fetching support programs:",R),[]}},O=async()=>{try{const R=dn(Dt,"participants"),V=So(R,Dd("status","!=","deleted")),U=await za(V),q=new Map;return U.docs.forEach(M=>{const G=M.data();q.set(M.id,{id:M.id,name:G.name,industry:G.industry||"",location:G.location||"",stage:G.stage||""})}),a(q),q}catch(R){return console.error("Error fetching participants:",R),new Map}},D=()=>o.filter(R=>{const V=R.date.toDate(),U=V.getFullYear(),q=ir(V).quarter();if(c!=="all"&&String(U)!==c||f!=="all"&&String(q)!==f)return!1;if(v!=="all"){const M=i.get(R.participantId);if(!M||M.location!==v)return!1}if(m!=="all"){const M=i.get(R.participantId);if(!M||M.industry!==m)return!1}return!0}),B=R=>{const V=R.filter(re=>re.metricName==="Jobs Created").reduce((re,Q)=>re+Q.value,0),U=R.filter(re=>re.metricName==="Communities Impacted").reduce((re,Q)=>re+Q.value,0),q=R.filter(re=>re.metricName==="Revenue Generated (R)").reduce((re,Q)=>re+Q.value,0),M=R.filter(re=>re.metricType==="environmental").length,G=new Set(R.map(re=>re.programId)).size,W=new Set(R.map(re=>re.programId)),J=r.filter(re=>W.has(re.id)),te=J.filter(re=>re.status==="active").length,H=J.filter(re=>re.status==="completed").length,ee=J.reduce((re,Q)=>re+(Q.budget||0),0);b({totalPrograms:G,activePrograms:te,completedPrograms:H,totalBudget:ee,jobsCreated:V,communitiesImpacted:U,revenueGenerated:q,environmentalMetrics:M})},$=()=>{console.log("Exporting impact report data")},L=[{title:"Program",dataIndex:"programName",key:"program",render:R=>h.jsx(dl,{strong:!0,children:R})},{title:"Participant",dataIndex:"participantName",key:"participant"},{title:"Metric",dataIndex:"metricName",key:"metric"},{title:"Value",dataIndex:"value",key:"value",render:(R,V)=>h.jsxs(dl,{children:[R.toLocaleString()," ",V.unit]}),sorter:(R,V)=>R.value-V.value},{title:"Type",dataIndex:"metricType",key:"type",render:R=>{const V={economic:"green",social:"blue",environmental:"purple"};return h.jsx(Me,{color:V[R],children:R.charAt(0).toUpperCase()+R.slice(1)})},filters:[{text:"Economic",value:"economic"},{text:"Social",value:"social"},{text:"Environmental",value:"environmental"}],onFilter:(R,V)=>V.metricType===R},{title:"Date",dataIndex:"date",key:"date",render:R=>R.toDate().toLocaleDateString(),sorter:(R,V)=>R.date.toDate().getTime()-V.date.toDate().getTime()}];return h.jsxs("div",{style:{padding:24},children:[h.jsxs(Ye,{gutter:[16,16],align:"middle",style:{marginBottom:24},children:[h.jsxs(oe,{flex:"auto",children:[h.jsx(c6t,{level:3,children:"Impact Reports"}),h.jsx(dl,{type:"secondary",children:"Track and analyze the impact of support programs across economic, social, and environmental dimensions"})]}),h.jsx(oe,{children:h.jsx(ie,{type:"primary",icon:h.jsx(Ed,{}),onClick:$,children:"Export Report"})})]}),h.jsx(ue,{style:{marginBottom:24},children:h.jsxs(Ye,{gutter:[16,16],children:[h.jsxs(oe,{xs:24,md:6,children:[h.jsx(dl,{children:"Year:"}),h.jsxs(He,{style:{width:"100%",marginTop:8},value:c,onChange:d,children:[h.jsx(Ds,{value:"all",children:"All Years"}),w.map(R=>h.jsx(Ds,{value:R,children:R},R))]})]}),h.jsxs(oe,{xs:24,md:6,children:[h.jsx(dl,{children:"Quarter:"}),h.jsxs(He,{style:{width:"100%",marginTop:8},value:f,onChange:p,children:[h.jsx(Ds,{value:"all",children:"All Quarters"}),h.jsx(Ds,{value:"1",children:"Q1"}),h.jsx(Ds,{value:"2",children:"Q2"}),h.jsx(Ds,{value:"3",children:"Q3"}),h.jsx(Ds,{value:"4",children:"Q4"})]})]}),h.jsxs(oe,{xs:24,md:6,children:[h.jsx(dl,{children:"Region:"}),h.jsxs(He,{style:{width:"100%",marginTop:8},value:v,onChange:g,children:[h.jsx(Ds,{value:"all",children:"All Regions"}),C.map(R=>h.jsx(Ds,{value:R,children:R},R))]})]}),h.jsxs(oe,{xs:24,md:6,children:[h.jsx(dl,{children:"Industry:"}),h.jsxs(He,{style:{width:"100%",marginTop:8},value:m,onChange:y,children:[h.jsx(Ds,{value:"all",children:"All Industries"}),A.map(R=>h.jsx(Ds,{value:R,children:R},R))]})]})]})}),t?h.jsxs("div",{style:{textAlign:"center",padding:100},children:[h.jsx(yi,{size:"large"}),h.jsx("div",{style:{marginTop:16},children:"Loading impact data..."})]}):h.jsxs(h.Fragment,{children:[h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:24},children:[h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Jobs Created",value:x.jobsCreated,valueStyle:{color:"#52c41a"},prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Revenue Generated",value:x.revenueGenerated,valueStyle:{color:"#1890ff"},prefix:h.jsx(Oi,{}),formatter:R=>`R${Number(R).toLocaleString()}`})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Communities Impacted",value:x.communitiesImpacted,valueStyle:{color:"#722ed1"},prefix:h.jsx(as,{})})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Programs Analyzed",value:x.totalPrograms,valueStyle:{color:"#fa8c16"},prefix:h.jsx(Nxe,{})})})})]}),h.jsxs(Ft,{activeKey:l,onChange:u,children:[h.jsx(P2,{tab:h.jsxs("span",{children:[h.jsx(Ub,{})," Impact Trends"]}),children:h.jsxs(Ye,{gutter:[16,24],children:[h.jsx(oe,{span:24,children:h.jsx(ue,{title:"Jobs Created by Participant (Top 5)",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(T2,{data:fl(D(),"jobsCreated"),margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(b0,{strokeDasharray:"3 3"}),h.jsx(id,{dataKey:"name"}),h.jsx(ad,{}),h.jsx(Zi,{}),h.jsx(po,{}),h.jsx(Uu,{dataKey:"jobs",fill:"#1890ff",name:"Jobs Created"})]})})})}),h.jsx(oe,{span:12,children:h.jsx(ue,{title:"Investment Attracted by Participant (R Millions)",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(T2,{data:fl(D(),"investment"),margin:{top:20,right:30,left:20,bottom:5},layout:"vertical",children:[h.jsx(b0,{strokeDasharray:"3 3"}),h.jsx(id,{type:"number"}),h.jsx(ad,{dataKey:"name",type:"category"}),h.jsx(Zi,{formatter:R=>[`R${R} million`,"Investment"]}),h.jsx(po,{}),h.jsx(Uu,{dataKey:"investment",fill:"#52c41a",name:"Investment (R Millions)"})]})})})}),h.jsx(oe,{span:12,children:h.jsx(ue,{title:"Metrics Over Time",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(u6t,{data:fl(D(),"byTime"),margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(b0,{strokeDasharray:"3 3"}),h.jsx(id,{dataKey:"name"}),h.jsx(ad,{}),h.jsx(Zi,{}),h.jsx(po,{}),h.jsx(o1,{type:"monotone",dataKey:"value",stroke:"#8884d8",name:"Impact Metrics"})]})})})}),h.jsx(oe,{span:12,children:h.jsx(ue,{title:"Environmental Impact",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(I2,{children:[h.jsx(qs,{data:fl(D(),"environmentalImpact"),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,percent:V})=>`${R}: ${(V*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:fl(D(),"environmentalImpact").map((R,V)=>h.jsx(Kv,{fill:rv[V%rv.length]},`cell-${V}`))}),h.jsx(Zi,{formatter:R=>[`${R}`,"Amount"]}),h.jsx(po,{})]})})})}),h.jsx(oe,{span:12,children:h.jsx(ue,{title:"Beneficiaries Reached by Program",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(T2,{data:fl(D(),"communities"),margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(b0,{strokeDasharray:"3 3"}),h.jsx(id,{dataKey:"name",tick:!1})," ",h.jsx(ad,{}),h.jsx(Zi,{}),h.jsx(po,{}),h.jsx(Uu,{dataKey:"beneficiaries",fill:"#ff6b6b",name:"Beneficiaries"})]})})})})]})},"1"),h.jsx(P2,{tab:h.jsxs("span",{children:[h.jsx(_v,{})," Impact Distribution"]}),children:h.jsxs(Ye,{gutter:[16,24],children:[h.jsx(oe,{span:12,children:h.jsx(ue,{title:"Impact by Type",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(I2,{children:[h.jsx(qs,{data:fl(D(),"byType"),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,percent:V})=>`${R}: ${(V*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:fl(D(),"byType").map((R,V)=>h.jsx(Kv,{fill:rv[V%rv.length]},`cell-${V}`))}),h.jsx(Zi,{}),h.jsx(po,{})]})})})}),h.jsx(oe,{span:12,children:h.jsx(ue,{title:"Impact by Program",children:h.jsx(wf,{width:"100%",height:300,children:h.jsxs(I2,{children:[h.jsx(qs,{data:fl(D(),"byProgram"),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,percent:V})=>`${(V*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:fl(D(),"byProgram").map((R,V)=>h.jsx(Kv,{fill:rv[V%rv.length]},`cell-${V}`))}),h.jsx(Zi,{formatter:(R,V,U)=>{var q;return[R,(q=U==null?void 0:U.payload)==null?void 0:q.name]}}),h.jsx(po,{})]})})})}),h.jsx(oe,{span:24,children:h.jsx(ue,{title:"Progress Towards Economic Development Goals",children:h.jsxs(Ye,{gutter:[16,16],children:[h.jsxs(oe,{span:8,children:[h.jsx("div",{style:{marginBottom:8},children:h.jsx(dl,{strong:!0,children:"Job Creation Goal (200)"})}),h.jsx(yr,{percent:Math.min(Math.round(x.jobsCreated/200*100),100),status:x.jobsCreated>=200?"success":"active"})]}),h.jsxs(oe,{span:8,children:[h.jsx("div",{style:{marginBottom:8},children:h.jsx(dl,{strong:!0,children:"Revenue Generation Goal (R10M)"})}),h.jsx(yr,{percent:Math.min(Math.round(x.revenueGenerated/1e7*100),100),status:x.revenueGenerated>=1e7?"success":"active"})]}),h.jsxs(oe,{span:8,children:[h.jsx("div",{style:{marginBottom:8},children:h.jsx(dl,{strong:!0,children:"Communities Impacted Goal (50)"})}),h.jsx(yr,{percent:Math.min(Math.round(x.communitiesImpacted/50*100),100),status:x.communitiesImpacted>=50?"success":"active"})]})]})})})]})},"2"),h.jsx(P2,{tab:h.jsxs("span",{children:[h.jsx(Ya,{})," Detailed Metrics"]}),children:h.jsx(ue,{children:h.jsx(Le,{dataSource:D(),columns:L,rowKey:"id",pagination:{pageSize:10}})})},"3")]})]})]})};function Ra(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var wQ=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),SQ=function(){return Math.random().toString(36).substring(7).split("").join(".")},EQ={INIT:"@@redux/INIT"+SQ(),REPLACE:"@@redux/REPLACE"+SQ()};function h6t(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ime(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ra(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ra(1));return r(Ime)(t,e)}if(typeof t!="function")throw new Error(Ra(2));var i=t,a=e,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(Ra(3));return a}function d(g){if(typeof g!="function")throw new Error(Ra(4));if(l)throw new Error(Ra(5));var m=!0;return u(),s.push(g),function(){if(m){if(l)throw new Error(Ra(6));m=!1,u();var x=s.indexOf(g);s.splice(x,1),o=null}}}function f(g){if(!h6t(g))throw new Error(Ra(7));if(typeof g.type>"u")throw new Error(Ra(8));if(l)throw new Error(Ra(9));try{l=!0,a=i(a,g)}finally{l=!1}for(var m=o=s,y=0;y<m.length;y++){var x=m[y];x()}return g}function p(g){if(typeof g!="function")throw new Error(Ra(10));i=g,f({type:EQ.REPLACE})}function v(){var g,m=d;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Ra(11));function b(){x.next&&x.next(c())}b();var w=m(b);return{unsubscribe:w}}},g[wQ]=function(){return this},g}return f({type:EQ.INIT}),n={dispatch:f,subscribe:d,getState:c,replaceReducer:p},n[wQ]=v,n}function AQ(t,e){return function(){return e(t.apply(this,arguments))}}function CQ(t,e){if(typeof t=="function")return AQ(t,e);if(typeof t!="object"||t===null)throw new Error(Ra(16));var r={};for(var n in t){var i=t[n];typeof i=="function"&&(r[n]=AQ(i,e))}return r}function Pme(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function p6t(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Ra(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=e.map(function(l){return l(o)});return a=Pme.apply(void 0,s)(i.dispatch),un(un({},i),{},{dispatch:a})}}}var _me=I.createContext(null);function v6t(t){t()}var Ome=v6t,g6t=function(e){return Ome=e},m6t=function(){return Ome};function y6t(){var t=m6t(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=e;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var TQ={notify:function(){},get:function(){return[]}};function kme(t,e){var r,n=TQ;function i(d){return l(),n.subscribe(d)}function a(){n.notify()}function o(){c.onStateChange&&c.onStateChange()}function s(){return!!r}function l(){r||(r=e?e.addNestedSub(o):t.subscribe(o),n=y6t())}function u(){r&&(r(),r=void 0,n.clear(),n=TQ)}var c={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:s,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return n}};return c}var Dme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function x6t(t){var e=t.store,r=t.context,n=t.children,i=j.useMemo(function(){var s=kme(e);return{store:e,subscription:s}},[e]),a=j.useMemo(function(){return e.getState()},[e]);Dme(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==e.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,a]);var o=r||_me;return I.createElement(o.Provider,{value:i},n)}var Mme={exports:{}},Dr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=typeof Symbol=="function"&&Symbol.for,tV=Ei?Symbol.for("react.element"):60103,rV=Ei?Symbol.for("react.portal"):60106,AO=Ei?Symbol.for("react.fragment"):60107,CO=Ei?Symbol.for("react.strict_mode"):60108,TO=Ei?Symbol.for("react.profiler"):60114,IO=Ei?Symbol.for("react.provider"):60109,PO=Ei?Symbol.for("react.context"):60110,nV=Ei?Symbol.for("react.async_mode"):60111,_O=Ei?Symbol.for("react.concurrent_mode"):60111,OO=Ei?Symbol.for("react.forward_ref"):60112,kO=Ei?Symbol.for("react.suspense"):60113,b6t=Ei?Symbol.for("react.suspense_list"):60120,DO=Ei?Symbol.for("react.memo"):60115,MO=Ei?Symbol.for("react.lazy"):60116,w6t=Ei?Symbol.for("react.block"):60121,S6t=Ei?Symbol.for("react.fundamental"):60117,E6t=Ei?Symbol.for("react.responder"):60118,A6t=Ei?Symbol.for("react.scope"):60119;function Bo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tV:switch(t=t.type,t){case nV:case _O:case AO:case TO:case CO:case kO:return t;default:switch(t=t&&t.$$typeof,t){case PO:case OO:case MO:case DO:case IO:return t;default:return e}}case rV:return e}}}function Rme(t){return Bo(t)===_O}Dr.AsyncMode=nV;Dr.ConcurrentMode=_O;Dr.ContextConsumer=PO;Dr.ContextProvider=IO;Dr.Element=tV;Dr.ForwardRef=OO;Dr.Fragment=AO;Dr.Lazy=MO;Dr.Memo=DO;Dr.Portal=rV;Dr.Profiler=TO;Dr.StrictMode=CO;Dr.Suspense=kO;Dr.isAsyncMode=function(t){return Rme(t)||Bo(t)===nV};Dr.isConcurrentMode=Rme;Dr.isContextConsumer=function(t){return Bo(t)===PO};Dr.isContextProvider=function(t){return Bo(t)===IO};Dr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tV};Dr.isForwardRef=function(t){return Bo(t)===OO};Dr.isFragment=function(t){return Bo(t)===AO};Dr.isLazy=function(t){return Bo(t)===MO};Dr.isMemo=function(t){return Bo(t)===DO};Dr.isPortal=function(t){return Bo(t)===rV};Dr.isProfiler=function(t){return Bo(t)===TO};Dr.isStrictMode=function(t){return Bo(t)===CO};Dr.isSuspense=function(t){return Bo(t)===kO};Dr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===AO||t===_O||t===TO||t===CO||t===kO||t===b6t||typeof t=="object"&&t!==null&&(t.$$typeof===MO||t.$$typeof===DO||t.$$typeof===IO||t.$$typeof===PO||t.$$typeof===OO||t.$$typeof===S6t||t.$$typeof===E6t||t.$$typeof===A6t||t.$$typeof===w6t)};Dr.typeOf=Bo;Mme.exports=Dr;var C6t=Mme.exports,iV=C6t,T6t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},I6t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},P6t={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jme={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aV={};aV[iV.ForwardRef]=P6t;aV[iV.Memo]=jme;function IQ(t){return iV.isMemo(t)?jme:aV[t.$$typeof]||T6t}var _6t=Object.defineProperty,O6t=Object.getOwnPropertyNames,PQ=Object.getOwnPropertySymbols,k6t=Object.getOwnPropertyDescriptor,D6t=Object.getPrototypeOf,_Q=Object.prototype;function Fme(t,e,r){if(typeof e!="string"){if(_Q){var n=D6t(e);n&&n!==_Q&&Fme(t,n,r)}var i=O6t(e);PQ&&(i=i.concat(PQ(e)));for(var a=IQ(t),o=IQ(e),s=0;s<i.length;++s){var l=i[s];if(!I6t[l]&&!(r&&r[l])&&!(o&&o[l])&&!(a&&a[l])){var u=k6t(e,l);try{_6t(t,l,u)}catch{}}}}return t}var M6t=Fme;const OQ=_t(M6t);var Lme={exports:{}},qr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO=60103,jO=60106,s1=60107,l1=60108,u1=60114,c1=60109,d1=60110,f1=60112,h1=60113,oV=60120,p1=60115,v1=60116,$me=60121,Nme=60122,Bme=60117,Vme=60129,zme=60131;if(typeof Symbol=="function"&&Symbol.for){var Pi=Symbol.for;RO=Pi("react.element"),jO=Pi("react.portal"),s1=Pi("react.fragment"),l1=Pi("react.strict_mode"),u1=Pi("react.profiler"),c1=Pi("react.provider"),d1=Pi("react.context"),f1=Pi("react.forward_ref"),h1=Pi("react.suspense"),oV=Pi("react.suspense_list"),p1=Pi("react.memo"),v1=Pi("react.lazy"),$me=Pi("react.block"),Nme=Pi("react.server.block"),Bme=Pi("react.fundamental"),Vme=Pi("react.debug_trace_mode"),zme=Pi("react.legacy_hidden")}function nl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case RO:switch(t=t.type,t){case s1:case u1:case l1:case h1:case oV:return t;default:switch(t=t&&t.$$typeof,t){case d1:case f1:case v1:case p1:case c1:return t;default:return e}}case jO:return e}}}var R6t=c1,j6t=RO,F6t=f1,L6t=s1,$6t=v1,N6t=p1,B6t=jO,V6t=u1,z6t=l1,U6t=h1;qr.ContextConsumer=d1;qr.ContextProvider=R6t;qr.Element=j6t;qr.ForwardRef=F6t;qr.Fragment=L6t;qr.Lazy=$6t;qr.Memo=N6t;qr.Portal=B6t;qr.Profiler=V6t;qr.StrictMode=z6t;qr.Suspense=U6t;qr.isAsyncMode=function(){return!1};qr.isConcurrentMode=function(){return!1};qr.isContextConsumer=function(t){return nl(t)===d1};qr.isContextProvider=function(t){return nl(t)===c1};qr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===RO};qr.isForwardRef=function(t){return nl(t)===f1};qr.isFragment=function(t){return nl(t)===s1};qr.isLazy=function(t){return nl(t)===v1};qr.isMemo=function(t){return nl(t)===p1};qr.isPortal=function(t){return nl(t)===jO};qr.isProfiler=function(t){return nl(t)===u1};qr.isStrictMode=function(t){return nl(t)===l1};qr.isSuspense=function(t){return nl(t)===h1};qr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===s1||t===u1||t===Vme||t===l1||t===h1||t===oV||t===zme||typeof t=="object"&&t!==null&&(t.$$typeof===v1||t.$$typeof===p1||t.$$typeof===c1||t.$$typeof===d1||t.$$typeof===f1||t.$$typeof===Bme||t.$$typeof===$me||t[0]===Nme)};qr.typeOf=nl;Lme.exports=qr;var q6t=Lme.exports,G6t=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],W6t=["reactReduxForwardedRef"],H6t=[],Y6t=[null,null];function X6t(t,e){var r=t[1];return[e.payload,r+1]}function kQ(t,e,r){Dme(function(){return t.apply(void 0,e)},r)}function K6t(t,e,r,n,i,a,o){t.current=n,e.current=i,r.current=!1,a.current&&(a.current=null,o())}function Q6t(t,e,r,n,i,a,o,s,l,u){if(t){var c=!1,d=null,f=function(){if(!c){var g=e.getState(),m,y;try{m=n(g,i.current)}catch(x){y=x,d=x}y||(d=null),m===a.current?o.current||l():(a.current=m,s.current=m,o.current=!0,u({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=f,r.trySubscribe(),f();var p=function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return p}}var J6t=function(){return[null,0]};function Z6t(t,e){e===void 0&&(e={});var r=e,n=r.getDisplayName,i=n===void 0?function(b){return"ConnectAdvanced("+b+")"}:n,a=r.methodName,o=a===void 0?"connectAdvanced":a,s=r.renderCountProp,l=s===void 0?void 0:s,u=r.shouldHandleStateChanges,c=u===void 0?!0:u,d=r.storeKey,f=d===void 0?"store":d;r.withRef;var p=r.forwardRef,v=p===void 0?!1:p,g=r.context,m=g===void 0?_me:g,y=TA(r,G6t),x=m;return function(w){var S=w.displayName||w.name||"Component",C=i(S),E=xt({},y,{getDisplayName:i,methodName:o,renderCountProp:l,shouldHandleStateChanges:c,storeKey:f,displayName:C,wrappedComponentName:S,WrappedComponent:w}),A=y.pure;function P(B){return t(B.dispatch,E)}var _=A?j.useMemo:function(B){return B()};function k(B){var $=j.useMemo(function(){var Re=B.reactReduxForwardedRef,ze=TA(B,W6t);return[B.context,Re,ze]},[B]),L=$[0],R=$[1],V=$[2],U=j.useMemo(function(){return L&&L.Consumer&&q6t.isContextConsumer(I.createElement(L.Consumer,null))?L:x},[L,x]),q=j.useContext(U),M=!!B.store&&!!B.store.getState&&!!B.store.dispatch;q&&q.store;var G=M?B.store:q.store,W=j.useMemo(function(){return P(G)},[G]),J=j.useMemo(function(){if(!c)return Y6t;var Re=kme(G,M?null:q.subscription),ze=Re.notifyNestedSubs.bind(Re);return[Re,ze]},[G,M,q]),te=J[0],H=J[1],ee=j.useMemo(function(){return M?q:xt({},q,{subscription:te})},[M,q,te]),re=j.useReducer(X6t,H6t,J6t),Q=re[0],se=Q[0],ne=re[1];if(se&&se.error)throw se.error;var le=j.useRef(),ge=j.useRef(V),be=j.useRef(),Pe=j.useRef(!1),Ce=_(function(){return be.current&&V===ge.current?be.current:W(G.getState(),V)},[G,se,V]);kQ(K6t,[ge,le,Pe,V,Ce,be,H]),kQ(Q6t,[c,G,te,W,ge,le,Pe,be,H,ne],[G,te,W]);var Ue=j.useMemo(function(){return I.createElement(w,xt({},Ce,{ref:R}))},[R,w,Ce]),we=j.useMemo(function(){return c?I.createElement(U.Provider,{value:ee},Ue):Ue},[U,Ue,ee]);return we}var O=A?I.memo(k):k;if(O.WrappedComponent=w,O.displayName=k.displayName=C,v){var D=I.forwardRef(function($,L){return I.createElement(O,xt({},$,{reactReduxForwardedRef:L}))});return D.displayName=C,D.WrappedComponent=w,OQ(D,w)}return OQ(O,w)}}function DQ(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function _2(t,e){if(DQ(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!DQ(t[r[i]],e[r[i]]))return!1;return!0}function eUt(t,e){var r={},n=function(o){var s=t[o];typeof s=="function"&&(r[o]=function(){return e(s.apply(void 0,arguments))})};for(var i in t)n(i);return r}function sV(t){return function(r,n){var i=t(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function MQ(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function Ume(t,e){return function(n,i){i.displayName;var a=function(s,l){return a.dependsOnOwnProps?a.mapToProps(s,l):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,l){a.mapToProps=t,a.dependsOnOwnProps=MQ(t);var u=a(s,l);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=MQ(u),u=a(s,l)),u},a}}function tUt(t){return typeof t=="function"?Ume(t):void 0}function rUt(t){return t?void 0:sV(function(e){return{dispatch:e}})}function nUt(t){return t&&typeof t=="object"?sV(function(e){return eUt(t,e)}):void 0}const iUt=[tUt,rUt,nUt];function aUt(t){return typeof t=="function"?Ume(t):void 0}function oUt(t){return t?void 0:sV(function(){return{}})}const sUt=[aUt,oUt];function lUt(t,e,r){return xt({},r,t,e)}function uUt(t){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,o=!1,s;return function(u,c,d){var f=t(u,c,d);return o?(!i||!a(f,s))&&(s=f):(o=!0,s=f),s}}}function cUt(t){return typeof t=="function"?uUt(t):void 0}function dUt(t){return t?void 0:function(){return lUt}}const fUt=[cUt,dUt];var hUt=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pUt(t,e,r,n){return function(a,o){return r(t(a,o),e(n,o),o)}}function vUt(t,e,r,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,s=i.areStatePropsEqual,l=!1,u,c,d,f,p;function v(b,w){return u=b,c=w,d=t(u,c),f=e(n,c),p=r(d,f,c),l=!0,p}function g(){return d=t(u,c),e.dependsOnOwnProps&&(f=e(n,c)),p=r(d,f,c),p}function m(){return t.dependsOnOwnProps&&(d=t(u,c)),e.dependsOnOwnProps&&(f=e(n,c)),p=r(d,f,c),p}function y(){var b=t(u,c),w=!s(b,d);return d=b,w&&(p=r(d,f,c)),p}function x(b,w){var S=!o(w,c),C=!a(b,u,w,c);return u=b,c=w,S&&C?g():S?m():C?y():p}return function(w,S){return l?x(w,S):v(w,S)}}function gUt(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,i=e.initMergeProps,a=TA(e,hUt),o=r(t,a),s=n(t,a),l=i(t,a),u=a.pure?vUt:pUt;return u(o,s,l,t,a)}var mUt=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function O2(t,e,r){for(var n=e.length-1;n>=0;n--){var i=e[n](t);if(i)return i}return function(a,o){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function yUt(t,e){return t===e}function xUt(t){var e=t===void 0?{}:t,r=e.connectHOC,n=r===void 0?Z6t:r,i=e.mapStateToPropsFactories,a=i===void 0?sUt:i,o=e.mapDispatchToPropsFactories,s=o===void 0?iUt:o,l=e.mergePropsFactories,u=l===void 0?fUt:l,c=e.selectorFactory,d=c===void 0?gUt:c;return function(p,v,g,m){m===void 0&&(m={});var y=m,x=y.pure,b=x===void 0?!0:x,w=y.areStatesEqual,S=w===void 0?yUt:w,C=y.areOwnPropsEqual,E=C===void 0?_2:C,A=y.areStatePropsEqual,P=A===void 0?_2:A,_=y.areMergedPropsEqual,k=_===void 0?_2:_,O=TA(y,mUt),D=O2(p,a,"mapStateToProps"),B=O2(v,s,"mapDispatchToProps"),$=O2(g,u,"mergeProps");return n(d,xt({methodName:"connect",getDisplayName:function(R){return"Connect("+R+")"},shouldHandleStateChanges:!!p,initMapStateToProps:D,initMapDispatchToProps:B,initMergeProps:$,pure:b,areStatesEqual:S,areOwnPropsEqual:E,areStatePropsEqual:P,areMergedPropsEqual:k},O))}}const qme=xUt();g6t(VJ.unstable_batchedUpdates);function bUt(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Gme(t,e){var r=j.useState(function(){return{inputs:e,result:t()}})[0],n=j.useRef(!0),i=j.useRef(r),a=n.current||!!(e&&i.current.inputs&&bUt(e,i.current.inputs)),o=a?i.current:{inputs:e,result:t()};return j.useEffect(function(){n.current=!1,i.current=o},[o]),o.result}function wUt(t,e){return Gme(function(){return t},e)}var fr=Gme,at=wUt,Ns=function(e){var r=e.top,n=e.right,i=e.bottom,a=e.left,o=n-a,s=i-r,l={top:r,right:n,bottom:i,left:a,width:o,height:s,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return l},lV=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},RQ=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},SUt=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},k2={top:0,right:0,bottom:0,left:0},uV=function(e){var r=e.borderBox,n=e.margin,i=n===void 0?k2:n,a=e.border,o=a===void 0?k2:a,s=e.padding,l=s===void 0?k2:s,u=Ns(lV(r,i)),c=Ns(RQ(r,o)),d=Ns(RQ(c,l));return{marginBox:u,borderBox:Ns(r),paddingBox:c,contentBox:d,margin:i,border:o,padding:l}},Ho=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&qd(),i},EUt=function(){return{x:window.pageXOffset,y:window.pageYOffset}},NT=function(e,r){var n=e.borderBox,i=e.border,a=e.margin,o=e.padding,s=SUt(n,r);return uV({borderBox:s,border:i,margin:a,padding:o})},BT=function(e,r){return r===void 0&&(r=EUt()),NT(e,r)},Wme=function(e,r){var n={top:Ho(r.marginTop),right:Ho(r.marginRight),bottom:Ho(r.marginBottom),left:Ho(r.marginLeft)},i={top:Ho(r.paddingTop),right:Ho(r.paddingRight),bottom:Ho(r.paddingBottom),left:Ho(r.paddingLeft)},a={top:Ho(r.borderTopWidth),right:Ho(r.borderRightWidth),bottom:Ho(r.borderBottomWidth),left:Ho(r.borderLeftWidth)};return uV({borderBox:e,margin:n,padding:i,border:a})},Hme=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Wme(r,n)},jQ=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function AUt(t,e){return!!(t===e||jQ(t)&&jQ(e))}function CUt(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!AUt(t[r],e[r]))return!1;return!0}function mi(t,e){e===void 0&&(e=CUt);var r,n=[],i,a=!1;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a&&r===this&&e(s,n)||(i=t.apply(this,s),a=!0,r=this,n=s),i}return o}var Mb=function(e){var r=[],n=null,i=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];r=s,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function Yme(t,e){}Yme.bind(null,"warn");Yme.bind(null,"error");function bd(){}function TUt(t,e){return xt({},t,{},e)}function ts(t,e,r){var n=e.map(function(i){var a=TUt(r,i.options);return t.addEventListener(i.eventName,i.fn,a),function(){t.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var IUt="Invariant failed";function VT(t){this.message=t}VT.prototype.toString=function(){return this.message};function Be(t,e){throw new VT(IUt)}var PUt=function(t){Ige(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.callbacks=null,n.unbind=bd,n.onWindowError=function(s){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var u=s.error;u instanceof VT&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=e.prototype;return r.componentDidMount=function(){this.unbind=ts(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof VT){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},e}(I.Component),_Ut=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zT=function(e){return e+1},OUt=function(e){return`
  You have lifted an item in position `+zT(e.source.index)+`
`},Xme=function(e,r){var n=e.droppableId===r.droppableId,i=zT(e.index),a=zT(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},Kme=function(e,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+e+`
      has been combined with `+n.draggableId:`
      The item `+e+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},kUt=function(e){var r=e.destination;if(r)return Xme(e.source,r);var n=e.combine;return n?Kme(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},FQ=function(e){return`
  The item has returned to its starting position
  of `+zT(e.index)+`
`},DUt=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+FQ(e.source)+`
    `;var r=e.destination,n=e.combine;return r?`
      You have dropped the item.
      `+Xme(e.source,r)+`
    `:n?`
      You have dropped the item.
      `+Kme(e.draggableId,e.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+FQ(e.source)+`
  `},yA={dragHandleUsageInstructions:_Ut,onDragStart:OUt,onDragUpdate:kUt,onDragEnd:DUt},xi={x:0,y:0},Ri=function(e,r){return{x:e.x+r.x,y:e.y+r.y}},xo=function(e,r){return{x:e.x-r.x,y:e.y-r.y}},wd=function(e,r){return e.x===r.x&&e.y===r.y},Km=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Kh=function(e,r,n){var i;return n===void 0&&(n=0),i={},i[e]=r,i[e==="x"?"y":"x"]=n,i},Rb=function(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))},LQ=function(e,r){return Math.min.apply(Math,r.map(function(n){return Rb(e,n)}))},Qme=function(e){return function(r){return{x:e(r.x),y:e(r.y)}}},MUt=function(t,e){var r=Ns({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r},g1=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},$Q=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},RUt={top:0,right:0,bottom:0,left:0},jUt=function(e,r){return r?g1(e,r.scroll.diff.displacement):e},FUt=function(e,r,n){if(n&&n.increasedBy){var i;return xt({},e,(i={},i[r.end]=e[r.end]+n.increasedBy[r.line],i))}return e},LUt=function(e,r){return r&&r.shouldClipSubject?MUt(r.pageMarginBox,e):Ns(e)},Qg=function(t){var e=t.page,r=t.withPlaceholder,n=t.axis,i=t.frame,a=jUt(e.marginBox,i),o=FUt(a,n,r),s=LUt(o,i);return{page:e,withPlaceholder:r,active:s}},cV=function(t,e){t.frame||Be();var r=t.frame,n=xo(e,r.scroll.initial),i=Km(n),a=xt({},r,{scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:i},max:r.scroll.max}}),o=Qg({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:a}),s=xt({},t,{frame:a,subject:o});return s};function UT(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function dV(t,e){if(t.findIndex)return t.findIndex(e);for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function uf(t,e){if(t.find)return t.find(e);var r=dV(t,e);if(r!==-1)return t[r]}function Jme(t){return Array.prototype.slice.call(t)}var Zme=mi(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),eye=mi(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),FO=mi(function(t){return UT(t)}),$Ut=mi(function(t){return UT(t)}),Qm=mi(function(t,e){var r=$Ut(e).filter(function(n){return t===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function fV(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function LO(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var $O=mi(function(t,e){return e.filter(function(r){return r.descriptor.id!==t.descriptor.id})}),NUt=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,i=t.insideDestination,a=t.previousImpact;if(!n.isCombineEnabled)return null;var o=fV(a);if(!o)return null;function s(g){var m={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return xt({},a,{at:m})}var l=a.displaced.all,u=l.length?l[0]:null;if(e)return u?s(u):null;var c=$O(r,i);if(!u){if(!c.length)return null;var d=c[c.length-1];return s(d.descriptor.id)}var f=dV(c,function(g){return g.descriptor.id===u});f===-1&&Be();var p=f-1;if(p<0)return null;var v=c[p];return s(v.descriptor.id)},Jm=function(t,e){return t.descriptor.droppableId===e.descriptor.id},tye={point:xi,value:0},jb={invisible:{},visible:{},all:[]},BUt={displaced:jb,displacedBy:tye,at:null},ns=function(t,e){return function(r){return t<=r&&r<=e}},rye=function(t){var e=ns(t.top,t.bottom),r=ns(t.left,t.right);return function(n){var i=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var a=e(n.top)||e(n.bottom),o=r(n.left)||r(n.right),s=a&&o;if(s)return!0;var l=n.top<t.top&&n.bottom>t.bottom,u=n.left<t.left&&n.right>t.right,c=l&&u;if(c)return!0;var d=l&&o||u&&a;return d}},VUt=function(t){var e=ns(t.top,t.bottom),r=ns(t.left,t.right);return function(n){var i=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);return i}},hV={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},nye={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},zUt=function(t){return function(e){var r=ns(e.top,e.bottom),n=ns(e.left,e.right);return function(i){return t===hV?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},UUt=function(e,r){var n=r.frame?r.frame.scroll.diff.displacement:xi;return g1(e,n)},qUt=function(e,r,n){return r.subject.active?n(r.subject.active)(e):!1},GUt=function(e,r,n){return n(r)(e)},pV=function(e){var r=e.target,n=e.destination,i=e.viewport,a=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,s=a?UUt(r,n):r;return qUt(s,n,o)&&GUt(s,i,o)},WUt=function(e){return pV(xt({},e,{isVisibleThroughFrameFn:rye}))},iye=function(e){return pV(xt({},e,{isVisibleThroughFrameFn:VUt}))},HUt=function(e){return pV(xt({},e,{isVisibleThroughFrameFn:zUt(e.destination.axis)}))},YUt=function(e,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,a=r.visible;if(i[e])return!1;var o=a[e];return o?o.shouldAnimate:!0};function XUt(t,e){var r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return Ns(lV(r,n))}function Fb(t){var e=t.afterDragging,r=t.destination,n=t.displacedBy,i=t.viewport,a=t.forceShouldAnimate,o=t.last;return e.reduce(function(l,u){var c=XUt(u,n),d=u.descriptor.id;l.all.push(d);var f=WUt({target:c,destination:r,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[u.descriptor.id]=!0,l;var p=YUt(d,o,a),v={draggableId:d,shouldAnimate:p};return l.visible[d]=v,l},{all:[],visible:{},invisible:{}})}function KUt(t,e){if(!t.length)return 0;var r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function NQ(t){var e=t.insideDestination,r=t.inHomeList,n=t.displacedBy,i=t.destination,a=KUt(e,{inHomeList:r});return{displaced:jb,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function qT(t){var e=t.draggable,r=t.insideDestination,n=t.destination,i=t.viewport,a=t.displacedBy,o=t.last,s=t.index,l=t.forceShouldAnimate,u=Jm(e,n);if(s==null)return NQ({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var c=uf(r,function(g){return g.descriptor.index===s});if(!c)return NQ({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var d=$O(e,r),f=r.indexOf(c),p=d.slice(f),v=Fb({afterDragging:p,destination:n,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:l});return{displaced:v,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Gd(t,e){return!!e.effected[t]}var QUt=function(t){var e=t.isMovingForward,r=t.destination,n=t.draggables,i=t.combine,a=t.afterCritical;if(!r.isCombineEnabled)return null;var o=i.draggableId,s=n[o],l=s.descriptor.index,u=Gd(o,a);return u?e?l:l-1:e?l+1:l},JUt=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.insideDestination,i=t.location;if(!n.length)return null;var a=i.index,o=e?a+1:a-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index,u=r?l:l+1;return o<s||o>u?null:o},ZUt=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.draggable,i=t.draggables,a=t.destination,o=t.insideDestination,s=t.previousImpact,l=t.viewport,u=t.afterCritical,c=s.at;if(c||Be(),c.type==="REORDER"){var d=JUt({isMovingForward:e,isInHomeList:r,location:c.destination,insideDestination:o});return d==null?null:qT({draggable:n,insideDestination:o,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var f=QUt({isMovingForward:e,destination:a,displaced:s.displaced,draggables:i,combine:c.combine,afterCritical:u});return f==null?null:qT({draggable:n,insideDestination:o,destination:a,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:f})},eqt=function(t){var e=t.displaced,r=t.afterCritical,n=t.combineWith,i=t.displacedBy,a=!!(e.visible[n]||e.invisible[n]);return Gd(n,r)?a?xi:Km(i.point):a?i.point:xi},tqt=function(t){var e=t.afterCritical,r=t.impact,n=t.draggables,i=LO(r);i||Be();var a=i.draggableId,o=n[a].page.borderBox.center,s=eqt({displaced:r.displaced,afterCritical:e,combineWith:a,displacedBy:r.displacedBy});return Ri(o,s)},aye=function(e,r){return r.margin[e.start]+r.borderBox[e.size]/2},rqt=function(e,r){return r.margin[e.end]+r.borderBox[e.size]/2},vV=function(e,r,n){return r[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},BQ=function(e){var r=e.axis,n=e.moveRelativeTo,i=e.isMoving;return Kh(r.line,n.marginBox[r.end]+aye(r,i),vV(r,n.marginBox,i))},VQ=function(e){var r=e.axis,n=e.moveRelativeTo,i=e.isMoving;return Kh(r.line,n.marginBox[r.start]-rqt(r,i),vV(r,n.marginBox,i))},nqt=function(e){var r=e.axis,n=e.moveInto,i=e.isMoving;return Kh(r.line,n.contentBox[r.start]+aye(r,i),vV(r,n.contentBox,i))},iqt=function(t){var e=t.impact,r=t.draggable,n=t.draggables,i=t.droppable,a=t.afterCritical,o=Qm(i.descriptor.id,n),s=r.page,l=i.axis;if(!o.length)return nqt({axis:l,moveInto:i.page,isMoving:s});var u=e.displaced,c=e.displacedBy,d=u.all[0];if(d){var f=n[d];if(Gd(d,a))return VQ({axis:l,moveRelativeTo:f.page,isMoving:s});var p=NT(f.page,c.point);return VQ({axis:l,moveRelativeTo:p,isMoving:s})}var v=o[o.length-1];if(v.descriptor.id===r.descriptor.id)return s.borderBox.center;if(Gd(v.descriptor.id,a)){var g=NT(v.page,Km(a.displacedBy.point));return BQ({axis:l,moveRelativeTo:g,isMoving:s})}return BQ({axis:l,moveRelativeTo:v.page,isMoving:s})},n$=function(t,e){var r=t.frame;return r?Ri(e,r.scroll.diff.displacement):e},aqt=function(e){var r=e.impact,n=e.draggable,i=e.droppable,a=e.draggables,o=e.afterCritical,s=n.page.borderBox.center,l=r.at;return!i||!l?s:l.type==="REORDER"?iqt({impact:r,draggable:n,draggables:a,droppable:i,afterCritical:o}):tqt({impact:r,draggables:a,afterCritical:o})},NO=function(t){var e=aqt(t),r=t.droppable,n=r?n$(r,e):e;return n},oye=function(t,e){var r=xo(e,t.scroll.initial),n=Km(r),i=Ns({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),a={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}};return a};function zQ(t,e){return t.map(function(r){return e[r]})}function oqt(t,e){for(var r=0;r<e.length;r++){var n=e[r].visible[t];if(n)return n}return null}var sqt=function(t){var e=t.impact,r=t.viewport,n=t.destination,i=t.draggables,a=t.maxScrollChange,o=oye(r,Ri(r.scroll.current,a)),s=n.frame?cV(n,Ri(n.frame.scroll.current,a)):n,l=e.displaced,u=Fb({afterDragging:zQ(l.all,i),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),c=Fb({afterDragging:zQ(l.all,i),destination:s,displacedBy:e.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},f={},p=[l,u,c];l.all.forEach(function(g){var m=oqt(g,p);if(m){f[g]=m;return}d[g]=!0});var v=xt({},e,{displaced:{all:l.all,invisible:d,visible:f}});return v},lqt=function(t,e){return Ri(t.scroll.diff.displacement,e)},gV=function(t){var e=t.pageBorderBoxCenter,r=t.draggable,n=t.viewport,i=lqt(n,e),a=xo(i,r.page.borderBox.center);return Ri(r.client.borderBox.center,a)},sye=function(t){var e=t.draggable,r=t.destination,n=t.newPageBorderBoxCenter,i=t.viewport,a=t.withDroppableDisplacement,o=t.onlyOnMainAxis,s=o===void 0?!1:o,l=xo(n,e.page.borderBox.center),u=g1(e.page.borderBox,l),c={target:u,destination:r,withDroppableDisplacement:a,viewport:i};return s?HUt(c):iye(c)},uqt=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,i=t.draggables,a=t.previousImpact,o=t.viewport,s=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!n.isEnabled)return null;var c=Qm(n.descriptor.id,i),d=Jm(r,n),f=NUt({isMovingForward:e,draggable:r,destination:n,insideDestination:c,previousImpact:a})||ZUt({isMovingForward:e,isInHomeList:d,draggable:r,draggables:i,destination:n,insideDestination:c,previousImpact:a,viewport:o,afterCritical:u});if(!f)return null;var p=NO({impact:f,draggable:r,droppable:n,draggables:i,afterCritical:u}),v=sye({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var g=gV({pageBorderBoxCenter:p,draggable:r,viewport:o});return{clientSelection:g,impact:f,scrollJumpRequest:null}}var m=xo(p,s),y=sqt({impact:f,viewport:o,destination:n,draggables:i,maxScrollChange:m});return{clientSelection:l,impact:y,scrollJumpRequest:m}},va=function(e){var r=e.subject.active;return r||Be(),r},cqt=function(t){var e=t.isMovingForward,r=t.pageBorderBoxCenter,n=t.source,i=t.droppables,a=t.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,l=ns(o[s.start],o[s.end]),u=FO(i).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return rye(a.frame)(va(d))}).filter(function(d){var f=va(d);return e?o[s.crossAxisEnd]<f[s.crossAxisEnd]:f[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(d){var f=va(d),p=ns(f[s.start],f[s.end]);return l(f[s.start])||l(f[s.end])||p(o[s.start])||p(o[s.end])}).sort(function(d,f){var p=va(d)[s.crossAxisStart],v=va(f)[s.crossAxisStart];return e?p-v:v-p}).filter(function(d,f,p){return va(d)[s.crossAxisStart]===va(p[0])[s.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(d){var f=ns(va(d)[s.start],va(d)[s.end]);return f(r[s.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,f){return va(d)[s.start]-va(f)[s.start]})[0]:u.sort(function(d,f){var p=LQ(r,$Q(va(d))),v=LQ(r,$Q(va(f)));return p!==v?p-v:va(d)[s.start]-va(f)[s.start]})[0]},UQ=function(e,r){var n=e.page.borderBox.center;return Gd(e.descriptor.id,r)?xo(n,r.displacedBy.point):n},dqt=function(e,r){var n=e.page.borderBox;return Gd(e.descriptor.id,r)?g1(n,Km(r.displacedBy.point)):n},fqt=function(t){var e=t.pageBorderBoxCenter,r=t.viewport,n=t.destination,i=t.insideDestination,a=t.afterCritical,o=i.filter(function(s){return iye({target:dqt(s,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,l){var u=Rb(e,n$(n,UQ(s,a))),c=Rb(e,n$(n,UQ(l,a)));return u<c?-1:c<u?1:s.descriptor.index-l.descriptor.index});return o[0]||null},m1=mi(function(e,r){var n=r[e.line];return{value:n,point:Kh(e.line,n)}}),hqt=function(e,r,n){var i=e.axis;if(e.descriptor.mode==="virtual")return Kh(i.line,r[i.line]);var a=e.subject.page.contentBox[i.size],o=Qm(e.descriptor.id,n),s=o.reduce(function(c,d){return c+d.client.marginBox[i.size]},0),l=s+r[i.line],u=l-a;return u<=0?null:Kh(i.line,u)},lye=function(e,r){return xt({},e,{scroll:xt({},e.scroll,{max:r})})},uye=function(e,r,n){var i=e.frame;Jm(r,e)&&Be(),e.subject.withPlaceholder&&Be();var a=m1(e.axis,r.displaceBy).point,o=hqt(e,a,n),s={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Qg({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return xt({},e,{subject:l})}var u=o?Ri(i.scroll.max,o):i.scroll.max,c=lye(i,u),d=Qg({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return xt({},e,{subject:d,frame:c})},pqt=function(e){var r=e.subject.withPlaceholder;r||Be();var n=e.frame;if(!n){var i=Qg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return xt({},e,{subject:i})}var a=r.oldFrameMaxScroll;a||Be();var o=lye(n,a),s=Qg({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return xt({},e,{subject:s,frame:o})},vqt=function(t){var e=t.previousPageBorderBoxCenter,r=t.moveRelativeTo,n=t.insideDestination,i=t.draggable,a=t.draggables,o=t.destination,s=t.viewport,l=t.afterCritical;if(!r){if(n.length)return null;var u={displaced:jb,displacedBy:tye,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},c=NO({impact:u,draggable:i,droppable:o,draggables:a,afterCritical:l}),d=Jm(i,o)?o:uye(o,i,a),f=sye({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?u:null}var p=e[o.axis.line]<=r.page.borderBox.center[o.axis.line],v=function(){var m=r.descriptor.index;return r.descriptor.id===i.descriptor.id||p?m:m+1}(),g=m1(o.axis,i.displaceBy);return qT({draggable:i,insideDestination:n,destination:o,viewport:s,displacedBy:g,last:jb,index:v})},gqt=function(t){var e=t.isMovingForward,r=t.previousPageBorderBoxCenter,n=t.draggable,i=t.isOver,a=t.draggables,o=t.droppables,s=t.viewport,l=t.afterCritical,u=cqt({isMovingForward:e,pageBorderBoxCenter:r,source:i,droppables:o,viewport:s});if(!u)return null;var c=Qm(u.descriptor.id,a),d=fqt({pageBorderBoxCenter:r,viewport:s,destination:u,insideDestination:c,afterCritical:l}),f=vqt({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:l});if(!f)return null;var p=NO({impact:f,draggable:n,droppable:u,draggables:a,afterCritical:l}),v=gV({pageBorderBoxCenter:p,draggable:n,viewport:s});return{clientSelection:v,impact:f,scrollJumpRequest:null}},Po=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},mqt=function(e,r){var n=Po(e);return n?r[n]:null},yqt=function(t){var e=t.state,r=t.type,n=mqt(e.impact,e.dimensions.droppables),i=!!n,a=e.dimensions.droppables[e.critical.droppable.id],o=n||a,s=o.axis.direction,l=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!i)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,p=f.draggables,v=f.droppables;return l?uqt({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):gqt({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:p,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function Lf(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function cye(t){var e=ns(t.top,t.bottom),r=ns(t.left,t.right);return function(i){return e(i.y)&&r(i.x)}}function xqt(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function bqt(t){var e=t.pageBorderBox,r=t.draggable,n=t.candidates,i=r.page.borderBox.center,a=n.map(function(o){var s=o.axis,l=Kh(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:Rb(i,l)}}).sort(function(o,s){return s.distance-o.distance});return a[0]?a[0].id:null}function wqt(t){var e=t.pageBorderBox,r=t.draggable,n=t.droppables,i=FO(n).filter(function(a){if(!a.isEnabled)return!1;var o=a.subject.active;if(!o||!xqt(e,o))return!1;if(cye(o)(e.center))return!0;var s=a.axis,l=o.center[s.crossAxisLine],u=e[s.crossAxisStart],c=e[s.crossAxisEnd],d=ns(o[s.crossAxisStart],o[s.crossAxisEnd]),f=d(u),p=d(c);return!f&&!p?!0:f?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:bqt({pageBorderBox:e,draggable:r,candidates:i}):null}var dye=function(e,r){return Ns(g1(e,r))},Sqt=function(t,e){var r=t.frame;return r?dye(e,r.scroll.diff.value):e};function fye(t){var e=t.displaced,r=t.id;return!!(e.visible[r]||e.invisible[r])}function Eqt(t){var e=t.draggable,r=t.closest,n=t.inHomeList;return r?n&&r.descriptor.index>e.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Aqt=function(t){var e=t.pageBorderBoxWithDroppableScroll,r=t.draggable,n=t.destination,i=t.insideDestination,a=t.last,o=t.viewport,s=t.afterCritical,l=n.axis,u=m1(n.axis,r.displaceBy),c=u.value,d=e[l.start],f=e[l.end],p=$O(r,i),v=uf(p,function(m){var y=m.descriptor.id,x=m.page.borderBox.center[l.line],b=Gd(y,s),w=fye({displaced:a,id:y});return b?w?f<=x:d<x-c:w?f<=x+c:d<x}),g=Eqt({draggable:r,closest:v,inHomeList:Jm(r,n)});return qT({draggable:r,insideDestination:i,destination:n,viewport:o,last:a,displacedBy:u,index:g})},Cqt=4,Tqt=function(t){var e=t.draggable,r=t.pageBorderBoxWithDroppableScroll,n=t.previousImpact,i=t.destination,a=t.insideDestination,o=t.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=m1(i.axis,e.displaceBy),u=l.value,c=r[s.start],d=r[s.end],f=$O(e,a),p=uf(f,function(g){var m=g.descriptor.id,y=g.page.borderBox,x=y[s.size],b=x/Cqt,w=Gd(m,o),S=fye({displaced:n.displaced,id:m});return w?S?d>y[s.start]+b&&d<y[s.end]-b:c>y[s.start]-u+b&&c<y[s.end]-u-b:S?d>y[s.start]+u+b&&d<y[s.end]+u-b:c>y[s.start]+b&&c<y[s.end]-b});if(!p)return null;var v={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return v},hye=function(t){var e=t.pageOffset,r=t.draggable,n=t.draggables,i=t.droppables,a=t.previousImpact,o=t.viewport,s=t.afterCritical,l=dye(r.page.borderBox,e),u=wqt({pageBorderBox:l,draggable:r,droppables:i});if(!u)return BUt;var c=i[u],d=Qm(c.descriptor.id,n),f=Sqt(c,l);return Tqt({pageBorderBoxWithDroppableScroll:f,draggable:r,previousImpact:a,destination:c,insideDestination:d,afterCritical:s})||Aqt({pageBorderBoxWithDroppableScroll:f,draggable:r,destination:c,insideDestination:d,last:a.displaced,viewport:o,afterCritical:s})},mV=function(t,e){var r;return xt({},t,(r={},r[e.descriptor.id]=e,r))},Iqt=function(e){var r=e.previousImpact,n=e.impact,i=e.droppables,a=Po(r),o=Po(n);if(!a||a===o)return i;var s=i[a];if(!s.subject.withPlaceholder)return i;var l=pqt(s);return mV(i,l)},Pqt=function(t){var e=t.draggable,r=t.draggables,n=t.droppables,i=t.previousImpact,a=t.impact,o=Iqt({previousImpact:i,impact:a,droppables:n}),s=Po(a);if(!s)return o;var l=n[s];if(Jm(e,l)||l.subject.withPlaceholder)return o;var u=uye(l,e,r);return mV(o,u)},rx=function(t){var e=t.state,r=t.clientSelection,n=t.dimensions,i=t.viewport,a=t.impact,o=t.scrollJumpRequest,s=i||e.viewport,l=n||e.dimensions,u=r||e.current.client.selection,c=xo(u,e.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Ri(e.initial.client.borderBoxCenter,c)},f={selection:Ri(d.selection,s.scroll.current),borderBoxCenter:Ri(d.borderBoxCenter,s.scroll.current),offset:Ri(d.offset,s.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return xt({phase:"COLLECTING"},e,{dimensions:l,viewport:s,current:p});var v=l.draggables[e.critical.draggable.id],g=a||hye({pageOffset:f.offset,draggable:v,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),m=Pqt({draggable:v,impact:g,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),y=xt({},e,{current:p,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return y};function _qt(t,e){return t.map(function(r){return e[r]})}var pye=function(t){var e=t.impact,r=t.viewport,n=t.draggables,i=t.destination,a=t.forceShouldAnimate,o=e.displaced,s=_qt(o.all,n),l=Fb({afterDragging:s,destination:i,displacedBy:e.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:o});return xt({},e,{displaced:l})},vye=function(t){var e=t.impact,r=t.draggable,n=t.droppable,i=t.draggables,a=t.viewport,o=t.afterCritical,s=NO({impact:e,draggable:r,draggables:i,droppable:n,afterCritical:o});return gV({pageBorderBoxCenter:s,draggable:r,viewport:a})},gye=function(t){var e=t.state,r=t.dimensions,n=t.viewport;e.movementMode!=="SNAP"&&Be();var i=e.impact,a=n||e.viewport,o=r||e.dimensions,s=o.draggables,l=o.droppables,u=s[e.critical.draggable.id],c=Po(i);c||Be();var d=l[c],f=pye({impact:i,viewport:a,destination:d,draggables:s}),p=vye({impact:f,draggable:u,droppable:d,draggables:s,viewport:a,afterCritical:e.afterCritical});return rx({impact:f,clientSelection:p,state:e,dimensions:o,viewport:a})},Oqt=function(t){return{index:t.index,droppableId:t.droppableId}},mye=function(t){var e=t.draggable,r=t.home,n=t.draggables,i=t.viewport,a=m1(r.axis,e.displaceBy),o=Qm(r.descriptor.id,n),s=o.indexOf(e);s===-1&&Be();var l=o.slice(s+1),u=l.reduce(function(p,v){return p[v.descriptor.id]=!0,p},{}),c={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},d=Fb({afterDragging:l,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:a,at:{type:"REORDER",destination:Oqt(e.descriptor)}};return{impact:f,afterCritical:c}},kqt=function(t,e){return{draggables:t.draggables,droppables:mV(t.droppables,e)}},Dqt=function(t){var e=t.draggable,r=t.offset,n=t.initialWindowScroll,i=NT(e.client,r),a=BT(i,n),o=xt({},e,{placeholder:xt({},e.placeholder,{client:i}),client:i,page:a});return o},Mqt=function(t){var e=t.frame;return e||Be(),e},Rqt=function(t){var e=t.additions,r=t.updatedDroppables,n=t.viewport,i=n.scroll.diff.value;return e.map(function(a){var o=a.descriptor.droppableId,s=r[o],l=Mqt(s),u=l.scroll.diff.value,c=Ri(i,u),d=Dqt({draggable:a,offset:c,initialWindowScroll:n.scroll.initial});return d})},jqt=function(t){var e=t.state,r=t.published,n=r.modified.map(function(b){var w=e.dimensions.droppables[b.droppableId],S=cV(w,b.scroll);return S}),i=xt({},e.dimensions.droppables,{},Zme(n)),a=eye(Rqt({additions:r.additions,updatedDroppables:i,viewport:e.viewport})),o=xt({},e.dimensions.draggables,{},a);r.removals.forEach(function(b){delete o[b]});var s={droppables:i,draggables:o},l=Po(e.impact),u=l?s.droppables[l]:null,c=s.draggables[e.critical.draggable.id],d=s.droppables[e.critical.droppable.id],f=mye({draggable:c,home:d,draggables:o,viewport:e.viewport}),p=f.impact,v=f.afterCritical,g=u&&u.isCombineEnabled?e.impact:p,m=hye({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:e.viewport,afterCritical:v}),y=xt({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:m,onLiftImpact:p,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return y;var x=xt({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return x},i$=function(e){return e.movementMode==="SNAP"},D2=function(e,r,n){var i=kqt(e.dimensions,r);return!i$(e)||n?rx({state:e,dimensions:i}):gye({state:e,dimensions:i})};function M2(t){return t.isDragging&&t.movementMode==="SNAP"?xt({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var qQ={phase:"IDLE",completed:null,shouldFlush:!1},Fqt=function(t,e){if(t===void 0&&(t=qQ),e.type==="FLUSH")return xt({},qQ,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Be();var r=e.payload,n=r.critical,i=r.clientSelection,a=r.viewport,o=r.dimensions,s=r.movementMode,l=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:xi},d={client:c,page:{selection:Ri(c.selection,a.scroll.initial),borderBoxCenter:Ri(c.selection,a.scroll.initial),offset:Ri(c.selection,a.scroll.diff.value)}},f=FO(o.droppables).every(function(ne){return!ne.isFixedOnPage}),p=mye({draggable:l,home:u,draggables:o.draggables,viewport:a}),v=p.impact,g=p.afterCritical,m={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:v,afterCritical:g,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return m}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Be();var y=xt({phase:"COLLECTING"},t,{phase:"COLLECTING"});return y}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Be(),jqt({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Lf(t)||Be();var x=e.payload.client;return wd(x,t.current.client.selection)?t:rx({state:t,clientSelection:x,impact:i$(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return M2(t);Lf(t)||Be();var b=e.payload,w=b.id,S=b.newScroll,C=t.dimensions.droppables[w];if(!C)return t;var E=cV(C,S);return D2(t,E,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Lf(t)||Be();var A=e.payload,P=A.id,_=A.isEnabled,k=t.dimensions.droppables[P];k||Be(),k.isEnabled===_&&Be();var O=xt({},k,{isEnabled:_});return D2(t,O,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Lf(t)||Be();var D=e.payload,B=D.id,$=D.isCombineEnabled,L=t.dimensions.droppables[B];L||Be(),L.isCombineEnabled===$&&Be();var R=xt({},L,{isCombineEnabled:$});return D2(t,R,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Lf(t)||Be(),t.isWindowScrollAllowed||Be();var V=e.payload.newScroll;if(wd(t.viewport.scroll.current,V))return M2(t);var U=oye(t.viewport,V);return i$(t)?gye({state:t,viewport:U}):rx({state:t,viewport:U})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lf(t))return t;var q=e.payload.maxScroll;if(wd(q,t.viewport.scroll.max))return t;var M=xt({},t.viewport,{scroll:xt({},t.viewport.scroll,{max:q})});return xt({phase:"DRAGGING"},t,{viewport:M})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Be();var G=yqt({state:t,type:e.type});return G?rx({state:t,impact:G.impact,clientSelection:G.clientSelection,scrollJumpRequest:G.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var W=e.payload.reason;t.phase!=="COLLECTING"&&Be();var J=xt({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:W});return J}if(e.type==="DROP_ANIMATE"){var te=e.payload,H=te.completed,ee=te.dropDuration,re=te.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Be();var Q={phase:"DROP_ANIMATING",completed:H,dropDuration:ee,newHomeClientOffset:re,dimensions:t.dimensions};return Q}if(e.type==="DROP_COMPLETE"){var se=e.payload.completed;return{phase:"IDLE",completed:se,shouldFlush:!1}}return t},Lqt=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},$qt=function(e){return{type:"LIFT",payload:e}},Nqt=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Bqt=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Vqt=function(){return{type:"COLLECTION_STARTING",payload:null}},zqt=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Uqt=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},qqt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},yye=function(e){return{type:"MOVE",payload:e}},Gqt=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},Wqt=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},Hqt=function(){return{type:"MOVE_UP",payload:null}},Yqt=function(){return{type:"MOVE_DOWN",payload:null}},Xqt=function(){return{type:"MOVE_RIGHT",payload:null}},Kqt=function(){return{type:"MOVE_LEFT",payload:null}},yV=function(){return{type:"FLUSH",payload:null}},Qqt=function(e){return{type:"DROP_ANIMATE",payload:e}},xV=function(e){return{type:"DROP_COMPLETE",payload:e}},xye=function(e){return{type:"DROP",payload:e}},Jqt=function(e){return{type:"DROP_PENDING",payload:e}},bye=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Zqt=function(t){return function(e){var r=e.getState,n=e.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var o=a.payload,s=o.id,l=o.clientSelection,u=o.movementMode,c=r();c.phase==="DROP_ANIMATING"&&n(xV({completed:c.completed})),r().phase!=="IDLE"&&Be(),n(yV()),n(Lqt({draggableId:s,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},f={draggableId:s,scrollOptions:d},p=t.startPublishing(f),v=p.critical,g=p.dimensions,m=p.viewport;n(Nqt({critical:v,dimensions:g,clientSelection:l,movementMode:u,viewport:m}))}}}},e8t=function(t){return function(){return function(e){return function(r){r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)}}}},bV={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Lb={opacity:{drop:0,combining:.7},scale:{drop:.75}},wV={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Cf=wV.outOfTheWay+"s "+bV.outOfTheWay,nx={fluid:"opacity "+Cf,snap:"transform "+Cf+", opacity "+Cf,drop:function(e){var r=e+"s "+bV.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Cf,placeholder:"height "+Cf+", width "+Cf+", margin "+Cf},GQ=function(e){return wd(e,xi)?null:"translate("+e.x+"px, "+e.y+"px)"},a$={moveTo:GQ,drop:function(e,r){var n=GQ(e);return n?r?n+" scale("+Lb.scale.drop+")":n:null}},o$=wV.minDropTime,wye=wV.maxDropTime,t8t=wye-o$,WQ=1500,r8t=.6,n8t=function(t){var e=t.current,r=t.destination,n=t.reason,i=Rb(e,r);if(i<=0)return o$;if(i>=WQ)return wye;var a=i/WQ,o=o$+t8t*a,s=n==="CANCEL"?o*r8t:o;return Number(s.toFixed(2))},i8t=function(t){var e=t.impact,r=t.draggable,n=t.dimensions,i=t.viewport,a=t.afterCritical,o=n.draggables,s=n.droppables,l=Po(e),u=l?s[l]:null,c=s[r.descriptor.droppableId],d=vye({impact:e,draggable:r,draggables:o,afterCritical:a,droppable:u||c,viewport:i}),f=xo(d,r.client.borderBox.center);return f},a8t=function(t){var e=t.draggables,r=t.reason,n=t.lastImpact,i=t.home,a=t.viewport,o=t.onLiftImpact;if(!n.at||r!=="DROP"){var s=pye({draggables:e,impact:o,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=xt({},n,{displaced:jb});return{impact:l,didDropInsideDroppable:!0}},o8t=function(t){var e=t.getState,r=t.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=e(),o=i.payload.reason;if(a.phase==="COLLECTING"){r(Jqt({reason:o}));return}if(a.phase!=="IDLE"){var s=a.phase==="DROP_PENDING"&&a.isWaiting;s&&Be(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||Be();var l=a.critical,u=a.dimensions,c=u.draggables[a.critical.draggable.id],d=a8t({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),f=d.impact,p=d.didDropInsideDroppable,v=p?fV(f):null,g=p?LO(f):null,m={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:o,mode:a.movementMode,destination:v,combine:g},x=i8t({impact:f,draggable:c,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:y,impact:f},w=!wd(a.current.client.offset,x)||!!y.combine;if(!w){r(xV({completed:b}));return}var S=n8t({current:a.current.client.offset,destination:x,reason:o}),C={newHomeClientOffset:x,dropDuration:S,completed:b};r(Qqt(C))}}}},Sye=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function s8t(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||t()}}}function l8t(t){var e=t.onWindowScroll;function r(){e(Sye())}var n=Mb(r),i=s8t(n),a=bd;function o(){return a!==bd}function s(){o()&&Be(),a=ts(window,[i])}function l(){o()||Be(),n.cancel(),a(),a=bd}return{start:s,stop:l,isActive:o}}var u8t=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},c8t=function(t){var e=l8t({onWindowScroll:function(n){t.dispatch(Gqt({newScroll:n}))}});return function(r){return function(n){!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&u8t(n)&&e.stop(),r(n)}}},d8t=function(t){var e=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(o){e||r||(e=!0,t(o),clearTimeout(n))};return i.wasCalled=function(){return e},i},f8t=function(){var t=[],e=function(a){var o=dV(t,function(u){return u.timerId===a});o===-1&&Be();var s=t.splice(o,1),l=s[0];l.callback()},r=function(a){var o=setTimeout(function(){return e(o)}),s={timerId:o,callback:a};t.push(s)},n=function(){if(t.length){var a=[].concat(t);t.length=0,a.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},h8t=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.droppableId===r.droppableId&&e.index===r.index},p8t=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.draggableId===r.draggableId&&e.droppableId===r.droppableId},v8t=function(e,r){if(e===r)return!0;var n=e.draggable.id===r.draggable.id&&e.draggable.droppableId===r.draggable.droppableId&&e.draggable.type===r.draggable.type&&e.draggable.index===r.draggable.index,i=e.droppable.id===r.droppable.id&&e.droppable.type===r.droppable.type;return n&&i},Yy=function(e,r){r()},gE=function(e,r){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:r}},R2=function(e,r,n,i){if(!e){n(i(r));return}var a=d8t(n),o={announce:a};e(r,o),a.wasCalled()||n(i(r))},g8t=function(t,e){var r=f8t(),n=null,i=function(f,p){n&&Be(),Yy("onBeforeCapture",function(){var v=t().onBeforeCapture;if(v){var g={draggableId:f,mode:p};v(g)}})},a=function(f,p){n&&Be(),Yy("onBeforeDragStart",function(){var v=t().onBeforeDragStart;v&&v(gE(f,p))})},o=function(f,p){n&&Be();var v=gE(f,p);n={mode:p,lastCritical:f,lastLocation:v.source,lastCombine:null},r.add(function(){Yy("onDragStart",function(){return R2(t().onDragStart,v,e,yA.onDragStart)})})},s=function(f,p){var v=fV(p),g=LO(p);n||Be();var m=!v8t(f,n.lastCritical);m&&(n.lastCritical=f);var y=!h8t(n.lastLocation,v);y&&(n.lastLocation=v);var x=!p8t(n.lastCombine,g);if(x&&(n.lastCombine=g),!(!m&&!y&&!x)){var b=xt({},gE(f,n.mode),{combine:g,destination:v});r.add(function(){Yy("onDragUpdate",function(){return R2(t().onDragUpdate,b,e,yA.onDragUpdate)})})}},l=function(){n||Be(),r.flush()},u=function(f){n||Be(),n=null,Yy("onDragEnd",function(){return R2(t().onDragEnd,f,e,yA.onDragEnd)})},c=function(){if(n){var f=xt({},gE(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(f)}};return{beforeCapture:i,beforeStart:a,start:o,update:s,flush:l,drop:u,abort:c}},m8t=function(t,e){var r=g8t(t,e);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var o=a.payload.critical;r.beforeStart(o,a.payload.movementMode),i(a),r.start(o,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var s=a.payload.completed.result;r.flush(),i(a),r.drop(s);return}if(i(a),a.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},y8t=function(t){return function(e){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}var n=t.getState();n.phase!=="DROP_ANIMATING"&&Be(),t.dispatch(xV({completed:n.completed}))}}},x8t=function(t){var e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(bye())}};r=requestAnimationFrame(function(){r=null,e=ts(window,[o])})}}}},b8t=function(t){return function(){return function(e){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)}}}},w8t=function(t){var e=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;var i=n.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},S8t=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},E8t=function(t){return function(e){return function(r){return function(n){if(S8t(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=e.getState();i.phase!=="DRAGGING"&&Be(),t.start(i);return}r(n),t.scroll(e.getState())}}}},A8t=function(t){return function(e){return function(r){if(e(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(xye({reason:n.reason})))}}}},C8t=Pme,T8t=function(t){var e=t.dimensionMarshal,r=t.focusMarshal,n=t.styleMarshal,i=t.getResponders,a=t.announce,o=t.autoScroller;return Ime(Fqt,C8t(p6t(e8t(n),b8t(e),Zqt(e),o8t,y8t,x8t,A8t,E8t(o),c8t,w8t(r),m8t(i,a))))},j2=function(){return{additions:{},removals:{},modified:{}}};function I8t(t){var e=t.registry,r=t.callbacks,n=j2(),i=null,a=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=n,d=c.additions,f=c.removals,p=c.modified,v=Object.keys(d).map(function(y){return e.draggable.getById(y).getDimension(xi)}).sort(function(y,x){return y.descriptor.index-x.descriptor.index}),g=Object.keys(p).map(function(y){var x=e.droppable.getById(y),b=x.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:b}}),m={additions:v,removals:Object.keys(f),modified:g};n=j2(),r.publish(m)}))},o=function(c){var d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],a()},s=function(c){var d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],a()},l=function(){i&&(cancelAnimationFrame(i),i=null,n=j2())};return{add:o,remove:s,stop:l}}var Eye=function(t){var e=t.scrollHeight,r=t.scrollWidth,n=t.height,i=t.width,a=xo({x:r,y:e},{x:i,y:n}),o={x:Math.max(0,a.x),y:Math.max(0,a.y)};return o},Aye=function(){var t=document.documentElement;return t||Be(),t},Cye=function(){var t=Aye(),e=Eye({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},P8t=function(){var t=Sye(),e=Cye(),r=t.y,n=t.x,i=Aye(),a=i.clientWidth,o=i.clientHeight,s=n+a,l=r+o,u=Ns({top:r,left:n,right:s,bottom:l}),c={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:xi,displacement:xi}}};return c},_8t=function(t){var e=t.critical,r=t.scrollOptions,n=t.registry,i=P8t(),a=i.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(a,r)}),l=n.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(a)}),u={draggables:eye(l),droppables:Zme(s)},c={dimensions:u,critical:e,viewport:i};return c};function HQ(t,e,r){if(r.descriptor.id===e.id||r.descriptor.type!==e.type)return!1;var n=t.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var O8t=function(t,e){var r=null,n=I8t({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(p,v){t.droppable.exists(p)||Be(),r&&e.updateDroppableIsEnabled({id:p,isEnabled:v})},a=function(p,v){r&&(t.droppable.exists(p)||Be(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:v}))},o=function(p,v){r&&(t.droppable.exists(p)||Be(),e.updateDroppableScroll({id:p,newScroll:v}))},s=function(p,v){r&&t.droppable.getById(p).callbacks.scroll(v)},l=function(){if(r){n.stop();var p=r.critical.droppable;t.droppable.getAllByType(p.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||Be();var v=r.critical.draggable;p.type==="ADDITION"&&HQ(t,v,p.value)&&n.add(p.value),p.type==="REMOVAL"&&HQ(t,v,p.value)&&n.remove(p.value)},c=function(p){r&&Be();var v=t.draggable.getById(p.draggableId),g=t.droppable.getById(v.descriptor.droppableId),m={draggable:v.descriptor,droppable:g.descriptor},y=t.subscribe(u);return r={critical:m,unsubscribe:y},_8t({critical:m,registry:t,scrollOptions:p.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:o,startPublishing:c,stopPublishing:l};return d},Tye=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},k8t=function(t){window.scrollBy(t.x,t.y)},D8t=mi(function(t){return FO(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),M8t=function(e,r){var n=uf(D8t(r),function(i){return i.frame||Be(),cye(i.frame.pageMarginBox)(e)});return n},R8t=function(t){var e=t.center,r=t.destination,n=t.droppables;if(r){var i=n[r];return i.frame?i:null}var a=M8t(e,n);return a},Sd={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},j8t=function(t,e){var r=t[e.size]*Sd.startFromPercentage,n=t[e.size]*Sd.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},Iye=function(t){var e=t.startOfRange,r=t.endOfRange,n=t.current,i=r-e;if(i===0)return 0;var a=n-e,o=a/i;return o},SV=1,F8t=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Sd.maxPixelScroll;if(t===e.startScrollingFrom)return SV;var r=Iye({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),n=1-r,i=Sd.maxPixelScroll*Sd.ease(n);return Math.ceil(i)},YQ=Sd.durationDampening.accelerateAt,XQ=Sd.durationDampening.stopDampeningAt,L8t=function(t,e){var r=e,n=XQ,i=Date.now(),a=i-r;if(a>=XQ)return t;if(a<YQ)return SV;var o=Iye({startOfRange:YQ,endOfRange:n,current:a}),s=t*Sd.ease(o);return Math.ceil(s)},KQ=function(t){var e=t.distanceToEdge,r=t.thresholds,n=t.dragStartTime,i=t.shouldUseTimeDampening,a=F8t(e,r);return a===0?0:i?Math.max(L8t(a,n),SV):a},QQ=function(t){var e=t.container,r=t.distanceToEdges,n=t.dragStartTime,i=t.axis,a=t.shouldUseTimeDampening,o=j8t(e,i),s=r[i.end]<r[i.start];return s?KQ({distanceToEdge:r[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a}):-1*KQ({distanceToEdge:r[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a})},$8t=function(t){var e=t.container,r=t.subject,n=t.proposedScroll,i=r.height>e.height,a=r.width>e.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},N8t=Qme(function(t){return t===0?0:t}),Pye=function(t){var e=t.dragStartTime,r=t.container,n=t.subject,i=t.center,a=t.shouldUseTimeDampening,o={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},s=QQ({container:r,distanceToEdges:o,dragStartTime:e,axis:hV,shouldUseTimeDampening:a}),l=QQ({container:r,distanceToEdges:o,dragStartTime:e,axis:nye,shouldUseTimeDampening:a}),u=N8t({x:l,y:s});if(wd(u,xi))return null;var c=$8t({container:r,subject:n,proposedScroll:u});return c?wd(c,xi)?null:c:null},B8t=Qme(function(t){return t===0?0:t>0?1:-1}),EV=function(){var t=function(r,n){return r<0?r:r>n?r-n:0};return function(e){var r=e.current,n=e.max,i=e.change,a=Ri(r,i),o={x:t(a.x,n.x),y:t(a.y,n.y)};return wd(o,xi)?null:o}}(),_ye=function(e){var r=e.max,n=e.current,i=e.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=B8t(i),s=EV({max:a,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},AV=function(e,r){return _ye({current:e.scroll.current,max:e.scroll.max,change:r})},V8t=function(e,r){if(!AV(e,r))return null;var n=e.scroll.max,i=e.scroll.current;return EV({current:i,max:n,change:r})},CV=function(e,r){var n=e.frame;return n?_ye({current:n.scroll.current,max:n.scroll.max,change:r}):!1},z8t=function(e,r){var n=e.frame;return!n||!CV(e,r)?null:EV({current:n.scroll.current,max:n.scroll.max,change:r})},U8t=function(t){var e=t.viewport,r=t.subject,n=t.center,i=t.dragStartTime,a=t.shouldUseTimeDampening,o=Pye({dragStartTime:i,container:e.frame,subject:r,center:n,shouldUseTimeDampening:a});return o&&AV(e,o)?o:null},q8t=function(t){var e=t.droppable,r=t.subject,n=t.center,i=t.dragStartTime,a=t.shouldUseTimeDampening,o=e.frame;if(!o)return null;var s=Pye({dragStartTime:i,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return s&&CV(e,s)?s:null},JQ=function(t){var e=t.state,r=t.dragStartTime,n=t.shouldUseTimeDampening,i=t.scrollWindow,a=t.scrollDroppable,o=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id],l=s.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,c=U8t({dragStartTime:r,viewport:u,subject:l,center:o,shouldUseTimeDampening:n});if(c){i(c);return}}var d=R8t({center:o,destination:Po(e.impact),droppables:e.dimensions.droppables});if(d){var f=q8t({dragStartTime:r,droppable:d,subject:l,center:o,shouldUseTimeDampening:n});f&&a(d.descriptor.id,f)}},G8t=function(t){var e=t.scrollWindow,r=t.scrollDroppable,n=Mb(e),i=Mb(r),a=null,o=function(c){a||Be();var d=a,f=d.shouldUseTimeDampening,p=d.dragStartTime;JQ({state:c,scrollWindow:n,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:f})},s=function(c){a&&Be();var d=Date.now(),f=!1,p=function(){f=!0};JQ({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),a={dragStartTime:d,shouldUseTimeDampening:f},f&&o(c)},l=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:s,stop:l,scroll:o}},W8t=function(t){var e=t.move,r=t.scrollDroppable,n=t.scrollWindow,i=function(u,c){var d=Ri(u.current.client.selection,c);e({client:d})},a=function(u,c){if(!CV(u,c))return c;var d=z8t(u,c);if(!d)return r(u.descriptor.id,c),null;var f=xo(c,d);r(u.descriptor.id,f);var p=xo(c,f);return p},o=function(u,c,d){if(!u||!AV(c,d))return d;var f=V8t(c,d);if(!f)return n(d),null;var p=xo(d,f);n(p);var v=xo(d,p);return v},s=function(u){var c=u.scrollJumpRequest;if(c){var d=Po(u.impact);d||Be();var f=a(u.dimensions.droppables[d],c);if(f){var p=u.viewport,v=o(u.isWindowScrollAllowed,p,f);v&&i(u,v)}}};return s},H8t=function(t){var e=t.scrollDroppable,r=t.scrollWindow,n=t.move,i=G8t({scrollWindow:r,scrollDroppable:e}),a=W8t({move:n,scrollWindow:r,scrollDroppable:e}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},s={scroll:o,start:i.start,stop:i.stop};return s},Jg="data-rbd",Zg=function(){var t=Jg+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),s$=function(){var t=Jg+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Y8t=function(){var t=Jg+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),ZQ={contextId:Jg+"-scroll-container-context-id"},X8t=function(e){return function(r){return"["+r+'="'+e+'"]'}},Xy=function(e,r){return e.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},K8t="pointer-events: none;",Q8t=function(t){var e=X8t(t),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Zg.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:K8t,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+nx.outOfTheWay+`;
    `;return{selector:e(s$.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),i={selector:e(Y8t.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,i,a];return{always:Xy(o,"always"),resting:Xy(o,"resting"),dragging:Xy(o,"dragging"),dropAnimating:Xy(o,"dropAnimating"),userCancel:Xy(o,"userCancel")}},_o=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect,F2=function(){var e=document.querySelector("head");return e||Be(),e},eJ=function(e){var r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.type="text/css",r};function J8t(t,e){var r=fr(function(){return Q8t(t)},[t]),n=j.useRef(null),i=j.useRef(null),a=at(mi(function(d){var f=i.current;f||Be(),f.textContent=d}),[]),o=at(function(d){var f=n.current;f||Be(),f.textContent=d},[]);_o(function(){!n.current&&!i.current||Be();var d=eJ(e),f=eJ(e);return n.current=d,i.current=f,d.setAttribute(Jg+"-always",t),f.setAttribute(Jg+"-dynamic",t),F2().appendChild(d),F2().appendChild(f),o(r.always),a(r.resting),function(){var p=function(g){var m=g.current;m||Be(),F2().removeChild(m),g.current=null};p(n),p(i)}},[e,o,a,r.always,r.resting,t]);var s=at(function(){return a(r.dragging)},[a,r.dragging]),l=at(function(d){if(d==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=at(function(){i.current&&a(r.resting)},[a,r.resting]),c=fr(function(){return{dragging:s,dropping:l,resting:u}},[s,l,u]);return c}var Oye=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function BO(t){return t instanceof Oye(t).HTMLElement}function Z8t(t,e){var r="["+Zg.contextId+'="'+t+'"]',n=Jme(document.querySelectorAll(r));if(!n.length)return null;var i=uf(n,function(a){return a.getAttribute(Zg.draggableId)===e});return!i||!BO(i)?null:i}function eGt(t){var e=j.useRef({}),r=j.useRef(null),n=j.useRef(null),i=j.useRef(!1),a=at(function(f,p){var v={id:f,focus:p};return e.current[f]=v,function(){var m=e.current,y=m[f];y!==v&&delete m[f]}},[]),o=at(function(f){var p=Z8t(t,f);p&&p!==document.activeElement&&p.focus()},[t]),s=at(function(f,p){r.current===f&&(r.current=p)},[]),l=at(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var f=r.current;f&&o(f)}))},[o]),u=at(function(f){r.current=null;var p=document.activeElement;p&&p.getAttribute(Zg.draggableId)===f&&(r.current=f)},[]);_o(function(){return i.current=!0,function(){i.current=!1;var f=n.current;f&&cancelAnimationFrame(f)}},[]);var c=fr(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:s}},[a,u,l,s]);return c}function tGt(){var t={draggables:{},droppables:{}},e=[];function r(d){return e.push(d),function(){var p=e.indexOf(d);p!==-1&&e.splice(p,1)}}function n(d){e.length&&e.forEach(function(f){return f(d)})}function i(d){return t.draggables[d]||null}function a(d){var f=i(d);return f||Be(),f}var o={register:function(f){t.draggables[f.descriptor.id]=f,n({type:"ADDITION",value:f})},update:function(f,p){var v=t.draggables[p.descriptor.id];v&&v.uniqueId===f.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var p=f.descriptor.id,v=i(p);v&&f.uniqueId===v.uniqueId&&(delete t.draggables[p],n({type:"REMOVAL",value:f}))},getById:a,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return UT(t.draggables).filter(function(p){return p.descriptor.type===f})}};function s(d){return t.droppables[d]||null}function l(d){var f=s(d);return f||Be(),f}var u={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var p=s(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:s,exists:function(f){return!!s(f)},getAllByType:function(f){return UT(t.droppables).filter(function(p){return p.descriptor.type===f})}};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:r,clean:c}}function rGt(){var t=fr(tGt,[]);return j.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var TV=I.createContext(null),GT=function(){var t=document.body;return t||Be(),t},nGt={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},iGt=function(e){return"rbd-announcement-"+e};function aGt(t){var e=fr(function(){return iGt(t)},[t]),r=j.useRef(null);j.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=e,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),xt(a.style,nGt),GT().appendChild(a),function(){setTimeout(function(){var l=GT();l.contains(a)&&l.removeChild(a),a===r.current&&(r.current=null)})}},[e]);var n=at(function(i){var a=r.current;if(a){a.textContent=i;return}},[]);return n}var oGt=0,sGt={separator:"::"};function IV(t,e){return e===void 0&&(e=sGt),fr(function(){return""+t+e.separator+oGt++},[e.separator,t])}function lGt(t){var e=t.contextId,r=t.uniqueId;return"rbd-hidden-text-"+e+"-"+r}function uGt(t){var e=t.contextId,r=t.text,n=IV("hidden-text",{separator:"-"}),i=fr(function(){return lGt({contextId:e,uniqueId:n})},[n,e]);return j.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=r,o.style.display="none",GT().appendChild(o),function(){var l=GT();l.contains(o)&&l.removeChild(o)}},[i,r]),i}var VO=I.createContext(null);function kye(t){var e=j.useRef(t);return j.useEffect(function(){e.current=t}),e}function cGt(){var t=null;function e(){return!!t}function r(o){return o===t}function n(o){t&&Be();var s={abandon:o};return t=s,s}function i(){t||Be(),t=null}function a(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:r,claim:n,release:i,tryAbandon:a}}var dGt=9,fGt=13,PV=27,Dye=32,hGt=33,pGt=34,vGt=35,gGt=36,mGt=37,yGt=38,xGt=39,bGt=40,mE,wGt=(mE={},mE[fGt]=!0,mE[dGt]=!0,mE),Mye=function(t){wGt[t.keyCode]&&t.preventDefault()},zO=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],r=uf(e,function(n){return"on"+n in document});return r||t}(),Rye=0,tJ=5;function SGt(t,e){return Math.abs(e.x-t.x)>=tJ||Math.abs(e.y-t.y)>=tJ}var rJ={type:"IDLE"};function EGt(t){var e=t.cancel,r=t.completed,n=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,l=o.clientX,u=o.clientY;if(s===Rye){var c={x:l,y:u},d=n();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&Be();var f=d.point;if(SGt(f,c)){o.preventDefault();var p=d.actions.fluidLift(c);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){e();return}if(o.keyCode===PV){o.preventDefault(),e();return}Mye(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&Be(),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:zO,fn:e}]}function AGt(t){var e=j.useRef(rJ),r=j.useRef(bd),n=fr(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===Rye&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(f){var p=t.tryGetLock(f,o,{sourceEvent:d});if(p){d.preventDefault();var v={x:d.clientX,y:d.clientY};r.current(),u(p,v)}}}}}},[t]),i=fr(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(f){var p=t.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}}}},[t]),a=at(function(){var d={passive:!1,capture:!0};r.current=ts(window,[i,n],d)},[i,n]),o=at(function(){var c=e.current;c.type!=="IDLE"&&(e.current=rJ,r.current(),a())},[a]),s=at(function(){var c=e.current;o(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[o]),l=at(function(){var d={capture:!0,passive:!1},f=EGt({cancel:s,completed:o,getPhase:function(){return e.current},setPhase:function(v){e.current=v}});r.current=ts(window,f,d)},[s,o]),u=at(function(d,f){e.current.type!=="IDLE"&&Be(),e.current={type:"PENDING",point:f,actions:d},l()},[l]);_o(function(){return a(),function(){r.current()}},[a])}var nv;function CGt(){}var TGt=(nv={},nv[pGt]=!0,nv[hGt]=!0,nv[gGt]=!0,nv[vGt]=!0,nv);function IGt(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===PV){a.preventDefault(),r();return}if(a.keyCode===Dye){a.preventDefault(),n();return}if(a.keyCode===bGt){a.preventDefault(),t.moveDown();return}if(a.keyCode===yGt){a.preventDefault(),t.moveUp();return}if(a.keyCode===xGt){a.preventDefault(),t.moveRight();return}if(a.keyCode===mGt){a.preventDefault(),t.moveLeft();return}if(TGt[a.keyCode]){a.preventDefault();return}Mye(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:zO,fn:r}]}function PGt(t){var e=j.useRef(CGt),r=fr(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Dye)return;var o=t.findClosestDraggableId(a);if(!o)return;var s=t.tryGetLock(o,c,{sourceEvent:a});if(!s)return;a.preventDefault();var l=!0,u=s.snapLift();e.current();function c(){l||Be(),l=!1,e.current(),n()}e.current=ts(window,IGt(u,c),{capture:!0,passive:!1})}}},[t]),n=at(function(){var a={passive:!1,capture:!0};e.current=ts(window,[r],a)},[r]);_o(function(){return n(),function(){e.current()}},[n])}var L2={type:"IDLE"},_Gt=120,OGt=.15;function kGt(t){var e=t.cancel,r=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){e();return}i.keyCode===PV&&i.preventDefault(),e()}},{eventName:zO,fn:e}]}function DGt(t){var e=t.cancel,r=t.completed,n=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;var s=a.touches[0],l=s.clientX,u=s.clientY,c={x:l,y:u};a.preventDefault(),o.actions.move(c)}},{eventName:"touchend",fn:function(a){var o=n();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(a){var o=n();o.type==="IDLE"&&Be();var s=a.touches[0];if(s){var l=s.force>=OGt;if(l){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&e();return}if(u){if(o.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}}}},{eventName:zO,fn:e}]}function MGt(t){var e=j.useRef(L2),r=j.useRef(bd),n=at(function(){return e.current},[]),i=at(function(p){e.current=p},[]),a=fr(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var v=t.findClosestDraggableId(p);if(v){var g=t.tryGetLock(v,s,{sourceEvent:p});if(g){var m=p.touches[0],y=m.clientX,x=m.clientY,b={x:y,y:x};r.current(),d(g,b)}}}}}},[t]),o=at(function(){var p={capture:!0,passive:!1};r.current=ts(window,[a],p)},[a]),s=at(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(L2),r.current(),o())},[o,i]),l=at(function(){var f=e.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),u=at(function(){var p={capture:!0,passive:!1},v={cancel:l,completed:s,getPhase:n},g=ts(window,DGt(v),p),m=ts(window,kGt(v),p);r.current=function(){g(),m()}},[l,n,s]),c=at(function(){var p=n();p.type!=="PENDING"&&Be();var v=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[n,i]),d=at(function(p,v){n().type!=="IDLE"&&Be();var g=setTimeout(c,_Gt);i({type:"PENDING",point:v,actions:p,longPressTimerId:g}),u()},[u,n,i,c]);_o(function(){return o(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(L2))}},[n,o,i]),_o(function(){var p=ts(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var RGt={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function jye(t,e){if(e==null)return!1;var r=!!RGt[e.tagName.toLowerCase()];if(r)return!0;var n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:jye(t,e.parentElement)}function jGt(t,e){var r=e.target;return BO(r)?jye(t,r):!1}var FGt=function(t){return Ns(t.getBoundingClientRect()).center};function LGt(t){return t instanceof Oye(t).Element}var $Gt=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],r=uf(e,function(n){return n in Element.prototype});return r||t}();function Fye(t,e){return t==null?null:t[$Gt](e)?t:Fye(t.parentElement,e)}function NGt(t,e){return t.closest?t.closest(e):Fye(t,e)}function BGt(t){return"["+Zg.contextId+'="'+t+'"]'}function VGt(t,e){var r=e.target;if(!LGt(r))return null;var n=BGt(t),i=NGt(r,n);return!i||!BO(i)?null:i}function zGt(t,e){var r=VGt(t,e);return r?r.getAttribute(Zg.draggableId):null}function UGt(t,e){var r="["+s$.contextId+'="'+t+'"]',n=Jme(document.querySelectorAll(r)),i=uf(n,function(a){return a.getAttribute(s$.id)===e});return!i||!BO(i)?null:i}function qGt(t){t.preventDefault()}function yE(t){var e=t.expected,r=t.phase,n=t.isLockActive;return t.shouldWarn,!(!n()||e!==r)}function Lye(t){var e=t.lockAPI,r=t.store,n=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!Tye(r.getState(),i))}function GGt(t){var e=t.lockAPI,r=t.contextId,n=t.store,i=t.registry,a=t.draggableId,o=t.forceSensorStop,s=t.sourceEvent,l=Lye({lockAPI:e,store:n,registry:i,draggableId:a});if(!l)return null;var u=i.draggable.getById(a),c=UGt(r,u.descriptor.id);if(!c||s&&!u.options.canDragInteractiveElements&&jGt(c,s))return null;var d=e.claim(o||bd),f="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function v(){return e.isActive(d)}function g(C,E){yE({expected:C,phase:f,isLockActive:v,shouldWarn:!0})&&n.dispatch(E())}var m=g.bind(null,"DRAGGING");function y(C){function E(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(E(),f!=="PRE_DRAG"&&Be()),n.dispatch($qt(C.liftActionArgs)),f="DRAGGING";function A(P,_){if(_===void 0&&(_={shouldBlockNextClick:!1}),C.cleanup(),_.shouldBlockNextClick){var k=ts(window,[{eventName:"click",fn:qGt,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}E(),n.dispatch(xye({reason:P}))}return xt({isActive:function(){return yE({expected:"DRAGGING",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(_){return A("DROP",_)},cancel:function(_){return A("CANCEL",_)}},C.actions)}function x(C){var E=Mb(function(P){m(function(){return yye({client:P})})}),A=y({liftActionArgs:{id:a,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return xt({},A,{move:E})}function b(){var C={moveUp:function(){return m(Hqt)},moveRight:function(){return m(Xqt)},moveDown:function(){return m(Yqt)},moveLeft:function(){return m(Kqt)}};return y({liftActionArgs:{id:a,clientSelection:FGt(c),movementMode:"SNAP"},cleanup:bd,actions:C})}function w(){var C=yE({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!0});C&&e.release()}var S={isActive:function(){return yE({expected:"PRE_DRAG",phase:f,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:x,snapLift:b,abort:w};return S}var WGt=[AGt,PGt,MGt];function HGt(t){var e=t.contextId,r=t.store,n=t.registry,i=t.customSensors,a=t.enableDefaultSensors,o=[].concat(a?WGt:[],i||[]),s=j.useState(function(){return cGt()})[0],l=at(function(x,b){x.isDragging&&!b.isDragging&&s.tryAbandon()},[s]);_o(function(){var x=r.getState(),b=r.subscribe(function(){var w=r.getState();l(x,w),x=w});return b},[s,r,l]),_o(function(){return s.tryAbandon},[s.tryAbandon]);for(var u=at(function(y){return Lye({lockAPI:s,registry:n,store:r,draggableId:y})},[s,n,r]),c=at(function(y,x,b){return GGt({lockAPI:s,registry:n,contextId:e,store:r,draggableId:y,forceSensorStop:x,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[e,s,n,r]),d=at(function(y){return zGt(e,y)},[e]),f=at(function(y){var x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),p=at(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(yV()))},[s,r]),v=at(s.isClaimed,[s]),g=fr(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:v}},[u,c,d,f,p,v]),m=0;m<o.length;m++)o[m](g)}var YGt=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Ky(t){return t.current||Be(),t.current}function XGt(t){var e=t.contextId,r=t.setCallbacks,n=t.sensors,i=t.nonce,a=t.dragHandleUsageInstructions,o=j.useRef(null),s=kye(t),l=at(function(){return YGt(s.current)},[s]),u=aGt(e),c=uGt({contextId:e,text:a}),d=J8t(e,i),f=at(function(P){Ky(o).dispatch(P)},[]),p=fr(function(){return CQ({publishWhileDragging:Bqt,updateDroppableScroll:zqt,updateDroppableIsEnabled:Uqt,updateDroppableIsCombineEnabled:qqt,collectionStarting:Vqt},f)},[f]),v=rGt(),g=fr(function(){return O8t(v,p)},[v,p]),m=fr(function(){return H8t(xt({scrollWindow:k8t,scrollDroppable:g.scrollDroppable},CQ({move:yye},f)))},[g.scrollDroppable,f]),y=eGt(e),x=fr(function(){return T8t({announce:u,autoScroller:m,dimensionMarshal:g,focusMarshal:y,getResponders:l,styleMarshal:d})},[u,m,g,y,l,d]);o.current=x;var b=at(function(){var P=Ky(o),_=P.getState();_.phase!=="IDLE"&&P.dispatch(yV())},[]),w=at(function(){var P=Ky(o).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),S=fr(function(){return{isDragging:w,tryAbort:b}},[w,b]);r(S);var C=at(function(P){return Tye(Ky(o).getState(),P)},[]),E=at(function(){return Lf(Ky(o).getState())},[]),A=fr(function(){return{marshal:g,focus:y,contextId:e,canLift:C,isMovementAllowed:E,dragHandleUsageInstructionsId:c,registry:v}},[e,g,c,y,C,E,v]);return HGt({contextId:e,store:x,registry:v,customSensors:n,enableDefaultSensors:t.enableDefaultSensors!==!1}),j.useEffect(function(){return b},[b]),I.createElement(VO.Provider,{value:A},I.createElement(x6t,{context:TV,store:x},t.children))}var KGt=0;function QGt(){return fr(function(){return""+KGt++},[])}function JGt(t){var e=QGt(),r=t.dragHandleUsageInstructions||yA.dragHandleUsageInstructions;return I.createElement(PUt,null,function(n){return I.createElement(XGt,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var $ye=function(e){return function(r){return e===r}},ZGt=$ye("scroll"),eWt=$ye("auto"),nJ=function(e,r){return r(e.overflowX)||r(e.overflowY)},tWt=function(e){var r=window.getComputedStyle(e),n={overflowX:r.overflowX,overflowY:r.overflowY};return nJ(n,ZGt)||nJ(n,eWt)},rWt=function(){return!1},nWt=function t(e){return e==null?null:e===document.body?rWt()?e:null:e===document.documentElement?null:tWt(e)?e:t(e.parentElement)},l$=function(t){return{x:t.scrollLeft,y:t.scrollTop}},iWt=function t(e){if(!e)return!1;var r=window.getComputedStyle(e);return r.position==="fixed"?!0:t(e.parentElement)},aWt=function(t){var e=nWt(t),r=iWt(t);return{closestScrollable:e,isFixedOnPage:r}},oWt=function(t){var e=t.descriptor,r=t.isEnabled,n=t.isCombineEnabled,i=t.isFixedOnPage,a=t.direction,o=t.client,s=t.page,l=t.closest,u=function(){if(!l)return null;var p=l.scrollSize,v=l.client,g=Eye({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:v,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:g,diff:{value:xi,displacement:xi}}}}(),c=a==="vertical"?hV:nye,d=Qg({page:s,withPlaceholder:null,axis:c,frame:u}),f={descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:c,isEnabled:r,client:o,page:s,frame:u,subject:d};return f},sWt=function(e,r){var n=Hme(e);if(!r||e!==r)return n;var i=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,o=i+r.scrollHeight,s=a+r.scrollWidth,l={top:i,right:s,bottom:o,left:a},u=lV(l,n.border),c=uV({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return c},lWt=function(t){var e=t.ref,r=t.descriptor,n=t.env,i=t.windowScroll,a=t.direction,o=t.isDropDisabled,s=t.isCombineEnabled,l=t.shouldClipSubject,u=n.closestScrollable,c=sWt(e,u),d=BT(c,i),f=function(){if(!u)return null;var v=Hme(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:BT(v,i),scroll:l$(u),scrollSize:g,shouldClipSubject:l}}(),p=oWt({descriptor:r,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:c,page:d,closest:f});return p},uWt={passive:!1},cWt={passive:!0},iJ=function(t){return t.shouldPublishImmediately?uWt:cWt};function WT(t){var e=j.useContext(t);return e||Be(),e}var xE=function(e){return e&&e.env.closestScrollable||null};function dWt(t){var e=j.useRef(null),r=WT(VO),n=IV("droppable"),i=r.registry,a=r.marshal,o=kye(t),s=fr(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=j.useRef(s),u=fr(function(){return mi(function(w,S){e.current||Be();var C={x:w,y:S};a.updateDroppableScroll(s.id,C)})},[s.id,a]),c=at(function(){var w=e.current;return!w||!w.env.closestScrollable?xi:l$(w.env.closestScrollable)},[]),d=at(function(){var w=c();u(w.x,w.y)},[c,u]),f=fr(function(){return Mb(d)},[d]),p=at(function(){var w=e.current,S=xE(w);w&&S||Be();var C=w.scrollOptions;if(C.shouldPublishImmediately){d();return}f()},[f,d]),v=at(function(w,S){e.current&&Be();var C=o.current,E=C.getDroppableRef();E||Be();var A=aWt(E),P={ref:E,descriptor:s,env:A,scrollOptions:S};e.current=P;var _=lWt({ref:E,descriptor:s,env:A,windowScroll:w,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),k=A.closestScrollable;return k&&(k.setAttribute(ZQ.contextId,r.contextId),k.addEventListener("scroll",p,iJ(P.scrollOptions))),_},[r.contextId,s,p,o]),g=at(function(){var w=e.current,S=xE(w);return w&&S||Be(),l$(S)},[]),m=at(function(){var w=e.current;w||Be();var S=xE(w);e.current=null,S&&(f.cancel(),S.removeAttribute(ZQ.contextId),S.removeEventListener("scroll",p,iJ(w.scrollOptions)))},[p,f]),y=at(function(w){var S=e.current;S||Be();var C=xE(S);C||Be(),C.scrollTop+=w.y,C.scrollLeft+=w.x},[]),x=fr(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:g,dragStopped:m,scroll:y}},[m,v,g,y]),b=fr(function(){return{uniqueId:n,descriptor:s,callbacks:x}},[x,s,n]);_o(function(){return l.current=b.descriptor,i.droppable.register(b),function(){e.current&&m(),i.droppable.unregister(b)}},[x,s,m,b,a,i.droppable]),_o(function(){e.current&&a.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,a]),_o(function(){e.current&&a.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,a])}function $2(){}var aJ={width:0,height:0,margin:RUt},fWt=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate;return r||i==="close"?aJ:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},hWt=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate,a=fWt({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?nx.placeholder:null}};function pWt(t){var e=j.useRef(null),r=at(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),n=t.animate,i=t.onTransitionEnd,a=t.onClose,o=t.contextId,s=j.useState(t.animate==="open"),l=s[0],u=s[1];j.useEffect(function(){return l?n!=="open"?(r(),u(!1),$2):e.current?$2:(e.current=setTimeout(function(){e.current=null,u(!1)}),r):$2},[n,l,r]);var c=at(function(f){f.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),d=hWt({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return I.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":o,onTransitionEnd:c,ref:t.innerRef})}var vWt=I.memo(pWt),_V=I.createContext(null),gWt=function(t){Ige(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}e.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=e.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(I.PureComponent),oJ={dragging:5e3,dropAnimating:4500},mWt=function(e,r){return r?nx.drop(r.duration):e?nx.snap:nx.fluid},yWt=function(e,r){return e?r?Lb.opacity.drop:Lb.opacity.combining:null},xWt=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function bWt(t){var e=t.dimension,r=e.client,n=t.offset,i=t.combineWith,a=t.dropping,o=!!i,s=xWt(t),l=!!a,u=l?a$.drop(n,o):a$.moveTo(n),c={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:mWt(s,a),transform:u,opacity:yWt(o,l),zIndex:l?oJ.dropAnimating:oJ.dragging,pointerEvents:"none"};return c}function wWt(t){return{transform:a$.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function SWt(t){return t.type==="DRAGGING"?bWt(t):wWt(t)}function EWt(t,e,r){r===void 0&&(r=xi);var n=window.getComputedStyle(e),i=e.getBoundingClientRect(),a=Wme(i,n),o=BT(a,r),s={client:a,tagName:e.tagName.toLowerCase(),display:n.display},l={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:t,placeholder:s,displaceBy:l,client:a,page:o};return u}function AWt(t){var e=IV("draggable"),r=t.descriptor,n=t.registry,i=t.getDraggableRef,a=t.canDragInteractiveElements,o=t.shouldRespectForcePress,s=t.isEnabled,l=fr(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:s}},[a,s,o]),u=at(function(p){var v=i();return v||Be(),EWt(r,v,p)},[r,i]),c=fr(function(){return{uniqueId:e,descriptor:r,options:l,getDimension:u}},[r,u,l,e]),d=j.useRef(c),f=j.useRef(!0);_o(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),_o(function(){if(f.current){f.current=!1;return}var p=d.current;d.current=c,n.draggable.update(c,p)},[c,n.draggable])}function CWt(t){t.preventDefault()}function TWt(t){var e=j.useRef(null),r=at(function(P){e.current=P},[]),n=at(function(){return e.current},[]),i=WT(VO),a=i.contextId,o=i.dragHandleUsageInstructionsId,s=i.registry,l=WT(_V),u=l.type,c=l.droppableId,d=fr(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:c}},[t.draggableId,t.index,u,c]),f=t.children,p=t.draggableId,v=t.isEnabled,g=t.shouldRespectForcePress,m=t.canDragInteractiveElements,y=t.isClone,x=t.mapped,b=t.dropAnimationFinished;if(!y){var w=fr(function(){return{descriptor:d,registry:s,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:v}},[d,s,n,m,g,v]);AWt(w)}var S=fr(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:CWt}:null},[a,o,p,v]),C=at(function(P){x.type==="DRAGGING"&&x.dropping&&P.propertyName==="transform"&&b()},[b,x]),E=fr(function(){var P=SWt(x),_=x.type==="DRAGGING"&&x.dropping?C:null,k={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:P,onTransitionEnd:_},dragHandleProps:S};return k},[a,S,p,x,C,r]),A=fr(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(E,x.snapshot,A)}var Nye=function(t,e){return t===e},Bye=function(t){var e=t.combine,r=t.destination;return r?r.droppableId:e?e.droppableId:null},IWt=function(e){return e.combine?e.combine.draggableId:null},PWt=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function _Wt(){var t=mi(function(i,a){return{x:i,y:a}}),e=mi(function(i,a,o,s,l){return{isDragging:!0,isClone:a,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:s,combineTargetFor:null}}),r=mi(function(i,a,o,s,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:a,offset:i,dimension:o,forceShouldAnimate:c,snapshot:e(a,s,l,u,null)}}}),n=function(a,o){if(a.isDragging){if(a.critical.draggable.id!==o.draggableId)return null;var s=a.current.client.offset,l=a.dimensions.draggables[o.draggableId],u=Po(a.impact),c=PWt(a.impact),d=a.forceShouldAnimate;return r(t(s.x,s.y),a.movementMode,l,o.isClone,u,c,d)}if(a.phase==="DROP_ANIMATING"){var f=a.completed;if(f.result.draggableId!==o.draggableId)return null;var p=o.isClone,v=a.dimensions.draggables[o.draggableId],g=f.result,m=g.mode,y=Bye(g),x=IWt(g),b=a.dropDuration,w={duration:b,curve:bV.drop,moveTo:a.newHomeClientOffset,opacity:x?Lb.opacity.drop:null,scale:x?Lb.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:v,dropping:w,draggingOver:y,combineWith:x,mode:m,forceShouldAnimate:null,snapshot:e(m,p,y,x,w)}}}return null};return n}function Vye(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var OWt={mapped:{type:"SECONDARY",offset:xi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Vye(null)}};function kWt(){var t=mi(function(o,s){return{x:o,y:s}}),e=mi(Vye),r=mi(function(o,s,l){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:l,snapshot:e(s)}}}),n=function(s){return s?r(xi,s,!0):null},i=function(s,l,u,c){var d=u.displaced.visible[s],f=!!(c.inVirtualList&&c.effected[s]),p=LO(u),v=p&&p.draggableId===s?l:null;if(!d){if(!f)return n(v);if(u.displaced.invisible[s])return null;var g=Km(c.displacedBy.point),m=t(g.x,g.y);return r(m,v,!0)}if(f)return n(v);var y=u.displacedBy.point,x=t(y.x,y.y);return r(x,v,d.shouldAnimate)},a=function(s,l){if(s.isDragging)return s.critical.draggable.id===l.draggableId?null:i(l.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var u=s.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var DWt=function(){var e=_Wt(),r=kWt(),n=function(a,o){return e(a,o)||r(a,o)||OWt};return n},MWt={dropAnimationFinished:bye},RWt=qme(DWt,MWt,null,{context:TV,pure:!0,areStatePropsEqual:Nye})(TWt);function zye(t){var e=WT(_V),r=e.isUsingCloneFor;return r===t.draggableId&&!t.isClone?null:I.createElement(RWt,t)}function jWt(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return I.createElement(zye,xt({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function FWt(t){var e=j.useContext(VO);e||Be();var r=e.contextId,n=e.isMovementAllowed,i=j.useRef(null),a=j.useRef(null),o=t.children,s=t.droppableId,l=t.type,u=t.mode,c=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,p=t.isCombineEnabled,v=t.snapshot,g=t.useClone,m=t.updateViewportMaxScroll,y=t.getContainerForClone,x=at(function(){return i.current},[]),b=at(function(k){i.current=k},[]);at(function(){return a.current},[]);var w=at(function(k){a.current=k},[]),S=at(function(){n()&&m({maxScroll:Cye()})},[n,m]);dWt({droppableId:s,type:l,mode:u,direction:c,isDropDisabled:f,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:x});var C=I.createElement(gWt,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(k){var O=k.onClose,D=k.data,B=k.animate;return I.createElement(vWt,{placeholder:D,onClose:O,innerRef:w,animate:B,contextId:r,onTransitionEnd:S})}),E=fr(function(){return{innerRef:b,placeholder:C,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,C,b]),A=g?g.dragging.draggableId:null,P=fr(function(){return{droppableId:s,type:l,isUsingCloneFor:A}},[s,A,l]);function _(){if(!g)return null;var k=g.dragging,O=g.render,D=I.createElement(zye,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(B,$){return O(B,$,k)});return Bxe.createPortal(D,y())}return I.createElement(_V.Provider,{value:P},o(E,v),_())}var N2=function(e,r){return e===r.droppable.type},sJ=function(e,r){return r.draggables[e.draggable.id]},LWt=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=xt({},e,{shouldAnimatePlaceholder:!1}),n=mi(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=mi(function(o,s,l,u,c,d){var f=c.descriptor.id,p=c.descriptor.droppableId===o;if(p){var v=d?{render:d,dragging:n(c.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:v}}if(!s)return r;if(!u)return e;var m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}),a=function(s,l){var u=l.droppableId,c=l.type,d=!l.isDropDisabled,f=l.renderClone;if(s.isDragging){var p=s.critical;if(!N2(c,p))return r;var v=sJ(p,s.dimensions),g=Po(s.impact)===u;return i(u,d,g,g,v,f)}if(s.phase==="DROP_ANIMATING"){var m=s.completed;if(!N2(c,m.critical))return r;var y=sJ(m.critical,s.dimensions);return i(u,d,Bye(m.result)===u,Po(m.impact)===u,y,f)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var x=s.completed;if(!N2(c,x.critical))return r;var b=Po(x.impact)===u,w=!!(x.impact.at&&x.impact.at.type==="COMBINE"),S=x.critical.droppable.id===u;return b?w?e:r:S?e:r}return r};return a},$Wt={updateViewportMaxScroll:Wqt};function NWt(){return document.body||Be(),document.body}var BWt={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:NWt},Uye=qme(LWt,$Wt,null,{context:TV,pure:!0,areStatePropsEqual:Nye})(FWt);Uye.defaultProps=BWt;const{Title:bE,Text:Tf}=rt,{Option:wE}=He,{Panel:VWt}=qb,{TabPane:lJ}=Ft,uJ=[{value:"text",label:"Text Field"},{value:"textarea",label:"Text Area"},{value:"number",label:"Number"},{value:"email",label:"Email"},{value:"select",label:"Dropdown"},{value:"checkbox",label:"Checkbox"},{value:"radio",label:"Radio Group"},{value:"date",label:"Date Picker"},{value:"file",label:"File Upload"},{value:"heading",label:"Section Heading"}],zWt=["Application Form","Compliance Checklist","Progress Report","Feedback Form","Evaluation Form","Due Diligence","Mentorship Request","Resource Request","Other"],UWt=()=>Math.random().toString(36).substring(2,9),cJ=()=>{const[t]=ce.useForm(),[e]=ce.useForm(),[r,n]=j.useState({title:"",description:"",fields:[],status:"draft",category:"Application Form",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),[i,a]=j.useState(null),[o,s]=j.useState(!1),[l,u]=j.useState(!1),[c,d]=j.useState([]),[f,p]=j.useState([]),[v,g]=j.useState(!1),[m,y]=j.useState(!1),[x,b]=j.useState(null),[w,S]=j.useState("builder"),C=()=>{const M={id:UWt(),type:"text",label:"New Field",placeholder:"Enter text here",required:!1};n({...r,fields:[...r.fields,M]}),a(M.id),d([M.id])},E=(M,G)=>{n({...r,fields:r.fields.map(W=>W.id===M?{...W,...G}:W)})},A=M=>{n({...r,fields:r.fields.filter(G=>G.id!==M)}),i===M&&a(null)},P=(M,G)=>{const W={type:G};(G==="select"||G==="radio"||G==="checkbox")&&(W.options=["Option 1","Option 2","Option 3"]),E(M,W)},_=(M,G)=>{const W=[...r.fields],J=W.findIndex(te=>te.id===M);G==="up"&&J>0?[W[J],W[J-1]]=[W[J-1],W[J]]:G==="down"&&J<W.length-1&&([W[J],W[J+1]]=[W[J+1],W[J]]),n({...r,fields:W})},k=M=>{if(!M.destination)return;const G=[...r.fields],[W]=G.splice(M.source.index,1);G.splice(M.destination.index,0,W),n({...r,fields:G})},O=async()=>{try{if(g(!0),!r.title.trim()){_e.error("Please give your form a title"),g(!1);return}if(r.fields.length===0){_e.error("Your form must have at least one field"),g(!1);return}const M={...r,updatedAt:new Date().toISOString()};if(x)await Dh(Un(Dt,"formTemplates",x),M),_e.success("Form template updated successfully");else{const G=await Yf(dn(Dt,"formTemplates"),M);b(G.id),_e.success("Form template saved successfully")}B()}catch(M){console.error("Error saving form template:",M),_e.error("Failed to save form template")}finally{g(!1)}},D=async()=>{try{if(g(!0),!r.title.trim()){_e.error("Please give your form a title before publishing"),g(!1);return}if(r.fields.length===0){_e.error("Your form must have at least one field"),g(!1);return}const M={...r,status:"published",updatedAt:new Date().toISOString()};if(x)await Dh(Un(Dt,"formTemplates",x),M);else{const G=await Yf(dn(Dt,"formTemplates"),M);b(G.id)}n(M),_e.success("Form published successfully"),B()}catch(M){console.error("Error publishing form:",M),_e.error("Failed to publish form")}finally{g(!1)}},B=async()=>{try{y(!0);const M=dn(Dt,"formTemplates"),G=await za(M),W=[];G.forEach(J=>{W.push({id:J.id,...J.data()})}),p(W)}catch(M){console.error("Error fetching templates:",M),_e.error("Failed to load form templates")}finally{y(!1)}},$=async M=>{try{y(!0);const G=Un(Dt,"formTemplates",M),W=await Md(G);if(W.exists()){const J=W.data();n({...J,id:M}),b(M),S("builder")}else _e.error("Template not found")}catch(G){console.error("Error loading template:",G),_e.error("Failed to load template")}finally{y(!1)}},L=()=>{n({title:"",description:"",fields:[],status:"draft",category:"Application Form",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),b(null),a(null),d([]),S("builder")},R=M=>{var G;return h.jsx("div",{style:{padding:"16px"},children:h.jsxs(ce,{layout:"vertical",children:[h.jsx(ce.Item,{label:"Field Type",children:h.jsx(He,{value:M.type,onChange:W=>P(M.id,W),children:uJ.map(W=>h.jsx(wE,{value:W.value,children:W.label},W.value))})}),h.jsx(ce.Item,{label:"Label",children:h.jsx(Ve,{value:M.label,onChange:W=>E(M.id,{label:W.target.value})})}),M.type!=="heading"&&h.jsx(ce.Item,{label:"Required",children:h.jsx(nR,{checked:M.required,onChange:W=>E(M.id,{required:W})})}),M.type!=="heading"&&M.type!=="checkbox"&&h.jsx(ce.Item,{label:"Placeholder Text",children:h.jsx(Ve,{value:M.placeholder,onChange:W=>E(M.id,{placeholder:W.target.value})})}),h.jsx(ce.Item,{label:"Description / Help Text",children:h.jsx(Ve.TextArea,{value:M.description,onChange:W=>E(M.id,{description:W.target.value}),rows:2})}),(M.type==="select"||M.type==="radio"||M.type==="checkbox")&&h.jsxs(ce.Item,{label:"Options",children:[(G=M.options)==null?void 0:G.map((W,J)=>h.jsxs("div",{style:{display:"flex",marginBottom:8},children:[h.jsx(Ve,{value:W,onChange:te=>{const H=[...M.options||[]];H[J]=te.target.value,E(M.id,{options:H})},style:{marginRight:8}}),h.jsx(ie,{danger:!0,icon:h.jsx(Bl,{}),onClick:()=>{const te=[...M.options||[]];te.splice(J,1),E(M.id,{options:te})}})]},J)),h.jsx(ie,{type:"dashed",onClick:()=>{var J;const W=[...M.options||[],`Option ${(((J=M.options)==null?void 0:J.length)||0)+1}`];E(M.id,{options:W})},block:!0,icon:h.jsx(Sa,{}),children:"Add Option"})]})]})})},V=M=>{var G,W,J;switch(M.type){case"text":return h.jsx(Ve,{placeholder:M.placeholder,disabled:o});case"textarea":return h.jsx(Ve.TextArea,{placeholder:M.placeholder,rows:4,disabled:o});case"number":return h.jsx(Ve,{type:"number",placeholder:M.placeholder,disabled:o});case"email":return h.jsx(Ve,{type:"email",placeholder:M.placeholder,disabled:o});case"select":return h.jsx(He,{placeholder:M.placeholder,style:{width:"100%"},disabled:o,children:(G=M.options)==null?void 0:G.map((te,H)=>h.jsx(wE,{value:te,children:te},H))});case"checkbox":return h.jsx("div",{children:(W=M.options)==null?void 0:W.map((te,H)=>h.jsxs("div",{children:[h.jsx(nR,{disabled:o})," ",h.jsx("span",{children:te})]},H))});case"radio":return h.jsx(He,{placeholder:M.placeholder,style:{width:"100%"},disabled:o,children:(J=M.options)==null?void 0:J.map((te,H)=>h.jsx(wE,{value:te,children:te},H))});case"date":return h.jsx(Ve,{type:"date",disabled:o});case"file":return h.jsx(ie,{disabled:o,icon:h.jsx(lZ,{}),children:"Upload File"});case"heading":return h.jsx(bE,{level:4,children:M.label});default:return null}},U=()=>h.jsxs("div",{children:[h.jsx(ue,{style:{marginBottom:16},children:h.jsxs(ce,{layout:"vertical",children:[h.jsx(ce.Item,{label:"Form Title",required:!0,children:h.jsx(Ve,{value:r.title,onChange:M=>n({...r,title:M.target.value}),placeholder:"Enter form title"})}),h.jsx(ce.Item,{label:"Description",children:h.jsx(Ve.TextArea,{value:r.description,onChange:M=>n({...r,description:M.target.value}),placeholder:"Enter form description",rows:3})}),h.jsx(ce.Item,{label:"Category",children:h.jsx(He,{value:r.category,onChange:M=>n({...r,category:M}),children:zWt.map(M=>h.jsx(wE,{value:M,children:M},M))})})]})}),h.jsx(bE,{level:4,children:"Form Fields"}),h.jsx(Tf,{type:"secondary",style:{marginBottom:16,display:"block"},children:"Drag and drop to reorder fields"}),h.jsx(JGt,{onDragEnd:k,children:h.jsx(Uye,{droppableId:"form-fields",children:M=>h.jsxs("div",{...M.droppableProps,ref:M.innerRef,children:[r.fields.length===0?h.jsx(ue,{style:{textAlign:"center",padding:24,marginBottom:16},children:h.jsx(Tf,{type:"secondary",children:'No fields added yet. Click "Add Field" to start building your form.'})}):h.jsx(qb,{activeKey:c,onChange:d,children:r.fields.map((G,W)=>h.jsx(jWt,{draggableId:G.id,index:W,children:J=>{var te;return h.jsx("div",{ref:J.innerRef,...J.draggableProps,...J.dragHandleProps,children:h.jsx(VWt,{header:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[h.jsxs("span",{children:[h.jsx(Tf,{strong:!0,children:G.label}),h.jsxs(Tf,{type:"secondary",style:{marginLeft:8},children:["(",(te=uJ.find(H=>H.value===G.type))==null?void 0:te.label,")"]}),G.required&&h.jsx(Tf,{type:"danger",style:{marginLeft:8},children:"*"})]}),h.jsxs(me,{children:[h.jsx(hr,{title:"Move Up",children:h.jsx(ie,{icon:h.jsx(oh,{}),size:"small",onClick:H=>{H.stopPropagation(),_(G.id,"up")},disabled:W===0})}),h.jsx(hr,{title:"Move Down",children:h.jsx(ie,{icon:h.jsx(Ov,{}),size:"small",onClick:H=>{H.stopPropagation(),_(G.id,"down")},disabled:W===r.fields.length-1})}),h.jsx(hr,{title:"Delete Field",children:h.jsx(ie,{icon:h.jsx(Bl,{}),danger:!0,size:"small",onClick:H=>{H.stopPropagation(),A(G.id)}})})]})]}),children:h.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[h.jsx("div",{style:{flex:1,marginRight:16},children:h.jsx(ce.Item,{label:G.label,required:G.required,help:G.description,children:V(G)})}),h.jsx("div",{style:{width:300},children:R(G)})]})},G.id)})}},G.id))}),M.placeholder]})})}),h.jsx("div",{style:{marginTop:16,marginBottom:24},children:h.jsx(ie,{type:"dashed",onClick:C,block:!0,icon:h.jsx(Sa,{}),children:"Add Field"})}),h.jsx(pt,{}),h.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between"},children:[h.jsx(me,{children:h.jsx(ie,{onClick:()=>s(!0),icon:h.jsx(is,{}),children:"Preview Form"})}),h.jsxs(me,{children:[h.jsx(ie,{type:"primary",onClick:O,loading:v,icon:h.jsx(YJ,{}),children:"Save as Draft"}),h.jsx(ie,{type:"primary",onClick:D,loading:v,children:"Publish Form"})]})]}),h.jsxs(_r,{title:"Form Preview",open:o,onCancel:()=>s(!1),width:800,footer:[h.jsx(ie,{onClick:()=>s(!1),children:"Close"},"back")],children:[h.jsx(bE,{level:3,children:r.title}),h.jsx(Tf,{children:r.description}),h.jsx(pt,{}),h.jsxs(ce,{layout:"vertical",children:[r.fields.map(M=>h.jsx(ce.Item,{label:M.label,required:M.required,help:M.description,children:V(M)},M.id)),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",children:"Submit"})})]})]})]}),q=()=>h.jsxs("div",{children:[h.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between"},children:[h.jsx(bE,{level:4,children:"Form Templates"}),h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:L,children:"Create New Form"})]}),h.jsx(At,{loading:m,itemLayout:"horizontal",dataSource:f,renderItem:M=>h.jsx(At.Item,{actions:[h.jsx(ie,{icon:h.jsx(Nl,{}),onClick:()=>$(M.id),children:"Edit"},"edit"),h.jsx(ie,{icon:h.jsx(is,{}),children:"Preview"},"preview")],children:h.jsx(At.Item.Meta,{title:h.jsxs(me,{children:[M.title,h.jsx(Me,{color:M.status==="published"?"green":"orange",children:M.status==="published"?"Published":"Draft"})]}),description:h.jsxs("div",{children:[h.jsx("div",{children:M.description}),h.jsx("div",{style:{marginTop:8},children:h.jsxs(Tf,{type:"secondary",children:["Category: ",M.category,"  Fields: ",M.fields.length,"  Last updated: ",new Date(M.updatedAt).toLocaleDateString()]})})]})})})})]});return j.useEffect(()=>{B()},[]),h.jsx("div",{children:h.jsxs(Ft,{activeKey:w,onChange:S,children:[h.jsx(lJ,{tab:h.jsxs("span",{children:[h.jsx(ya,{}),"Form Builder"]}),children:U()},"builder"),h.jsx(lJ,{tab:h.jsxs("span",{children:[h.jsx(Ya,{}),"Template Library"]}),children:q()},"templates")]})})},qWt=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),qye=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),GWt=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),WWt=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,r)=>new Set([...e,...r]),[])),HWt=(t,e)=>{e=e||WWt(t);let r=e,n=e;qye(e)&&(r=e.map(a=>a.label),n=e.map(a=>a.key));const i=t.map(a=>n.map(o=>YWt(o,a)));return[r,...i]},YWt=(t,e)=>{const r=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(n,i,a,o){const s=n[i];if(s==null)o.splice(1);else return s},e);return r===void 0?t in e?e[t]:"":r},XWt=t=>typeof t>"u"||t===null?"":t,Gye=(t,e=",",r='"')=>t.filter(n=>n).map(n=>n.map(i=>XWt(i)).map(i=>`${r}${i}${r}`).join(e)).join(`
`),KWt=(t,e,r,n)=>Gye(e?[e,...t]:t,r,n),QWt=(t,e,r,n)=>Gye(HWt(t,e),r,n),JWt=(t,e,r,n)=>e?`${e.join(r)}
${t}`:t.replace(/"/g,'""'),Wye=(t,e,r,n)=>{if(qye(t))return QWt(t,e,r,n);if(GWt(t))return KWt(t,e,r,n);if(typeof t=="string")return JWt(t,e,r);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},Hye=(t,e,r,n,i)=>{const a=Wye(t,r,n,i),o=qWt()?"application/csv":"text/csv",s=new Blob([e?"\uFEFF":"",a],{type:o}),l=`data:${o};charset=utf-8,${e?"\uFEFF":""}${a}`,u=window.URL||window.webkitURL;return typeof u.createObjectURL>"u"?l:u.createObjectURL(s)},Yye={data:Da.oneOfType([Da.string,Da.array,Da.func]).isRequired,headers:Da.array,target:Da.string,separator:Da.string,filename:Da.string,uFEFF:Da.bool,onClick:Da.func,asyncOnClick:Da.bool,enclosingCharacter:Da.string},Xye={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},ZWt={target:"_blank"};class dJ extends I.Component{constructor(e){super(e),this.state={}}buildURI(){return Hye(...arguments)}componentDidMount(){const{data:e,headers:r,separator:n,enclosingCharacter:i,uFEFF:a,target:o,specs:s,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,a,r,n,i),o,s,l)}getWindow(){return this.state.page}render(){return null}}dy(dJ,"defaultProps",Object.assign(Xye,ZWt)),dy(dJ,"propTypes",Yye);var DE;let eHt=(DE=class extends I.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return Hye(...arguments)}handleLegacy(e,r=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:n,headers:i,separator:a,filename:o,enclosingCharacter:s,uFEFF:l}=this.props,u=r&&typeof n=="function"?n():n;let c=new Blob([l?"\uFEFF":"",Wye(u,i,a,s)]);return window.navigator.msSaveBlob(c,o),!1}}handleAsyncClick(e){const r=n=>{if(n===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,r)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:r,separator:n,filename:i,uFEFF:a,children:o,onClick:s,asyncOnClick:l,enclosingCharacter:u,...c}=this.props,f=typeof window>"u"?"":this.buildURI(e,a,r,n,u);return h.jsx("a",{download:i,...c,ref:p=>this.link=p,target:"_self",href:f,onClick:this.handleClick(),children:o})}},dy(DE,"defaultProps",Xye),dy(DE,"propTypes",Yye),DE);const tHt=eHt,{Title:rHt,Text:nHt}=rt,{Option:SE}=He,{TabPane:EE}=Ft,{Search:iHt}=Ve,aHt=({formId:t})=>{const[e,r]=j.useState(!0),[n,i]=j.useState([]),[a,o]=j.useState([]),[s,l]=j.useState(t||null),[u,c]=j.useState(null),[d,f]=j.useState(!1),[p,v]=j.useState(null),[g,m]=j.useState("desc"),[y,x]=j.useState(""),[b,w]=j.useState(!1),[S,C]=j.useState(""),[E,A]=j.useState([]),[P,_]=j.useState("pending");j.useEffect(()=>{k(),O()},[t]),j.useEffect(()=>{n.length>0&&M()},[n,s]);const k=async()=>{try{const H=dn(Dt,"formTemplates"),ee=So(H,Dd("status","==","published")),re=await za(ee),Q=[];re.forEach(se=>{Q.push({id:se.id,...se.data()})}),o(Q),t&&!Q.some(se=>se.id===t)&&_e.error("Form template not found")}catch(H){console.error("Error fetching templates:",H),_e.error("Failed to load form templates")}},O=async()=>{try{r(!0);const H=dn(Dt,"formResponses");let ee;s?ee=So(H,Dd("formId","==",s),kh("submittedAt",g)):ee=So(H,kh("submittedAt",g));const re=await za(ee),Q=[];re.forEach(se=>{Q.push({id:se.id,...se.data()})}),i(Q)}catch(H){console.error("Error fetching form responses:",H),_e.error("Failed to load form responses")}finally{r(!1)}},D=H=>{l(H),O()},B=H=>{v(H)},$=()=>{m(g==="asc"?"desc":"asc"),O()},L=H=>{x(H)},R=H=>{c(H),f(!0)},V=async(H,ee)=>{try{await Dh(Un(Dt,"formResponses",H),{status:ee,notes:S.trim()||void 0}),_e.success(`Form response ${ee}`),i(re=>re.map(Q=>Q.id===H?{...Q,status:ee,notes:S.trim()||void 0}:Q)),f(!1),w(!1),C("")}catch(re){console.error("Error updating response status:",re),_e.error("Failed to update response status")}},U=H=>{const ee=n.find(re=>re.id===H);ee&&(c(ee),C(ee.notes||""),w(!0))},q=async()=>{if(u)try{await Dh(Un(Dt,"formResponses",u.id),{notes:S.trim()||null}),_e.success("Notes saved successfully"),i(H=>H.map(ee=>ee.id===u.id?{...ee,notes:S.trim()||void 0}:ee)),w(!1)}catch(H){console.error("Error saving notes:",H),_e.error("Failed to save notes")}},M=()=>{if(n.length===0){A([]);return}const H=a.find(re=>re.id===s),ee=n.map(re=>{const Q={id:re.id,formTitle:re.formTitle,submitter_name:re.submittedBy.name,submitter_email:re.submittedBy.email,submittedAt:new Date(re.submittedAt).toLocaleString(),status:re.status};return H?H.fields.forEach(se=>{se.type!=="heading"&&(Q[`field_${se.id}`]=typeof re.responses[se.id]=="object"?JSON.stringify(re.responses[se.id]):re.responses[se.id]||"")}):Object.entries(re.responses).forEach(([se,ne])=>{Q[`field_${se}`]=typeof ne=="object"?JSON.stringify(ne):ne||""}),Q});A(ee)},G=n.filter(H=>{if(p&&H.status!==p)return!1;if(y){const ee=y.toLowerCase();return H.formTitle.toLowerCase().includes(ee)||H.submittedBy.name.toLowerCase().includes(ee)||H.submittedBy.email.toLowerCase().includes(ee)}return!0}),W={pending:G.filter(H=>H.status==="pending"),approved:G.filter(H=>H.status==="approved"),rejected:G.filter(H=>H.status==="rejected"),all:G},J=[{title:"Form",dataIndex:"formTitle",key:"formTitle"},{title:"Submitted By",dataIndex:"submittedBy",key:"submittedBy",render:H=>h.jsxs("div",{children:[h.jsx("div",{children:H.name}),h.jsx(nHt,{type:"secondary",children:H.email})]})},{title:"Submitted At",dataIndex:"submittedAt",key:"submittedAt",render:H=>new Date(H).toLocaleString()},{title:"Status",dataIndex:"status",key:"status",render:H=>{let ee="default";return H==="approved"&&(ee="success"),H==="rejected"&&(ee="error"),H==="pending"&&(ee="warning"),h.jsx(Me,{color:ee,children:H.toUpperCase()})}},{title:"Actions",key:"actions",render:(H,ee)=>h.jsxs(me,{children:[h.jsx(ie,{icon:h.jsx(is,{}),onClick:()=>R(ee),size:"small",children:"View"}),h.jsx(ie,{icon:h.jsx(uZ,{}),onClick:()=>U(ee.id),size:"small",children:"Notes"})]})}],te=()=>{if(!u)return null;const H=a.find(ee=>ee.id===u.formId);return h.jsxs("div",{children:[h.jsxs(Rt,{title:"Submission Details",bordered:!0,column:1,children:[h.jsx(Rt.Item,{label:"Form",children:u.formTitle}),h.jsxs(Rt.Item,{label:"Submitted By",children:[u.submittedBy.name," (",u.submittedBy.email,")"]}),h.jsx(Rt.Item,{label:"Submitted At",children:new Date(u.submittedAt).toLocaleString()}),h.jsx(Rt.Item,{label:"Status",children:h.jsx(Me,{color:u.status==="approved"?"success":u.status==="rejected"?"error":"warning",children:u.status.toUpperCase()})}),u.notes&&h.jsx(Rt.Item,{label:"Notes",children:u.notes})]}),h.jsx(pt,{orientation:"left",children:"Responses"}),h.jsx(Rt,{bordered:!0,column:1,children:H?H.fields.map(ee=>{if(ee.type==="heading")return h.jsx(Rt.Item,{label:"",className:"form-heading",children:h.jsx(rHt,{level:5,children:ee.label})},ee.id);const re=u.responses[ee.id];return re===void 0?null:h.jsx(Rt.Item,{label:ee.label,children:ee.type==="file"&&typeof re=="string"?h.jsx("a",{href:re,target:"_blank",rel:"noopener noreferrer",children:"View File"}):Array.isArray(re)?re.join(", "):String(re)},ee.id)}):Object.entries(u.responses).map(([ee,re])=>h.jsx(Rt.Item,{label:ee,children:typeof re=="object"?JSON.stringify(re):String(re)},ee))}),u.status==="pending"&&h.jsxs("div",{style:{marginTop:24,display:"flex",justifyContent:"space-between"},children:[h.jsx(ie,{type:"primary",icon:h.jsx(XJ,{}),onClick:()=>V(u.id,"approved"),children:"Approve"}),h.jsx(ie,{danger:!0,icon:h.jsx(g$,{}),onClick:()=>V(u.id,"rejected"),children:"Reject"})]})]})};return h.jsxs("div",{children:[h.jsxs(ue,{title:"Form Responses",extra:h.jsx(me,{children:E.length>0&&h.jsx(tHt,{data:E,filename:`form-responses-${new Date().toISOString().slice(0,10)}.csv`,children:h.jsx(ie,{icon:h.jsx(Ed,{}),children:"Export CSV"})})}),children:[h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,sm:24,md:8,children:h.jsx(He,{placeholder:"Select Form Template",style:{width:"100%"},onChange:D,value:s,allowClear:!0,children:a.map(H=>h.jsx(SE,{value:H.id,children:H.title},H.id))})}),h.jsx(oe,{xs:24,sm:12,md:8,children:h.jsx(iHt,{placeholder:"Search by form or submitter",onSearch:L,onChange:H=>L(H.target.value),style:{width:"100%"}})}),h.jsx(oe,{xs:24,sm:12,md:8,children:h.jsxs(me,{children:[h.jsxs(He,{placeholder:"Filter by Status",style:{width:150},onChange:B,allowClear:!0,children:[h.jsx(SE,{value:"pending",children:"Pending"}),h.jsx(SE,{value:"approved",children:"Approved"}),h.jsx(SE,{value:"rejected",children:"Rejected"})]}),h.jsx(ie,{icon:g==="asc"?h.jsx(Vxe,{}):h.jsx(zxe,{}),onClick:$,children:g==="asc"?"Oldest First":"Newest First"})]})})]}),h.jsx(pt,{}),h.jsxs(Ft,{activeKey:P,onChange:_,children:[h.jsx(EE,{tab:h.jsx(Ar,{count:W.pending.length,offset:[10,0],children:h.jsx("span",{children:"Pending"})}),children:h.jsx(Le,{dataSource:W.pending,columns:J,rowKey:"id",loading:e,pagination:{pageSize:10},locale:{emptyText:h.jsx(El,{description:"No pending form responses found"})}})},"pending"),h.jsx(EE,{tab:h.jsx(Ar,{count:W.approved.length,offset:[10,0],children:h.jsx("span",{children:"Approved"})}),children:h.jsx(Le,{dataSource:W.approved,columns:J,rowKey:"id",loading:e,pagination:{pageSize:10},locale:{emptyText:h.jsx(El,{description:"No approved form responses"})}})},"approved"),h.jsx(EE,{tab:h.jsx(Ar,{count:W.rejected.length,offset:[10,0],children:h.jsx("span",{children:"Rejected"})}),children:h.jsx(Le,{dataSource:W.rejected,columns:J,rowKey:"id",loading:e,pagination:{pageSize:10},locale:{emptyText:h.jsx(El,{description:"No rejected form responses"})}})},"rejected"),h.jsx(EE,{tab:"All Responses",children:h.jsx(Le,{dataSource:W.all,columns:J,rowKey:"id",loading:e,pagination:{pageSize:10},locale:{emptyText:h.jsx(El,{description:"No form responses found"})}})},"all")]})]}),h.jsx(_r,{title:"Form Response Details",open:d,onCancel:()=>f(!1),footer:[h.jsx(ie,{onClick:()=>f(!1),children:"Close"},"close")],width:800,children:te()}),h.jsx(wh,{title:"Add Notes",placement:"right",onClose:()=>w(!1),open:b,width:400,children:h.jsxs("div",{children:[h.jsx("p",{children:"Add notes about this submission:"}),h.jsx(Ve.TextArea,{rows:6,value:S,onChange:H=>C(H.target.value),placeholder:"Enter notes about this submission"}),h.jsx("div",{style:{marginTop:16},children:h.jsxs(me,{children:[h.jsx(ie,{onClick:()=>w(!1),children:"Cancel"}),h.jsx(ie,{type:"primary",onClick:q,children:"Save Notes"})]})})]})})]})},{Title:B2,Text:V2}=rt,{TabPane:AE}=Ft,oHt=()=>{const{data:t}=ua();ji();const[e,r]=j.useState("forms"),n={totalForms:12,publishedForms:8,draftForms:4,totalSubmissions:143,pendingSubmissions:15,approvedSubmissions:112,rejectedSubmissions:16};if(!((t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="Director"))return h.jsxs(ue,{children:[h.jsx(B2,{level:4,children:"Access Denied"}),h.jsx(V2,{children:"You don't have permission to access the form management section. Please contact an administrator if you believe this is an error."})]});const a=h.jsxs(cn,{children:[h.jsx(cn.Item,{children:"Application Form"},"1"),h.jsx(cn.Item,{children:"Compliance Checklist"},"2"),h.jsx(cn.Item,{children:"Progress Report"},"3"),h.jsx(cn.Item,{children:"Feedback Form"},"4"),h.jsx(cn.Item,{children:"Evaluation Form"},"5"),h.jsx(cn.Item,{children:"Due Diligence"},"6"),h.jsx(cn.Item,{children:"Blank Template"},"7")]}),o=()=>{r("builder")};return h.jsxs("div",{children:[h.jsxs(ue,{style:{marginBottom:24},children:[h.jsx(B2,{level:3,children:"Form Management"}),h.jsx(V2,{type:"secondary",children:"Create, manage, and analyze form templates and submissions"}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],children:[h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsxs(ue,{children:[h.jsx(De,{title:"Total Forms",value:n.totalForms,prefix:h.jsx(ya,{})}),h.jsxs("div",{style:{marginTop:8},children:[h.jsx(Ar,{status:"success",text:`${n.publishedForms} Published`}),h.jsx("br",{}),h.jsx(Ar,{status:"warning",text:`${n.draftForms} Drafts`})]})]})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Submissions",value:n.totalSubmissions,prefix:h.jsx(as,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Pending",value:n.pendingSubmissions,valueStyle:{color:"#faad14"},prefix:h.jsx(JT,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Approved",value:n.approvedSubmissions,valueStyle:{color:"#52c41a"},prefix:h.jsx(Ga,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,lg:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Rejected",value:n.rejectedSubmissions,valueStyle:{color:"#ff4d4f"},prefix:h.jsx(cZ,{})})})})]})]}),h.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between"},children:[h.jsxs(Ft,{activeKey:e,onChange:r,style:{flex:1},children:[h.jsx(AE,{tab:h.jsxs("span",{children:[h.jsx(ya,{}),"Form Templates"]})},"forms"),h.jsx(AE,{tab:h.jsxs("span",{children:[h.jsx(Ya,{}),"Submissions"]})},"submissions"),h.jsx(AE,{tab:h.jsxs("span",{children:[h.jsx(JJ,{}),"Analytics"]})},"analytics"),h.jsx(AE,{tab:h.jsxs("span",{children:[h.jsx(ya,{}),"Form Builder"]})},"builder")]}),h.jsx("div",{style:{display:"flex",alignItems:"center"},children:h.jsx(iZ,{overlay:a,trigger:["click"],children:h.jsxs(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:o,children:["Create Template ",h.jsx(aZ,{})]})})})]}),e==="forms"&&h.jsx(ue,{children:h.jsx(cJ,{})}),e==="submissions"&&h.jsx(ue,{children:h.jsx(aHt,{})}),e==="analytics"&&h.jsxs(ue,{children:[h.jsx(B2,{level:4,children:"Form Analytics"}),h.jsx(V2,{type:"secondary",children:"Coming soon: Advanced analytics and reporting for form submissions"}),h.jsx("div",{style:{marginTop:24,textAlign:"center"},children:h.jsx("img",{src:"/placeholder-chart.png",alt:"Analytics Chart Placeholder",style:{maxWidth:"100%",height:"auto"}})})]}),e==="builder"&&h.jsx(ue,{children:h.jsx(cJ,{})})]})},{Title:fJ,Text:sHt,Paragraph:hJ}=rt,{Option:lHt}=He,{Step:uHt}=w$,{TextArea:cHt}=Ve,pJ=()=>{const[t]=ce.useForm(),{formId:e}=bZ(),r=ji(),{data:n}=ua(),[i,a]=j.useState(null),[o,s]=j.useState(!0),[l,u]=j.useState(!1),[c,d]=j.useState({}),[f,p]=j.useState(0),[v,g]=j.useState(!1),[m,y]=j.useState([]),[x,b]=j.useState(null);j.useEffect(()=>{w()},[e]),j.useEffect(()=>{i&&S()},[i]);const w=async()=>{if(!e){_e.error("No form ID provided"),r("/forms");return}try{s(!0);const B=Un(Dt,"formTemplates",e),$=await Md(B);if($.exists()){const L=$.data();if(L.status!=="published"){_e.error("This form is not available for submission"),r("/forms");return}a({...L,id:e})}else _e.error("Form not found"),r("/forms")}catch(B){console.error("Error fetching form template:",B),_e.error("Failed to load form")}finally{s(!1)}},S=()=>{if(!i)return;const B=[];let $=[];i.fields.forEach((L,R)=>{L.type==="heading"&&R>0&&$.length>0&&(B.push([...$]),$=[]),$.push(L),R===i.fields.length-1&&$.length>0&&B.push([...$])}),B.length===0&&$.length>0&&B.push($),y(B)},C=async(B,$)=>{try{const L=j9e(bj,`form_uploads/${e}/${B}/${$.name}`),R=await M9e(L,$);return await R9e(R.ref)}catch(L){throw console.error("Error uploading file:",L),new Error("Failed to upload file")}},E=async()=>{try{u(!0),await t.validateFields();const $={...t.getFieldsValue()};for(const[V,U]of Object.entries(c))if(U&&U.fileList&&U.fileList.length>0){const q=U.fileList[0].originFileObj,M=await C(V,q);$[V]=M}const L={formId:e,formTitle:i==null?void 0:i.title,submittedBy:{id:n==null?void 0:n.id,name:n==null?void 0:n.name,email:n==null?void 0:n.email},submittedAt:new Date().toISOString(),responses:$,status:"pending"},R=await Yf(dn(Dt,"formResponses"),L);b(R.id),_e.success("Form submitted successfully"),t.resetFields(),d({}),g(!0)}catch(B){console.error("Error submitting form:",B),_e.error("Failed to submit form")}finally{u(!1)}},A=(B,$)=>{d({...c,[B]:$})},P=B=>{var L,R,V;const $={label:B.label,name:B.id,key:B.id,required:B.required,help:B.description,tooltip:B.description};switch(B.type){case"text":return h.jsx(ce.Item,{...$,children:h.jsx(Ve,{placeholder:B.placeholder})});case"textarea":return h.jsx(ce.Item,{...$,children:h.jsx(cHt,{placeholder:B.placeholder,rows:4})});case"number":return h.jsx(ce.Item,{...$,children:h.jsx(Ve,{type:"number",placeholder:B.placeholder})});case"email":return h.jsx(ce.Item,{...$,rules:[{type:"email",message:"Please enter a valid email address"}],children:h.jsx(Ve,{type:"email",placeholder:B.placeholder})});case"select":return h.jsx(ce.Item,{...$,children:h.jsx(He,{placeholder:B.placeholder,children:(L=B.options)==null?void 0:L.map((U,q)=>h.jsx(lHt,{value:U,children:U},q))})});case"checkbox":return h.jsx(ce.Item,{...$,valuePropName:"checked",children:h.jsx(ax.Group,{children:(R=B.options)==null?void 0:R.map((U,q)=>h.jsx("div",{style:{marginBottom:8},children:h.jsx(ax,{value:U,children:U})},q))})});case"radio":return h.jsx(ce.Item,{...$,children:h.jsx(gv.Group,{children:(V=B.options)==null?void 0:V.map((U,q)=>h.jsx("div",{style:{marginBottom:8},children:h.jsx(gv,{value:U,children:U})},q))})});case"date":return h.jsx(ce.Item,{...$,children:h.jsx(wo,{style:{width:"100%"}})});case"file":return h.jsx(ce.Item,{...$,children:h.jsx(Vb,{listType:"text",maxCount:1,onChange:U=>A(B.id,U),beforeUpload:()=>!1,children:h.jsx(ie,{icon:h.jsx(sx,{}),children:"Upload File"})})});case"heading":return h.jsxs("div",{style:{margin:"24px 0"},children:[h.jsx(fJ,{level:4,children:B.label}),B.description&&h.jsx(hJ,{type:"secondary",children:B.description}),h.jsx(pt,{})]});default:return null}},_=()=>{t.validateFields(m[f].map(B=>B.id)).then(()=>{p(f+1),window.scrollTo(0,0)}).catch(B=>{console.log("Validation failed:",B)})},k=()=>{p(f-1),window.scrollTo(0,0)},O=()=>m.length===0||!m[f]?h.jsx("div",{children:"No fields available"}):h.jsx("div",{children:m[f].map(B=>P(B))}),D=m.map((B,$)=>{const L=B.find(R=>R.type==="heading");return{title:(L==null?void 0:L.label)||`Step ${$+1}`}});return o?h.jsx(ue,{style:{textAlign:"center",padding:48},children:h.jsxs(me,{direction:"vertical",align:"center",children:[h.jsx(Uxe,{style:{fontSize:32}}),h.jsx(sHt,{children:"Loading form..."})]})}):v?h.jsx(ue,{children:h.jsx(KJ,{status:"success",title:"Form Submitted Successfully!",subTitle:h.jsxs("div",{children:[h.jsx("p",{children:"Your submission has been received and is now being processed."}),h.jsxs("p",{children:["Submission ID: ",x]})]}),extra:[h.jsx(ie,{type:"primary",onClick:()=>r("/dashboard"),children:"Back to Dashboard"},"dashboard"),h.jsx(ie,{onClick:()=>{g(!1),p(0)},children:"Submit Another Response"},"another")]})}):i?h.jsxs(ue,{children:[h.jsxs("div",{style:{marginBottom:24},children:[h.jsx(fJ,{level:2,children:i.title}),h.jsx(hJ,{children:i.description})]}),h.jsx(w$,{current:f,style:{marginBottom:32},children:D.map(B=>h.jsx(uHt,{title:B.title},B.title))}),h.jsxs(ce,{form:t,layout:"vertical",requiredMark:!0,children:[O(),h.jsx(pt,{}),h.jsx(ce.Item,{children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f>0&&h.jsx(ie,{onClick:k,children:"Previous"}),h.jsxs("div",{style:{marginLeft:"auto"},children:[f<D.length-1&&h.jsx(ie,{type:"primary",onClick:_,children:"Next"}),f===D.length-1&&h.jsx(ie,{type:"primary",onClick:E,loading:l,icon:h.jsx(qxe,{}),children:"Submit"})]})]})})]})]}):h.jsx(ue,{children:h.jsx(od,{type:"error",message:"Error",description:"Could not load the requested form. It may have been removed or you don't have permission to access it.",showIcon:!0})})},{Title:dHt,Text:vJ,Paragraph:gJ}=rt,{TextArea:mJ}=Ve,fHt=()=>{const{data:t}=ua(),[e,r]=j.useState([]),[n,i]=j.useState(!0),[a,o]=j.useState(!1),[s,l]=j.useState(null),[u]=ce.useForm(),[c,d]=j.useState(!1),[f]=ce.useForm();j.useEffect(()=>{t&&(async()=>{i(!0);try{const w=[{id:"a1",participantId:"p1",participantName:"John Smith",consultantId:"c1",consultantName:(t==null?void 0:t.name)||"Current Consultant",status:"active",createdAt:je.fromDate(new Date(Date.now()-6048e5)),lastSessionDate:je.fromDate(new Date(Date.now()-1728e5)),nextSessionDate:je.fromDate(new Date(Date.now()+432e6))},{id:"a2",participantId:"p2",participantName:"Sara Johnson",consultantId:"c1",consultantName:(t==null?void 0:t.name)||"Current Consultant",status:"active",createdAt:je.fromDate(new Date(Date.now()-12096e5)),lastSessionDate:je.fromDate(new Date(Date.now()-2592e5))}];r(w)}catch(w){console.error("Error fetching assignments:",w),_e.error("Failed to load assignments")}finally{i(!1)}})()},[t]);const p=b=>{l(b),u.resetFields(),o(!0)},v=async b=>{if(s)try{const w=e.map(S=>S.id===s.id?{...S,lastSessionDate:je.now(),nextSessionDate:b.nextSessionDate?je.fromDate(b.nextSessionDate.toDate()):void 0}:S);r(w),o(!1),_e.success("Session recorded successfully")}catch(w){console.error("Error recording session:",w),_e.error("Failed to record session")}},g=b=>{l(b),f.setFieldsValue({notes:b.notes||""}),d(!0)},m=async b=>{if(s)try{const w=e.map(S=>S.id===s.id?{...S,notes:b.notes}:S);r(w),d(!1),_e.success("Notes saved successfully")}catch(w){console.error("Error saving notes:",w),_e.error("Failed to save notes")}},y=b=>{_r.confirm({title:"Mark Assignment as Completed",content:"Are you sure you want to mark this assignment as completed?",onOk:async()=>{try{const w=e.map(S=>S.id===b?{...S,status:"completed"}:S);r(w),_e.success("Assignment marked as completed")}catch(w){console.error("Error updating assignment:",w),_e.error("Failed to update assignment")}}})},x=[{title:"Participant",dataIndex:"participantName",key:"participantName"},{title:"Status",dataIndex:"status",key:"status",render:b=>h.jsx(Me,{color:b==="active"?"green":b==="completed"?"blue":"red",children:b.toUpperCase()})},{title:"Last Session",key:"lastSessionDate",render:b=>b.lastSessionDate?new Date(b.lastSessionDate.toMillis()).toLocaleDateString():"No sessions yet"},{title:"Next Session",key:"nextSessionDate",render:b=>b.nextSessionDate?new Date(b.nextSessionDate.toMillis()).toLocaleDateString():"Not scheduled"},{title:"Actions",key:"actions",render:b=>h.jsxs(me,{size:"small",children:[h.jsx(hr,{title:"Record Session",children:h.jsx(ie,{type:"primary",size:"small",icon:h.jsx(bo,{}),onClick:()=>p(b),disabled:b.status!=="active",children:"Record Session"})}),h.jsx(hr,{title:"Notes",children:h.jsx(ie,{size:"small",icon:h.jsx(uZ,{}),onClick:()=>g(b),disabled:b.status!=="active",children:"Notes"})}),b.status==="active"&&h.jsx(hr,{title:"Complete",children:h.jsx(ie,{type:"primary",size:"small",icon:h.jsx(Ga,{}),style:{backgroundColor:"#52c41a"},onClick:()=>y(b.id),children:"Complete"})})]})}];return h.jsxs("div",{children:[h.jsx(Le,{columns:x,dataSource:e,rowKey:"id",loading:n,expandable:{expandedRowRender:b=>h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(dHt,{level:5,children:"Assignment Details"}),h.jsxs(gJ,{children:[h.jsx(vJ,{strong:!0,children:"Created: "}),new Date(b.createdAt.toMillis()).toLocaleDateString()]}),b.notes&&h.jsxs("div",{children:[h.jsx(vJ,{strong:!0,children:"Notes: "}),h.jsx(gJ,{children:b.notes})]})]})}}),h.jsx(_r,{title:"Record Mentoring Session",open:a,onCancel:()=>o(!1),footer:null,children:h.jsxs(ce,{form:u,layout:"vertical",onFinish:v,children:[h.jsx(ce.Item,{name:"nextSessionDate",label:"Schedule Next Session",children:h.jsx(wo,{showTime:!0,style:{width:"100%"}})}),h.jsx(ce.Item,{name:"sessionNotes",label:"Session Notes",children:h.jsx(mJ,{rows:4})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",children:"Record Session"})})]})}),h.jsx(_r,{title:"Participant Notes",open:c,onCancel:()=>d(!1),footer:null,children:h.jsxs(ce,{form:f,layout:"vertical",onFinish:m,children:[h.jsx(ce.Item,{name:"notes",label:"Notes",children:h.jsx(mJ,{rows:6,placeholder:"Enter your notes about this participant..."})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",children:"Save Notes"})})]})})]})},{Title:hHt,Text:z2}=rt,{TabPane:U2}=Ft,pHt=()=>{const{data:t}=ua();return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(hHt,{level:3,children:"Consultant Dashboard"}),h.jsxs(z2,{children:["Welcome back, ",(t==null?void 0:t.name)||"Consultant"]}),h.jsxs(Ye,{gutter:[16,16],style:{marginTop:20},children:[h.jsx(oe,{xs:24,sm:12,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Assigned Participants",value:2,prefix:h.jsx(ar,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Upcoming Sessions",value:1,prefix:h.jsx(bo,{})})})}),h.jsx(oe,{xs:24,sm:12,md:8,children:h.jsx(ue,{children:h.jsx(De,{title:"Feedback Rating",value:4.5,suffix:"/ 5",precision:1,prefix:h.jsx(aR,{})})})})]}),h.jsx(ue,{style:{marginTop:20},children:h.jsxs(Ft,{defaultActiveKey:"1",children:[h.jsx(U2,{tab:"My Assignments",children:h.jsx(fHt,{})},"1"),h.jsx(U2,{tab:"My Calendar",children:h.jsx("div",{style:{padding:"20px 0"},children:h.jsx(z2,{children:"Calendar view coming soon."})})},"2"),h.jsx(U2,{tab:"Resources",children:h.jsx("div",{style:{padding:"20px 0"},children:h.jsx(z2,{children:"Resources for consultants coming soon."})})},"3")]})})]})},{Title:vHt,Text:CE}=rt,{TabPane:TE}=Ft,{Option:gHt}=He,q2=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,s]=j.useState(!1),[l,u]=j.useState("create"),[c,d]=j.useState(null),[f,p]=j.useState("all"),[v]=ce.useForm(),g=ji();j.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const O=[{id:"1",title:"Incubatee Application Form",description:"Application form for new incubatees to join the program",status:"active",createdAt:je.fromDate(new Date("2023-09-01")),updatedAt:je.fromDate(new Date("2023-09-15")),fields:[{type:"text",label:"Full Name",required:!0},{type:"email",label:"Email Address",required:!0},{type:"textarea",label:"Business Description",required:!0}],category:"application",submissionCount:24},{id:"2",title:"Mentor Registration Form",description:"Registration form for industry mentors",status:"active",createdAt:je.fromDate(new Date("2023-08-15")),updatedAt:je.fromDate(new Date("2023-08-20")),fields:[{type:"text",label:"Full Name",required:!0},{type:"email",label:"Email Address",required:!0},{type:"select",label:"Area of Expertise",required:!0,options:["Technology","Finance","Marketing","Operations"]}],category:"registration",submissionCount:18},{id:"3",title:"Quarterly Progress Report",description:"Quarterly progress reporting form for active incubatees",status:"active",createdAt:je.fromDate(new Date("2023-07-01")),updatedAt:je.fromDate(new Date("2023-07-10")),fields:[{type:"text",label:"Company Name",required:!0},{type:"textarea",label:"Progress Summary",required:!0},{type:"number",label:"Revenue (USD)",required:!1}],category:"reporting",submissionCount:15},{id:"4",title:"Resource Request Form",description:"Form for requesting additional resources or facilities",status:"active",createdAt:je.fromDate(new Date("2023-06-15")),updatedAt:je.fromDate(new Date("2023-06-20")),fields:[{type:"text",label:"Company Name",required:!0},{type:"select",label:"Resource Type",required:!0,options:["Meeting Room","Equipment","Mentorship","Funding"]},{type:"textarea",label:"Justification",required:!0}],category:"resource",submissionCount:12},{id:"5",title:"Exit Interview Form",description:"Form for collecting feedback from graduating incubatees",status:"draft",createdAt:je.fromDate(new Date("2023-05-10")),updatedAt:je.fromDate(new Date("2023-05-15")),fields:[{type:"text",label:"Company Name",required:!0},{type:"rating",label:"Overall Experience",required:!0,max:5},{type:"textarea",label:"Feedback",required:!0}],category:"feedback",submissionCount:0}];e(O)}catch(O){console.error("Error fetching forms:",O),oi.error({message:"Error",description:"Failed to fetch forms. Please try again later."})}finally{n(!1)}},y=O=>{a(O)},x=(O,D)=>{u(O),O==="create"?(d(null),v.resetFields()):(d(D||null),D&&v.setFieldsValue({title:O==="clone"?`Copy of ${D.title}`:D.title,description:D.description,category:D.category,status:D.status})),s(!0)},b=()=>{s(!1),v.resetFields()},w=()=>{v.validateFields().then(async O=>{try{l==="create"||l==="clone"?oi.success({message:"Success",description:"Form template created successfully"}):oi.success({message:"Success",description:"Form template updated successfully"}),s(!1),v.resetFields(),m()}catch(D){console.error("Error saving form:",D),oi.error({message:"Error",description:"Failed to save form. Please try again later."})}})},S=O=>{_r.confirm({title:"Are you sure you want to delete this form?",content:"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk:async()=>{try{oi.success({message:"Success",description:"Form template deleted successfully"}),m()}catch(D){console.error("Error deleting form:",D),oi.error({message:"Error",description:"Failed to delete form. Please try again later."})}}})},C=O=>{g(`/operations/forms/edit/${O.id}`)},E=O=>{g(`/operations/forms/preview/${O.id}`)},A=O=>{g(`/operations/form-responses/${O.id}`)},P=()=>{let O=[...t];return i&&(O=O.filter(D=>D.title.toLowerCase().includes(i.toLowerCase())||D.description.toLowerCase().includes(i.toLowerCase()))),f!=="all"&&(O=O.filter(D=>D.status===f)),O},_=[{title:"Form Title",dataIndex:"title",key:"title",render:(O,D)=>h.jsxs(me,{direction:"vertical",size:0,children:[h.jsx(CE,{strong:!0,children:O}),h.jsx(CE,{type:"secondary",style:{fontSize:"12px"},children:D.category.charAt(0).toUpperCase()+D.category.slice(1)})]})},{title:"Description",dataIndex:"description",key:"description",ellipsis:!0},{title:"Status",dataIndex:"status",key:"status",render:O=>{let D="default",B=null;switch(O){case"active":D="success",B=h.jsx(Ga,{});break;case"draft":D="default",B=h.jsx(Nl,{});break;case"archived":D="warning",B=h.jsx(Zv,{});break}return h.jsx(Me,{color:D,icon:B,children:O.toUpperCase()})}},{title:"Submissions",dataIndex:"submissionCount",key:"submissionCount",render:O=>h.jsx(Ar,{count:O,showZero:!0,style:{backgroundColor:O>0?"#52c41a":"#d9d9d9",fontSize:"12px",padding:"0 8px"}})},{title:"Last Updated",dataIndex:"updatedAt",key:"updatedAt",render:O=>new Date(O.seconds*1e3).toLocaleDateString()},{title:"Actions",key:"actions",render:(O,D)=>h.jsxs(me,{size:"small",children:[h.jsx(hr,{title:"Edit Form",children:h.jsx(ie,{type:"text",icon:h.jsx(Nl,{}),onClick:()=>C(D)})}),h.jsx(hr,{title:"Preview Form",children:h.jsx(ie,{type:"text",icon:h.jsx(is,{}),onClick:()=>E(D)})}),h.jsx(hr,{title:"View Responses",children:h.jsx(ie,{type:"text",icon:h.jsx(ya,{}),onClick:()=>A(D),disabled:D.submissionCount===0})}),h.jsx(hr,{title:"Clone Form",children:h.jsx(ie,{type:"text",icon:h.jsx(lZ,{}),onClick:()=>x("clone",D)})}),h.jsx(hr,{title:"Delete Form",children:h.jsx(ie,{type:"text",danger:!0,icon:h.jsx(Bl,{}),onClick:()=>S()})})]})}],k=()=>[{value:"application",label:"Application"},{value:"registration",label:"Registration"},{value:"reporting",label:"Reporting"},{value:"feedback",label:"Feedback"},{value:"resource",label:"Resource Request"},{value:"other",label:"Other"}].map(D=>h.jsx(gHt,{value:D.value,children:D.label},D.value));return h.jsxs("div",{style:{padding:"20px"},children:[h.jsxs(vHt,{level:2,children:[h.jsx(ya,{})," Form Management"]}),h.jsx(CE,{type:"secondary",children:"Create and manage forms for incubatees, mentors, and program operations"}),h.jsx(pt,{}),h.jsxs(ue,{children:[h.jsxs(me,{style:{marginBottom:16,display:"flex",justifyContent:"space-between",width:"100%"},children:[h.jsx(Ve,{placeholder:"Search forms...",prefix:h.jsx(qu,{}),allowClear:!0,onChange:O=>y(O.target.value),style:{width:250}}),h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>x("create"),children:"Create Form"})]}),h.jsxs(Ft,{activeKey:f,onChange:p,children:[h.jsx(TE,{tab:"All Forms"},"all"),h.jsx(TE,{tab:"Active"},"active"),h.jsx(TE,{tab:"Drafts"},"draft"),h.jsx(TE,{tab:"Archived"},"archived")]}),h.jsx(Le,{dataSource:P(),columns:_,rowKey:"id",loading:r,pagination:{pageSize:10,showSizeChanger:!0}})]}),h.jsx(_r,{title:l==="create"?"Create New Form":l==="edit"?"Edit Form":"Clone Form",open:o,onCancel:b,onOk:w,width:600,children:h.jsxs(ce,{form:v,layout:"vertical",children:[h.jsx(ce.Item,{name:"title",label:"Form Title",rules:[{required:!0,message:"Please enter a form title"}],children:h.jsx(Ve,{placeholder:"Enter form title"})}),h.jsx(ce.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter a description"}],children:h.jsx(Ve.TextArea,{placeholder:"Enter form description",rows:3})}),h.jsx(ce.Item,{name:"category",label:"Category",rules:[{required:!0,message:"Please select a category"}],children:h.jsx(He,{placeholder:"Select a category",children:k()})}),h.jsx(ce.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select a status"}],initialValue:"draft",children:h.jsxs(gv.Group,{children:[h.jsx(gv,{value:"active",children:"Active"}),h.jsx(gv,{value:"draft",children:"Draft"}),h.jsx(gv,{value:"archived",children:"Archived"})]})}),l==="create"||l==="clone"?h.jsx(CE,{type:"secondary",children:"After creating this form, you will be redirected to the form builder to add fields."}):null]})})]})},{Title:mHt,Text:Qy,Paragraph:MYt}=rt,{TabPane:yJ}=Ft,{Option:IE}=He,{RangePicker:yHt}=wo,xHt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState(!0),[o,s]=j.useState(""),[l,u]=j.useState(!1),[c,d]=j.useState(!1),[f,p]=j.useState(null),[v,g]=j.useState(null),[m,y]=j.useState("1"),[x]=ce.useForm(),[b]=ce.useForm(),w=[{value:"space",label:"Space"},{value:"equipment",label:"Equipment"},{value:"mentorship",label:"Mentorship"},{value:"funding",label:"Funding"},{value:"software",label:"Software"},{value:"service",label:"Service"}],S=[{value:"available",label:"Available",color:"green"},{value:"limited",label:"Limited Availability",color:"orange"},{value:"unavailable",label:"Unavailable",color:"red"},{value:"maintenance",label:"Under Maintenance",color:"grey"}],C=[{value:"scheduled",label:"Scheduled",color:"blue"},{value:"active",label:"Active",color:"green"},{value:"completed",label:"Completed",color:"grey"},{value:"cancelled",label:"Cancelled",color:"red"}];j.useEffect(()=>{E(),A()},[]);const E=async()=>{a(!0);try{e([{id:"1",name:"Conference Room A",type:"space",capacity:30,available:25,status:"available",description:"Large conference room with projector and whiteboard",location:"Building 2, Floor 3",maintainer:"Facilities Team",allocations:[]},{id:"2",name:"Workshop Space",type:"space",capacity:50,available:20,status:"limited",description:"Open floor workshop area with tables and equipment storage",location:"Building 1, Floor 1",maintainer:"Facilities Team",allocations:[]},{id:"3",name:"Mentorship Hours",type:"mentorship",capacity:100,available:45,status:"available",description:"Expert mentors available for consultation",allocations:[]},{id:"4",name:"3D Printers",type:"equipment",capacity:5,available:2,status:"limited",description:"Industrial grade 3D printers for prototyping",location:"Building 1, Makerspace",maintainer:"Tech Team",allocations:[]},{id:"5",name:"Cloud Computing Credits",type:"software",capacity:1e4,available:6e3,status:"available",description:"AWS credits for incubatee projects",allocations:[]}])}catch(H){console.error("Error fetching resources:",H),oi.error({message:"Error",description:"Failed to fetch resources. Please try again later."})}finally{a(!1)}},A=async()=>{try{const H=[{id:"1",resourceId:"1",allocatedTo:"TechSolutions Inc.",purpose:"Weekly Team Meeting",startTime:je.fromDate(new Date("2023-11-05T14:00:00")),endTime:je.fromDate(new Date("2023-11-05T16:00:00")),quantity:10,status:"scheduled"},{id:"2",resourceId:"2",allocatedTo:"Startup Cohort 5",purpose:"Prototyping Workshop",startTime:je.fromDate(new Date("2023-11-10T09:00:00")),endTime:je.fromDate(new Date("2023-11-10T17:00:00")),quantity:30,status:"scheduled"},{id:"3",resourceId:"3",allocatedTo:"HealthTech Innovations",purpose:"Business Strategy Mentoring",startTime:je.fromDate(new Date("2023-11-07T10:00:00")),endTime:je.fromDate(new Date("2023-11-07T12:00:00")),quantity:2,status:"scheduled"},{id:"4",resourceId:"4",allocatedTo:"GreenEnergy Startup",purpose:"Product Prototype Development",startTime:je.fromDate(new Date("2023-11-01T09:00:00")),endTime:je.fromDate(new Date("2023-11-15T17:00:00")),quantity:1,status:"active"},{id:"5",resourceId:"5",allocatedTo:"EdTech Solutions",purpose:"Platform Development",startTime:je.fromDate(new Date("2023-10-15T00:00:00")),endTime:je.fromDate(new Date("2023-12-15T23:59:59")),quantity:2e3,status:"active"}];n(H)}catch(H){console.error("Error fetching allocations:",H)}},P=H=>{s(H)},_=H=>{H?(p(H),x.setFieldsValue({name:H.name,type:H.type,capacity:H.capacity,status:H.status,description:H.description,location:H.location,maintainer:H.maintainer})):(p(null),x.resetFields()),u(!0)},k=()=>{u(!1),x.resetFields()},O=()=>{x.validateFields().then(async H=>{try{oi.success({message:"Success",description:f?"Resource updated successfully":"Resource created successfully"}),u(!1),x.resetFields(),E()}catch(ee){console.error("Error saving resource:",ee),oi.error({message:"Error",description:"Failed to save resource. Please try again later."})}})},D=(H,ee)=>{ee?(g(ee),b.setFieldsValue({resourceId:ee.resourceId,allocatedTo:ee.allocatedTo,purpose:ee.purpose,dateRange:[ir(ee.startTime.seconds*1e3),ir(ee.endTime.seconds*1e3)],quantity:ee.quantity,status:ee.status})):(g(null),b.resetFields(),H&&b.setFieldsValue({resourceId:H})),d(!0)},B=()=>{d(!1),b.resetFields()},$=()=>{b.validateFields().then(async H=>{try{oi.success({message:"Success",description:v?"Allocation updated successfully":"Allocation created successfully"}),d(!1),b.resetFields(),A()}catch(ee){console.error("Error saving allocation:",ee),oi.error({message:"Error",description:"Failed to save allocation. Please try again later."})}})},L=H=>{_r.confirm({title:"Are you sure you want to delete this resource?",content:"This action cannot be undone. All allocations for this resource will also be deleted.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk:async()=>{try{oi.success({message:"Success",description:"Resource deleted successfully"}),E()}catch(ee){console.error("Error deleting resource:",ee),oi.error({message:"Error",description:"Failed to delete resource. Please try again later."})}}})},R=H=>{_r.confirm({title:"Are you sure you want to delete this allocation?",content:"This action cannot be undone.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk:async()=>{try{oi.success({message:"Success",description:"Allocation deleted successfully"}),A()}catch(ee){console.error("Error deleting allocation:",ee),oi.error({message:"Error",description:"Failed to delete allocation. Please try again later."})}}})},V=()=>o?t.filter(H=>H.name.toLowerCase().includes(o.toLowerCase())||H.description.toLowerCase().includes(o.toLowerCase())||H.type.toLowerCase().includes(o.toLowerCase())):t,U=()=>o?r.filter(H=>{var ee;return H.allocatedTo.toLowerCase().includes(o.toLowerCase())||H.purpose.toLowerCase().includes(o.toLowerCase())||((ee=t.find(re=>re.id===H.resourceId))==null?void 0:ee.name.toLowerCase().includes(o.toLowerCase()))}):r,q=[{title:"Resource Name",dataIndex:"name",key:"name",render:(H,ee)=>{var re;return h.jsxs(me,{direction:"vertical",size:0,children:[h.jsx(Qy,{strong:!0,children:H}),h.jsx(Qy,{type:"secondary",style:{fontSize:"12px"},children:(re=w.find(Q=>Q.value===ee.type))==null?void 0:re.label})]})}},{title:"Capacity",dataIndex:"capacity",key:"capacity"},{title:"Availability",key:"availability",render:(H,ee)=>h.jsx(me,{direction:"vertical",style:{width:"100%"},children:h.jsx(yr,{percent:Math.round(ee.available/ee.capacity*100),size:"small",status:ee.available/ee.capacity<.2?"exception":"normal",format:()=>`${ee.available}/${ee.capacity}`})})},{title:"Status",dataIndex:"status",key:"status",render:H=>{const ee=S.find(re=>re.value===H);return h.jsx(Me,{color:(ee==null?void 0:ee.color)||"default",children:(ee==null?void 0:ee.label)||H})}},{title:"Actions",key:"actions",render:(H,ee)=>h.jsxs(me,{size:"small",children:[h.jsx(hr,{title:"Edit Resource",children:h.jsx(ie,{type:"text",icon:h.jsx(Nl,{}),onClick:()=>_(ee)})}),h.jsx(hr,{title:"Allocate",children:h.jsx(ie,{type:"text",icon:h.jsx(ar,{}),onClick:()=>D(ee.id),disabled:ee.status==="unavailable"||ee.status==="maintenance"})}),h.jsx(hr,{title:"Delete",children:h.jsx(ie,{type:"text",danger:!0,icon:h.jsx(Bl,{}),onClick:()=>L()})})]})}],M=[{title:"Resource",key:"resource",render:(H,ee)=>{const re=t.find(Q=>Q.id===ee.resourceId);return re?re.name:"Unknown"}},{title:"Allocated To",dataIndex:"allocatedTo",key:"allocatedTo"},{title:"Purpose",dataIndex:"purpose",key:"purpose",ellipsis:!0},{title:"Date/Time",key:"datetime",render:(H,ee)=>{const re=new Date(ee.startTime.seconds*1e3),Q=new Date(ee.endTime.seconds*1e3),se=ne=>ne.toLocaleDateString()+" "+ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return h.jsxs(me,{direction:"vertical",size:0,children:[h.jsxs(Qy,{children:["Start: ",se(re)]}),h.jsxs(Qy,{children:["End: ",se(Q)]})]})}},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Status",dataIndex:"status",key:"status",render:H=>{const ee=C.find(re=>re.value===H);return h.jsx(Me,{color:(ee==null?void 0:ee.color)||"default",children:(ee==null?void 0:ee.label)||H})}},{title:"Actions",key:"actions",render:(H,ee)=>h.jsxs(me,{size:"small",children:[h.jsx(hr,{title:"Edit Allocation",children:h.jsx(ie,{type:"text",icon:h.jsx(Nl,{}),onClick:()=>D(void 0,ee)})}),h.jsx(hr,{title:"Delete",children:h.jsx(ie,{type:"text",danger:!0,icon:h.jsx(Bl,{}),onClick:()=>R()})})]})}],G=()=>t.reduce((H,ee)=>H+ee.capacity,0),W=()=>t.reduce((H,ee)=>H+ee.available,0),J=()=>{const H=G(),ee=W();return H>0?Math.round((H-ee)/H*100):0},te=()=>{const H=new Date;return r.filter(ee=>new Date(ee.startTime.seconds*1e3)>H&&ee.status==="scheduled").length};return h.jsxs("div",{style:{padding:"20px"},children:[h.jsxs(mHt,{level:2,children:[h.jsx(Ls,{})," Resource Management"]}),h.jsx(Qy,{type:"secondary",children:"Manage and allocate resources for incubation program operations"}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:[h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Resource Types",value:t.reduce((H,ee)=>(H.includes(ee.type)||H.push(ee.type),H),[]).length,prefix:h.jsx(Nb,{}),valueStyle:{color:"#1890ff"}})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Overall Utilization",value:J(),suffix:"%",prefix:h.jsx(ZT,{}),valueStyle:{color:J()>80?"#ff4d4f":"#52c41a"}})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Active Allocations",value:r.filter(H=>H.status==="active").length,prefix:h.jsx(ar,{}),valueStyle:{color:"#722ed1"}})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Upcoming Allocations",value:te(),prefix:h.jsx(bo,{}),valueStyle:{color:"#faad14"}})})})]}),h.jsx(ue,{children:h.jsxs(Ft,{activeKey:m,onChange:y,children:[h.jsxs(yJ,{tab:h.jsxs("span",{children:[h.jsx(Ls,{}),"Resources"]}),children:[h.jsxs(me,{style:{marginBottom:16,display:"flex",justifyContent:"space-between",width:"100%"},children:[h.jsx(Ve,{placeholder:"Search resources...",prefix:h.jsx(qu,{}),allowClear:!0,onChange:H=>P(H.target.value),style:{width:250}}),h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>_(),children:"Add Resource"})]}),h.jsx(Le,{dataSource:V(),columns:q,rowKey:"id",loading:i,pagination:{pageSize:10},expandable:{expandedRowRender:H=>h.jsxs("p",{style:{margin:0},children:[h.jsx("strong",{children:"Description:"})," ",H.description,H.location&&h.jsxs(h.Fragment,{children:[h.jsx("br",{}),h.jsx("strong",{children:"Location:"})," ",H.location]}),H.maintainer&&h.jsxs(h.Fragment,{children:[h.jsx("br",{}),h.jsx("strong",{children:"Maintainer:"})," ",H.maintainer]})]})}})]},"1"),h.jsxs(yJ,{tab:h.jsxs("span",{children:[h.jsx(bo,{}),"Allocations"]}),children:[h.jsxs(me,{style:{marginBottom:16,display:"flex",justifyContent:"space-between",width:"100%"},children:[h.jsx(Ve,{placeholder:"Search allocations...",prefix:h.jsx(qu,{}),allowClear:!0,onChange:H=>P(H.target.value),style:{width:250}}),h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>D(),children:"Create Allocation"})]}),h.jsx(Le,{dataSource:U(),columns:M,rowKey:"id",loading:i,pagination:{pageSize:10}})]},"2")]})}),h.jsx(_r,{title:f?"Edit Resource":"Add New Resource",open:l,onCancel:k,onOk:O,width:600,children:h.jsxs(ce,{form:x,layout:"vertical",children:[h.jsx(ce.Item,{name:"name",label:"Resource Name",rules:[{required:!0,message:"Please enter a resource name"}],children:h.jsx(Ve,{placeholder:"Enter resource name"})}),h.jsx(ce.Item,{name:"type",label:"Resource Type",rules:[{required:!0,message:"Please select a resource type"}],children:h.jsx(He,{placeholder:"Select resource type",children:w.map(H=>h.jsx(IE,{value:H.value,children:H.label},H.value))})}),h.jsx(ce.Item,{name:"capacity",label:"Total Capacity",rules:[{required:!0,message:"Please enter the total capacity"}],children:h.jsx(kv,{min:1,style:{width:"100%"},placeholder:"Enter total capacity"})}),h.jsx(ce.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter a description"}],children:h.jsx(Ve.TextArea,{rows:3,placeholder:"Enter resource description"})}),h.jsx(ce.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select a status"}],initialValue:"available",children:h.jsx(He,{placeholder:"Select status",children:S.map(H=>h.jsx(IE,{value:H.value,children:H.label},H.value))})}),h.jsx(ce.Item,{name:"location",label:"Location",children:h.jsx(Ve,{placeholder:"Enter location (optional)"})}),h.jsx(ce.Item,{name:"maintainer",label:"Maintainer",children:h.jsx(Ve,{placeholder:"Enter maintainer (optional)"})})]})}),h.jsx(_r,{title:v?"Edit Allocation":"Create New Allocation",open:c,onCancel:B,onOk:$,width:600,children:h.jsxs(ce,{form:b,layout:"vertical",children:[h.jsx(ce.Item,{name:"resourceId",label:"Resource",rules:[{required:!0,message:"Please select a resource"}],children:h.jsx(He,{placeholder:"Select resource",children:t.map(H=>h.jsx(IE,{value:H.id,children:H.name},H.id))})}),h.jsx(ce.Item,{name:"allocatedTo",label:"Allocated To",rules:[{required:!0,message:"Please enter who this resource is allocated to"}],children:h.jsx(Ve,{placeholder:"Enter recipient (company, team, etc.)"})}),h.jsx(ce.Item,{name:"purpose",label:"Purpose",rules:[{required:!0,message:"Please enter the purpose of this allocation"}],children:h.jsx(Ve.TextArea,{rows:2,placeholder:"Enter purpose of allocation"})}),h.jsx(ce.Item,{name:"dateRange",label:"Date & Time Range",rules:[{required:!0,message:"Please select the date and time range"}],children:h.jsx(yHt,{showTime:!0,format:"YYYY-MM-DD HH:mm",style:{width:"100%"}})}),h.jsx(ce.Item,{name:"quantity",label:"Quantity",rules:[{required:!0,message:"Please enter the quantity to allocate"}],children:h.jsx(kv,{min:1,style:{width:"100%"},placeholder:"Enter quantity"})}),h.jsx(ce.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select a status"}],initialValue:"scheduled",children:h.jsx(He,{placeholder:"Select status",children:C.map(H=>h.jsx(IE,{value:H.value,children:H.label},H.value))})})]})})]})},{Title:bHt,Text:Jy}=rt,{TabPane:PE}=Ft,{Option:hl}=He,wHt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,s]=j.useState("all");j.useEffect(()=>{l()},[]);const l=async()=>{n(!0);try{e([{id:"1",name:"TechSolutions Inc.",industry:"Software",stage:"Early",joinDate:"2023-06-15",status:"active",mentorAssigned:!0,mentorName:"John Doe",nextReview:"2023-11-15",team:4,progress:32},{id:"2",name:"GreenEnergy Startup",industry:"Renewable Energy",stage:"Growth",joinDate:"2023-04-10",status:"active",mentorAssigned:!0,mentorName:"Jane Smith",nextReview:"2023-11-10",team:7,progress:68},{id:"3",name:"HealthTech Innovations",industry:"Healthcare",stage:"Scaling",joinDate:"2023-02-22",status:"warning",mentorAssigned:!1,nextReview:"2023-11-20",team:5,progress:75},{id:"4",name:"EdTech Solutions",industry:"Education",stage:"Early",joinDate:"2023-07-05",status:"active",mentorAssigned:!0,mentorName:"Robert Johnson",nextReview:"2023-12-05",team:3,progress:15},{id:"5",name:"FinTech Revolution",industry:"Finance",stage:"Growth",joinDate:"2023-03-18",status:"warning",mentorAssigned:!1,nextReview:"2023-11-25",team:6,progress:52},{id:"6",name:"AgriTech Pioneers",industry:"Agriculture",stage:"Early",joinDate:"2023-08-01",status:"active",mentorAssigned:!0,mentorName:"Sarah Williams",nextReview:"2023-12-10",team:4,progress:10},{id:"7",name:"Logistics Optimization",industry:"Transportation",stage:"Growth",joinDate:"2023-05-12",status:"inactive",mentorAssigned:!0,mentorName:"David Miller",nextReview:"2023-11-30",team:5,progress:45}])}catch(v){console.error("Error fetching participants:",v)}finally{n(!1)}},u=v=>{a(v)},c=()=>{let v=[...t];return i&&(v=v.filter(g=>g.name.toLowerCase().includes(i.toLowerCase())||g.industry.toLowerCase().includes(i.toLowerCase()))),o!=="all"&&(v=v.filter(g=>g.status===o)),v},d=v=>{switch(v){case"active":return h.jsx(Ar,{status:"success",text:"Active"});case"warning":return h.jsx(Ar,{status:"warning",text:"At Risk"});case"inactive":return h.jsx(Ar,{status:"default",text:"Inactive"});default:return h.jsx(Ar,{status:"default",text:v})}},f=v=>{let g="";switch(v){case"Early":g="blue";break;case"Growth":g="green";break;case"Scaling":g="purple";break;default:g="default"}return h.jsx(Me,{color:g,children:v})},p=[{title:"Participant Name",dataIndex:"name",key:"name",render:(v,g)=>h.jsxs(me,{direction:"vertical",size:0,children:[h.jsx(Jy,{strong:!0,children:v}),h.jsx(Jy,{type:"secondary",style:{fontSize:"12px"},children:g.industry})]})},{title:"Stage",dataIndex:"stage",key:"stage",render:v=>f(v)},{title:"Team Size",dataIndex:"team",key:"team",sorter:(v,g)=>v.team-g.team},{title:"Progress",dataIndex:"progress",key:"progress",render:v=>h.jsx(hr,{title:`${v}% Complete`,children:h.jsx("div",{style:{width:100,backgroundColor:"#f0f0f0",borderRadius:10,height:8},children:h.jsx("div",{style:{width:`${v}%`,backgroundColor:v<30?"#ff4d4f":v<70?"#faad14":"#52c41a",borderRadius:10,height:8}})})}),sorter:(v,g)=>v.progress-g.progress},{title:"Mentor",key:"mentor",render:(v,g)=>g.mentorAssigned?h.jsx(Jy,{type:"success",children:g.mentorName}):h.jsx(Jy,{type:"danger",children:"Not Assigned"})},{title:"Next Review",dataIndex:"nextReview",key:"nextReview"},{title:"Status",dataIndex:"status",key:"status",render:v=>d(v)},{title:"Actions",key:"actions",render:(v,g)=>h.jsxs(me,{size:"small",children:[h.jsx(ie,{type:"primary",size:"small",children:"View Details"}),h.jsx(ie,{size:"small",children:"Assign Mentor"})]})}];return h.jsxs("div",{style:{padding:"20px"},children:[h.jsxs(bHt,{level:2,children:[h.jsx(ar,{})," Participant Management"]}),h.jsx(Jy,{type:"secondary",children:"Manage and track incubatee companies and their progress"}),h.jsx(pt,{}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:"24px"},children:[h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Participants",value:t.length,prefix:h.jsx(ar,{}),valueStyle:{color:"#1890ff"}})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Need Mentor Assignment",value:t.filter(v=>!v.mentorAssigned).length,prefix:h.jsx(as,{}),valueStyle:{color:"#faad14"}})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Companies at Risk",value:t.filter(v=>v.status==="warning").length,prefix:h.jsx(Ls,{}),valueStyle:{color:"#ff4d4f"}})})}),h.jsx(oe,{xs:24,sm:12,md:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Upcoming Reviews",value:t.filter(v=>{const g=new Date(v.nextReview),m=new Date,x=(g.getTime()-m.getTime())/(1e3*3600*24);return x<=7&&x>0}).length,prefix:h.jsx(bo,{}),valueStyle:{color:"#52c41a"}})})})]}),h.jsxs(ue,{children:[h.jsxs(me,{style:{marginBottom:16,display:"flex",justifyContent:"space-between",width:"100%"},children:[h.jsxs(me,{children:[h.jsx(Ve,{placeholder:"Search participants...",prefix:h.jsx(qu,{}),allowClear:!0,onChange:v=>u(v.target.value),style:{width:250}}),h.jsxs(He,{placeholder:"Filter by industry",style:{width:180},allowClear:!0,children:[h.jsx(hl,{value:"software",children:"Software"}),h.jsx(hl,{value:"healthcare",children:"Healthcare"}),h.jsx(hl,{value:"education",children:"Education"}),h.jsx(hl,{value:"finance",children:"Finance"}),h.jsx(hl,{value:"energy",children:"Energy"}),h.jsx(hl,{value:"agriculture",children:"Agriculture"}),h.jsx(hl,{value:"transportation",children:"Transportation"})]}),h.jsxs(He,{placeholder:"Filter by stage",style:{width:150},allowClear:!0,children:[h.jsx(hl,{value:"early",children:"Early"}),h.jsx(hl,{value:"growth",children:"Growth"}),h.jsx(hl,{value:"scaling",children:"Scaling"})]})]}),h.jsx(ie,{type:"primary",icon:h.jsx(ar,{}),children:"Add Participant"})]}),h.jsxs(Ft,{activeKey:o,onChange:s,children:[h.jsx(PE,{tab:"All Participants"},"all"),h.jsx(PE,{tab:"Active"},"active"),h.jsx(PE,{tab:"At Risk"},"warning"),h.jsx(PE,{tab:"Inactive"},"inactive")]}),h.jsx(Le,{dataSource:c(),columns:p,rowKey:"id",loading:r,pagination:{pageSize:10}})]})]})},{Title:SHt,Text:RYt,Paragraph:EHt}=rt,{Option:xJ}=He,{TextArea:bJ}=Ve,{TabPane:wJ}=Ft,AHt=()=>{ji();const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,a]=j.useState([]),[o,s]=j.useState(!0),[l,u]=j.useState(null),[c,d]=j.useState(null),[f,p]=j.useState(!1),[v,g]=j.useState(null),[m]=ce.useForm(),[y,x]=j.useState(!1),[b]=ce.useForm();j.useEffect(()=>{(async()=>{s(!0);try{const O=[{id:"p1",name:"John Smith",email:"john@example.com",stage:"Ideation",needs:["Business Model","Market Research"]},{id:"p2",name:"Sara Johnson",email:"sara@example.com",stage:"MVP",needs:["Technical Advice","Product Development"]}],D=[{id:"c1",name:"Dr. Michael Brown",email:"michael@example.com",expertise:["Business Strategy","Market Research"],availability:"Mon, Wed",rating:4.8},{id:"c2",name:"Jane Wilson",email:"jane@example.com",expertise:["Technical Architecture","Product Development"],availability:"Tue, Thu",rating:4.5}],B=[{id:"a1",participantId:"p1",participantName:"John Smith",consultantId:"c1",consultantName:"Dr. Michael Brown",status:"active",createdAt:je.fromDate(new Date(Date.now()-7*24*60*60*1e3)),lastSessionDate:je.fromDate(new Date(Date.now()-2*24*60*60*1e3)),nextSessionDate:je.fromDate(new Date(Date.now()+5*24*60*60*1e3))}];e(O),n(D),a(B)}catch(O){console.error("Error fetching data:",O),_e.error("Failed to load data")}finally{s(!1)}})()},[]);const w=async()=>{if(!l||!c){_e.error("Please select both a participant and a consultant");return}try{const k=t.find(B=>B.id===l),O=r.find(B=>B.id===c);if(!k||!O){_e.error("Invalid selection");return}const D={id:`a${Date.now()}`,participantId:k.id,participantName:k.name,consultantId:O.id,consultantName:O.name,status:"active",createdAt:je.now()};a([...i,D]),_e.success(`Assigned ${O.name} to ${k.name}`),u(null),d(null)}catch(k){console.error("Error creating assignment:",k),_e.error("Failed to create assignment")}},S=k=>{g(k),b.resetFields(),x(!0)},C=async k=>{if(v)try{const O=i.map(D=>D.id===v.id?{...D,lastSessionDate:je.now(),nextSessionDate:k.nextSessionDate?je.fromDate(k.nextSessionDate.toDate()):void 0,notes:k.notes}:D);a(O),x(!1),_e.success("Session recorded successfully")}catch(O){console.error("Error recording session:",O),_e.error("Failed to record session")}},E=k=>{g(k),m.resetFields(),p(!0)},A=async k=>{if(v)try{const O=i.map(D=>D.id===v.id?{...D,feedback:{rating:k.rating,comments:k.comments}}:D);a(O),p(!1),_e.success("Feedback submitted successfully")}catch(O){console.error("Error submitting feedback:",O),_e.error("Failed to submit feedback")}},P=async(k,O)=>{try{const D=i.map(B=>B.id===k?{...B,status:O}:B);a(D),_e.success(`Assignment ${O}`)}catch(D){console.error(`Error updating assignment to ${O}:`,D),_e.error("Failed to update assignment status")}},_=[{title:"Participant",dataIndex:"participantName",key:"participantName"},{title:"Consultant",dataIndex:"consultantName",key:"consultantName"},{title:"Status",dataIndex:"status",key:"status",render:k=>h.jsx(Me,{color:k==="active"?"green":k==="completed"?"blue":"red",children:k.toUpperCase()})},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:k=>new Date(k.toMillis()).toLocaleDateString()},{title:"Last Session",key:"lastSessionDate",render:k=>k.lastSessionDate?new Date(k.lastSessionDate.toMillis()).toLocaleDateString():"No sessions yet"},{title:"Next Session",key:"nextSessionDate",render:k=>k.nextSessionDate?new Date(k.nextSessionDate.toMillis()).toLocaleDateString():"Not scheduled"},{title:"Feedback",key:"feedback",render:k=>k.feedback?h.jsx(Sz,{disabled:!0,defaultValue:k.feedback.rating}):"No feedback"},{title:"Actions",key:"actions",render:k=>h.jsxs(me,{size:"small",children:[h.jsx(ie,{type:"primary",size:"small",onClick:()=>S(k),disabled:k.status!=="active",children:"Record Session"}),h.jsx(ie,{size:"small",onClick:()=>E(k),disabled:k.status!=="active",children:"Feedback"}),k.status==="active"&&h.jsxs(h.Fragment,{children:[h.jsx(ie,{type:"primary",size:"small",style:{backgroundColor:"#52c41a"},onClick:()=>P(k.id,"completed"),children:"Complete"}),h.jsx(ie,{danger:!0,size:"small",onClick:()=>P(k.id,"cancelled"),children:"Cancel"})]})]})}];return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx("div",{style:{marginBottom:24},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs("div",{children:[h.jsx(SHt,{level:3,style:{marginBottom:0},children:"Consultant Assignment Management"}),h.jsx(EHt,{children:"Assign and manage consultants for participants"})]}),h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>{var k;return window.scrollTo({top:((k=document.getElementById("create-assignment-form"))==null?void 0:k.offsetTop)||0,behavior:"smooth"})},children:"Create New Assignment"})]})}),h.jsx(pt,{style:{marginTop:0}}),h.jsxs(Ft,{defaultActiveKey:"1",children:[h.jsx(wJ,{tab:"Current Assignments",children:h.jsx(ue,{children:h.jsx(Le,{columns:_,dataSource:i,rowKey:"id",loading:o})})},"1"),h.jsx(wJ,{tab:"Create New Assignment",children:h.jsx(ue,{id:"create-assignment-form",children:h.jsxs(ce,{layout:"vertical",children:[h.jsx(ce.Item,{label:"Select Participant",children:h.jsx(He,{placeholder:"Select a participant",value:l,onChange:u,style:{width:"100%"},children:t.map(k=>h.jsx(xJ,{value:k.id,children:h.jsxs(me,{children:[h.jsx(as,{}),k.name," - ",k.stage]})},k.id))})}),h.jsx(ce.Item,{label:"Select Consultant",children:h.jsx(He,{placeholder:"Select a consultant",value:c,onChange:d,style:{width:"100%"},children:r.map(k=>h.jsx(xJ,{value:k.id,children:h.jsxs(me,{children:[h.jsx(ar,{}),k.name," - Rating: ",k.rating]})},k.id))})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",onClick:w,disabled:!l||!c,children:"Create Assignment"})})]})})},"2")]}),h.jsx(_r,{title:"Record Mentoring Session",open:y,onCancel:()=>x(!1),footer:null,children:h.jsxs(ce,{form:b,layout:"vertical",onFinish:C,children:[h.jsx(ce.Item,{name:"nextSessionDate",label:"Schedule Next Session",children:h.jsx(Ve,{type:"datetime-local"})}),h.jsx(ce.Item,{name:"notes",label:"Session Notes",children:h.jsx(bJ,{rows:4})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",children:"Record Session"})})]})}),h.jsx(_r,{title:"Submit Feedback",open:f,onCancel:()=>p(!1),footer:null,children:h.jsxs(ce,{form:m,layout:"vertical",onFinish:A,children:[h.jsx(ce.Item,{name:"rating",label:"Rate the Session",rules:[{required:!0,message:"Please rate the session"}],children:h.jsx(Sz,{})}),h.jsx(ce.Item,{name:"comments",label:"Comments",children:h.jsx(bJ,{rows:4})}),h.jsx(ce.Item,{children:h.jsx(ie,{type:"primary",htmlType:"submit",children:"Submit Feedback"})})]})})]})},_E=[{value:"beeCertificate",label:"BEE Certificate"},{value:"taxClearance",label:"Tax Clearance Certificate"},{value:"letterOfGoodStanding",label:"Letter of Good Standing"},{value:"companyRegistration",label:"Company Registration Document"},{value:"directorIdCopies",label:"Director ID Copies"},{value:"proofOfBanking",label:"Proof of Banking"},{value:"industryLicense",label:"Industry-Specific License"},{value:"uifCompliance",label:"UIF Compliance Certificate"},{value:"edAgreement",label:"Enterprise Development Agreement"},{value:"contract",label:"Contract"},{value:"other",label:"Other Document"}],G2=[{value:"valid",label:"Valid",color:"green"},{value:"expiring",label:"Expiring Soon",color:"orange"},{value:"expired",label:"Expired",color:"red"},{value:"missing",label:"Missing",color:"volcano"},{value:"pending",label:"Pending Review",color:"blue"}];var qa=function(){return qa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qa.apply(this,arguments)};function HT(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Zr="-ms-",ix="-moz-",Pr="-webkit-",Kye="comm",UO="rule",OV="decl",CHt="@import",Qye="@keyframes",THt="@layer",Jye=Math.abs,kV=String.fromCharCode,u$=Object.assign;function IHt(t,e){return ui(t,0)^45?(((e<<2^ui(t,0))<<2^ui(t,1))<<2^ui(t,2))<<2^ui(t,3):0}function Zye(t){return t.trim()}function wu(t,e){return(t=e.exec(t))?t[0]:t}function $t(t,e,r){return t.replace(e,r)}function xA(t,e,r){return t.indexOf(e,r)}function ui(t,e){return t.charCodeAt(e)|0}function em(t,e,r){return t.slice(e,r)}function bl(t){return t.length}function e0e(t){return t.length}function w0(t,e){return e.push(t),t}function PHt(t,e){return t.map(e).join("")}function SJ(t,e){return t.filter(function(r){return!wu(r,e)})}var qO=1,tm=1,t0e=0,fs=0,Vn=0,Zm="";function GO(t,e,r,n,i,a,o,s){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:qO,column:tm,length:o,return:"",siblings:s}}function Rc(t,e){return u$(GO("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function iv(t){for(;t.root;)t=Rc(t.root,{children:[t]});w0(t,t.siblings)}function _Ht(){return Vn}function OHt(){return Vn=fs>0?ui(Zm,--fs):0,tm--,Vn===10&&(tm=1,qO--),Vn}function Gs(){return Vn=fs<t0e?ui(Zm,fs++):0,tm++,Vn===10&&(tm=1,qO++),Vn}function xh(){return ui(Zm,fs)}function bA(){return fs}function WO(t,e){return em(Zm,t,e)}function c$(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kHt(t){return qO=tm=1,t0e=bl(Zm=t),fs=0,[]}function DHt(t){return Zm="",t}function W2(t){return Zye(WO(fs-1,d$(t===91?t+2:t===40?t+1:t)))}function MHt(t){for(;(Vn=xh())&&Vn<33;)Gs();return c$(t)>2||c$(Vn)>3?"":" "}function RHt(t,e){for(;--e&&Gs()&&!(Vn<48||Vn>102||Vn>57&&Vn<65||Vn>70&&Vn<97););return WO(t,bA()+(e<6&&xh()==32&&Gs()==32))}function d$(t){for(;Gs();)switch(Vn){case t:return fs;case 34:case 39:t!==34&&t!==39&&d$(Vn);break;case 40:t===41&&d$(t);break;case 92:Gs();break}return fs}function jHt(t,e){for(;Gs()&&t+Vn!==57;)if(t+Vn===84&&xh()===47)break;return"/*"+WO(e,fs-1)+"*"+kV(t===47?t:Gs())}function FHt(t){for(;!c$(xh());)Gs();return WO(t,fs)}function LHt(t){return DHt(wA("",null,null,null,[""],t=kHt(t),0,[0],t))}function wA(t,e,r,n,i,a,o,s,l){for(var u=0,c=0,d=o,f=0,p=0,v=0,g=1,m=1,y=1,x=0,b="",w=i,S=a,C=n,E=b;m;)switch(v=x,x=Gs()){case 40:if(v!=108&&ui(E,d-1)==58){xA(E+=$t(W2(x),"&","&\f"),"&\f",Jye(u?s[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:E+=W2(x);break;case 9:case 10:case 13:case 32:E+=MHt(v);break;case 92:E+=RHt(bA()-1,7);continue;case 47:switch(xh()){case 42:case 47:w0($Ht(jHt(Gs(),bA()),e,r,l),l);break;default:E+="/"}break;case 123*g:s[u++]=bl(E)*y;case 125*g:case 59:case 0:switch(x){case 0:case 125:m=0;case 59+c:y==-1&&(E=$t(E,/\f/g,"")),p>0&&bl(E)-d&&w0(p>32?AJ(E+";",n,r,d-1,l):AJ($t(E," ","")+";",n,r,d-2,l),l);break;case 59:E+=";";default:if(w0(C=EJ(E,e,r,u,c,i,s,b,w=[],S=[],d,a),a),x===123)if(c===0)wA(E,e,C,C,w,a,d,s,S);else switch(f===99&&ui(E,3)===110?100:f){case 100:case 108:case 109:case 115:wA(t,C,C,n&&w0(EJ(t,C,C,0,0,i,s,b,i,w=[],d,S),S),i,S,d,s,n?w:S);break;default:wA(E,C,C,C,[""],S,0,s,S)}}u=c=p=0,g=y=1,b=E="",d=o;break;case 58:d=1+bl(E),p=v;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&OHt()==125)continue}switch(E+=kV(x),x*g){case 38:y=c>0?1:(E+="\f",-1);break;case 44:s[u++]=(bl(E)-1)*y,y=1;break;case 64:xh()===45&&(E+=W2(Gs())),f=xh(),c=d=bl(b=E+=FHt(bA())),x++;break;case 45:v===45&&bl(E)==2&&(g=0)}}return a}function EJ(t,e,r,n,i,a,o,s,l,u,c,d){for(var f=i-1,p=i===0?a:[""],v=e0e(p),g=0,m=0,y=0;g<n;++g)for(var x=0,b=em(t,f+1,f=Jye(m=o[g])),w=t;x<v;++x)(w=Zye(m>0?p[x]+" "+b:$t(b,/&\f/g,p[x])))&&(l[y++]=w);return GO(t,e,r,i===0?UO:s,l,u,c,d)}function $Ht(t,e,r,n){return GO(t,e,r,Kye,kV(_Ht()),em(t,2,-2),0,n)}function AJ(t,e,r,n,i){return GO(t,e,r,OV,em(t,0,n),em(t,n+1,-1),n,i)}function r0e(t,e,r){switch(IHt(t,e)){case 5103:return Pr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pr+t+t;case 4789:return ix+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pr+t+ix+t+Zr+t+t;case 5936:switch(ui(t,e+11)){case 114:return Pr+t+Zr+$t(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pr+t+Zr+$t(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pr+t+Zr+$t(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Pr+t+Zr+t+t;case 6165:return Pr+t+Zr+"flex-"+t+t;case 5187:return Pr+t+$t(t,/(\w+).+(:[^]+)/,Pr+"box-$1$2"+Zr+"flex-$1$2")+t;case 5443:return Pr+t+Zr+"flex-item-"+$t(t,/flex-|-self/g,"")+(wu(t,/flex-|baseline/)?"":Zr+"grid-row-"+$t(t,/flex-|-self/g,""))+t;case 4675:return Pr+t+Zr+"flex-line-pack"+$t(t,/align-content|flex-|-self/g,"")+t;case 5548:return Pr+t+Zr+$t(t,"shrink","negative")+t;case 5292:return Pr+t+Zr+$t(t,"basis","preferred-size")+t;case 6060:return Pr+"box-"+$t(t,"-grow","")+Pr+t+Zr+$t(t,"grow","positive")+t;case 4554:return Pr+$t(t,/([^-])(transform)/g,"$1"+Pr+"$2")+t;case 6187:return $t($t($t(t,/(zoom-|grab)/,Pr+"$1"),/(image-set)/,Pr+"$1"),t,"")+t;case 5495:case 3959:return $t(t,/(image-set\([^]*)/,Pr+"$1$`$1");case 4968:return $t($t(t,/(.+:)(flex-)?(.*)/,Pr+"box-pack:$3"+Zr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pr+t+t;case 4200:if(!wu(t,/flex-|baseline/))return Zr+"grid-column-align"+em(t,e)+t;break;case 2592:case 3360:return Zr+$t(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,wu(n.props,/grid-\w+-end/)})?~xA(t+(r=r[e].value),"span",0)?t:Zr+$t(t,"-start","")+t+Zr+"grid-row-span:"+(~xA(r,"span",0)?wu(r,/\d+/):+wu(r,/\d+/)-+wu(t,/\d+/))+";":Zr+$t(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return wu(n.props,/grid-\w+-start/)})?t:Zr+$t($t(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return $t(t,/(.+)-inline(.+)/,Pr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bl(t)-1-e>6)switch(ui(t,e+1)){case 109:if(ui(t,e+4)!==45)break;case 102:return $t(t,/(.+:)(.+)-([^]+)/,"$1"+Pr+"$2-$3$1"+ix+(ui(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~xA(t,"stretch",0)?r0e($t(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return $t(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,a,o,s,l,u){return Zr+i+":"+a+u+(o?Zr+i+"-span:"+(s?l:+l-+a)+u:"")+t});case 4949:if(ui(t,e+6)===121)return $t(t,":",":"+Pr)+t;break;case 6444:switch(ui(t,ui(t,14)===45?18:11)){case 120:return $t(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pr+(ui(t,14)===45?"inline-":"")+"box$3$1"+Pr+"$2$3$1"+Zr+"$2box$3")+t;case 100:return $t(t,":",":"+Zr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $t(t,"scroll-","scroll-snap-")+t}return t}function YT(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function NHt(t,e,r,n){switch(t.type){case THt:if(t.children.length)break;case CHt:case OV:return t.return=t.return||t.value;case Kye:return"";case Qye:return t.return=t.value+"{"+YT(t.children,n)+"}";case UO:if(!bl(t.value=t.props.join(",")))return""}return bl(r=YT(t.children,n))?t.return=t.value+"{"+r+"}":""}function BHt(t){var e=e0e(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function VHt(t){return function(e){e.root||(e=e.return)&&t(e)}}function zHt(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case OV:t.return=r0e(t.value,t.length,r);return;case Qye:return YT([Rc(t,{value:$t(t.value,"@","@"+Pr)})],n);case UO:if(t.length)return PHt(r=t.props,function(i){switch(wu(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":iv(Rc(t,{props:[$t(i,/:(read-\w+)/,":"+ix+"$1")]})),iv(Rc(t,{props:[i]})),u$(t,{props:SJ(r,n)});break;case"::placeholder":iv(Rc(t,{props:[$t(i,/:(plac\w+)/,":"+Pr+"input-$1")]})),iv(Rc(t,{props:[$t(i,/:(plac\w+)/,":"+ix+"$1")]})),iv(Rc(t,{props:[$t(i,/:(plac\w+)/,Zr+"input-$1")]})),iv(Rc(t,{props:[i]})),u$(t,{props:SJ(r,n)});break}return""})}}var UHt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fo={},rm=typeof process<"u"&&fo!==void 0&&(fo.REACT_APP_SC_ATTR||fo.SC_ATTR)||"data-styled",n0e="active",i0e="data-styled-version",HO="6.1.17",DV=`/*!sc*/
`,XT=typeof window<"u"&&"HTMLElement"in window,qHt=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&fo!==void 0&&fo.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&fo.REACT_APP_SC_DISABLE_SPEEDY!==""?fo.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&fo.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&fo!==void 0&&fo.SC_DISABLE_SPEEDY!==void 0&&fo.SC_DISABLE_SPEEDY!==""&&fo.SC_DISABLE_SPEEDY!=="false"&&fo.SC_DISABLE_SPEEDY),YO=Object.freeze([]),nm=Object.freeze({});function GHt(t,e,r){return r===void 0&&(r=nm),t.theme!==r.theme&&t.theme||e||r.theme}var a0e=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),WHt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,HHt=/(^-|-$)/g;function CJ(t){return t.replace(WHt,"-").replace(HHt,"")}var YHt=/(a)(d)/gi,OE=52,TJ=function(t){return String.fromCharCode(t+(t>25?39:97))};function f$(t){var e,r="";for(e=Math.abs(t);e>OE;e=e/OE|0)r=TJ(e%OE)+r;return(TJ(e%OE)+r).replace(YHt,"$1-$2")}var H2,o0e=5381,Pv=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},s0e=function(t){return Pv(o0e,t)};function XHt(t){return f$(s0e(t)>>>0)}function KHt(t){return t.displayName||t.name||"Component"}function Y2(t){return typeof t=="string"&&!0}var l0e=typeof Symbol=="function"&&Symbol.for,u0e=l0e?Symbol.for("react.memo"):60115,QHt=l0e?Symbol.for("react.forward_ref"):60112,JHt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZHt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c0e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e9t=((H2={})[QHt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},H2[u0e]=c0e,H2);function IJ(t){return("type"in(e=t)&&e.type.$$typeof)===u0e?c0e:"$$typeof"in t?e9t[t.$$typeof]:JHt;var e}var t9t=Object.defineProperty,r9t=Object.getOwnPropertyNames,PJ=Object.getOwnPropertySymbols,n9t=Object.getOwnPropertyDescriptor,i9t=Object.getPrototypeOf,_J=Object.prototype;function d0e(t,e,r){if(typeof e!="string"){if(_J){var n=i9t(e);n&&n!==_J&&d0e(t,n,r)}var i=r9t(e);PJ&&(i=i.concat(PJ(e)));for(var a=IJ(t),o=IJ(e),s=0;s<i.length;++s){var l=i[s];if(!(l in ZHt||r&&r[l]||o&&l in o||a&&l in a)){var u=n9t(e,l);try{t9t(t,l,u)}catch{}}}}return t}function im(t){return typeof t=="function"}function MV(t){return typeof t=="object"&&"styledComponentId"in t}function ah(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function OJ(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function $b(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function h$(t,e,r){if(r===void 0&&(r=!1),!r&&!$b(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=h$(t[n],e[n]);else if($b(e))for(var n in e)t[n]=h$(t[n],e[n]);return t}function RV(t,e){Object.defineProperty(t,"toString",{value:e})}function y1(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var a9t=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,a=i;e>=a;)if((a<<=1)<0)throw y1(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var o=i;o<a;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(s,r[o])&&(this.groupSizes[e]++,s++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var a=n;a<i;a++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),a=i+n,o=i;o<a;o++)r+="".concat(this.tag.getRule(o)).concat(DV);return r},t}(),SA=new Map,KT=new Map,EA=1,kE=function(t){if(SA.has(t))return SA.get(t);for(;KT.has(EA);)EA++;var e=EA++;return SA.set(t,e),KT.set(e,t),e},o9t=function(t,e){EA=e+1,SA.set(t,e),KT.set(e,t)},s9t="style[".concat(rm,"][").concat(i0e,'="').concat(HO,'"]'),l9t=new RegExp("^".concat(rm,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),u9t=function(t,e,r){for(var n,i=r.split(","),a=0,o=i.length;a<o;a++)(n=i[a])&&t.registerName(e,n)},c9t=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(DV),i=[],a=0,o=n.length;a<o;a++){var s=n[a].trim();if(s){var l=s.match(l9t);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(o9t(c,u),u9t(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(s)}}},kJ=function(t){for(var e=document.querySelectorAll(s9t),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(rm)!==n0e&&(c9t(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function d9t(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var f0e=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(s){var l=Array.from(s.querySelectorAll("style[".concat(rm,"]")));return l[l.length-1]}(r),a=i!==void 0?i.nextSibling:null;n.setAttribute(rm,n0e),n.setAttribute(i0e,HO);var o=d9t();return o&&n.setAttribute("nonce",o),r.insertBefore(n,a),n},f9t=function(){function t(e){this.element=f0e(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,a=n.length;i<a;i++){var o=n[i];if(o.ownerNode===r)return o}throw y1(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),h9t=function(){function t(e){this.element=f0e(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),p9t=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),DJ=XT,v9t={isServer:!XT,useCSSOMInjection:!qHt},h0e=function(){function t(e,r,n){e===void 0&&(e=nm),r===void 0&&(r={});var i=this;this.options=qa(qa({},v9t),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&XT&&DJ&&(DJ=!1,kJ(this)),RV(this,function(){return function(a){for(var o=a.getTag(),s=o.length,l="",u=function(d){var f=function(y){return KT.get(y)}(d);if(f===void 0)return"continue";var p=a.names.get(f),v=o.getGroup(d);if(p===void 0||!p.size||v.length===0)return"continue";var g="".concat(rm,".g").concat(d,'[id="').concat(f,'"]'),m="";p!==void 0&&p.forEach(function(y){y.length>0&&(m+="".concat(y,","))}),l+="".concat(v).concat(g,'{content:"').concat(m,'"}').concat(DV)},c=0;c<s;c++)u(c);return l}(i)})}return t.registerId=function(e){return kE(e)},t.prototype.rehydrate=function(){!this.server&&XT&&kJ(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(qa(qa({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new p9t(i):n?new f9t(i):new h9t(i)}(this.options),new a9t(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(kE(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(kE(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(kE(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),g9t=/&/g,m9t=/^\s*\/\/.*$/gm;function p0e(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=p0e(r.children,e)),r})}function y9t(t){var e,r,n,i=nm,a=i.options,o=a===void 0?nm:a,s=i.plugins,l=s===void 0?YO:s,u=function(f,p,v){return v.startsWith(r)&&v.endsWith(r)&&v.replaceAll(r,"").length>0?".".concat(e):f},c=l.slice();c.push(function(f){f.type===UO&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(g9t,r).replace(n,u))}),o.prefix&&c.push(zHt),c.push(NHt);var d=function(f,p,v,g){p===void 0&&(p=""),v===void 0&&(v=""),g===void 0&&(g="&"),e=g,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var m=f.replace(m9t,""),y=LHt(v||p?"".concat(v," ").concat(p," { ").concat(m," }"):m);o.namespace&&(y=p0e(y,o.namespace));var x=[];return YT(y,BHt(c.concat(VHt(function(b){return x.push(b)})))),x};return d.hash=l.length?l.reduce(function(f,p){return p.name||y1(15),Pv(f,p.name)},o0e).toString():"",d}var x9t=new h0e,p$=y9t(),v0e=I.createContext({shouldForwardProp:void 0,styleSheet:x9t,stylis:p$});v0e.Consumer;I.createContext(void 0);function MJ(){return j.useContext(v0e)}var b9t=function(){function t(e,r){var n=this;this.inject=function(i,a){a===void 0&&(a=p$);var o=n.name+a.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,a(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,RV(this,function(){throw y1(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=p$),this.name+e.hash},t}(),w9t=function(t){return t>="A"&&t<="Z"};function RJ(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;w9t(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var g0e=function(t){return t==null||t===!1||t===""},m0e=function(t){var e,r,n=[];for(var i in t){var a=t[i];t.hasOwnProperty(i)&&!g0e(a)&&(Array.isArray(a)&&a.isCss||im(a)?n.push("".concat(RJ(i),":"),a,";"):$b(a)?n.push.apply(n,HT(HT(["".concat(i," {")],m0e(a),!1),["}"],!1)):n.push("".concat(RJ(i),": ").concat((e=i,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in UHt||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function bh(t,e,r,n){if(g0e(t))return[];if(MV(t))return[".".concat(t.styledComponentId)];if(im(t)){if(!im(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var i=t(e);return bh(i,e,r,n)}var a;return t instanceof b9t?r?(t.inject(r,n),[t.getName(n)]):[t]:$b(t)?m0e(t):Array.isArray(t)?Array.prototype.concat.apply(YO,t.map(function(o){return bh(o,e,r,n)})):[t.toString()]}function S9t(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(im(r)&&!MV(r))return!1}return!0}var E9t=s0e(HO),A9t=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&S9t(e),this.componentId=r,this.baseHash=Pv(E9t,r),this.baseStyle=n,h0e.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=ah(i,this.staticRulesId);else{var a=OJ(bh(this.rules,e,r,n)),o=f$(Pv(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,o)){var s=n(a,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,s)}i=ah(i,o),this.staticRulesId=o}else{for(var l=Pv(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")u+=d;else if(d){var f=OJ(bh(d,e,r,n));l=Pv(l,f+c),u+=f}}if(u){var p=f$(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(u,".".concat(p),void 0,this.componentId)),i=ah(i,p)}}return i},t}(),y0e=I.createContext(void 0);y0e.Consumer;var X2={};function C9t(t,e,r){var n=MV(t),i=t,a=!Y2(t),o=e.attrs,s=o===void 0?YO:o,l=e.componentId,u=l===void 0?function(w,S){var C=typeof w!="string"?"sc":CJ(w);X2[C]=(X2[C]||0)+1;var E="".concat(C,"-").concat(XHt(HO+C+X2[C]));return S?"".concat(S,"-").concat(E):E}(e.displayName,e.parentComponentId):l,c=e.displayName,d=c===void 0?function(w){return Y2(w)?"styled.".concat(w):"Styled(".concat(KHt(w),")")}(t):c,f=e.displayName&&e.componentId?"".concat(CJ(e.displayName),"-").concat(e.componentId):e.componentId||u,p=n&&i.attrs?i.attrs.concat(s).filter(Boolean):s,v=e.shouldForwardProp;if(n&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var m=e.shouldForwardProp;v=function(w,S){return g(w,S)&&m(w,S)}}else v=g}var y=new A9t(r,f,n?i.componentStyle:void 0);function x(w,S){return function(C,E,A){var P=C.attrs,_=C.componentStyle,k=C.defaultProps,O=C.foldedComponentIds,D=C.styledComponentId,B=C.target,$=I.useContext(y0e),L=MJ(),R=C.shouldForwardProp||L.shouldForwardProp,V=GHt(E,$,k)||nm,U=function(te,H,ee){for(var re,Q=qa(qa({},H),{className:void 0,theme:ee}),se=0;se<te.length;se+=1){var ne=im(re=te[se])?re(Q):re;for(var le in ne)Q[le]=le==="className"?ah(Q[le],ne[le]):le==="style"?qa(qa({},Q[le]),ne[le]):ne[le]}return H.className&&(Q.className=ah(Q.className,H.className)),Q}(P,E,V),q=U.as||B,M={};for(var G in U)U[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&U.theme===V||(G==="forwardedAs"?M.as=U.forwardedAs:R&&!R(G,q)||(M[G]=U[G]));var W=function(te,H){var ee=MJ(),re=te.generateAndInjectStyles(H,ee.styleSheet,ee.stylis);return re}(_,U),J=ah(O,D);return W&&(J+=" "+W),U.className&&(J+=" "+U.className),M[Y2(q)&&!a0e.has(q)?"class":"className"]=J,A&&(M.ref=A),j.createElement(q,M)}(b,w,S)}x.displayName=d;var b=I.forwardRef(x);return b.attrs=p,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=v,b.foldedComponentIds=n?ah(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=f,b.target=n?i.target:t,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=n?function(S){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var A=0,P=C;A<P.length;A++)h$(S,P[A],!0);return S}({},i.defaultProps,w):w}}),RV(b,function(){return".".concat(b.styledComponentId)}),a&&d0e(b,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function jJ(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var FJ=function(t){return Object.assign(t,{isCss:!0})};function T9t(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(im(t)||$b(t))return FJ(bh(jJ(YO,HT([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?bh(n):FJ(bh(jJ(n,e)))}function v$(t,e,r){if(r===void 0&&(r=nm),!e)throw y1(1,e);var n=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return t(e,r,T9t.apply(void 0,HT([i],a,!1)))};return n.attrs=function(i){return v$(t,e,qa(qa({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return v$(t,e,qa(qa({},r),i))},n}var x0e=function(t){return v$(C9t,t)},Cp=x0e;a0e.forEach(function(t){Cp[t]=x0e(t)});const{Title:Xn,Text:Hi,Paragraph:pn}=rt,I9t=Cp.div`
  padding: 40px;
  background-color: white;
  border: 1px solid #f0f0f0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  max-width: 800px;
  margin: 0 auto;
`,P9t=Cp.div`
  text-align: center;
  margin-bottom: 20px;
`;Cp(Xn)`
  page-break-before: always;
`;const _9t=Cp.div`
  margin-top: 40px;
  margin-bottom: 20px;
`,av=Cp.div`
  border-bottom: 1px solid #000;
  width: 250px;
  margin-top: 40px;
  margin-bottom: 10px;
`,O9t=Cp.div`
  border: 1px solid #d9d9d9;
  padding: 20px;
  margin-top: 20px;
  margin-bottom: 20px;
`,k9t=({donorCompany:t="XXXX PTY LTD",donorRegistration:e="2001/XXXX/XXX",donorAddress:r="",beneficiaryCompany:n="XXXX Pty Ltd",beneficiaryRegistration:i="2024/XXX/XXX",beneficiaryAddress:a="7 Ochil XXX",implementerCompany:o="Epont",implementerRegistration:s="2009/XXX",implementerAddress:l="XXXXX",programDuration:u="1 year",supportValue:c="R70,000 (Seventy thousands rands)",dateOfSigning:d=""})=>h.jsxs(I9t,{children:[h.jsx(P9t,{children:h.jsx("div",{style:{height:"60px",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:h.jsx(Hi,{strong:!0,children:"COMPANY LOGO"})})}),h.jsx(Xn,{level:2,style:{textAlign:"center"},children:"ENTERPRISE DEVELOPMENT  DONOR/BENEFICIARY AGREEMENT FOR THE INCUBATOR/ESD PROGRAM"}),h.jsx(pt,{}),h.jsx(Xn,{level:3,style:{textAlign:"center"},children:"BETWEEN"}),h.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[h.jsx(Xn,{level:4,children:t}),h.jsx(Hi,{strong:!0,children:"Company Registration Number: "}),h.jsx(Hi,{children:e}),h.jsx("br",{}),h.jsx(Hi,{strong:!0,children:"Physical Address: "}),h.jsx(Hi,{children:r}),h.jsx("br",{}),h.jsx(Hi,{strong:!0,style:{marginTop:"10px"},children:'"The Company/Donor"'})]}),h.jsx(Xn,{level:3,style:{textAlign:"center"},children:"AND"}),h.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[h.jsx(Xn,{level:4,children:n}),h.jsx(Hi,{strong:!0,children:"Company Registration Number: "}),h.jsx(Hi,{children:i}),h.jsx("br",{}),h.jsx(Hi,{strong:!0,children:"Physical Address: "}),h.jsx(Hi,{children:a}),h.jsx("br",{}),h.jsx(Hi,{strong:!0,style:{marginTop:"10px"},children:'"The Beneficiary"'})]}),h.jsx(Xn,{level:3,style:{textAlign:"center"},children:"AND"}),h.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[h.jsx(Xn,{level:4,children:o}),h.jsx(Hi,{strong:!0,children:"Registration Number: "}),h.jsx(Hi,{children:s}),h.jsx("br",{}),h.jsx(Hi,{strong:!0,children:"Physical Address: "}),h.jsx(Hi,{children:l}),h.jsx("br",{}),h.jsx(Hi,{strong:!0,style:{marginTop:"10px"},children:'"The Implementer"'})]}),h.jsx(pt,{}),h.jsx(Xn,{level:3,children:"Contents"}),h.jsx(pn,{children:h.jsxs("ul",{children:[h.jsx("li",{children:"PARTIES"}),h.jsx("li",{children:"INTERPRETATIONS"}),h.jsx("li",{children:"CONDITIONS OF ENTERPRISE DEVELOPMENT AGREEMENT"}),h.jsx("li",{children:"WARRANTIES BY THE PARTIES"}),h.jsx("li",{children:"WHOLE AGREEMENT"}),h.jsx("li",{children:"ANNEXURE A: POTENTIAL INTERVENTIONS"}),h.jsx("li",{children:"ANNEXURE B: SIGNED GROWTH PLAN (ATTACHED)"})]})}),h.jsx(pt,{}),h.jsx(Xn,{level:3,id:"parties",children:"PARTIES"}),h.jsxs(pn,{children:["1. The parties to this agreement are ",h.jsxs("ol",{type:"a",children:[h.jsxs("li",{children:[h.jsx("strong",{children:t}),", the Company/Donor funding the XXXX Incubator program for the beneficiary."]}),h.jsxs("li",{children:[h.jsx("strong",{children:n}),", the beneficiary company who will be supported via business development support services by ",t," (the Donor company) for the purposes of enterprise development."]}),h.jsxs("li",{children:[h.jsx("strong",{children:o}),", the appointed implementer of the incubator, via which support services is provided."]})]})]}),h.jsx(Xn,{level:3,id:"interpretations",children:"INTERPRETATIONS"}),h.jsxs(pn,{children:[t," is currently rolling out its own ESD/Incubator program, for the benefit of its suppliers and the broader SMME community in Rustenburg, North West province, respectively. This business incubator is intended to provide needs-based business development support to enterprises of Rustenburg Chrome Mining."]}),h.jsx(pn,{children:"This is a Rustenburg Chrome Mining-led Enterprise and Supplier Development (ESD) business support programme in which Rustenburg Chrome Mining is investing in black-owned emerging micro enterprises (EMEs) and qualifying small enterprises (QSEs), who are 51% or more black-owned, from their respective mining host communities in Rustenburg, North West Province. This initiative is aligned to a sector-based approach, supporting local economies to grow."}),h.jsxs(pn,{children:["In this agreement,",h.jsxs("ol",{children:[h.jsxs("li",{children:[h.jsx("strong",{children:"The Company/Donor"})," means, ",t,", a company duly registered and incorporated according to the company laws of the Republic of South Africa."]}),h.jsxs("li",{children:[h.jsx("strong",{children:n})," is a company duly registered and incorporated according to the company laws of the Republic of South Africa, who is more than 51% black-owned EME or QSE."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"The Implementer"})," means ",h.jsx("strong",{children:o}),", a company duly registered and incorporated according to the company laws of the Republic of South Africa as the appointed project implementer of ",t,"."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Enterprise Development"})," Contributions means monetary and non-monetary contributions carried out for business support services for the beneficiaries (and including direct costs paid and professional services), with the objective of contributing to the development, sustainability and financial and operational independence of those beneficiaries."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Independent B-BBEE Verification Agency"})," means a verification agency in the Republic of South Africa accredited by SANAS (South African National Accreditation System) or in possession of a valid pre-assessment letter from SANAS and independent from the company being verified."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"BEE Affidavit"})," is a declaration that states what the measure of black ownership in the company is. It is officiated by the signature of a Commissioner of Oath, Department of Trade Industry and Competition or by the CIPC."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"BEE Certificate"})," means a certificate issued by an independent SANAS-accredited B-BBEE Verification Agency which provides the company's true and accurate BEE status."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"BEE Verification"})," is an independent audit process aimed at verifying and validating the Broad-Based Black Economic Empowerment (B-BBEE) status of a legal entity."]})]})]}),h.jsx(Xn,{level:3,id:"conditions",children:"CONDITIONS OF ENTERPRISE DEVELOPMENT AGREEMENT"}),h.jsxs(pn,{children:["The parties agree:",h.jsxs("ol",{children:[h.jsx("li",{children:"For the purpose of financial, operational, and developmental sustainability, in the beneficiary enterprise, The Company/Donor wishes to assist the Beneficiary according to the Enterprise Development Contributions defined in the Broad Based Black Economic Empowerment Act 2003 and subsequent Codes of Good Practice on Black Economic Empowerment, 2013."}),h.jsxs("li",{children:["The Company will provide needs-based Enterprise Development services to the Beneficiary, via the appointed implementer of the ",t," Incubator (using a business diagnostic assessment confirmed at the start of the program)."]}),h.jsxs("li",{children:["The program will be for business support of the beneficiary, for a period of up to ",u," commencing on the signing of the agreement. The business interventions/services will be selected from the menu of services to be provided found in ",h.jsx("strong",{children:"Annexure A"}),", based on need of the business."]}),h.jsxs("li",{children:["The total minimum value of support and professional services to be provided to the beneficiary will be on average ",h.jsx("strong",{children:c}),", ",h.jsx("strong",{children:"excluding VAT"}),", covering various business support interventions (implemented in the form of professional time by the implementer or third-party expenditure), These business support interventions are guided by the signed beneficiary growth plan ",h.jsxs("strong",{children:["(Annexure B",h.jsx("sup",{children:"1"}),")"]}),"."]})]})]}),h.jsx(Xn,{level:3,id:"warranties",children:"WARRANTIES BY THE PARTIES"}),h.jsx(pn,{children:h.jsxs("ol",{children:[h.jsx("li",{children:"The information provided in this agreement is correct in all respects and that the parties have provided documentary evidence which is a true reflection of their current status as at the date of signing this agreement."}),h.jsx("li",{children:"Enterprise Development Contributions are utilised for the purpose to which they are made and ensure that sound governance is maintained in the usage of such contributions."}),h.jsx("li",{children:"That no law especially, Gazette 25899 B-BBEE Act 53 of 2003 and the Codes of Good Practice on Broad-Based Black Economic Empowerment or Gazette 42496 of 31 May 2019 nor Gazette 31255 of 18 July 2008 has been circumvented in the implementation of this initiative to promote B-BBEE scoring for the company."}),h.jsx("li",{children:"The company is required to take all steps to ensure that the sustainability of the Beneficiary is ensured through the enterprise development initiative."}),h.jsxs("li",{children:["Upon signing this agreement, the Beneficiary agrees to furnish the Company (via the implementer) with the following information:",h.jsxs("ol",{type:"a",children:[h.jsx("li",{children:"The B-BBEE Status of the company with the provision of a B-BBEE Certificate or affidavit"}),h.jsxs("li",{children:["In terms of the percentage black ownership, in the company, evidence required is as follows:",h.jsxs("ol",{type:"i",children:[h.jsx("li",{children:"Certified copy of Identity Document of all black shareholders"}),h.jsx("li",{children:"Other requested supporting documents"})]})]})]})]}),h.jsxs("li",{children:["The beneficiary also agrees to furnish the implementer with the following:",h.jsxs("ol",{type:"a",children:[h.jsx("li",{children:"An acknowledgement letter from the beneficiary (at the end of the program or periodically), confirming that the initiatives and/or contributions as stated in the agreement have actually been implemented."}),h.jsx("li",{children:"Relevant payroll records, in the case of increased headcount, as a result of the interventions administered."}),h.jsx("li",{children:"Monthly turnover, profit, headcount, and other statistics in the required format"}),h.jsx("li",{children:"Sign off evidence for donor every quarter (or monthly if required)"}),h.jsx("li",{children:"Any other information that is requested for the purpose of this enterprise development program."})]})]}),h.jsxs("li",{children:["The implementer agrees to provide the Donor Company with:",h.jsxs("ol",{type:"a",children:[h.jsxs("li",{children:["All relevant evidence",h.jsx("sup",{children:"2"})," supporting an enterprise development initiative designed to ensure sustainable growth of the beneficiary enterprise."]}),h.jsx("li",{children:"Professional hours, with rates, incurred to support the business development efforts during the period of support."}),h.jsx("li",{children:"Third party spend/payments incurred for the benefit of the beneficiary, and any other payment provided for the said beneficiary."}),h.jsx("li",{children:"Dates on which assistance was provided."})]})]})]})}),h.jsx(Xn,{level:3,id:"agreement",children:"WHOLE AGREEMENT"}),h.jsx(pn,{children:h.jsx("ol",{children:h.jsx("li",{children:"This agreement constitutes the whole agreement between the parties as to the subject-matter and no agreement or representation between the parties other than those set out herein is binding on the parties."})})}),h.jsxs(_9t,{children:[h.jsx(Xn,{level:4,children:"The Company"}),h.jsx(pn,{children:"Signed at _____________________ on _______ day of_________________ 20___"}),h.jsx(pn,{children:"Name of the Duly Authorized Person of the Company:"}),h.jsxs(Ye,{children:[h.jsx(oe,{span:12,children:h.jsxs(pn,{children:["Signature: ",h.jsx(av,{})]})}),h.jsx(oe,{span:12,children:h.jsxs(pn,{children:["Witness: ",h.jsx(av,{})]})})]}),h.jsx(Xn,{level:4,children:"The Beneficiary"}),h.jsxs(pn,{children:["Signed at _____________________ on ",d||"___ day of _________________ 20___"]}),h.jsx(pn,{children:"Name of the Duly Authorized Person of the Beneficiary:"}),h.jsxs(Ye,{children:[h.jsx(oe,{span:12,children:h.jsxs(pn,{children:["Signature: ",h.jsx(av,{})]})}),h.jsx(oe,{span:12,children:h.jsxs(pn,{children:["Witness: ",h.jsx(av,{})]})})]}),h.jsx(Xn,{level:4,children:"The Implementer"}),h.jsx(pn,{children:"Signed at _____________________ on _______ day of_________________ 20___"}),h.jsx(pn,{children:"Name of the Duly Authorized Person of the implementer:"}),h.jsxs(Ye,{children:[h.jsx(oe,{span:12,children:h.jsxs(pn,{children:["Signature: ",h.jsx(av,{})]})}),h.jsx(oe,{span:12,children:h.jsxs(pn,{children:["Witness: ",h.jsx(av,{})]})})]})]}),h.jsx(pt,{}),h.jsx(Xn,{level:3,id:"annexure-a",children:"ANNEXURE A: POTENTIAL INTERVENTIONS"}),h.jsx(O9t,{children:h.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:h.jsxs("tbody",{children:[h.jsxs("tr",{children:[h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Business Plan Development"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Marketing & Communications"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"HR Policies & Procedures"})]}),h.jsxs("tr",{children:[h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Financial Management"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Cash Flow Management"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Tax Compliance"})]}),h.jsxs("tr",{children:[h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Legal Compliance"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Software Systems Implementation"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Business Mentorship"})]}),h.jsxs("tr",{children:[h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Digital Marketing"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Process Optimization"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Website Development"})]}),h.jsxs("tr",{children:[h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Tender Preparation"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Quality Management"}),h.jsx("td",{style:{padding:"8px",border:"1px solid #d9d9d9"},children:"Market Access"})]})]})})}),h.jsx(Xn,{level:3,id:"annexure-b",children:"ANNEXURE B: SIGNED GROWTH PLAN (ATTACHED)"}),h.jsx(pn,{children:h.jsx("i",{children:"These will be attached once completed"})}),h.jsx(pt,{}),h.jsxs(pn,{style:{fontSize:"10px"},children:[h.jsx("sup",{children:"1"})," A growth plan is a diagnostic assessment that has been developed at the start of the program and agreed by the beneficiary, which guides the implementation of the needs-based types of interventions (found in Annexure A). Periodically this growth plan may be reviewed and updated based on evolving needs of the beneficiary."]}),h.jsxs(pn,{style:{fontSize:"10px"},children:[h.jsx("sup",{children:"2"})," This is to be kept confidential in terms of the POPIA Act of 2021"]})]}),{Option:jYt}=He,D9t=({visible:t,onCancel:e,participant:r,onSave:n})=>{var c;const[i]=ce.useForm(),[a,o]=j.useState(!1),s=d=>{const f={id:`ed-${Date.now()}`,participantId:(r==null?void 0:r.id)||"",participantName:(r==null?void 0:r.name)||"",documentType:"edAgreement",documentName:"Enterprise Development Agreement",status:"valid",issueDate:d.issueDate?d.issueDate.format("YYYY-MM-DD"):ir().format("YYYY-MM-DD"),expiryDate:d.expiryDate?d.expiryDate.format("YYYY-MM-DD"):ir().add(1,"year").format("YYYY-MM-DD"),notes:d.notes||"Standard ED Agreement",fileUrl:"#",uploadedBy:"System",uploadedAt:ir().format("YYYY-MM-DD"),metadata:{donorCompany:d.donorCompany,donorRegistration:d.donorRegistration,donorAddress:d.donorAddress,implementerCompany:d.implementerCompany,implementerRegistration:d.implementerRegistration,implementerAddress:d.implementerAddress,programDuration:d.programDuration,supportValue:d.supportValue,dateOfSigning:d.dateOfSigning?d.dateOfSigning.format("DD MMM YYYY"):ir().format("DD MMM YYYY")}};n(f),_e.success("ED Agreement has been created and added to participant documents"),o(!1),e()},l=()=>{i.validateFields().then(d=>{o(!0)}).catch(d=>{console.log("Validate Failed:",d)})},u={donorCompany:"Rustenburg Chrome Mining",donorRegistration:"2001/123456/07",donorAddress:"123 Mining Way, Rustenburg, North West",beneficiaryCompany:(r==null?void 0:r.name)||"",beneficiaryRegistration:(r==null?void 0:r.registrationNumber)||"",beneficiaryAddress:(r==null?void 0:r.address)||"",implementerCompany:"Epont",implementerRegistration:"2009/876543/07",implementerAddress:"789 Main Street, Johannesburg",programDuration:"1 year",supportValue:"R70,000 (Seventy thousands rands)",dateOfSigning:ir(),issueDate:ir(),expiryDate:ir().add(1,"year")};return h.jsx(_r,{title:a?"Preview ED Agreement":"Generate Enterprise Development Agreement",open:t,onCancel:()=>{o(!1),e()},width:a?1e3:800,footer:a?[h.jsx(ie,{onClick:()=>o(!1),children:"Back to Form"},"back"),h.jsx(ie,{type:"primary",onClick:()=>i.submit(),children:"Save Agreement"},"submit")]:null,children:a?h.jsx(k9t,{donorCompany:i.getFieldValue("donorCompany"),donorRegistration:i.getFieldValue("donorRegistration"),donorAddress:i.getFieldValue("donorAddress"),beneficiaryCompany:i.getFieldValue("beneficiaryCompany"),beneficiaryRegistration:i.getFieldValue("beneficiaryRegistration"),beneficiaryAddress:i.getFieldValue("beneficiaryAddress"),implementerCompany:i.getFieldValue("implementerCompany"),implementerRegistration:i.getFieldValue("implementerRegistration"),implementerAddress:i.getFieldValue("implementerAddress"),programDuration:i.getFieldValue("programDuration"),supportValue:i.getFieldValue("supportValue"),dateOfSigning:(c=i.getFieldValue("dateOfSigning"))==null?void 0:c.format("DD MMM YYYY")}):h.jsxs(ce,{form:i,layout:"vertical",initialValues:u,onFinish:s,children:[h.jsx(ce.Item,{name:"beneficiaryCompany",label:"Beneficiary Company",rules:[{required:!0,message:"Please enter beneficiary company name"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"beneficiaryRegistration",label:"Beneficiary Registration Number",rules:[{required:!0,message:"Please enter beneficiary registration number"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"beneficiaryAddress",label:"Beneficiary Address",rules:[{required:!0,message:"Please enter beneficiary address"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"donorCompany",label:"Donor Company",rules:[{required:!0,message:"Please enter donor company name"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"donorRegistration",label:"Donor Registration Number",rules:[{required:!0,message:"Please enter donor registration number"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"donorAddress",label:"Donor Address",rules:[{required:!0,message:"Please enter donor address"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"implementerCompany",label:"Implementer Company",rules:[{required:!0,message:"Please enter implementer company name"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"implementerRegistration",label:"Implementer Registration Number",rules:[{required:!0,message:"Please enter implementer registration number"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"implementerAddress",label:"Implementer Address",rules:[{required:!0,message:"Please enter implementer address"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"programDuration",label:"Program Duration",rules:[{required:!0,message:"Please enter program duration"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"supportValue",label:"Support Value",rules:[{required:!0,message:"Please enter support value"}],children:h.jsx(Ve,{})}),h.jsx(ce.Item,{name:"dateOfSigning",label:"Date of Signing",rules:[{required:!0,message:"Please select date of signing"}],children:h.jsx(wo,{style:{width:"100%"}})}),h.jsx(ce.Item,{name:"issueDate",label:"Issue Date",rules:[{required:!0,message:"Please select issue date"}],children:h.jsx(wo,{style:{width:"100%"}})}),h.jsx(ce.Item,{name:"expiryDate",label:"Expiry Date",rules:[{required:!0,message:"Please select expiry date"}],children:h.jsx(wo,{style:{width:"100%"}})}),h.jsx(ce.Item,{name:"notes",label:"Notes",children:h.jsx(Ve.TextArea,{rows:4})}),h.jsx("div",{style:{textAlign:"right"},children:h.jsxs(me,{children:[h.jsx(ie,{onClick:e,children:"Cancel"}),h.jsx(ie,{type:"primary",onClick:l,children:"Preview Agreement"})]})})]})})},{Title:M9t,Text:LJ}=rt,{TabPane:FYt}=Ft,{Option:K2}=He,{TextArea:R9t}=Ve,Q2=[{id:"p1",name:"TechSolutions Inc."},{id:"p2",name:"GreenEnergy Startup"},{id:"p3",name:"HealthTech Innovations"},{id:"p4",name:"EdTech Solutions"},{id:"p5",name:"FinTech Revolution"}],j9t=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,a]=j.useState(""),[o,s]=j.useState(!1),[l,u]=j.useState(!1),[c,d]=j.useState(null),[f,p]=j.useState(null),[v]=ce.useForm(),[g,m]=j.useState("1");ji();const y={name:"file",action:"https://run.mocky.io/v3/435e224c-44fb-4773-9faf-380c5e6a2188",headers:{authorization:"authorization-text"},onChange(_){_.file.status!=="uploading"&&console.log(_.file,_.fileList),_.file.status==="done"?_e.success(`${_.file.name} file uploaded successfully`):_.file.status==="error"&&_e.error(`${_.file.name} file upload failed.`)}};j.useEffect(()=>{(async()=>{n(!0);try{e([{id:"d1",participantId:"p1",participantName:"TechSolutions Inc.",documentType:"beeCertificate",documentName:"BEE Certificate 2023",status:"valid",issueDate:"2023-01-15",expiryDate:"2024-01-15",notes:"Level 1 B-BBEE contributor",fileUrl:"https://example.com/bee-cert.pdf",uploadedBy:"Admin User",uploadedAt:"2023-01-20",lastVerifiedBy:"Operations User",lastVerifiedAt:"2023-02-01"},{id:"d2",participantId:"p1",participantName:"TechSolutions Inc.",documentType:"taxClearance",documentName:"Tax Clearance Certificate",status:"expiring",issueDate:"2023-03-10",expiryDate:"2023-12-10",fileUrl:"https://example.com/tax-cert.pdf",uploadedBy:"Admin User",uploadedAt:"2023-03-15"},{id:"d3",participantId:"p2",participantName:"GreenEnergy Startup",documentType:"letterOfGoodStanding",documentName:"CIPC Letter of Good Standing",status:"expired",issueDate:"2022-06-01",expiryDate:"2023-06-01",fileUrl:"https://example.com/goodstanding.pdf",uploadedBy:"Admin User",uploadedAt:"2022-06-05"},{id:"d4",participantId:"p3",participantName:"HealthTech Innovations",documentType:"uifCompliance",documentName:"UIF Compliance Certificate",status:"missing",issueDate:"",expiryDate:"",notes:"Requested from participant on 2023-09-01",uploadedBy:"System",uploadedAt:"2023-09-01"},{id:"d5",participantId:"p4",participantName:"EdTech Solutions",documentType:"directorIdCopies",documentName:"Director ID Copies",status:"pending",issueDate:"2023-08-20",expiryDate:"2028-08-20",fileUrl:"https://example.com/id-copies.zip",uploadedBy:"Participant User",uploadedAt:"2023-08-25"},{id:"d6",participantId:"p5",participantName:"FinTech Revolution",documentType:"industryLicense",documentName:"Financial Services License",status:"valid",issueDate:"2023-04-12",expiryDate:"2025-04-12",fileUrl:"https://example.com/fsp-license.pdf",uploadedBy:"Admin User",uploadedAt:"2023-04-15",lastVerifiedBy:"Operations User",lastVerifiedAt:"2023-05-01"}])}catch(k){console.error("Error fetching documents:",k),_e.error("Failed to load compliance documents.")}finally{n(!1)}})()},[]);const x=_=>{d(null),v.resetFields(),s(!0)},b=async _=>{var k;try{const O={id:(c==null?void 0:c.id)||`d${Date.now()}`,participantId:_.participantId,participantName:((k=Q2.find(D=>D.id===_.participantId))==null?void 0:k.name)||"",documentType:_.documentType,documentName:_.documentName,status:_.status,issueDate:_.issueDate?_.issueDate.format("YYYY-MM-DD"):"",expiryDate:_.expiryDate?_.expiryDate.format("YYYY-MM-DD"):"",notes:_.notes,fileUrl:(c==null?void 0:c.fileUrl)||void 0,uploadedBy:"Current User",uploadedAt:new Date().toISOString().split("T")[0],lastVerifiedBy:c==null?void 0:c.lastVerifiedBy,lastVerifiedAt:c==null?void 0:c.lastVerifiedAt};c?(e(t.map(D=>D.id===c.id?O:D)),_e.success("Document updated successfully")):(e([...t,O]),_e.success("Document added successfully")),s(!1),v.resetFields()}catch(O){console.error("Error saving document:",O),_e.error("Failed to save document.")}},w=_=>{const k=t.map(O=>O.id===_?{...O,status:"valid",lastVerifiedBy:"Current User",lastVerifiedAt:new Date().toISOString().split("T")[0]}:O);e(k),_e.success("Document verified successfully")},S=_=>{const k=Q2.find(O=>O.id===_);p(k),u(!0)},C=_=>{e([...t,_])},E=i?t.filter(_=>{var k;return _.participantName.toLowerCase().includes(i.toLowerCase())||_.documentName.toLowerCase().includes(i.toLowerCase())||((k=_E.find(O=>O.value===_.documentType))==null?void 0:k.label.toLowerCase().includes(i.toLowerCase()))}):t,A={total:t.length,valid:t.filter(_=>_.status==="valid").length,expiring:t.filter(_=>_.status==="expiring").length,expired:t.filter(_=>_.status==="expired").length,missing:t.filter(_=>_.status==="missing").length,pending:t.filter(_=>_.status==="pending").length},P=[{title:"Participant",dataIndex:"participantName",key:"participantName",sorter:(_,k)=>_.participantName.localeCompare(k.participantName)},{title:"Document Type",dataIndex:"documentType",key:"documentType",render:_=>{var k;return((k=_E.find(O=>O.value===_))==null?void 0:k.label)||_},filters:_E.map(_=>({text:_.label,value:_.value})),onFilter:(_,k)=>k.documentType===_},{title:"Document Name",dataIndex:"documentName",key:"documentName"},{title:"Status",dataIndex:"status",key:"status",render:_=>{const k=G2.find(O=>O.value===_);return h.jsx(Me,{color:(k==null?void 0:k.color)||"default",children:(k==null?void 0:k.label)||_})},filters:G2.map(_=>({text:_.label,value:_.value})),onFilter:(_,k)=>k.status===_},{title:"Expiry Date",dataIndex:"expiryDate",key:"expiryDate",render:_=>ir(_).format("DD MMM YYYY"),sorter:(_,k)=>ir(_.expiryDate).unix()-ir(k.expiryDate).unix()},{title:"Actions",key:"actions",render:(_,k)=>h.jsxs(me,{size:"middle",children:[h.jsx(hr,{title:"View Document",children:h.jsx(ie,{icon:h.jsx(is,{}),onClick:()=>window.open(k.fileUrl,"_blank"),type:"text",disabled:!k.fileUrl})}),k.status==="pending"&&h.jsx(hr,{title:"Verify Document",children:h.jsx(ie,{type:"text",icon:h.jsx(Ga,{style:{color:"green"}}),onClick:()=>w(k.id)})}),k.documentType!=="edAgreement"&&h.jsx(hr,{title:"Generate ED Agreement",children:h.jsx(ie,{type:"text",icon:h.jsx(Gxe,{style:{color:"blue"}}),onClick:()=>S(k.participantId)})})]})}];return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(M9t,{level:2,children:"Compliance Management"}),h.jsx(LJ,{children:"Track and manage compliance documents for participants."}),h.jsxs(Ye,{gutter:[16,16],style:{marginTop:"20px",marginBottom:"20px"},children:[h.jsx(oe,{span:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Documents",value:A.total,valueStyle:{color:"#1890ff"},prefix:h.jsx(eZ,{})})})}),h.jsx(oe,{span:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Valid",value:A.valid,valueStyle:{color:"#52c41a"},prefix:h.jsx(Ga,{})})})}),h.jsx(oe,{span:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Expiring Soon",value:A.expiring,valueStyle:{color:"#faad14"},prefix:h.jsx(Zv,{})})})}),h.jsx(oe,{span:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Expired",value:A.expired,valueStyle:{color:"#f5222d"},prefix:h.jsx(cZ,{})})})}),h.jsx(oe,{span:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Missing",value:A.missing,valueStyle:{color:"#fa541c"},prefix:h.jsx(Zv,{})})})}),h.jsx(oe,{span:4,children:h.jsx(ue,{children:h.jsx(De,{title:"Pending Review",value:A.pending,valueStyle:{color:"#1890ff"},prefix:h.jsx(Ya,{})})})})]}),h.jsxs(ue,{children:[h.jsxs("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between"},children:[h.jsx(Ve,{placeholder:"Search documents or participants",value:i,onChange:_=>a(_.target.value),style:{width:"300px"},prefix:h.jsx(qu,{})}),h.jsxs(me,{children:[h.jsx(ie,{type:"primary",icon:h.jsx(Sa,{}),onClick:()=>x(),children:"Add New Document"}),h.jsx(ie,{icon:h.jsx(Wxe,{}),onClick:()=>u(!0),children:"Generate ED Agreement"})]})]}),h.jsx(Le,{columns:P,dataSource:E,rowKey:"id",loading:r,expandable:{expandedRowRender:_=>h.jsxs("div",{style:{padding:"0 20px"},children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Issue Date:"})," ",_.issueDate||"N/A"]}),_.notes&&h.jsxs("p",{children:[h.jsx("strong",{children:"Notes:"})," ",_.notes]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Uploaded By:"})," ",_.uploadedBy," on ",_.uploadedAt]}),_.lastVerifiedBy&&h.jsxs("p",{children:[h.jsx("strong",{children:"Last Verified By:"})," ",_.lastVerifiedBy," on ",_.lastVerifiedAt]})]})}})]}),h.jsx(_r,{title:c?"Edit Document":"Add New Document",open:o,onCancel:()=>s(!1),footer:null,width:800,children:h.jsxs(ce,{form:v,layout:"vertical",onFinish:b,children:[h.jsx(ce.Item,{name:"participantId",label:"Participant",rules:[{required:!0,message:"Please select a participant"}],children:h.jsx(He,{placeholder:"Select a participant",children:Q2.map(_=>h.jsx(K2,{value:_.id,children:_.name},_.id))})}),h.jsx(ce.Item,{name:"documentType",label:"Document Type",rules:[{required:!0,message:"Please select a document type"}],children:h.jsx(He,{placeholder:"Select document type",children:_E.map(_=>h.jsx(K2,{value:_.value,children:_.label},_.value))})}),h.jsx(ce.Item,{name:"documentName",label:"Document Name",rules:[{required:!0,message:"Please enter a document name"}],children:h.jsx(Ve,{placeholder:"Enter document name"})}),h.jsxs(Ye,{gutter:16,children:[h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"issueDate",label:"Issue Date",children:h.jsx(wo,{style:{width:"100%"}})})}),h.jsx(oe,{span:12,children:h.jsx(ce.Item,{name:"expiryDate",label:"Expiry Date",children:h.jsx(wo,{style:{width:"100%"}})})})]}),h.jsx(ce.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select a status"}],children:h.jsx(He,{placeholder:"Select status",children:G2.map(_=>h.jsx(K2,{value:_.value,children:_.label},_.value))})}),h.jsx(ce.Item,{name:"notes",label:"Notes",children:h.jsx(R9t,{rows:4,placeholder:"Enter notes about this document"})}),h.jsxs(ce.Item,{label:"Document File",children:[h.jsx(Vb,{...y,children:h.jsx(ie,{icon:h.jsx(sx,{}),children:"Upload Document"})}),(c==null?void 0:c.fileUrl)&&h.jsxs("div",{style:{marginTop:"10px"},children:[h.jsx(LJ,{children:"Current file: "}),h.jsx(ie,{type:"link",icon:h.jsx(Ed,{}),onClick:()=>window.open(c.fileUrl,"_blank"),children:"View Document"})]})]}),h.jsxs("div",{style:{textAlign:"right"},children:[h.jsx(ie,{onClick:()=>s(!1),style:{marginRight:8},children:"Cancel"}),h.jsx(ie,{type:"primary",htmlType:"submit",children:"Save"})]})]})}),h.jsx(D9t,{visible:l,onCancel:()=>u(!1),participant:f,onSave:C})]})},{Title:Zy,Text:If,Paragraph:J2}=rt,{RangePicker:F9t}=wo,{Option:$J}=He,{TabPane:Z2}=Ft,L9t=[{value:"participant",label:"Participant Reports"},{value:"resource",label:"Resource Utilization"},{value:"compliance",label:"Compliance Status"},{value:"mentorship",label:"Mentorship Progress"},{value:"financials",label:"Financial Reports"}],$9t=[{value:"week",label:"Weekly"},{value:"month",label:"Monthly"},{value:"quarter",label:"Quarterly"},{value:"year",label:"Yearly"},{value:"custom",label:"Custom Range"}],NJ=[{month:"Jan",active:35,new:12,graduated:5},{month:"Feb",active:40,new:15,graduated:3},{month:"Mar",active:48,new:18,graduated:2},{month:"Apr",active:58,new:22,graduated:4},{month:"May",active:70,new:25,graduated:6},{month:"Jun",active:85,new:28,graduated:7}],BJ=[{type:"Valid",count:120},{type:"Expiring Soon",count:15},{type:"Expired",count:8},{type:"Missing",count:12},{type:"Pending Review",count:22}],N9t=[{resource:"Workshop Space",utilization:78},{resource:"Meeting Rooms",utilization:85},{resource:"Equipment",utilization:62},{resource:"Mentorship Hours",utilization:90},{resource:"Funding",utilization:45}],B9t=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState("participant"),[i,a]=j.useState("month"),[o,s]=j.useState(null),[l]=ce.useForm();j.useEffect(()=>{e(!0),setTimeout(()=>{e(!1)},500)},[r,i,o]);const u=v=>{n(v)},c=v=>{a(v)},d=v=>{s(v||null)},f=v=>{console.log("Generating report with values:",v)},p=v=>{console.log(`Exporting report as ${v}`)};return h.jsxs("div",{style:{padding:"20px"},children:[h.jsx(Zy,{level:2,children:"Reports & Analytics"}),h.jsx(If,{children:"Generate and analyze reports for operations management."}),h.jsx(ue,{style:{marginTop:"20px",marginBottom:"20px"},children:h.jsxs(ce,{form:l,layout:"vertical",onFinish:f,initialValues:{reportType:"participant",timePeriod:"month"},children:[h.jsxs(Ye,{gutter:16,children:[h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"reportType",label:"Report Type",rules:[{required:!0,message:"Please select a report type"}],children:h.jsx(He,{placeholder:"Select report type",onChange:u,children:L9t.map(v=>h.jsx($J,{value:v.value,children:v.label},v.value))})})}),h.jsx(oe,{span:8,children:h.jsx(ce.Item,{name:"timePeriod",label:"Time Period",rules:[{required:!0,message:"Please select a time period"}],children:h.jsx(He,{placeholder:"Select time period",onChange:c,children:$9t.map(v=>h.jsx($J,{value:v.value,children:v.label},v.value))})})}),h.jsx(oe,{span:8,children:i==="custom"&&h.jsx(ce.Item,{name:"dateRange",label:"Date Range",rules:[{required:!0,message:"Please select date range"}],children:h.jsx(F9t,{style:{width:"100%"},onChange:d})})})]}),h.jsx(Ye,{children:h.jsx(oe,{span:24,style:{textAlign:"right"},children:h.jsxs(me,{children:[h.jsx(ie,{icon:h.jsx(zb,{}),type:"primary",htmlType:"submit",children:"Generate Report"}),h.jsx(ie,{icon:h.jsx(x$,{}),onClick:()=>p("excel"),children:"Export Excel"}),h.jsx(ie,{icon:h.jsx(b$,{}),onClick:()=>p("pdf"),children:"Export PDF"})]})})})]})}),h.jsxs(Ye,{gutter:[16,16],style:{marginBottom:"20px"},children:[h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Total Participants",value:85,prefix:h.jsx(ar,{}),valueStyle:{color:"#1890ff"}})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Resources Allocated",value:68,prefix:h.jsx(Ls,{}),suffix:"%",valueStyle:{color:"#52c41a"}})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Funding Utilized",value:245e4,prefix:h.jsx(Oi,{}),valueStyle:{color:"#faad14"}})})}),h.jsx(oe,{span:6,children:h.jsx(ue,{children:h.jsx(De,{title:"Compliance Rate",value:92,prefix:h.jsx(ZT,{}),suffix:"%",valueStyle:{color:"#52c41a"}})})})]}),h.jsx(ue,{children:h.jsxs(Ft,{defaultActiveKey:"1",children:[h.jsxs(Z2,{tab:h.jsxs("span",{children:[h.jsx(Wa,{}),"Participant Statistics"]}),children:[h.jsx(Zy,{level:4,children:"Participant Growth Over Time"}),h.jsx(J2,{children:"Tracks active, new, and graduated participants over time."}),h.jsx("div",{style:{height:"350px",marginTop:"20px"},children:h.jsx("div",{children:h.jsxs("div",{style:{display:"flex",height:"300px",borderBottom:"1px solid #ddd",position:"relative"},children:[NJ.map((v,g)=>h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",flex:1,padding:"0 10px"},children:[h.jsx("div",{style:{height:`${v.active*3}px`,width:"30px",backgroundColor:"#1890ff",marginBottom:"5px"}}),h.jsx(If,{children:v.month})]},g)),h.jsxs("div",{style:{position:"absolute",top:0,left:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[h.jsx(If,{children:"100"}),h.jsx(If,{children:"75"}),h.jsx(If,{children:"50"}),h.jsx(If,{children:"25"}),h.jsx(If,{children:"0"})]})]})})}),h.jsx(pt,{}),h.jsx(Zy,{level:4,children:"Participant Metrics"}),h.jsx(Le,{dataSource:NJ,rowKey:"month",pagination:!1,loading:t,columns:[{title:"Month",dataIndex:"month",key:"month"},{title:"Active Participants",dataIndex:"active",key:"active",sorter:(v,g)=>v.active-g.active},{title:"New Participants",dataIndex:"new",key:"new",sorter:(v,g)=>v.new-g.new},{title:"Graduated",dataIndex:"graduated",key:"graduated",sorter:(v,g)=>v.graduated-g.graduated}]})]},"1"),h.jsxs(Z2,{tab:h.jsxs("span",{children:[h.jsx(Ub,{}),"Resource Utilization"]}),children:[h.jsx(Zy,{level:4,children:"Resource Usage Analysis"}),h.jsx(J2,{children:"Tracks the usage of different resources across the incubation program."}),h.jsx(Le,{dataSource:N9t,rowKey:"resource",pagination:!1,loading:t,columns:[{title:"Resource",dataIndex:"resource",key:"resource"},{title:"Utilization %",dataIndex:"utilization",key:"utilization",sorter:(v,g)=>v.utilization-g.utilization,render:v=>h.jsxs("div",{style:{width:"300px"},children:[h.jsx("div",{style:{height:"20px",background:"#f0f0f0",borderRadius:"10px",overflow:"hidden"},children:h.jsx("div",{style:{height:"100%",width:`${v}%`,background:v>90?"#ff4d4f":v>70?"#faad14":"#52c41a",borderRadius:"10px"}})}),h.jsxs("div",{style:{textAlign:"right"},children:[v,"%"]})]})}]})]},"2"),h.jsxs(Z2,{tab:h.jsxs("span",{children:[h.jsx(_v,{}),"Compliance Status"]}),children:[h.jsx(Zy,{level:4,children:"Document Compliance Analysis"}),h.jsx(J2,{children:"Overview of the compliance status of all participant documents."}),h.jsx(Le,{dataSource:BJ,rowKey:"type",pagination:!1,loading:t,columns:[{title:"Document Status",dataIndex:"type",key:"type"},{title:"Count",dataIndex:"count",key:"count",sorter:(v,g)=>v.count-g.count},{title:"Percentage",key:"percentage",render:(v,g)=>{const m=BJ.reduce((x,b)=>x+b.count,0);return`${(g.count/m*100).toFixed(1)}%`}}]})]},"3")]})})]})},V9t=()=>h.jsx(Jbe,{children:h.jsx(Qh,{theme:KVe.Blue,children:h.jsx(GJ,{children:h.jsx(QVe,{children:h.jsxs(A_e,{routerProvider:ZVe,dataProvider:qet,liveProvider:Get,notificationProvider:AVe,authProvider:Q7e,accessControlProvider:Wet,resources:K7e,options:{syncWithLocation:!0,warnWhenUnsavedChanges:!0,liveMode:"auto",useNewQueryKeys:!0},children:[h.jsxs(Gbe,{children:[h.jsx(Lt,{path:"/",element:h.jsx(OY,{})}),h.jsx(Lt,{path:"/register",element:h.jsx(S1t,{})}),h.jsx(Lt,{path:"/login",element:h.jsx(b1t,{})}),h.jsxs(Lt,{element:h.jsx(OR,{fallback:h.jsx(Oq,{to:"/login"}),children:h.jsx(w7e,{children:h.jsx(sm,{})})},"authenticated-layout"),children:[h.jsx(Lt,{path:"/dashboard",element:h.jsx(y1t,{})}),h.jsxs(Lt,{element:h.jsx(V7e,{}),children:[h.jsx(Lt,{path:"/admin",element:h.jsx(A1t,{})}),h.jsx(Lt,{path:"/admin/forms",element:h.jsx(oHt,{})})]}),h.jsx(Lt,{element:h.jsx(z7e,{}),children:h.jsx(Lt,{path:"/director",element:h.jsx(C1t,{})})}),h.jsx(Lt,{element:h.jsx(q7e,{}),children:h.jsx(Lt,{path:"/consultant",element:h.jsx(pHt,{})})}),h.jsxs(Lt,{element:h.jsx(U7e,{}),children:[h.jsx(Lt,{path:"/operations",element:h.jsx(T1t,{})}),h.jsx(Lt,{path:"/operations/forms",element:h.jsx(q2,{})}),h.jsx(Lt,{path:"/operations/forms/edit/:id",element:h.jsx(q2,{})}),h.jsx(Lt,{path:"/operations/forms/preview/:id",element:h.jsx(q2,{})}),h.jsx(Lt,{path:"/operations/form-responses/:id",element:h.jsx(pJ,{})}),h.jsx(Lt,{path:"/operations/resources",element:h.jsx(xHt,{})}),h.jsx(Lt,{path:"/operations/participants",element:h.jsx(wHt,{})}),h.jsx(Lt,{path:"/operations/compliance",element:h.jsx(j9t,{})}),h.jsx(Lt,{path:"/operations/reports",element:h.jsx(B9t,{})}),h.jsx(Lt,{path:"/operations/mentorship-assignments",element:h.jsx(AHt,{})})]}),h.jsx(Lt,{path:"/forms/:formId",element:h.jsx(pJ,{})}),h.jsx(Lt,{path:"*",element:h.jsx(e_e,{})})]}),h.jsxs(Lt,{path:"/funder/*",element:h.jsx(kY,{role:"funder"}),children:[h.jsx(Lt,{index:!0,element:h.jsx(V1t,{})}),h.jsx(Lt,{path:"opportunities",element:h.jsx(z1t,{})}),h.jsx(Lt,{path:"portfolio",element:h.jsx(q1t,{})}),h.jsx(Lt,{path:"due-diligence",element:h.jsx(lSt,{})}),h.jsx(Lt,{path:"analytics",element:h.jsx(K1t,{})}),h.jsx(Lt,{path:"documents",element:h.jsx(J1t,{})}),h.jsx(Lt,{path:"calendar",element:h.jsx(hSt,{})})]}),h.jsxs(Lt,{path:"/government/*",element:h.jsx(OR,{fallback:h.jsx(Oq,{to:"/login"}),children:h.jsx(kY,{role:"government"})},"government-layout"),children:[h.jsx(Lt,{index:!0,element:h.jsx(vSt,{})}),h.jsx(Lt,{path:"participants",element:h.jsx(ySt,{})}),h.jsx(Lt,{path:"programs",element:h.jsx(SSt,{})}),h.jsx(Lt,{path:"reports",element:h.jsx(f6t,{})}),h.jsx(Lt,{path:"policy",element:h.jsx("div",{children:"Policy Alignment - Coming Soon"})})]}),h.jsx(Lt,{path:"*",element:h.jsx(OY,{})})]}),h.jsx(rze,{}),h.jsx(nze,{})]})})})})});oR.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(V9t,{})}))});export default z9t();
